;/*FB_PKG_DELIM*/

__d("TrackingNodeConstants",[],(function(t,n,r,o,a,i){"use strict";var e=58,l=126,s=69,u=42,c=47,d=6,m=100,p=33,_=38,f=(d+1)*s,g="__tn__";i.BASE_CODE_START=e,i.BASE_CODE_END=l,i.BASE_CODE_SIZE=s,i.PREFIX_CODE_START=u,i.PREFIX_CODE_END=c,i.PREFIX_CODE_SIZE=d,i.ENCODE_NUMBER_MAX=m,i.ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE=p,i.ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE=_,i.TOTAL_IDS_SUPPORTED_BY_LEGACY_ENCODING=f,i.TN_URL_PARAM=g}),66);
__d("decodeTrackingNode",["TrackingNodeConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.length===0)return[0];var t=function(t,n,r){for(var e=0,a=n;a<r+n;a+=1){if(!(a<t.length&&t.charCodeAt(a)>=o("TrackingNodeConstants").BASE_CODE_START&&t.charCodeAt(a)<=o("TrackingNodeConstants").BASE_CODE_END))return null;e=e*o("TrackingNodeConstants").BASE_CODE_SIZE+(t.charCodeAt(a)-o("TrackingNodeConstants").BASE_CODE_START)}return e},n=function(n,r){if(r>=n.length)return[null,r];var e=r,a=null,i=0;switch(n.charCodeAt(0)){case o("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE:a=t(n,r,2),i=o("TrackingNodeConstants").TOTAL_IDS_SUPPORTED_BY_LEGACY_ENCODING,e+=2;break;case o("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE:a=t(n,r,3),i=o("TrackingNodeConstants").TOTAL_IDS_SUPPORTED_BY_LEGACY_ENCODING+Math.pow(o("TrackingNodeConstants").BASE_CODE_SIZE,2),e+=3;break;default:return[null,r]}return a===null?[null,r]:[i+(a!=null?a:0)+1,e]},r=e.charCodeAt(0),a=1,i=0,l=0,s=0;if([o("TrackingNodeConstants").ENCODED_STRING_WITH_TWO_SYMBOLS_PREFIX_CODE,o("TrackingNodeConstants").ENCODED_STRING_WITH_THREE_SYMBOLS_PREFIX_CODE].includes(r)){var u,c=n(e,a);if(c[0]===null)return[0];s=(u=c[0])!=null?u:-1,a=c[1]}else{if(r>=o("TrackingNodeConstants").PREFIX_CODE_START&&r<=o("TrackingNodeConstants").PREFIX_CODE_END){if(e.length===1)return[0];l=r-o("TrackingNodeConstants").PREFIX_CODE_START+1,i=e.charCodeAt(1),a=2}else l=0,i=r;if(i<o("TrackingNodeConstants").BASE_CODE_START||i>o("TrackingNodeConstants").BASE_CODE_END)return[0];s=l*o("TrackingNodeConstants").BASE_CODE_SIZE+(i-o("TrackingNodeConstants").BASE_CODE_START)+1}return e.length>a+2&&e.charAt(a)==="#"&&e.charAt(a+1)>="0"&&e.charAt(a+1)<="9"&&e.charAt(a+2)>="0"&&e.charAt(a+2)<="9"?[a+3,[s,parseInt(e.charAt(a+1)+e.charAt(a+2),10)+1]]:e.length>a&&e.charAt(a)>="0"&&e.charAt(a)<="9"?[a+1,[s,parseInt(e.charAt(a),10)+1]]:[a,[s]]}l.default=e}),98);
__d("getRouteInfoForCometProductAttributionDispatch",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=["depth","key"];function s(t,n){if(n!=null)switch(n){case"rootView":return t.main;case"hostedView":{var o=t.hosted;if(o)return o;r("FBLogger")("comet_infra").mustfix("Navigation was dispatched from hostedView, but no hosted route in previous state");break}case"pushView":{var a=t.pushViewStack;if(a&&a.length>0){var i=a[a.length-1],l=i.depth,s=i.key,u=babelHelpers.objectWithoutPropertiesLoose(i,e);return u}r("FBLogger")("comet_infra").mustfix("Navigation was dispatched from pushView, but no push view route in previous state");break}}return t.main}l.default=s}),98);
__d("CometProductAttribution",["Random","WebSession","decodeTrackingNode","getRouteInfoForCometProductAttributionDispatch","getTopMostRouteInfo"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e=t.bookmark_id,n=t.bookmark_type_name,r=t.link_context,a=t.tap_point,i=t.trace_policy;return{bookmark_id:e,bookmark_type_name:n,link_context:r,session:o("WebSession").getId(),subsession:1,tap_point:a,timestamp:Date.now(),trace_policy:i}},s=function(t){var e=t.bookmark_id,n=t.link_context,r=t.navChainContent,a=t.rootName,i=t.tap_point,l=t.tracePolicy,s=t.trackingNodes;return{bookmark_id:e,class:a,link_context:n,module:l,navChainContent:r,scope_id:Math.floor(o("Random").random()*1e6),tap_point:i,tracking_nodes:s,ts:Date.now()}},u=function(t){var e=t.productAttributionId,n=t.tracePolicy;return typeof e=="string"?e:typeof n=="string"?"tp-"+n:"missing"},c=new Set(["create_jewel","mega_menu","tap_tabbar","tap_search_bar","tap_bookmark","tap_community_panel_popover","tap_community_panel_shortcuts","topnav-link","logo","via_notification"]),d=function(t){return c.has(t)},m=function(t,n){var e,r="mp_listing";return t==="via_cold_start"&&((e=n.entityKeyConfig)==null?void 0:e.entity_type.value)===r},p=function(t,n){var e={class:"",module:"inboundClick"};return[].concat(t,[babelHelpers.extends({},t[t.length-1],{class:e.class,module:e.module,navChainContent:n})])},_=function(n,r,o,a,i,l,c){var t,_,f,g,h;l===void 0&&(l=!1);var y=(t=o==null?void 0:o.route)!=null?t:{},C=y.tracePolicy,b=typeof r=="string"?{tap_point:r}:r!=null?r:{tap_point:"unexpected"},v=b.bookmark_id!=null?String(b.bookmark_id):u(n),S=e({bookmark_id:v,bookmark_type_name:(_=b==null?void 0:b.bookmark_type_name)!=null?_:"",link_context:a,tap_point:b.tap_point,trace_policy:C!=null?C:(f=n.tracePolicy)!=null?f:"missing"});n.productAttributionId!=null&&b.bookmark_id!=null&&n.productAttributionId!==String(b.bookmark_id)&&(S=babelHelpers.extends({},S,{route_bookmark_id:n.productAttributionId}));var R=[s({bookmark_id:b.bookmark_id!=null?String(b.bookmark_id):n.productAttributionId,link_context:a,navChainContent:null,rootName:(g=n.rootView.resource)==null?void 0:g.getModuleId(),tap_point:b.tap_point,tracePolicy:(h=n.tracePolicy)!=null?h:"missing",trackingNodes:null})];if(o!=null&&!d(b.tap_point))if(l&&o.productAttribution.v2!=null){var L=[].concat(o.productAttribution.v2);L[0]=R[0],R=L}else{var E=o.productAttribution.v2;if(E!=null){var k=E[0],I=babelHelpers.arrayLikeToArray(E).slice(1);R=[].concat(R,[babelHelpers.extends({},k,{navChainContent:c!=null?c:null,tracking_nodes:i!=null?i:null})],I)}R.length>10&&(R=[].concat(R.slice(0,9),[R[R.length-1]]))}else if(m(b.tap_point,n)){var T;R=p(R,String((T=n.params)==null?void 0:T.listing_id))}return{0:S,v2:R}},f=function(t){return t.replace(/,;/g,"_")},g=function(t){var e,n;return(e=t==null||(n=t.v2)==null?void 0:n.map(function(e){var t,n,o,a;return[(t=e.class)!=null?t:"",e.module,e.tap_point,e.ts.toString(),e.scope_id.toString(),(n=e.bookmark_id)!=null?n:"",((o=e.tracking_nodes)!=null?o:[]).reduce(function(e,t){var n=r("decodeTrackingNode")(t);return n.length===1?e:e.concat(n[1][0])},[]).join("#"),(a=e.navChainContent)!=null?a:""].map(f).join()}).join(";"))!=null?e:""},h=function(t){var e;return t!=null?g((e=r("getTopMostRouteInfo")(t()))==null?void 0:e.productAttribution):null},y=function(t,n){var e;if(t==null)return null;var o=(e=r("getTopMostRouteInfo")(t()))==null?void 0:e.productAttribution.v2;return o==null?null:(o.length!==0&&(o[0].tracking_nodes=n),g({v2:o}))};l.getProductAttributionEntry=e,l.getProductAttributionEntryV2=s,l.getProductAttributionIdFromRoute=u,l.isSpecialTapPoint=d,l.isMarketplacePDPColdStart=m,l.insertInboundClickEntryWithContentForColdStart=p,l.getProductAttributionFromRoute=_,l.filterEntryValue=f,l.minifyProductAttributionV2=g,l.getMinifiedTopMostRouteProductAttribution=h,l.minifiedNavigationChainWithTrackingNodes=y,l.getRouteInfoForDispatch=r("getRouteInfoForCometProductAttributionDispatch")}),98);
__d("isPrimitive",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(Object.prototype.toString.call(e)){case"[object String]":case"[object Number]":case"[object Boolean]":case"[object Null]":case"[object Undefined]":return!0}return!1}i.default=e}),66);
__d("deepEquals",["isPrimitive"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return(function(e,n){return d(e,t[n])})},s=function(t,n){return(function(e){return e in t&&e in n&&d(t[e],n[e])})},u=function(t,n){if(t.size!==n.size)return!1;var e=new Set(n);for(var o of t.keys())if(e.has(o))e.delete(o);else{if(r("isPrimitive")(o))return!1;var a=c(e,o);if(a!=null)e.delete(a);else return!1}return e.size===0};function c(e,t){for(var n of e)if(d(n,t))return n;return null}function d(t,n){if(t===n)return!0;if(r("isPrimitive")(t)||Object.prototype.toString.call(t)!==Object.prototype.toString.call(n))return!1;if(Array.isArray(t))return t.length===n.length&&t.every(e(n));if(t instanceof Set)return u(t,n);var o=Object.keys(t);return o.length!==Object.keys(n).length?!1:o.every(s(t,n))}l.default=d}),98);
__d("oz-player/utils/OzError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t,n){var r;n===void 0&&(n=0),r=e.call(this,t.description)||this,r.$OzErrorClass$p_1=t,r.name=t.type,r.message=t.description;var o=r.stack;if(!(typeof o=="string"&&o!==""))if(Error.captureStackTrace){var a={};Error.captureStackTrace(a,r.constructor),o=a.stack}else{var i=new Error().stack.split("\n");i.splice(/^Error/.test(i[0])?1:0,1),o="Error\n"+i.join("\n")}return typeof o=="string"&&o!==""?r.stack=o.split("\n").map(function(e,t){return t===0?r.name+": "+r.message.replace(/\n.*/," (...)"):t-1<n?null:e}).filter(Boolean).join("\n"):r.stack="",r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getExtra=function(){return this.$OzErrorClass$p_1.extra||{}},n.getType=function(){return this.$OzErrorClass$p_1.type},n.getDescription=function(){return this.$OzErrorClass$p_1.description},t})(babelHelpers.wrapNativeSuper(Error));i.OzErrorClass=e}),66);
__d("oz-player/utils/OzErrorUtils",["oz-player/utils/OzError"],(function(t,n,r,o,a,i,l){function e(e){if(typeof e=="object"&&e!=null&&e.stack===void 0)try{throw e}catch(e){}}function s(e){return e instanceof o("oz-player/utils/OzError").OzErrorClass}function u(t,n){var r;n===void 0&&(n=0);var a=new(o("oz-player/utils/OzError")).OzErrorClass(t,1+n);return e(a),e((r=t.extra)==null?void 0:r.originalError),a}function c(e){return u({type:"OZ_CANCELLED",description:"Cancelled: "+e},1)}function d(e){var t=e.description,n=e.requestUrl,r=e.responseBody,o=e.responseHeaders,a=e.responseStatus;return u({type:"OZ_NETWORK",description:t+" Status:"+a+(r!=null?" Body:"+r.length+":"+r.substr(0,200)+(r.length>200?"...":""):""),extra:{code:a.toString(),headers:o,url:n}},1)}function m(t,n){e(t);var r=s(t)?t:null;return u(babelHelpers.extends({},n,{type:r?r.getType():n.type,description:n.description+" - "+(!(t instanceof Error)&&typeof t=="object"&&t!=null&&typeof t.message=="string"?t.message:String(t)),extra:babelHelpers.extends({},n.extra,{originalError:t})}),1)}function p(e,t){return u({type:e.getType(),description:e.getDescription(),extra:babelHelpers.extends({},e.getExtra(),{mimeType:t})})}function _(e){var t,n;return s(e)?(t=e.getExtra().code||"",n=e):(t=e.status!=null&&e.status!==""?e.status.toString():"0",n=u({type:"OZ_NETWORK",description:e.message,extra:{originalError:e,code:t,url:e.url}})),[n,t]}l.isOzError=s,l.createOzError=u,l.createOzCancelledError=c,l.createOzNetworkError=d,l.convertPromiseRejectionReasonToOzError=m,l.getOzErrorWithMIMEType=p,l.getNormalizedErrorAndCode=_}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,r,a){o("Random").coinflip(a)&&(e||(e=o("ODS"))).bumpEntityKey(2079,n,r,a)};l.bumpEntityKey=s}),98);