;/*FB_PKG_DELIM*/

__d("BaseFocusRing.react",["FocusWithinHandler.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={focused:{boxShadow:"x18bame2",outline:"x1a2a7pz xvetz19",$$css:!0},focusedInset:{boxShadow:"xpud6h4",$$css:!0},unfocused:{outline:"x1a2a7pz",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.focusRingPosition,i=e.mode,l=e.onFocusVisibleChange,c=e.suppressFocusRing,d=e.testOnly,m=e.xstyle,p=a===void 0?"default":a,_=i===void 0?"focus-visible":i,f=c===void 0?!1:c,g;t[0]!==n||t[1]!==p||t[2]!==_||t[3]!==l||t[4]!==f||t[5]!==m?(g=function(t,r){var e=!f&&t&&(r||_==="focus");l==null||l(r);var o=[];return e?o.push(p==="inset"?u.focusedInset:u.focused):o.push(u.unfocused),n([].concat(o,[m]))},t[0]=n,t[1]=p,t[2]=_,t[3]=l,t[4]=f,t[5]=m,t[6]=g):g=t[6];var h;return t[7]!==g||t[8]!==d?(h=s.jsx(r("FocusWithinHandler.react"),{testOnly:d,children:g}),t[7]=g,t[8]=d,t[9]=h):h=t[9],h}l.default=c}),98);
__d("BaseInput.react",["CometContainerPressableContext","Locale","react","react-compiler-runtime","stylex","testID"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","xstyle","onChange","onClick","onValueChange","testid","type"],s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_={root:{WebkitTapHighlightColor:"x1i10hfl",boxSizing:"x9f619",touchAction:"xggy1nq",":-webkit-autofill_-webkit-background-clip":"xtpw4lu",":-webkit-autofill_-webkit-text-fill-color":"x1tutvks",":-webkit-autofill_transition":"x1s3xk63",":disabled_cursor":"x1s07b3s",$$css:!0},zIndex:{zIndex:"x1vjfegm",$$css:!0}},f=o("Locale").isRTL();function g(t){var n=o("react-compiler-runtime").c(31),a,i,l,u,d,p,g,h;n[0]!==t?(d=t.ref,h=t.xstyle,a=t.onChange,i=t.onClick,l=t.onValueChange,g=t.testid,p=t.type,u=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=p,n[7]=g,n[8]=h):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],p=n[6],g=n[7],h=n[8]);var y=p===void 0?"text":p,C;e:switch(y){case"switch":{C="checkbox";break e}default:C=y}var b=C,v=b==="checkbox"||b==="radio",S=b==="textarea",R=m(r("CometContainerPressableContext"))!=null,L=S?"textarea":"input",E;n[9]!==R||n[10]!==h?(E=(s||(s=r("stylex"))).props(_.root,h,R&&_.zIndex),n[9]=R,n[10]=h,n[11]=E):E=n[11];var k;n[12]!==g?(k=r("testID")(g),n[12]=g,n[13]=k):k=n[13];var I;n[14]!==v||n[15]!==a||n[16]!==l?(I=function(t){v||l==null||l(t.currentTarget.value,t),a==null||a(t)},n[14]=v,n[15]=a,n[16]=l,n[17]=I):I=n[17];var T;n[18]!==v||n[19]!==i||n[20]!==l?(T=function(t){if(v){var e=t.currentTarget;e instanceof HTMLInputElement&&(l==null||l(e.checked,t))}i==null||i(t)},n[18]=v,n[19]=i,n[20]=l,n[21]=T):T=n[21];var D=S?void 0:b,x;return n[22]!==L||n[23]!==u||n[24]!==d||n[25]!==E||n[26]!==k||n[27]!==I||n[28]!==T||n[29]!==D?(x=c.jsx(L,babelHelpers.extends({},E,{dir:f?"rtl":"ltr"},u,k,{onChange:I,onClick:T,ref:d,type:D})),n[22]=L,n[23]=u,n[24]=d,n[25]=E,n[26]=k,n[27]=I,n[28]=T,n[29]=D,n[30]=x):x=n[30],x}var h=c.memo(g);l.default=h}),98);
__d("BaseLinkV2.react",["BaseLinkInternal.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","children","variant"],s,u=s||(s=o("react"));function c(t){var n,a=o("react-compiler-runtime").c(10),i,l,s,c;a[0]!==t?(s=t.ref,i=t.children,c=t.variant,l=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=c):(i=a[1],l=a[2],s=a[3],c=a[4]);var d=(n=c.xstyleConfig)==null?void 0:n.link,m;return a[5]!==i||a[6]!==l||a[7]!==s||a[8]!==d?(m=u.jsx(r("BaseLinkInternal.react"),babelHelpers.extends({},l,{ref:s,style:d,children:i})),a[5]=i,a[6]=l,a[7]=s,a[8]=d,a[9]=m):m=a[9],m}l.default=c}),98);
__d("BlobFactory",["emptyFunction"],(function(t,n,r,o,a,i,l){var e;function s(){try{new t.Blob,e=!0}catch(t){e=!1}}var u=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,c=t.Blob?{getBlob:function(r,o){if(r=r||[],o=o||{},e===void 0&&s(),e)return new t.Blob(r,o);for(var n=new u,a=0;a<r.length;a++)n.append(r[a]);return n.getBlob(o.type)},isSupported:r("emptyFunction").thatReturnsTrue}:{getBlob:function(t,n){},isSupported:r("emptyFunction").thatReturnsFalse},d=c;l.default=d}),98);
__d("WAEncodeString",["WATextEncoding"],(function(t,n,r,o,a,i,l){"use strict";var e=o("WATextEncoding").newTextEncoder();function s(t){return e.encode(t)}l.toUtf8=s}),98);
__d("P2XFunnelIdGenerator",["WABase64","WACryptoHmac","WAEncodeString","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.genFunnelInfo=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebUserPrefsMultiDevice").getChatThreadLoggingSecretB64();return e==null||e.trim().length===0?{funnel_id:"",is_logging_secret_available:!1}:{funnel_id:o("WABase64").encodeB64(yield o("WACryptoHmac").hmacSha256(o("WAEncodeString").toUtf8(e+this.$1),o("WAEncodeString").toUtf8(this.$2))),is_logging_secret_available:!0}});function t(){return e.apply(this,arguments)}return t})(),e})();l.P2XFunnelIdGenerator=e}),98);
__d("WAWebMerchantCommerceEventWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumBizPlatform"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({MerchantCommerceEvent:[4688,{acceptedPaymentMethods:[1,e.TYPES.STRING],adId:[2,e.TYPES.STRING],appSessionId:[3,e.TYPES.STRING],bizPlatform:[4,o("WAWebWamEnumBizPlatform").BIZ_PLATFORM],commerceExperience:[6,e.TYPES.STRING],commerceFlowId:[20,e.TYPES.STRING],commerceInteractionAction:[7,e.TYPES.STRING],commerceInteractionActionType:[21,e.TYPES.STRING],commerceOrderStatus:[22,e.TYPES.STRING],commercePaymentStatus:[8,e.TYPES.STRING],commerceSessionId:[9,e.TYPES.STRING],commerceSurface:[10,e.TYPES.STRING],extraAttributes:[11,e.TYPES.STRING],isCtwaOriginated:[12,e.TYPES.BOOLEAN],isEligibleForAdSignal:[13,e.TYPES.BOOLEAN],merchantHasCatalog:[14,e.TYPES.BOOLEAN],merchantIsDiscoverable:[15,e.TYPES.BOOLEAN],p2mFlow:[17,e.TYPES.STRING],referral:[18,e.TYPES.STRING],sequenceId:[19,e.TYPES.INTEGER]},[1,1,1],"regular"]},{MerchantCommerceEvent:[]});l.MerchantCommerceEventWamEvent=s}),98);
__d("WAWebPsStructuredMessageInteractionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumBizPlatform","WAWebWamEnumInteractionType","WAWebWamEnumMediaType","WAWebWamEnumStructuredMessageClass"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({PsStructuredMessageInteraction:[3052,{bizPlatform:[1,o("WAWebWamEnumBizPlatform").BIZ_PLATFORM],businessOwnerJid:[7,e.TYPES.STRING],messageClass:[3,o("WAWebWamEnumStructuredMessageClass").STRUCTURED_MESSAGE_CLASS],messageClassAttributes:[5,e.TYPES.STRING],messageInteraction:[4,o("WAWebWamEnumInteractionType").INTERACTION_TYPE],messageMediaType:[2,o("WAWebWamEnumMediaType").MEDIA_TYPE],templateId:[8,e.TYPES.STRING],threadIdHmac:[9,e.TYPES.STRING]},[1,1,1],"private",0]},{PsStructuredMessageInteraction:[]});l.PsStructuredMessageInteractionWamEvent=s}),98);
__d("PaymentLinkWamLogger",["$InternalEnum","P2XFunnelIdGenerator","PaymentLink","WAWebABProps","WAWebChatGetters","WAWebLinkify","WAWebMerchantCommerceEventWamEvent","WAWebMobilePlatforms","WAWebMsgGetters","WAWebProtobufsE2E.pb","WAWebPsStructuredMessageInteractionWamEvent","WAWebStructuredMessageReceiveWamEvent","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWamEnumBizPlatform","WAWebWamEnumInteractionType","WAWebWamEnumStructuredMessageClass","WAWebWamMsgUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e="receiver_log_key",s={CTA:"payment_link",P2M_FLOW:"PAYMENT_LINK"},u={INTERACTION_ACTION:"send_payment_link",INTERACTION_SURFACE:"chat",REFERRAL:"composer",COMMERCE_EXPERIENCE:"non_native",P2M_FLOW:"payment_link",ACCEPTED_PAYMENT_METHOD:"payment_link"},c=n("$InternalEnum")({NOT_STARTED:"not_started",STARTED:"started",COMPLETED:"completed"}),d=n("$InternalEnum")({INDIVIDUAL:"individual",GROUP:"group",BROADCAST:"broadcast",NEWSLETTER:"newsletter"}),m=n("$InternalEnum")({LINK:"link",LINK_PREVIEW:"link_preview",LINK_CTA:"link_cta",UNKNOWN:"unknown"});function p(e){var t,n,r,a=o("WAWebMsgGetters").getPaymentLinkMetadata(e),i=(a==null||(t=a.provider)==null?void 0:t.paramsJson)!=null?(n=JSON.parse(a==null||(r=a.provider)==null?void 0:r.paramsJson))==null?void 0:n.name:null;return i}function _(e){if(o("WAWebMsgGetters").getIsSentByMe(e))return!1;if(o("WAWebMsgGetters").getRichPreviewType(e)===o("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.PAYMENT_LINKS)return o("WAWebABProps").getABPropConfigValue("smb_payment_links_logging_enabled");var t=p(e);return t==null?!1:o("WAWebABProps").getABPropConfigValue("smb_payment_links_logging_enabled")}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=new(o("P2XFunnelIdGenerator")).P2XFunnelIdGenerator(e,t.id.id+t.to.toJid());return n.genFunnelInfo()}),g.apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=p(e.msg),r=n!=null?n:t!=null?o("PaymentLink").getPSP(t):null,a=yield f(e.msg),i=C(e.msg,E(e.msg),a.funnel_id,a.is_logging_secret_available,r,n!=null),l=new(o("WAWebStructuredMessageReceiveWamEvent")).StructuredMessageReceiveWamEvent(babelHelpers.extends({},i,{messageClassAttributes:JSON.stringify(babelHelpers.extends({},i.messageClassAttributes))},x(e.msg)&&{businessOwnerJid:D(e)}));l.commit()}),y.apply(this,arguments)}function C(e,t,n,r,a,i){var l=b(e,t,n,r,a,i);return{bizPlatform:o("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,messageClass:o("WAWebWamEnumStructuredMessageClass").STRUCTURED_MESSAGE_CLASS.HSM,messageClassAttributes:l,messageMediaType:o("WAWebWamMsgUtils").getWamMediaType(e)}}function b(e,t,n,r,a,i){var l={funnel_id:n,is_logging_secret_available:r,cta:s.CTA,p2m_flow:s.P2M_FLOW,chat_type:t,has_link_preview:o("WAWebMsgGetters").getRichPreviewType(e)===o("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.PAYMENT_LINKS,is_payment_provider_in_metadata:i,is_forwarded:o("WAWebMsgGetters").getIsForwarded(e),is_edited:o("WAWebMsgGetters").getIsEdited(e)};return l=v(e,l),l=S(l,a),l=R(e,l),o("WAWebABProps").getABPropConfigValue("payment_link_trace_id_logging_enabled")&&(l=L(e,l)),l}function v(e,t){var n=$(e.paymentLinkMetadata);return babelHelpers.extends({},t,n!=null&&{cta_variant:n})}function S(e,t){return babelHelpers.extends({},e,t!=null&&{payment_provider:t})}function R(e,t){var n,r=o("WAWebMsgGetters").getPaymentLinkMetadata(e),a=z(r==null||(n=r.provider)==null?void 0:n.paramsJson);return babelHelpers.extends({},t,a!=null&&{metatags:a})}function L(e,t){var n,r=o("WAWebMsgGetters").getPaymentLinkMetadata(e),a=j(r==null||(n=r.provider)==null?void 0:n.paramsJson);return a==null||a===""?t:babelHelpers.extends({},t,{payment_link_trace_id:a})}function E(e){return k(e)?d.GROUP:I(e)?d.BROADCAST:T(e)?d.NEWSLETTER:d.INDIVIDUAL}function k(e){var t,n=e.from;return(t=n==null?void 0:n.isGroup())!=null?t:!1}function I(e){var t,n;return(t=(n=e.broadcastId)==null?void 0:n.isBroadcast())!=null?t:!1}function T(e){var t,n=e.from;return(t=n==null?void 0:n.isNewsletter())!=null?t:!1}function D(e){var t;if(e.interaction_component==null){var n;return(n=o("WAWebMsgGetters").getSender(e.msg))==null?void 0:n.toJid()}return(t=e.msg.senderObj)==null?void 0:t.id.toJid()}function x(e){var t;if(!o("WAWebABProps").getABPropConfigValue("payment_link_trace_id_logging_enabled"))return!0;var n=o("WAWebMsgGetters").getPaymentLinkMetadata(e),r=j(n==null||(t=n.provider)==null?void 0:t.paramsJson);return!(r!=null&&r!==""&&o("WAWebMsgGetters").getIsForwarded(e))}function $(e){var t,n;return(e==null||(t=e.header)==null?void 0:t.headerType)!=null?o("WAWebProtobufsE2E.pb").Message$PaymentLinkMetadata$PaymentLinkHeader$PaymentLinkHeaderType.getName(e==null||(n=e.header)==null?void 0:n.headerType).toLowerCase():null}function P(e,t){return N.apply(this,arguments)}function N(){return N=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield M(e,t,E(e.msg)),r=new(o("WAWebPsStructuredMessageInteractionWamEvent")).PsStructuredMessageInteractionWamEvent(babelHelpers.extends({},n,{messageClassAttributes:JSON.stringify(babelHelpers.extends({},n.messageClassAttributes))},x(e.msg)&&{businessOwnerJid:D(e)},{messageInteraction:o("WAWebWamEnumInteractionType").INTERACTION_TYPE.USER_PAY_NOW}));r.commit()}),N.apply(this,arguments)}function M(e,t,n){return w.apply(this,arguments)}function w(){return w=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r,o=p(e.msg),a=o!=null?o:t,i=yield f(e.msg),l=C(e.msg,n,i.funnel_id,i.is_logging_secret_available,a,o!=null);return babelHelpers.extends({},l,{messageClassAttributes:babelHelpers.extends({},l.messageClassAttributes,{interaction_component:(r=e.interaction_component)!=null?r:m.UNKNOWN})})}),w.apply(this,arguments)}function A(){return o("WAWebMobilePlatforms").isSMB()&&o("WAWebABProps").getABPropConfigValue("smb_payment_links_seller_logging_enabled")}function F(e,t,n,r,o,a,i){return O.apply(this,arguments)}function O(){return O=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a,i,l){var s=o("WAWebLinkify").findLinks(e,!1,o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow()),u=U(s,t,n,r,i,l);u&&B(a,u)}),O.apply(this,arguments)}function B(e,t){var n=new(o("WAWebMerchantCommerceEventWamEvent")).MerchantCommerceEventWamEvent({bizPlatform:o("WAWebWamEnumBizPlatform").BIZ_PLATFORM.SMB,commerceInteractionAction:u.INTERACTION_ACTION,commerceSurface:u.INTERACTION_SURFACE,referral:u.REFERRAL,commerceExperience:u.COMMERCE_EXPERIENCE,p2mFlow:u.P2M_FLOW,acceptedPaymentMethods:u.ACCEPTED_PAYMENT_METHOD,isEligibleForAdSignal:!1,merchantHasCatalog:e,extraAttributes:JSON.stringify(t)});n.commit()}function W(e){return o("WAWebChatGetters").getIsGroup(e)?d.GROUP:o("WAWebChatGetters").getIsBroadcast(e)?d.BROADCAST:o("WAWebChatGetters").getIsNewsletter(e)?d.NEWSLETTER:d.INDIVIDUAL}function q(e){if(o("WAWebChatGetters").getIsGroup(e))return e.getParticipantCount();if(o("WAWebChatGetters").getIsNewsletter(e)){var t,n;return(t=(n=e.newsletterMetadata)==null?void 0:n.size)!=null?t:1}return 1}function U(e,t,n,r,a,i){var l,s,u,c,d=e.map(function(e){return o("PaymentLink").getPSP(e.url)}).filter(function(e){return e!=null});if(d.length<=0)return null;var m=Array.from(new Set(d)),p=o("WAWebUserPrefsGeneral").getUserPrivacySettings(),_=p.disableLinkPreviews,f={url_preview_cancelled:t,url_preview_enabled:!_,url_preview_loaded:n!=null||t,payment_provider:m.toString(),rich_preview_type:(l=n==null||(s=n.data)==null?void 0:s.richPreviewType)!=null?l:o("WAWebProtobufsE2E.pb").Message$ExtendedTextMessage$PreviewType.NONE,does_preview_have_thumbnail:!K(n==null||(u=n.data)==null?void 0:u.thumbnail)||!K(n==null||(c=n.data)==null?void 0:c.thumbnailHQ),number_of_payment_links:d.length,number_of_links:e.length,link_preview_status:r,is_first_http_url_a_payment_link:Q(e),chat_participant_count:q(a),chat_type:W(a)};return f=V(f,i),f=H(f,i),o("WAWebABProps").getABPropConfigValue("payment_link_trace_id_logging_enabled")&&(f=G(f,i)),f}function V(e,t){var n=$(t);return babelHelpers.extends({},e,n!=null&&{cta_variant:n})}function H(e,t){var n,r=z(t==null||(n=t.provider)==null?void 0:n.paramsJson);return babelHelpers.extends({},e,r!=null&&{metatags:r})}function G(e,t){var n,r=j(t==null||(n=t.provider)==null?void 0:n.paramsJson);return r==null||r===""?e:babelHelpers.extends({},e,{payment_link_trace_id:r})}function z(e){try{var t,n=e==null?null:JSON.parse(e);if(n==null)return null;var r=n==null?void 0:n.meta_tags;if(r==null)return null;var o=null;r.is_business_verified!=null&&(o=babelHelpers.extends({},o,{is_business_verified:r.is_business_verified===!0}));var a=(t=r.provider_name)==null?void 0:t.trim();return a!=null&&(o=babelHelpers.extends({},o,{is_psp_name_available:a.length>0})),o}catch(e){return null}}function j(e){if(e==null||e==="")return null;try{var t=JSON.parse(e);return t.payment_link_trace_id}catch(e){return null}}function K(e){return e==null||e.trim().length===0}function Q(e){for(var t of e)if(t&&t.isHttp)return o("PaymentLink").getPSP(t.url)!=null;return!1}l.LinkPreviewStatus=c,l.ClickInteractionComponent=m,l.shouldLogReceiverEvent=_,l.genReceiverEventFunnelInfo=f,l.genLogReceiveEvent=h,l.genLogClickEvent=P,l.shouldLogSendEvent=A,l.genLogSendEventIfPaymentLink=F}),98);
__d("ReactFbPropTypes",["FbtResultBase","warning"],(function(t,n,r,o,a,i){function e(e){var t=function(r,o,a,i,l,s,u){var t=o[a];return t instanceof n("FbtResultBase")?null:r?e.isRequired(o,a,i,l,s,u):e(o,a,i,l,s,u)},r=t.bind(null,!1);return r.isRequired=t.bind(null,!0),r}i.wrapStringTypeChecker=e}),null);
__d("WAAlignChunkLengthsToMultipleOfAesBlockSize",[],(function(t,n,r,o,a,i){"use strict";function e(e){return parseInt((e+15)/16,10)*16}function l(t,n){for(var r=[],o=0,a=0,i=0,l=0;l<t.length;++l)if(o+=t[l],l===t.length-1&&n!=null&&n>0){o>a?r.push(n-a):(r.pop(),r.push(n-i));break}else if(o>a){var s=e(o-a);i=a,r.push(s),a+=s}return r}i.alignChunkSizeToMultipleAesBlockSize=e,i.alignChunkLengthsToMultipleOfAesBlockSize=l}),66);
__d("WABase64UrlSafe",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.replace(/\//g,"_").replace(/\+/g,"-")}function l(e){return e.replace(/-/g,"+").replace(/_/g,"/")}function s(e){for(var t=atob(e),n=t.length,r=new Uint8Array(new ArrayBuffer(n)),o=0;o<n;o++)r[o]=t.charCodeAt(o);return r}i.urlSafeBase64=e,i.urlSafeBase64ToStandard=l,i.getBytesFromBase64=s}),66);
__d("WABlobToArrayBuffer",["Promise","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return"arrayBuffer"in t?t.arrayBuffer():new(e||(e=n("Promise")))(function(e,n){var o=new FileReader;o.onload=function(){var t=o.result;t instanceof ArrayBuffer?e(t):n(r("err")("blobToArrayBuffer got error because result is not ArrayBuffer: "+typeof t))},o.onerror=function(){var e;n((e=o.error)!=null?e:r("err")("blobToArrayBuffer got unknown error"))},o.readAsArrayBuffer(t)})}l.blobToArrayBuffer=s}),98);
__d("WACert.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={};s.name="NoiseCertificate",s.internalSpec={details:[1,(e=o("WAProtoConst")).TYPES.BYTES],signature:[2,e.TYPES.BYTES]},u.name="NoiseCertificate$Details",u.internalSpec={serial:[1,e.TYPES.UINT32],issuer:[2,e.TYPES.STRING],expires:[3,e.TYPES.UINT64],subject:[4,e.TYPES.STRING],key:[5,e.TYPES.BYTES]},c.name="CertChain",c.internalSpec={leaf:[1,e.TYPES.MESSAGE,d],intermediate:[2,e.TYPES.MESSAGE,d]},d.name="CertChain$NoiseCertificate",d.internalSpec={details:[1,e.TYPES.BYTES],signature:[2,e.TYPES.BYTES]},m.name="CertChain$NoiseCertificate$Details",m.internalSpec={serial:[1,e.TYPES.UINT32],issuerSerial:[2,e.TYPES.UINT32],key:[3,e.TYPES.BYTES],notBefore:[4,e.TYPES.UINT64],notAfter:[5,e.TYPES.UINT64]},l.NoiseCertificateSpec=s,l.NoiseCertificate$DetailsSpec=u,l.CertChainSpec=c,l.CertChain$NoiseCertificateSpec=d,l.CertChain$NoiseCertificate$DetailsSpec=m}),98);
__d("WACountries",[],(function(t,n,r,o,a,i){var e={1:'[334,"[2-9]","($1) $2-$3"],[10,9]',20:'["Ah","[23]"],["Bg","1[35]|[4-6]|8[2468]|9[235-7]"],[334,"[89]"],[28,1],[10,5,8,9]',211:'[333,"[19]"],9',212:'[54,["5(29|38)","5(29|38)[89]"],1],[3222,"5[45]"],[45,"5(2[2-489]|3[5-9]|9)|892",1],[27,8,1],[36,"[5-7]",1],9',213:'[2222,"[1-4]"],[2322,9],[3222,"[5-8]"],[9,8]',216:"233,8",218:'[27,"[25-79]",1],9',220:'[34,"[2-9]"],7',221:'[2322,"[379]"],[3222,8],[3222,8],[2322,"[379]"],9',222:'[2222,"[2-48]"],8',223:'[2222,"[24-9]"],8',224:'[2222,3],[3222,"[67]"],[9,8]',225:'[2222,"[02-9]"],[8,10]',226:'[2222,"[025-7]"],8',227:'[233,"08"],[2222,"[0289]"],8',228:'[2222,"[279]"],8',229:'[2222,"[2689]"],[22222,0],[8,10,4]',230:'[34,"[2-46]|8[013]"],[44,5],[7,8]',231:'[133,"[45]"],[233,2],[234,"[23578]"],[7,9,8]',232:'[26,"[237-9]"],8',233:'[35,8],[234,"[235]"],[9,8]',234:'["ACd","[12]|9(0[3-9]|[1-9])"],["BCc","[3-7]|8[2-9]"],["CCd","[7-9]"],["CDe","[78]"],["CEf","[78]"],[10,8,11,12,13,14]',235:'[2222,"[2679]"],8',236:'[2222,"[278]"],8',237:'[2222,88],[12222,"[26]"],[8,9]',238:'[322,"[2-59]"],7',239:'[34,"[29]"],7',240:'[333,"[235]"],[36,"[89]"],9',241:"[2222,0],8",242:'[3222,801],[144,8],[234,"[02]"],[8,9]',243:'[223,88],[25,"[1-6]"],[234,1],[333,"[89]"],[9,7]',244:'[333,"[29]"],9',245:'[34,40],[333,"[49]"],[7,9]',246:"[34,3],7",247:"5",248:'[133,"[246]"],7',249:'[234,"[19]"],9',250:'[2222,0],[333,2],[333,"[7-9]"],[9,8]',251:'[234,"[1-59]"],9',252:'[24,"8[125]"],[6,"[134]"],[16,"1|2[0-79]|3[0-46-8]|4[0-7]|59"],[17,"24|[67]"],[333,"[348]|64|79[0-8]|90"],["BA{5,7}","1|28|6[1-35-9]|799|9[2-9]"],[7,8,9,6]',253:'[2222,"[27]"],8',254:'["BA{5,7}","[24-6]"],[36,"[17]"],["CCd","[89]"],[9,7,8,10]',255:'[324,"[89]"],[234,"[24]"],[333,"[67]"],[9,7]',256:'[45,[202,2024]],[36,"[27-9]|4(6[45]|[7-9])"],[27,"[34]"],9',257:'[2222,"[2367]"],8',258:'["BCd","2|8[2-7]"],[333,8],[9,8]',260:'[333,"[28]"],9',261:'[2232,"[23]"],9',262:'[3222,"[268]"],9',263:'["CA{3,5}","2(0[45]|2[278]|[49]8)|3([09]8|17)|6([29]8|37|75)|[23][78]|(33|5[15]|6[68])[78]"],["ACA{2,4}","[49]"],[34,80],[27,["24|8[13-59]|(2[05-79]|39|5[45]|6[15-8])2","2(02[014]|4|[56]20|[79]2)|392|5(42|525)|6([16-8]21|52[013])|8[13-59]"]],[234,7],["CCd",["2(1[39]|2[0157]|[378]|[56][14])|3(12|29)","2(1[39]|2[0157]|[378]|[56][14])|3(123|29)"]],[46,8],["BA{3,5}","1|2(0[0-36-9]|12|29|[56])|3(1[0-689]|[24-6])|5([0236-9]|1[2-4])|6([013-59]|7[0-46-9])|(33|55|6[68])[0-69]|(29|3[09]|62)[0-79]"],["BCd","29[013-9]|39|54"],["DA{3,5}",["(25|54)8","258[23]|5483"]],[9,10,5,6,7,8]',264:'[233,88],["BCd",6],[333,87],[234,8],[9,8]',265:'[133,"1[2-9]"],[333,2],[234,3],[3222,"[17-9]"],[9,7]',266:"44,8",267:'[25,90],[34,"[2-6]"],[233,7],[8,7]',268:'[44,"[0237]"],[54,9],8',269:'[322,"[3478]"],7',27:'["Bd","8[1-4]"],["BCc","8[1-4]"],[333,860],[234,"[1-9]"],[5,6,7,8,9,13]',290:"[5,4]",291:'[133,"[178]"],7',297:'[34,"[25-9]"],7',298:'[6,"[2-9]"],6',299:"222,6",30:'[244,"21|7"],[46,"2(2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])"],[334,"[2689]"],10',31:'["CA{4,7}","[89]0"],[27,66],[18,6],[333,"1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],[234,"[1-57-9]"],[9,10,11,7,8]',32:'[323,"(80|9)0"],[1322,"[239]|4[23]"],[2222,"[15-8]"],[3222,4],[8,9]',33:'[3222,8],[12222,"[1-79]"],9',34:'[333,"[89]00"],[3222,"[5-9]"],9',350:"[35,2],8",351:'[234,"2[12]"],[333,"[236-9]"],9',352:'[23,"2(0[2-689]|[2-9])|[3-57]|8(0[2-9]|[13-9])|9(0[89]|[2-579])"],[222,"2(0[2-689]|[2-9])|[3-57]|8(0[2-9]|[13-9])|9(0[89]|[2-579])"],[223,"20[2-689]"],["BBBb","2([0367]|4[3-8])"],[323,"80[01]|90[015]"],[2223,20],[333,6],["BBBBb","2([0367]|4[3-8])"],["BBBA{1,5}","[3-57]|8[13-9]|9(0[89]|[2-579])|(2|80)[2-9]"],[9,4,5,6,7,8,10,11]',353:'[25,"2[24-9]|47|58|6[237-9]|9[35-9]"],[35,"[45]0"],["AdD",1],["BCd","[2569]|4[1-69]|7[14]"],[333,70],[333,81],[234,"[78]"],[433,1],[2134,8],[244,4],[9,7,8,10]',354:'[34,"[4-9]"],[333,3],[7,9]',355:'["Cd","80|9"],[134,"4[2-6]"],[233,"[2358][2-5]|4"],[35,"[23578]"],[234,6],[9,7,8]',356:'[44,"[2357-9]"],[8,10]',357:'[26,"[257-9]"],8',358:'[5,"75[12]"],["AA{4,9}","[2568][1-8]|3(0[1-9]|[1-9])|9"],[6,11],["CA{3,7}","([12]0|7)0|[368]"],["BA{4,8}","[12457]"],[6,7,8,9,10,11,12,5]',359:'[6,1],[1122,2],[34,"43[1-6]|70[1-9]"],["ACd",2],["BCc","[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],[323,"(70|8)0"],[332,"43[1-7]|7"],["BCd","[48]|9[08]"],[333,9],[9,6,7,8]',36:'[134,1],["BCd","[2-9]"],[9,8]',370:'[134,"52[0-79]"],[323,"[7-9]"],[26,"37|4([15]|6[1-8])"],[35,"[3-6]"],8',371:'[233,"[269]|8[01]"],8',372:'[34,["[369]|4[3-8]|5([0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5([02]|1([0-8]|95)|5[0-478]|6(4[0-4]|5[1-589]))|7[1-9]"]],["Dd",["[45]|8(00|[1-4])","[45]|8(00[1-9]|[1-4])"]],[224,7],[433,80],[7,8,10]',373:'[35,"[89]"],[233,"22|3"],[323,"[25-7]"],8',374:'[323,"[89]0"],[35,"2|3[12]"],[26,"1|47"],[26,"[3-9]"],8',375:'[2322,["17[0-3589]|2[4-9]|[34]","17([02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"$1 $2-$3-$4"],[3222,["1(5[24]|6[235]|7[467])|2(1[246]|2[25]|3[26])","1(5[24]|6(2|3[04-9]|5[0346-9])|7([46]|7[37-9]))|2(1[246]|2[25]|3[26])"],"$1 $2-$3-$4"],[423,["1(5[169]|6[3-5]|7[179])|2(1[35]|2[34]|3[3-5])","1(5[169]|6(3[1-3]|4|5[125])|7(1[3-9]|7[0-24-6]|9[2-7]))|2(1[35]|2[34]|3[3-5])"],"$1 $2-$3"],["[89]BCD","8[01]|9"],["82ADD",82],["800;C",800],["800;BA{2,4}",800],[9,6,7,8,10,11]',376:'[33,"[135-9]"],[44,1],[333,6],[6,9,8]',377:'[332,8],[233,4],[2222,"[39]"],[12222,6],[8,9]',378:'[2222,"[5-7]"],[46,0,"($1) $2"],[2222,"[5-7]"],[46,0],[8,10]',379:"[9,10,11,6,7,8]",380:'[333,["6[12][29]|(3[1-8]|4[136-8]|5[12457]|6[49])2|(56|65)[24]","6[12][29]|(35|4[1378]|5[12457]|6[49])2|(56|65)[24]|(3[1-46-8]|46)2[013-9]"]],[234,["4[45][0-5]|5(0|6[37])|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]","4[45][0-5]|5(0|6(3[14-7]|7))|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]"]],[45,"[3-6]"],["CCd","[89]"],[9,10]',381:'["CA{3,9}","(2[389]|39)0|[7-9]"],["BA{5,10}","[1-36]"],[8,9,10,6,7,11,12]',382:'["BCd","[2-9]"],8',383:'[35,"[89]"],[233,"[2-4]"],[333,"[23]"],[8,9]',385:'["BBc","6[01]"],["CBc",8],[143,1],["BCd","[67]"],["BCd",9],["BCd","[2-5]"],[333,8],[8,9,7]',386:'["BA{3,6}","8[09]|9"],[35,"59|8"],[233,"[37][01]|4[0139]|51|6"],[1322,"[1-57]"],[8,6,7]',387:'[233,"6[1-356]|[7-9]"],[233,"[3-5]","$1 $2-$3"],[2223,6],[8,9]',389:'[134,2],[233,"[347]"],[3122,"[58]"],8',39:'[6,"1(1|92)"],["BA{4,6}","0[26]"],["CA{3,6}",["0[13-57-9][0159]|8(03|4[17]|9[245])","0[13-57-9][0159]|8(03|4[17]|9(2|[45][0-4]))"]],["DA{2,6}","0([13-579][2-46-8]|8[236-8])"],[44,894],["BdD","0[26]|5"],["CCd","1[4679]|[38]"],["CdD","0[13-57-9][0159]"],[245,"0[26]"],[434,0],["CDe",3],[9,10,11,6,7,8]',40:'[33,["2[3-6]","2[3-6].9"]],[24,"219|31"],[234,"[23]1"],[333,"[237-9]"],[9,6]',41:'[333,"8[047]|90"],[2322,"[2-79]|81"],[32322,8],9',420:'[333,"[2-8]|9[015-7]"],[2333,9],[3333,9],9',421:'["ABd",21],["BBc",["[3-5][1-8]1","[3-5][1-8]1[67]"]],[1332,2,"$1/$2 $3 $4"],[2322,"[3-5]","$1/$2 $3 $4"],[333,"[689]"],[43,[909,9090]],[9,6,7]',423:'[322,"[237-9]"],[234,69],[333,6],[7,9]',43:'["AA{3,12}","1(11|[2-9])"],[32,517],["BA{3,5}","5[079]"],[6,1],["CA{3,10}","(31|4)6|51|6(5[0-3579]|[6-9])|7(20|32|8)|[89]"],["DA{3,9}","[2-467]|5[2-6]"],["BCd",5],["BDA{4,7}",5],[10,11,12,13,4,5,6,7,8,9]',44:'[34,[800,8001,80011,800111,8001111]],[322,[845,8454,84546,845464]],[36,800],["Ee",["1(38|5[23]|69|76|94)","1((38|69)7|5(24|39)|768|946)","1(3873|5(242|39[4-6])|(697|768)[347]|9467)"]],["Df","1([2-69][02-9]|[78])"],[244,["[25]|7(0|6[024-9])","[25]|7(0|6([04-9]|2[356]))"]],[46,7],[334,"[1389]"],[10,7,9]',45:'[2222,"[2-9]"],8',46:'["BcB",20],[34,"9(00|39|44)"],[232,"[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],["AcBB",8],["CcB","1[2457]|2([247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6([125689]|4[02-57]|7[0-2])|9([125-8]|3[02-5]|4[0-3])"],["CcC","9(00|39|44)"],["BcBB","1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],[2322,7],[1332,8],[3222,"[13-5]|2([247-9]|5[0138])|6([124-689]|7[0-2])|9([125-8]|3[02-5]|4[0-3])"],[3223,9],[32322,"[26]"],[9,13,6,7,8]',47:'[323,"[489]"],[2222,"[235-7]"],8',48:'[223,["(1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["CBc",64],[333,"39|45|5[0137]|6[0469]|7[02389]|8[08]"],[2322,"1[2-8]|[2-8]|9[145]"],[9,7]',49:'["BA{3,13}","3[02]|40|[68]9"],["CA{3,12}",["2(0[1-389]|1[124]|2[18]|3[14])|3([35-9][15]|4[015])|906|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(0[1-389]|12[0-8])|3([35-9][15]|4[015])|906|2([13][14]|2[18])|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"]],["DA{2,11}",["[24-6]|3([3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(3(0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(2[135]|4[13578]|9[1346])|5(0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(2[1-7]|4[145]|6[1-5]|7[1-4])|8(21|3[1468]|6|7[1467]|8[136])|9(0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(47|60)[1356]|3(3[46]|46|5[49])[1246]|3[4579]3[1357]"]],[34,138],["EA{2,10}",3],["CA{5,11}",181],["CAA{4,10}","1(3|80)|9"],["Ch","1[67]"],["CA{7,12}",8],[56,[185,1850,18500]],[344,7],[47,"18[68]"],[56,"15[0568]"],[47,"15[1279]"],[38,18],["CBh","1(6[023]|7)"],[427,"15[279]"],[328,15],[10,11,5,6,7,8,9,12,13,14,15]',500:"5",501:'[34,"[2-8]",1],[1343,0,1],[7,11]',502:'[44,"[2-7]"],[434,1],[8,11]',503:'[44,"[267]"],[34,"[89]"],[344,"[89]"],[8,7,11]',504:'[44,"[237-9]",1],8',505:'[44,"[125-8]"],8',506:'[44,"[24-7]|8[3-9]"],[334,"[89]",1],[8,10]',507:'[34,"[1-57-9]",1],[44,6,1],[7,8]',508:'[222,"[45]"],6',509:'[224,"[2-489]"],8',51:'[35,80],[17,1],[26,"[4-8]"],[333,9],[9,8]',52:'[244,"33|5[56]|81"],[334,"[2-9]"],[1244,"1(33|5[56]|81)"],[1334,1],[10,11]',53:'["BA{4,6}","2[1-4]|[34]"],["Ag",7],[17,5],[8,6,7]',54:'[424,["2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(2[24-9]|3[1-59]|47)","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5[56][46]|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(4[35][56]|58[45]|8([38]5|54|76))[4-6]","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|58|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|54(4|5[13-7]|6[89])|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(454|85[56])[46]|3(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2-$3"],[244,1,"$1 $2-$3"],[334,"[23]","$1 $2-$3"],[334,"[68]",1],[1424,["9(2[2-469]|3[3-578])","9(2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(2[24-9]|3[1-59]|47)","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5([56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4[35][56]|58[45]|8([38]5|54|76))[4-6]","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|5(4[46]|8)|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|5(4(4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2 $3-$4"],[1244,91,"$1 $2 $3-$4"],[1334,9,"$1 $2 $3-$4"],[10,11]',55:'[54,"9([1-9]|0[1-9])",1],[244,"[1-9][1-9]","$1 $2-$3"],[254,"([14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9","$1 $2-$3"],["[3589]00;cD","[3589]00"],[10,11,9]',56:'[234,"1([03-589]|21)|[29]0|78"],[54,21],[234,44],[144,"2[23]"],[144,"9[2-9]"],[234,"3[2-5]|[47]|5[1-3578]|6[13-57]|8(0[1-9]|[1-9])"],["CCd","60|8"],["600;CBC",60],["1230;CD",1],[54,219],[9,11]',57:'[17,"1[2-79]|[25-8]|(18|4)[2-9]"],[37,3],[137,["1(80|9)","1(800|9)"]],[10,8,11]',58:'[37,"[24589]",1],10',590:'["[56]90;BD",-1,"$1 $2-$3"],9',591:'[17,"[23]|4[46]"],[8,"[67]"],[324,8],[8,9]',592:'[34,"[2-46-9]"],7',593:'[134,"[2-7]",1],[234,9],["DCd",1],[9,8,10,11]',594:'[3222,"[56]"],9',595:'["CA{3,6}","[2-9]0"],[25,"[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],["Ce","2[279]|3[13-5]|4[359]|5|6[347]|7[46-8]|85"],["BCd","[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],[234,87],[36,9],[333,"[2-8]"],[9,7,8]',596:'[3222,"[56]"],9',597:'[222,56,1],[33,"[2-5]",1],[34,"[6-8]",1],[7,6]',598:'[34,"8|90"],[233,9],[44,"[24]"],[8,7]',599:'[34,"[3467]"],[134,"9[4-8]"],[7,8]',60:'[134,"[4-79]","$1-$2 $3"],["BCd","1([0249]|[367][2-9]|8[1-9])|8","$1-$2 $3"],[144,3,"$1-$2 $3"],[1324,"1[36-8]",1],[334,15,"$1-$2 $3"],[244,1,"$1-$2 $3"],[9,10,8]',61:'[34,[180,1802]],["Dd",19],["BCA{2,4}",16],[333,"14|[45]"],[144,"[2378]"],[433,"1(30|[89])"],[9,7,10]',62:'[133,15],["BA{5,9}","2[124]|[36]1"],["CA{5,7}",800],["CA{5,8}","[2-79]"],["CdC","8[1-35-9]",1],["CA{6,8}",1],[334,804],[3133,80],["CDe",8,1],[2434,0],[9,10,11,12,7,8]',63:'[15,2],[134,2],["DA{4,6}",["3(23|39|46)|4(2[3-6]|[35]9|4[26]|76)|544|88[245]|(52|64|86)2","3(230|397|461)|4(2(35|[46]4|51)|396|4(22|63)|59[347]|76[15])|5(221|446)|642[23]|8(622|8([24]2|5[13]))"]],[54,["346|4(27|9[35])|883","3469|4(279|9(30|56))|8834"]],[234,"[3-7]|8[2-8]"],[334,"[89]"],[434,1],["DbCD",1],[10,6,8,9,11,12,13]',64:'[323,"[89]0"],[134,"24|[346]|7[2-57-9]|9[2-9]","$1-$2 $3"],["CCd","2(10|74)|[59]|80"],["BdD","2[028]"],["BCA{3,5}","2([169]|7[0-35-9])|7|86"],[8,9,10]',65:'[44,"[369]|8[1-9]"],[334,8],[443,7],[434,1],[8,10,11]',66:'[134,2],["BCd","14|[3-9]"],[433,1],[9,8,10]',670:'[34,"[2-489]"],[44,7],[8,7]',672:"[24,1],[15,3],6",673:'[34,"[2-578]"],7',674:'[34,"[458]"],7',675:'[34,"18|[2-69]|85"],[44,"[78]"],[8,7]',676:'[23,"[2-4]|50|6[09]|7[0-24-69]|8[05]",1],[43,0],[34,"[5-8]"],[7,5]',677:'[25,"7|8[4-9]|9([1-8]|9[0-8])"],[7,5]',678:'[34,"[579]"],[7,5]',679:'[34,"[235-9]|45"],[434,0],[7,11]',680:'[34,"[2-9]"],7',681:'[222,"[4-8]"],6',682:'[23,"[2-8]"],5',683:"[34,8],[7,4]",685:'[5,"[2-6]"],["CA{3,7}",8],[25,7],[6,7,5]',686:"8",687:'[222,"[2-57-9]","$1.$2.$3"],6',688:"[6,7,5]",689:'[222,44],[2222,"[48]"],[8,6]',690:"[4,5,6,7]",691:'[34,"[39]"],7',692:'[34,"[2-6]",1],7',7:'[4222,["7(1[0-8]|2[1-9])","7(1([0-6]2|7|8[27])|2(1[23]|[2-9]2))","7(1([0-6]2|7|8[27])|2(13[03-69]|62[013-9]))|72[1-57-9]2"]],[5122,["7(1[0-68]|2[1-9])","7(1([06][3-6]|[18]|2[35]|[3-5][3-5])|2([13][3-5]|[24-689]|7[457]))","7(1(0([356]|4[023])|[18]|2(3[013-9]|5)|3[45]|43[013-79]|5(3[1-8]|4[1-7]|5)|6(3[0-35-9]|[4-6]))|2(1(3[178]|[45])|[24-689]|3[35]|7[457]))|7(14|23)4[0-8]|71(33|45)[1-79]"]],[334,7],[3322,"[3489]","$1 $2-$3-$4"],10',81:'[44,["007","0077","00777","00777[01]"],1],[333,"(12|57|99)0",1],[414,["1(26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(76|97)|746|8(3[89]|47|51|63)|9(49|80|9[16])","1(267|3(7[247]|9[278])|466|5(47|58|64)|6(3[245]|48|5[4-68]))|499[2468]|5(76|97)9|7468|8(3(8[78]|96)|477|51[24]|636)|9(496|802|9(1[23]|69))|1(45|58)[67]","1(267|3(7[247]|9[278])|466|5(47|58|64)|6(3[245]|48|5[4-68]))|499[2468]|5(769|979[2-69])|7468|8(3(8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(496|802|9(1[23]|69))|1(45|58)[67]"],1],[234,60,1],[144,["[36]|4(2[09]|7[01])","[36]|4(2(0|9[02-69])|7(0[019]|1))"],1],[234,["1(1|5[45]|77|88|9[69])|2(2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4([28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(2[124589]|3[279]|49|6[0-24-689]|7[0-468]|8[68]|9[019])|9([23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(1|5(4[018]|5[017])|77|88|9[69])|2(2([127]|3[014-9])|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|9[19])|62|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(2|3[045]|4[0-369]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9[0-2469])|49|6([0-24]|5[0-3589]|9[01459])|7[0-468]|8[68])|9([23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9([1289]|3[34]|4[0178]))|(49|55|83)[29]|(264|837)[016-9]|2(57|93)[015-9]|(47[59]|59[89]|8(6[68]|9))[019]","1(1|5(4[018]|5[017])|77|88|9[69])|2(2[127]|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|9(17|99))|6(2|4[016-9])|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9[0169])|3([29]|7([017-9]|6[6-8]))|49|6([0-24]|5([0-389]|5[23])|6([01]|9[178])|9[0145])|7[0-468]|8[68])|9(4[15]|5[138]|7[156]|8[189]|9([1289]|3(31|4[357])|4[0178]))|(8294|96)[1-3]|2(57|93)[015-9]|(223|8699)[014-9]|(48|8292|9[23])[1-9]|(47[59]|59[89]|8(68|9))[019]","1(1|5(4[018]|5[017])|77|88|9[69])|2(2[127]|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|7[015-9]|9(17|99))|6(2|4[016-9])|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17|3[015-9]))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9([019]|4[1-3]|6([0-47-9]|5[01346-9])))|3([29]|7([017-9]|6[6-8]))|49|6([0-24]|5([0-389]|5[23])|6([01]|9[178])|9[0145])|7[0-468]|8[68])|9(4[15]|5[138]|6[1-3]|7[156]|8[189]|9([1289]|3(31|4[357])|4[0178]))|(223|8699)[014-9]|(48|829(2|66)|9[23])[1-9]|(47[59]|59[89]|8(68|9))[019]"],1],[324,["[14]|[29][2-9]|5[3-9]|7[2-4679]|8([246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8([246-9]|3([3-6][2-9]|7|8[2-5])|5[2-9])"],1],["DBd","007",1],[424,"008",1],[334,800,1],[244,"[2579]|80",1],["DCd",0,1],["DDe",0,1],["DEf",0,1],["DFg",0,1],[10,8,9,11,12,13,14,15,16,17]',82:'[5,["1[016-9]1","1[016-9]11","1[016-9]114"]],["Bd","(3[1-3]|[46][1-4]|5[1-5])1",1],[44,1,1],["AdD",2,1],[234,"60|8",1],["BdD","[1346]|5[1-5]",1],[244,"[57]",1],[533,["003","0030"]],[254,5,1],["EdD",0],[5234,0],[9,10,5,6,8,12,13,14]',84:'[244,"2[48]"],["69Ae",69],[343,"2[0-35-79]"],["[89]ACBB","8(8|9[89])|9"],["1[2689]ACD","1([26]|8[68]|99)"],["[3578]ACD","[357]|8[1-5]"],["86[89];CC","86[89]"],["1[89]00;A{4,6}",["1[89]0","1[89]00"]],[9,10,8]',850:"[233,8],[134,2],[334,1],[10,8]",852:'["CA{2,5}",[900,9003]],[44,"[2-7]|8[1-4]|9(0[1-9]|[1-8])"],[333,8],[3233,9],[8,9]',853:'[44,"[268]"],8',855:'["BCd","[1-9]"],[433,1],[8,9,10]',856:'[233,"2[13]|3[14]|[4-8]"],[2223,3],[2233,2],[9,10,8]',86:'["Bf",["(10|2[0-57-9])[19]","(10|2[0-57-9])(10|9[56])","(10|2[0-57-9])(100|9[56])"]],[34,["[1-9]","1[1-9]|26|[3-9]|(10|2[0-57-9])([0-8]|9[0-47-9])","1[1-9]|26|[3-9]|(10|2[0-57-9])([02-8]|1(0[1-9]|[1-9])|9[0-47-9])"]],[44,"16[08]"],["Cf",["3([157]|35|49|9[1-68])|4([17]|2[179]|6[47-9]|8[23])|5([1357]|2[37]|4[36]|6[1-46]|80)|6(3[1-5]|6[0238]|9[12])|7(01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(4[35]|59|85)[1-9]","(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[1-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))[19]","85[23](10|95)|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(10|9[56])","85[23](100|95)|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(100|9[56])"]],[44,["[1-9]","1[1-9]|26|[3-9]|(10|2[0-57-9])([0-8]|9[0-47-9])","26|3([0268]|9[079])|4([049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6([0-24578]|6[14-79]|9[03-9])|7(0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8([046]|1[01459]|2[0-489]|50|8[0-2459]|9[09])|9(0[0457]|1[08]|[268]|4[024-9])|(34|85[23])[0-8]|(1|58)[1-9]|(63|95)[06-9]|(33|85[23]9)[0-46-9]|(10|2[0-57-9]|3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))([0-8]|9[0-47-9])","26|3([0268]|3[0-46-9]|4[0-8]|9[079])|4([049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6([0-24578]|3[06-9]|6[14-79]|9[03-9])|7(0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8([046]|1[01459]|2[0-489]|5(0|[23]([02-8]|1[1-9]|9[0-46-9]))|8[0-2459]|9[09])|9(0[0457]|1[08]|[268]|4[024-9]|5[06-9])|(1|58|85[23]10)[1-9]|(10|2[0-57-9])([0-8]|9[0-47-9])|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))([02-8]|1(0[1-9]|[1-9])|9[0-47-9])"]],[334,"(4|80)0"],[244,["10|2([02-57-9]|1[1-9])","10|2([02-57-9]|1[1-9])","10[0-79]|2([02-57-9]|1[1-79])|(10|21)8(0[1-9]|[1-9])"]],[334,"3([3-59]|7[02-68])|4([26-8]|3[3-9]|5[2-9])|5(3[03-9]|[468]|7[028]|9[2-46-9])|6|7([0-247]|3[04-9]|5[0-4689]|6[2368])|8([1-358]|9[1-7])|9([013479]|5[1-5])|([34]1|55|79|87)[02-9]"],["Ch",9],[434,80],[344,"[3-578]"],[344,"1[3-9]"],[2334,"[12]"],[11,7,8,9,10,12]',880:'["BA{4,6}","31[5-7]|[459]1",1],["CA{3,7}","3([67]|8[013-9])|4(6[168]|7|[89][18])|5(6[128]|9)|6(28|4[14]|5)|7[2-589]|8(0[014-9]|[12])|9[358]|(3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(44|66)[01346-9]",1],["DA{3,6}","[13-9]",1],["Ah",2,1],[10,6,7,8,9]',886:'["AdD","[25][2-8]|[346]|7[1-9]|8[237-9]"],[234,"[258]"],[333,9],[244,7],[9,8]',90:'[313,444],[334,"512|8[0589]|90"],[3322,["5([0-59]|61)","5([0-59]|616)","5([0-59]|6161)"]],[3322,"[24][1-8]|3[1-9]"],[10,7]',91:'[8,["5(0|2[23]|3[03]|[67]1|88)","5(0|2(21|3)|3(0|3[23])|616|717|888)","5(0|2(21|3)|3(0|3[23])|616|717|8888)"]],["De",[180,1800]],[334,140],[244,["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79([1-6]|7[19])|80([2-4]|6[0-589])","11|2[02]|33|4[04]|79([124-6]|3([02-9]|1[0-24-9])|7(1|9[1-6]))|80([2-4]|6[0-589])"]],[334,["1(2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(12|[2-4]1|5[17]|6[13]|80)|7(12|3[134]|4[47]|61|88)|8(16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(43|59|75)[15]|(1[59]|29|67|72)[14]","1(2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|[578]1|9[15])|6([2-4]1|5[17]|6[13]|7[14]|80)|7(12|(2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(70[2-6]|84[235-7]|91[3-7])|(1(29|60|8[06])|261|(55|61)2|7(31|4[47])|8(16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(12([2-6]|7[0-8])|[2-4]1|5[17]|6[13]|7[14]|80)|7(12|(2[14]|5[15])[2-6]|3171|61[346]|88([2-7]|82))|8(70[2-6]|84([2356]|7[19])|91([3-6]|7[19]))|73[134][2-6]|(1(29|60|8[06])|261|552|788[01])[2-7]|(74[47]|8(16|2[014]|3[126]|6[136]|7[78]|83))([2-6]|7[19])"]],[433,["1([2-479]|5[0235-9])|[2-5]|6(1[1358]|2[2457-9]|3[2-5]|[4-8])|7(1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1([2-479]|5[0235-9])|[2-5]|6(1[1358]|2([2457]|84|95)|3([2-4]|55)|[4-8])|7(1([013-8]|9[6-9])|28[6-8]|3(17|2[0-49]|9[2-57])|4(1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(2[1-3]|9[0-6])|6(0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1([2-479]|5([0236-9]|5[013-9]))|[2-5]|6(1[1358]|2([2457]|84|95)|3([2-4]|55)|[4-8])|7(1([013-8]|9[6-9])|3179)|807(1|9[1-3])|(1552|7(28[6-8]|3(2[0-49]|9[2-57])|4(1[2-4]|[29][0-7]|3[0-8]|[56].|8[0-24-7])|5(2[1-3]|9[0-6])|6(0[5689]|2[5-9]|3[02-8]|4.|5[0-367])|70[13-7]))[2-7]"]],[55,"[6-9]"],["DA{2,4};D",["1(6|8[06])","1(6|8[06]0)"]],[2343,0],[4333,18],[10,8,9,11,12,13]',92:'[332,"[89]0"],[45,1],["Bh","(2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],["Cg",["2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(2[3-8]|98)|(2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"]],[55,58],[37,3],[2333,"2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],[3333,"[24-9]"],[10,8,9]',93:'[234,"[2-7]"],9',94:'[234,7],[333,"[1-689]"],9',95:'[123,"16|2"],[223,"[45]|6(0[23]|[1-689]|7[235-7])|7([0-4]|5[2-7])|8[1-6]"],["ACd","[12]"],["BCd","[4-7]|8[1-35]"],["ACA{4,6}","9(2[0-4]|[35-9]|4[137-9])"],[144,2],[334,8],[1333,92],[154,9],[8,9,10,6,7]',960:'[34,"[3467]|9[14-9]",1],[334,"[89]"],[7,10]',961:'[133,"[13-69]|7([2-57]|62|8[0-7]|9[04-9])|8[02-9]"],[233,"[7-9]"],[7,8]',962:'[134,"[2356]|87"],["Cf","[89]"],[27,70],[144,7],[9,8]',963:'["BCd","[1-5]"],[333,9],[9,8]',964:'[134,1],["BCd","[2-6]"],[334,7],[8,10,9]',965:'["Dd","[169]|2([235]|4[1-35-9])|52"],[35,"[25]"],[8,7]',966:'[45,9],[234,1],[234,5],["CCd",81],[334,8],[9,8,10]',967:'["ACd","[1-6]|7[24-68]"],[333,7],[9,7,8]',968:'["CA{4,6}","[58]"],[26,2],[44,"[79]"],[8,7,9]',970:'[134,"[2489]"],[333,5],[433,1],[9,8,10]',971:'["CA{2,9}",800],["CA{2,9}","60|8"],[134,"[236]|[479][2-8]"],[315,"[479]"],[234,5],[9,5,6,7,8,10,11,12]',972:'[43,125,1],[422,121,1],[134,"[2-489]",1],[234,"[57]",1],[433,12,1],[46,159,1],[1333,"1[7-9]",1],["CbCD",15,"$1-$2 $3-$4"],[9,7,8,10,11,12]',973:'[44,"[13679]|8[047]"],8',974:'[34,"2[126]|8"],[44,"[3-7]"],[8,7]',975:'[133,"[2-68]|7[246]"],[8,7]',976:'[224,"[12]1"],[44,"[57-9]"],["Cf","[12]2[1-3]"],["Df",["[12](27|3[2-8]|4[2-68]|5[1-4689])","[12](27|3[2-8]|4[2-68]|5[1-4689])[0-3]"]],["Ee","[12]"],[8,9,10]',977:'[17,"1[2-6]",1],[26,"[1-8]|9([1-69]|7[15-9])",1],[37,9,1],[10,8]',98:'["Be","(1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],["CCd",9],[244,"[1-8]"],[8,10,6,7]',992:'[612,[331,3317]],[324,"[34]7|91[78]"],[414,3],[234,"[457-9]"],9',993:'[2222,12,"$1 $2-$3-$4"],[3122,"[1-5]","$1 $2-$3-$4"],[26,6],8',994:'[3222,9],[2322,["[12]|365","[12]|365","[12]|365([0-46-9]|5[0-35-9])"]],[2322,"[3-8]"],9',995:'[333,70],[2322,32],[3222,"[57]"],[3222,"[348]"],9',996:'[45,"3(1[346]|[24-79])"],[333,"[235-79]"],["CCAc",8],[9,10]',998:'[2322,"[679]"],9'};i.default=e}),66);
__d("WACountriesV2",[],(function(t,n,r,o,a,i){var e={1:'[334,"[2-9]","($1) $2-$3"],[10,9],"684(?:2(?:5[2468]|7[246]|99|48)|7(?:3[13]|70|82))....|264(?:235|476|5(?:3[6-9]|8[1-4])|7(?:29|72))....|268(?:464|7(?:(?:1[3-9]|2.|3[0246]|64)|[78][0-689]))....|242(?:(?:6[34]6|3(?:5[79]|7[56]|95)|5(?:2[45]|3[35]|44|5[1-9]|65|77)|7(?:27|38)|8(?:0[1-9]|3[0-4]|[12].|[89]9))|4(?:(?:6[2-8]|7.|81)|[2-5][1-9]))....|246[2-9]......|441(?:5[0-39]|90|[37].).....|284[2-9]......|(?:(?:2(?:(?:04[2-9]|63.|[23]6[2-9]|[48]9[2-9])|5(?:0[2-9]|7[59]))|4(?:(?:03[2-9]|28[3589]|50[2-9]|68[24]|74.)|1[68][2-9]|3[178][2-9])|5(?:(?:06[2-9]|48[2-9]|79[2-9])|1[49][2-9]|8[147][2-9])|6(?:(?:47[2-9]|[18]3[2-9]|[27]2[2-9])|3(?:3[2-6]|9[2-9])|0[04][2-9])|7(?:(?:42.|53[2-9]|78[2-9])|0[59][2-9]|8[02][2-9])|8(?:(?:19[2-9]|25[2-9]|[06]7[2-9])|7[39][2-9])|9(?:42[2-9]|0[25][2-9]))|3(?:(?:06[2-9]|43[2-9]|54[289]|82[2-9])|6(?:8.|[57][2-9])))......|345(?:(?:32[1-9]|420|649|826)|5(?:1[67]|2[5-79]|4[6-9]|50|76)|9(?:1[679]|2[2-9]|3[06-9]|90))....|767(?:(?:31[5-7]|61[1-8])|2(?:7[5-7]|[2-4689]5))....|8[024]9[2-9]......|473[2-9]......|671(?:201|3(?:00|3[39]|4[349]|55|6[26])|4(?:00|56|7[1-9]|8[02-9])|5(?:55|6[2-5]|88)|6(?:3[2-578]|4[24-9]|5[34]|78|8[235-9])|7(?:2[0167]|3[45]|8[7-9]|[0479]7)|8(?:6[4578]|[2-57-9]8)|9(?:2[29]|6[79]|7[1279]|8[7-9]|9[78]))....|(?:6582(?:0[1-9]|1[02-9]|2[013-9]|95|[34].)|876(?:[2-468]..|5(?:0[13-9]|17|6[0-24-9]|..)|7(?:0[07]|7.|8[1-47-9]|9[0-36-9])|9(?:9[0579]|[01]9)))....|664(?:49[2-6]|39[1-6])....|670[2-9]......|(?:787|939)[2-9]......|869(?:5(?:5[6-8]|6[5-7])|66.|76[02-7])....|758[2-9]......|784[2-9]......|7215(?:1[02]|2.|5[034679]|8[014-8])....|868[2-9]......|649(?:2(?:3[129]|4[1-7])|3(?:3[1-389]|4[1-8])|4[34][1-3])....|340[2-9]......|(?:4(?:58[2-9]......|0[124-9][2-9]......|1[02-579][2-9]......|2[3-5][2-9]......|3[0245][2-9]......|4[023578][2-9]......|6[349][2-9]......|7[02589][2-9]......|8[04][2-9]......)|2(?:(?:1[02-9][2-9]......|4[08][2-9]......|5[1-46][2-9]......|6[0279][2-9]......|8[13][2-9]......)|0(?:.......|[1-35-9][2-9]......)|2(?:7[237-9]|[03-589][2-9])......|3(?:5[237-9]|[149][2-9])......|7(?:42|[0269][2-9])......)|3(?:(?:0[1-57-9][2-9]......|1[02-9][2-9]......|3[0-24679][2-9]......|8[056][2-9]......)|2(?:(?:48|7[2378])|[013569][2-9])......|4(?:02|[167][2-9])......|5(?:(?:0[235-9]|3[23])|[12][2-9])......|6(?:38|[0149][2-9])......)|5(?:(?:0[1-57-9][2-9]......|1[0235-8][2-9]......|4[01][2-9]......|6[1-47][2-9]......|8[0256][2-9]......)|2(?:(?:6.|8[6-8]|99)|[05][2-9])......|3(?:(?:2.|84)|[0149][2-9])......|5(?:7.|[19][2-9])......|7(?:2[259]|[013-5][2-9])......)|6(?:(?:7(?:02|8[2-9]|19)......|0[1-35-9][2-9]......|1[024-9][2-9]......|2[03689][2-9]......|3[016][2-9]......|6[0-279][2-9]......)|4(?:5[2-689]|[016][2-9])......|5(?:6.|[0179][2-9])......|8(?:6[289]|[0-29][2-9])......)|7(?:(?:0[1-46-8][2-9]......|1[02-9][2-9]......|2[04-8][2-9]......|4[037][2-9]......|5[47][2-9]......|6[02359][2-9]......|7[0-59][2-9]......|8[156][2-9]......)|3(?:(?:0[237]|8[29])|[1247][2-9])......)|8(?:(?:0[1-68][2-9]......|1[02-8][2-9]......|4[03578][2-9]......|5[046-9][2-9]......|6[02-5][2-9]......|7[028][2-9]......)|2(?:(?:1[2378]|6[25-9])|[08][2-9])......|3(?:52|[0-289][2-9])......)|9(?:(?:0[1346-9][2-9]......|1[02-9][2-9]......|2[0589][2-9]......|3[0146-8][2-9]......|8[03-69][2-9]......)|4(?:(?:3[2-79]|8[2-689])|[01579][2-9])......|5(?:08|[12469][2-9])......|7(?:52|[0-389][2-9])......))|...555....|555......."',20:'["Ah","[23]"],["Bg","1[35]|[4-6]|8[2468]|9[235-7]"],[334,"[89]"],[28,1],[10,5,8,9],"1(?:1[0-5]|[025].)......."',211:'[333,"[19]"],9,"(?:12|9[12578])......."',212:'[54,["5(29|38)","5(29|38)[89]"],1],[3222,"5[45]"],[45,"5(2[2-489]|3[5-9]|9)|892",1],[27,8,1],[36,"[5-7]",1],9,"(?:5(?:2[679]|3[348]|4[067]|5[03])|6(?:8[0-247-9]|[0-79].)|7(?:2[0-8]|5[0-5]|8.|[0167].))......"',213:'[2222,"[1-4]"],[2322,9],[3222,"[5-8]"],[9,8],"(?:5[4-6]|7[7-9]).......|6(?:[569].|7[0-6])......"',216:'233,8,"(?:(?:4[0-8]..|[259]...)|3(?:(?:001|240|6[0-4].|91.)|1(?:40|[1-35].)))...."',218:'[27,"[25-79]",1],9,"9[1-6]......."',220:'[34,"[2-9]"],7,"(?:4[015]|5[0-57-9]|8[05-7]|[23679].)....."',221:'[2322,"[379]"],[3222,8],[3222,8],[2322,"[379]"],9,"7[0-25-9]......."',222:'[2222,"[2-48]"],8,"[234][0-46-9]......"',223:'[2222,"[24-9]"],8,"(?:(?:4[02]..|8[2-59]..|[5-79]...)|2(?:079|17.))...."',224:'[2222,3],[3222,"[67]"],[9,8],"(?:6.|24)......."',225:'[2222,"[02-9]"],[8,10],"(?:(?:2[0-3]80....|6[014-9]......|8[4-9]......|9[4-8]......|[457].......)|0(?:(?:5(?:......|........)|[2-4689]......)|1(?:(?:......|........)|(?:0[1-3]|[457][0-3])......)|7(?:......|(?:[1-3].|[04-9].)......)))"',226:'[2222,"[025-7]"],8,"(?:0[1-7]|2[045]|5[0-8]|44|[67].)......"',227:'[233,"08"],[2222,"[0289]"],8,"(?:23|7[04-8]|[89].)......"',228:'[2222,"[279]"],8,"(?:7[0-289]|9[0-36-9])......"',229:'[2222,"[2689]"],[22222,0],[8,10,4],"(?:01(?:2[49]|9.|[4-6].)......|(?:24|4[0-8]|9[013-9]|[56].)......)"',230:'[34,"[2-46]|8[013]"],[44,5],[7,8],"(?:7(?:0[013-7].|3[03].)|5(?:(?:2[5-9].|5[013].|7..|9[0-8].)|4(?:2[1-389]|7[1-9]|[3-689].)|8(?:7[15-8]|[0-689].)))....|(?:2[59].|4(?:2[1-389]|4.|7[1-9]|9.)|7..|8(?:[256].|7[15-8])|9[0-8].)...."',231:'[133,"[45]"],[233,2],[234,"[23578]"],[7,9,8],"(?:(?:330......|4[67].....|7[67].......|88.......)|5(?:......|55......))"',232:'[26,"[237-9]"],8,"(?:2[15]|3[0-5]|4[04]|5[05]|66|7.|8[08]|9[09])......"',233:'[35,8],[234,"[235]"],[9,8],"(?:(?:2[03-9].|3..)|5(?:9[1-9]|[03-7].))......"',234:'["ACd","[12]|9(0[3-9]|[1-9])"],["BCc","[3-7]|8[2-9]"],["CCd","[7-9]"],["CDe","[78]"],["CEf","[78]"],[10,8,11,12,13,14],"(?:(?:287[0-7]....|1(?:(?:7[34].|95.)|8(?:04|8[0-3]|[124579].))....|3(?:(?:18[1-8]|88[0-7])|9(?:6[1-5]|8[5-9]))....|4(?:[28]8[0-2]|6(?:7[1-9]|8[02-47]))....|5(?:(?:38[1-79]|48[0-7]|68[4-7])|2(?:7[7-9]|8.))....|7(?:(?:0[1-9].|120)......|(?:38[0-7]|69[1-8]|78[2-4])....)|9(?:8[07].....|(?:0[1-9]|1[1-356]).......))|6(?:(?:(?:58[0-2]|98[7-9])|2(?:7[7-9]|8.))|4(?:(?:3[7-9]|7[04-69]|9[1-8])|[68][129]))....|8(?:(?:0[1-9].|1(?:9[01]|[0-8].))......|(?:(?:28[3-9]|38[0-2]|58[1-8]|78[2-9]|88[5-7])|4(?:2[12]|3[147-9]|5[346]|7[4-9]|8[014-689]|90))....))"',235:'[2222,"[2679]"],8,"(?:30|77|8[5-7]|[69].)......"',236:'[2222,"[278]"],8,"7[02-7]......"',237:'[2222,88],[12222,"[26]"],[8,9],"6[024-9].......|[25-9]......."',238:'[322,"[2-59]"],7,"(?:(?:5[1-389]|9.)|[34][36])....."',239:'[34,"[29]"],7,"9(?:0(?:0[5-9]|[1-9].)|[89]..)..."',240:'[333,"[235]"],[36,"[89]"],9,"(?:222|55.)......"',241:'[2222,0],8,"(?:(?:0[2-7]......|[2-5]......)|6(?:......|[0-256]......)|7(?:......|[467]......))"',242:'[3222,801],[144,8],[234,"[02]"],[8,9],"(?:0[124-6].......|[45].......)"',243:'[223,88],[25,"[1-6]"],[234,1],[333,"[89]"],[9,7],"(?:9[016-9].......|8(?:8.....|[0-69].......))"',244:'[333,"[29]"],9,"9[1-79]......."',245:'[34,40],[333,"[49]"],[7,9],"9(?:5..|6(?:[569].)|77.).....|(?:[5-7].|9[012])....."',246:'[34,3],7,"38....."',247:'5,"4...."',248:'[133,"[246]"],7,"2[5-8]....."',249:'[234,"[19]"],9,"(?:1[0-2]|9[0-3569])......."',250:'[2222,0],[333,2],[333,"[7-9]"],[9,8],"(?:7[237-9]|89)......."',251:'[234,"[1-59]"],9,"[79]........"',252:'[24,"8[125]"],[6,"[134]"],[16,"1|2[0-79]|3[0-46-8]|4[0-7]|59"],[17,"24|[67]"],[333,"[348]|64|79[0-8]|90"],["BA{5,7}","1|28|6[1-35-9]|799|9[2-9]"],[7,8,9,6],"(?:(?:15......|3[59].......|4[89].......|6(?:........?)|8[08].......)|2(?:4......|8.....)|7(?:0.......|[12679](?:.......?)|[3-58]......)|9(?:0.......|[1-9]......))"',253:'[2222,"[27]"],8,"77......"',254:'["BA{5,7}","[24-6]"],[36,"[17]"],["CCd","[89]"],[9,7,8,10],"(?:7..|1(?:0[0-8]|1.|2[014]|[34]0))......"',255:'[324,"[89]"],[234,"[24]"],[333,"[67]"],[9,7],"[679][1-9]......."',256:'[45,[202,2024]],[36,"[27-9]|4(6[45]|[7-9])"],[27,"[34]"],9,"(?:20[36]|7(?:2[0346-8]|3[06]|[014-9].))......"',257:'[2222,"[2367]"],8,"(?:(?:29|31)|[67][124-9])......"',258:'["BCd","2|8[2-7]"],[333,8],[9,8],"8[2-7]......."',260:'[333,"[28]"],9,"(?:7[5-7]|[59][5-8])......."',261:'[2232,"[23]"],9,"3[2-9]......."',262:'[3222,"[268]"],9,"639......|69(?:2..|3(?:(?:1[0-3]|2[0-2]|3[0-39]|4.|5[0-5]|7[0-37]|8[0-8]|9[0-479])|[06][0-6]))...."',263:'["CA{3,5}","2(0[45]|2[278]|[49]8)|3([09]8|17)|6([29]8|37|75)|[23][78]|(33|5[15]|6[68])[78]"],["ACA{2,4}","[49]"],[34,80],[27,["24|8[13-59]|(2[05-79]|39|5[45]|6[15-8])2","2(02[014]|4|[56]20|[79]2)|392|5(42|525)|6([16-8]21|52[013])|8[13-59]"]],[234,7],["CCd",["2(1[39]|2[0157]|[378]|[56][14])|3(12|29)","2(1[39]|2[0157]|[378]|[56][14])|3(123|29)"]],[46,8],["BA{3,5}","1|2(0[0-36-9]|12|29|[56])|3(1[0-689]|[24-6])|5([0236-9]|1[2-4])|6([013-59]|7[0-46-9])|(33|55|6[68])[0-69]|(29|3[09]|62)[0-79]"],["BCd","29[013-9]|39|54"],["DA{3,5}",["(25|54)8","258[23]|5483"]],[9,10,5,6,7,8],"7[1-378].......|8644......"',264:'[233,88],["BCd",6],[333,87],[234,8],[9,8],"(?:60|8[1-5])......."',265:'[133,"1[2-9]"],[333,2],[234,3],[3222,"[17-9]"],[9,7],"(?:(?:111|22.|77.)|[89][89].)......|21......."',266:'44,8,"[56]......."',267:'[25,90],[34,"[2-6]"],[233,7],[8,7],"(?:8900[1-36]|7(?:(?:8[0-79]..|92[67].|[1-6]...)|7(?:[013-9]..|2(?:00|..))))..."',268:'[44,"[0237]"],[54,9],8,"7[5-9]......"',269:'[322,"[3478]"],7,"[34]......"',27:'["Bd","8[1-4]"],["BCc","8[1-4]"],[333,860],[234,"[1-9]"],[5,6,7,8,9,13],"(?:(?:5[0259].......|96(?:.......|...........)|[67]........)|8(?:5.......|[1-4](?:.{3,7})))"',290:'[5,4],"[56]...."',291:'[133,"[178]"],7,"17[1-3]....|7......"',297:'[34,"[25-9]"],7,"(?:290|5[69].|6(?:[03]0|22|4[0-2]|[69].)|7(?:[34].|7[07])|9(?:6[45]|9[4-8]))...."',298:'[6,"[2-9]"],6,"(?:(?:5.|9[146])|[27][1-9])...."',299:'222,6,"(?:[25][1-9]|4[2-9])...."',30:'[244,"21|7"],[46,"2(2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])"],[334,"[2689]"],10,"6(?:8[57-9]|9.)......."',31:'["CA{4,7}","[89]0"],[27,66],[18,6],[333,"1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],[234,"[1-57-9]"],[9,10,11,7,8],"(?:6[1-58].......|97(?:.........?))"',32:'[323,"(80|9)0"],[1322,"[239]|4[23]"],[2222,"[15-8]"],[3222,4],[8,9],"(?:770.....|4(?:5[015-8]|6[0-35-9]|8[013-9]|[79].)......)"',33:'[3222,8],[12222,"[1-79]"],9,"(?:6(?:[0-24-8].|3[0-8]|9[589])|7[3-9].)......"',34:'[333,"[89]00"],[3222,"[5-9]"],9,"(?:6........|7[1-48].......|9(?:6906(?:09|10)|7390....))|99......."',350:'[35,2],8,"(?:5[146-8]|6[02])......"',351:'[234,"2[12]"],[333,"[236-9]"],9,"9(?:[1236]..|480)....."',352:'[23,"2(0[2-689]|[2-9])|[3-57]|8(0[2-9]|[13-9])|9(0[89]|[2-579])"],[222,"2(0[2-689]|[2-9])|[3-57]|8(0[2-9]|[13-9])|9(0[89]|[2-579])"],[223,"20[2-689]"],["BBBb","2([0367]|4[3-8])"],[323,"80[01]|90[015]"],[2223,20],[333,6],["BBBBb","2([0367]|4[3-8])"],["BBBA{1,5}","[3-57]|8[13-9]|9(0[89]|[2-579])|(2|80)[2-9]"],[9,4,5,6,7,8,10,11],"6(?:00.........|(?:(?:5[158]|7[189]|81|9[128])|[26][18])......)"',353:'[25,"2[24-9]|47|58|6[237-9]|9[35-9]"],[35,"[45]0"],["AdD",1],["BCd","[2569]|4[1-69]|7[14]"],[333,70],[333,81],[234,"[78]"],[433,1],[2134,8],[244,4],[9,7,8,10],"8(?:22......|[35-9].......)|2091....."',354:'[34,"[4-9]"],[333,3],[7,9],"(?:(?:3(?:50....|8[589]......)|7(?:5[057]|[6-9].)....|8(?:2[0-59]|5.|8[238]|[3469].)....)|6(?:(?:1[1-8]|3[027-9]|4[0-24679]|5[0-259]|[289].)|[67][0-69])....)"',355:'["Cd","80|9"],[134,"4[2-6]"],[233,"[2358][2-5]|4"],[35,"[23578]"],[234,6],[9,7,8],"6(?:[689][2-9]|7[2-9])......"',356:'[44,"[2357-9]"],[8,10],"(?:(?:7(?:210|[79]..)....|400(?:0....|3......))|9(?:(?:69[67]|[29]..)|8(?:1[1-3]|89|97))....)"',357:'[26,"[257-9]"],8,"(?:6[256]|9[14-79])......"',358:'[5,"75[12]"],["AA{4,9}","[2568][1-8]|3(0[1-9]|[1-9])|9"],[6,11],["CA{3,7}","([12]0|7)0|[368]"],["BA{4,8}","[12457]"],[6,7,8,9,10,11,12,5],"X|(?:4[0-8]|50).{4,8}|299......"',359:'[6,1],[1122,2],[34,"43[1-6]|70[1-9]"],["ACd",2],["BCc","[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],[323,"(70|8)0"],[332,"43[1-7]|7"],["BCd","[48]|9[08]"],[333,9],[9,6,7,8],"(?:4(?:3[07-9]|8.).....|(?:8[7-9].|9(?:8.|9[2-469]))......)"',36:'[134,1],["BCd","[2-9]"],[9,8],"(?:[25]0|[37][01])......."',370:'[134,"52[0-79]"],[323,"[7-9]"],[26,"37|4([15]|6[1-8])"],[35,"[3-6]"],8,"6......."',371:'[233,"[269]|8[01]"],8,"2......."',372:'[34,["[369]|4[3-8]|5([0-2]|5[0-478]|6[45])|7[1-9]","[369]|4[3-8]|5([02]|1([0-8]|95)|5[0-478]|6(4[0-4]|5[1-589]))|7[1-9]"]],["Dd",["[45]|8(00|[1-4])","[45]|8(00[1-9]|[1-4])"]],[224,7],[433,80],[7,8,10],"(?:5.|8[1-5])......|5(?:[02]..|1(?:[0-8].|95)|5[0-478].|64[0-4]|65[1-589])..."',373:'[35,"[89]"],[233,"22|3"],[323,"[25-7]"],8,"(?:(?:562|6..)|7(?:7[4-9]|[1689].))....."',374:'[323,"[89]0"],[35,"2|3[12]"],[26,"1|47"],[26,"[3-9]"],8,"(?:33|4[1349]|55|77|88|9[1-9])......"',375:'[2322,["17[0-3589]|2[4-9]|[34]","17([02358]|1[0-2]|9[0189])|2[4-9]|[34]"],"$1 $2-$3-$4"],[3222,["1(5[24]|6[235]|7[467])|2(1[246]|2[25]|3[26])","1(5[24]|6(2|3[04-9]|5[0346-9])|7([46]|7[37-9]))|2(1[246]|2[25]|3[26])"],"$1 $2-$3-$4"],[423,["1(5[169]|6[3-5]|7[179])|2(1[35]|2[34]|3[3-5])","1(5[169]|6(3[1-3]|4|5[125])|7(1[3-9]|7[0-24-6]|9[2-7]))|2(1[35]|2[34]|3[3-5])"],"$1 $2-$3"],["[89]BCD","8[01]|9"],["82ADD",82],["800;C",800],["800;BA{2,4}",800],[9,6,7,8,10,11],"(?:(?:33.|44.)|2(?:5[5-9]|9[1-9]))......"',376:'[33,"[135-9]"],[44,1],[333,6],[6,9,8],"690......|[356]....."',377:'[332,8],[233,4],[2222,"[39]"],[12222,6],[8,9],"(?:6........|(?:3..|4(?:4.|5[1-9]|6.)).....)"',378:'[2222,"[5-7]"],[46,0,"($1) $2"],[2222,"[5-7]"],[46,0],[8,10],"6[16]......"',379:'[9,10,11,6,7,8],"3[1-9]........|3[2-9].......|33........."',380:'[333,["6[12][29]|(3[1-8]|4[136-8]|5[12457]|6[49])2|(56|65)[24]","6[12][29]|(35|4[1378]|5[12457]|6[49])2|(56|65)[24]|(3[1-46-8]|46)2[013-9]"]],[234,["4[45][0-5]|5(0|6[37])|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]","4[45][0-5]|5(0|6(3[14-7]|7))|6([12][018]|[36-8])|7|89|9[1-9]|(48|57)[0137-9]"]],[45,"[3-6]"],["CCd","[89]"],[9,10],"(?:39|50|6[36-8]|7[1-357]|9[1-9])......."',381:'["CA{3,9}","(2[389]|39)0|[7-9]"],["BA{5,10}","[1-36]"],[8,9,10,6,7,11,12],"6(?:[0-689]|7.).......?"',382:'["BCd","[2-9]"],8,"6(?:0..|3[02-6].|6[0-25].|[7-9]..)...."',383:'[35,"[89]"],[233,"[2-4]"],[333,"[23]"],[8,9],"4[3-9]......"',385:'["BBc","6[01]"],["CBc",8],[143,1],["BCd","[67]"],["BCd",9],["BCd","[2-5]"],[333,8],[8,9,7],"9(?:8(?:.......?)|(?:[0-259]..|7(?:5[014579]|[0679].)).....)"',386:'["BA{3,6}","8[09]|9"],[35,"59|8"],[233,"[37][01]|4[0139]|51|6"],[1322,"[1-57]"],[8,6,7],"(?:[37][01]|4[0139]|51|6[4589])......"',387:'[233,"6[1-356]|[7-9]"],[233,"[3-5]","$1 $2-$3"],[2223,6],[8,9],"6(?:0[34]|44|7.|[1-356])......"',389:'[134,2],[233,"[347]"],[3122,"[58]"],8,"7(?:[0-35-8]..|4(?:6.|7.|[2-589].)|9(?:5.|[2-46-9].|[01]7))...."',39:'[6,"1(1|92)"],["BA{4,6}","0[26]"],["CA{3,6}",["0[13-57-9][0159]|8(03|4[17]|9[245])","0[13-57-9][0159]|8(03|4[17]|9(2|[45][0-4]))"]],["DA{2,6}","0([13-579][2-46-8]|8[236-8])"],[44,894],["BdD","0[26]|5"],["CCd","1[4679]|[38]"],["CdD","0[13-57-9][0159]"],[245,"0[26]"],[434,0],["CDe",3],[9,10,11,6,7,8],"3(?:3.{7,9}|1........|[24-9]........?)|66........"',40:'[33,["2[3-6]","2[3-6].9"]],[24,"219|31"],[234,"[23]1"],[333,"[237-9]"],[9,6],"(?:6[02-4]0|7(?:1[0-36]|8[03-8]|9[0-39]|[02-7].))......"',41:'[333,"8[047]|90"],[2322,"[2-79]|81"],[32322,8],9,"7[35-9].......|512?......"',420:'[333,"[2-8]|9[015-7]"],[2333,9],[3333,9],9,"(?:(?:60[1-8]|9[36].)|7(?:0[2-6]|19|[2379].))......"',421:'["ABd",21],["BBc",["[3-5][1-8]1","[3-5][1-8]1[67]"]],[1332,2,"$1/$2 $3 $4"],[2322,"[3-5]","$1/$2 $3 $4"],[333,"[689]"],[43,[909,9090]],[9,6,7],"9(?:0(?:[1-8].|9[1-9])|(?:1[0-24-9]|[45].).)....."',423:'[322,"[237-9]"],[234,69],[333,6],[7,9],"(?:7(?:42|56|[37-9].)....|6(?:(?:4[5-9].|5..|97[7-9])|6(?:1[01]|3[7-9]|[024-8].)).....)"',43:'["AA{3,12}","1(11|[2-9])"],[32,517],["BA{3,5}","5[079]"],[6,1],["CA{3,10}","(31|4)6|51|6(5[0-3579]|[6-9])|7(20|32|8)|[89]"],["DA{3,9}","[2-467]|5[2-6]"],["BCd",5],["BDA{4,7}",5],[10,11,12,13,4,5,6,7,8,9],"6(?:5[0-3579]|6[013-9]|[7-9].).{4,10}"',44:'[34,[800,8001,80011,800111,8001111]],[322,[845,8454,84546,845464]],[36,800],["Ee",["1(38|5[23]|69|76|94)","1((38|69)7|5(24|39)|768|946)","1(3873|5(242|39[4-6])|(697|768)[347]|9467)"]],["Df","1([2-69][02-9]|[78])"],[244,["[25]|7(0|6[024-9])","[25]|7(0|6([04-9]|2[356]))"]],[46,7],[334,"[1389]"],[10,7,9],"(?:11(?:373|470)|7(?:(?:[1-3]...|5(?:0[0-8].|2[0-35-9].|[13-9]..)|9(?:1..|3[0-689].|[024-9]..))|4(?:[0-46-9]..|5(?:7[0-57-9]|[0-689].))|7(?:(?:8[02-9].|[1-7]..)|0(?:0[01]|[1-9].)|9(?:7[7-9]|[0-689].))|8(?:[014-9]..|2(?:9[7-9]|[0-8].)|3(?:9[127]|[0-8].)))).....|7700900...|7(?:781.|839.|911[17]).....|7(?:4576|[569]24.).....|7(?:509.|7(?:00[378]|97[7-9])|829.|937.)....."',45:'[2222,"[2-9]"],8,"(?:[2-7].|8[126-9]|9[1-46-9])......"',46:'["BcB",20],[34,"9(00|39|44)"],[232,"[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],["AcBB",8],["CcB","1[2457]|2([247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6([125689]|4[02-57]|7[0-2])|9([125-8]|3[02-5]|4[0-3])"],["CcC","9(00|39|44)"],["BcBB","1[013689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],[2322,7],[1332,8],[3222,"[13-5]|2([247-9]|5[0138])|6([124-689]|7[0-2])|9([125-8]|3[02-5]|4[0-3])"],[3223,9],[32322,"[26]"],[9,13,6,7,8],"7(?:(?:813000..|[02369].......)|1(?:0000[125]......|9(?:0002..|1(?:.....|019......))))"',47:'[323,"[489]"],[2222,"[235-7]"],8,"(?:4[015-8]|5[89]|9.)......|X"',48:'[223,["(1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["CBc",64],[333,"39|45|5[0137]|6[0469]|7[02389]|8[08]"],[2322,"1[2-8]|[2-8]|9[145]"],[9,7],"(?:45|5[0137]|6[069]|7[2389]|88|21)......."',49:'["BA{3,13}","3[02]|40|[68]9"],["CA{3,12}",["2(0[1-389]|1[124]|2[18]|3[14])|3([35-9][15]|4[015])|906|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(0[1-389]|12[0-8])|3([35-9][15]|4[015])|906|2([13][14]|2[18])|(2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"]],["DA{2,11}",["[24-6]|3([3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(3(0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(2[135]|4[13578]|9[1346])|5(0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(2[1-7]|4[145]|6[1-5]|7[1-4])|8(21|3[1468]|6|7[1467]|8[136])|9(0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(47|60)[1356]|3(3[46]|46|5[49])[1246]|3[4579]3[1357]"]],[34,138],["EA{2,10}",3],["CA{5,11}",181],["CAA{4,10}","1(3|80)|9"],["Ch","1[67]"],["CA{7,12}",8],[56,[185,1850,18500]],[344,7],[47,"18[68]"],[56,"15[0568]"],[47,"15[1279]"],[38,18],["CBh","1(6[023]|7)"],[427,"15[279]"],[328,15],[10,11,5,6,7,8,9,12,13,14,15],"1(?:(?:6[023](?:........?)|7(?:.........?))|5(?:3........|[0-25-9](?:........?)))"',500:'5,"[56]...."',501:'[34,"[2-8]",1],[1343,0,1],[7,11],"6[0-35-7]....."',502:'[44,"[2-7]"],[434,1],[8,11],"[3-58]......."',503:'[44,"[267]"],[34,"[89]"],[344,"[89]"],[8,7,11],"[5-7]......."',504:'[44,"[237-9]",1],8,"[37-9]......."',505:'[44,"[125-8]"],8,"5(?:5[0-7].....|[78]......)|6(?:20|3[035]|4[045]|5[05]|77|8[1-9]|9[059]).....|7[5-8]......|8......."',506:'[44,"[24-7]|8[3-9]"],[334,"[89]",1],[8,10],"(?:(?:6[0-5].|7[0-3].|8[3-9].)|5(?:0.|7[0-3]))....."',507:'[34,"[1-57-9]",1],[44,6,1],[7,8],"(?:6(?:1.|[02-9].).....|(?:(?:1[16]1|21[89])|8(?:1[01]|7[23]))....)"',508:'[222,"[45]"],6,"(?:4[02-4]|5[05])...."',509:'[224,"[2-489]"],8,"[3-5]......."',51:'[35,80],[17,1],[26,"[4-8]"],[333,9],[9,8],"9........"',52:'[244,"33|5[56]|81"],[334,"[2-9]"],[1244,"1(33|5[56]|81)"],[1334,1],[10,11],"(?:(?:(?:2(?:2........|3[1-35-8].......|4[13-9].......|7[1-689].......|8[1-578].......|9[467].......)|5(?:88.......|9[1-79].......|[56]........)|8(?:1........|2[13-689].......|3[1-6].......|4[124-6].......|6[1246-9].......|7[0-378].......|9[12479].......)|9(?:1[346-9].......|2[1-4].......|3[2-46-8].......|5[1348].......|6........|7[12].......|8[1-8].......|9........))|3(?:(?:1[1-79].......|3........|7[1-8].......|9[1-5].......)|[2458][1-9].......)|4(?:(?:1[1-57-9].......|3[1-8].......|4........|5........|8[1-35-9].......|9[2-689].......)|[267][1-9].......)|6(?:(?:1[2-68].......|5[1-36-9].......|6[0-57-9].......|7[1-7].......|8[67].......|9[4-8].......)|[2-4][1-9].......)|7(?:(?:5[13-9].......|8[1-69].......|9[17].......|[27]........)|[1346][1-9].......))|1(?:(?:180.......|2(?:2[1-9]|3[1-35-8]|4[13-9]|7[1-689]|8[1-578]|9[467]).......|5(?:88|9[1-79]|[56].).......|9(?:1[346-9]|2[1-4]|3[2-46-8]|5[1348]|6[1-9]|7[12]|8[1-8]|9.).......)|3(?:(?:1[1-79]|3.|7[1-8]|9[1-5])|[2458][1-9]).......|4(?:(?:1[1-57-9]|3[1-8]|4.|8[1-35-9]|9[2-689])|[25-7][1-9]).......|6(?:(?:1[2-68]|5[1-36-9]|6[1-57-9]|7[1-7]|8[67]|9[4-8])|[2-4][1-9]).......|7(?:(?:5[13-9]|8[1-69]|9[17])|[1-467][1-9]).......|8(?:0.......|(?:1.|2[13-689]|3[1-6]|4[124-6]|6[1246-9]|7[1-378]|9[12479]).......)))"',53:'["BA{4,6}","2[1-4]|[34]"],["Ag",7],[17,5],[8,6,7],"[56]......."',54:'[424,["2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(2[24-9]|3[1-59]|47)","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5[56][46]|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(4[35][56]|58[45]|8([38]5|54|76))[4-6]","2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|58|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|54(4|5[13-7]|6[89])|86[3-6]))|2(2[24-9]|3[1-59]|47)|38([58][78]|7[378])|3(454|85[56])[46]|3(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2-$3"],[244,1,"$1 $2-$3"],[334,"[23]","$1 $2-$3"],[334,"[68]",1],[1424,["9(2[2-469]|3[3-578])","9(2(2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(2([23]02|6([25]|4[6-8])|9([02356]|4[02568]|72|8[23]))|3(3[28]|4([04679]|3[5-8]|5[4-68]|8[2379])|5([2467]|3[237]|8[2-5])|7[1-578]|8([2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(2[24-9]|3[1-59]|47)","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5[2-6])|72|8[23]))|3(3[28]|4([04679]|3[78]|5(4[46]|8)|8[2379])|5([2467]|3[237]|8[23])|7[1-578]|8([2469]|3[278]|5([56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4[35][56]|58[45]|8([38]5|54|76))[4-6]","9(2([23]02|6([25]|4(64|[78]))|9([02356]|4([0268]|5([24-6]|3[2-5]))|72|8[23]))|3(3[28]|4([04679]|3(5(4[0-25689]|[56])|[78])|5(4[46]|8)|8[2379])|5([2467]|3[237]|8([23]|4([45]|60)|5(4[0-39]|5|64)))|7[1-578]|8([2469]|3[278]|5(4(4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(6[3-6]|[78]))))|92(2[24-9]|3[1-59]|47)|93(4(36|5[56])|8([38]5|76))[4-6]"],"$1 $2 $3-$4"],[1244,91,"$1 $2 $3-$4"],[1334,9,"$1 $2 $3-$4"],[10,11],"(?:675.......|9(?:(?:11[2-9]..|....[2-9])|2(?:(?:49[2-9].|80[2-9].)|2[013][2-9].|3[067][2-9].|6[01346][2-9].|9[147-9][2-9].)|3(?:36[2-9].|4[1-358][2-9].|5[138][2-9].|6[24][2-9].|7[069][2-9].|8[013578][2-9].)).....)"',55:'[54,"9([1-9]|0[1-9])",1],[244,"[1-9][1-9]","$1 $2-$3"],[254,"([14689][1-9]|2[12478]|3[1-578]|5[1-5]|7[13-579])9","$1 $2-$3"],["[3589]00;cD","[3589]00"],[10,11,9],"1[1-9](?:7|9.).......|(?:2[12478]|3[1-578]|[4689][1-9]|5[13-5]|7[13-579])(?:[6-8]|9.?).......|59800000..."',56:'[234,"1([03-589]|21)|[29]0|78"],[54,21],[234,44],[144,"2[23]"],[144,"9[2-9]"],[234,"3[2-5]|[47]|5[1-3578]|6[13-57]|8(0[1-9]|[1-9])"],["CCd","60|8"],["600;CBC",60],["1230;CD",1],[54,219],[9,11],"(?:(?:(?:3[2-5]...|5[1-3578]...|6[13-57]...|9[1-9]...)|8(?:0[1-9]..|[1-9]...)|[47][1-35]...)|2(?:(?:1962|2...)|3(?:2..|3(?:0[04]|4[0-7]))))...."',57:'[17,"1[2-79]|[25-8]|(18|4)[2-9]"],[37,3],[137,["1(80|9)","1(800|9)"]],[10,8,11],"3(?:0[0-5]|1.|2[0-4]|3[03]|5[01])......."',58:'[37,"[24589]",1],10,"4(?:1[24-8]|2[246])......."',590:'["[56]90;BD",-1,"$1 $2-$3"],9,"69(?:12[3-8]|0(?:0[0-7]|[1-9].))....|690......|69(?:0..|1(?:2[29]|3[0-5]))...."',591:'[17,"[23]|4[46]"],[8,"[67]"],[324,8],[8,9],"[67].......|(?:33[237]|392|507).....|4[0234567]......"',592:'[34,"[2-46-9]"],7,"[5-7]......"',593:'[134,"[2-7]",1],[234,9],["DCd",1],[9,8,10,11],"9(?:(?:39|[45][89]|7[7-9]|[89].).|6(?:[0-47-9].))....."',594:'[3222,"[56]"],9,"694(?:3[0-8]|[0-249].)...."',595:'["CA{3,6}","[2-9]0"],[25,"[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],["Ce","2[279]|3[13-5]|4[359]|5|6[347]|7[46-8]|85"],["BCd","[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],[234,87],[36,9],[333,"[2-8]"],[9,7,8],"9(?:51|6[1-59]|7[1-6]|8[1-7]|9[1-5])......"',596:'[3222,"[56]"],9,"69(?:727|6(?:5[0-6]|8.|[0-4679].))...."',597:'[222,56,1],[33,"[2-5]",1],[34,"[6-8]",1],[7,6],"(?:7[124-7]|8[1-9])....."',598:'[34,"8|90"],[233,9],[44,"[24]"],[8,7],"9[1-9]......"',599:'[34,"[3467]"],[134,"9[4-8]"],[7,8],"(?:31(?:8[14-8]|9[14578])|416[14-9]|7(?:0[01]|7[017]|8.|9[056]).)...|9(?:5(?:[12467].|3[01])|6(?:[15-9].|3[01]))...."',60:'[134,"[4-79]","$1-$2 $3"],["BCd","1([0249]|[367][2-9]|8[1-9])|8","$1-$2 $3"],[144,3,"$1-$2 $3"],[1324,"1[36-8]",1],[334,15,"$1-$2 $3"],[244,1,"$1-$2 $3"],[9,10,8],"1(?:(?:(?:59(?:.......?)|[267].......)|8(?:1[23].....|[2-9]......)|[0349][2-9]......)|1(?:(?:6.......|88......)|1(?:.......|[03-589].....)|2(?:.......|[049].....)|3(?:.......|[025].....)|4(?:.......|[01].....)|5(?:.......|[2-9].....)|7(?:.......|[1-5].....)))"',61:'[34,[180,1802]],["Dd",19],["BCA{2,4}",16],[333,"14|[45]"],[144,"[2378]"],[433,"1(30|[89])"],[9,7,10],"4(?:(?:4[047-9].|5[0-25-9].|6[0-24-9].|7[02-9].|9[0-47-9].|[0-3]..)|8(?:3[0-36-9]|[0-24-9].)).....|X"',62:'[133,15],["BA{5,9}","2[124]|[36]1"],["CA{5,7}",800],["CA{5,8}","[2-79]"],["CdC","8[1-35-9]",1],["CA{6,8}",1],[334,804],[3133,80],["CDe",8,1],[2434,0],[9,10,11,12,7,8],"(?:2(?:1(?:3[145]|4[01]|5[1-469]|60|8[0359]|9.)|2(?:88|9[1256])|3[1-4]9|4(?:36|91)|5(?:1[349]|[2-4]9)|6[0-7]9|7(?:[1-36]9|4[39])|8[1-5]9|9[1-48]9)|3(?:19[1-3]|2[12]9|3[13]9|4(?:1[69]|39)|5[14]9|6(?:1[69]|2[89])|709)|4[13]19|5(?:1(?:19|8[39])|4[129]9|6[12]9)|6(?:19[12]|2(?:[23]9|77))|7(?:1[13]9|2[15]9|419|5(?:1[89]|29)|6[15]9|7[178]9))......?|8[1-35-9].{7,10}"',63:'[15,2],[134,2],["DA{4,6}",["3(23|39|46)|4(2[3-6]|[35]9|4[26]|76)|544|88[245]|(52|64|86)2","3(230|397|461)|4(2(35|[46]4|51)|396|4(22|63)|59[347]|76[15])|5(221|446)|642[23]|8(622|8([24]2|5[13]))"]],[54,["346|4(27|9[35])|883","3469|4(279|9(30|56))|8834"]],[234,"[3-7]|8[2-8]"],[334,"[89]"],[434,1],["DbCD",1],[10,6,8,9,11,12,13],"(?:8(?:1[37]|9[6-8])|9(?:0[5-9]|1[0-24-9]|4[2-9]|8[1-35-7]|9[1-9]|[235-7].))......."',64:'[323,"[89]0"],[134,"24|[346]|7[2-57-9]|9[2-9]","$1-$2 $3"],["CCd","2(10|74)|[59]|80"],["BdD","2[028]"],["BCA{3,5}","2([169]|7[0-35-9])|7|86"],[8,9,10],"2(?:66......|[0278](?:........?)|[19](?:.{6,8}))"',65:'[44,"[369]|8[1-9]"],[334,8],[443,7],[434,1],[8,10,11],"(?:8.|9[0-8])......"',66:'[134,2],["BCd","14|[3-9]"],[433,1],[9,8,10],"(?:14|6[1-7]|[89].)......."',670:'[34,"[2-489]"],[44,7],[8,7],"7[2-8]......"',672:'[24,1],[15,3],6,"3[58]...."',673:'[34,"[2-578]"],7,"22[89]....|[78]......"',674:'[34,"[458]"],7,"(?:5[5-7].|666|8..|22.|77.|99.)...."',675:'[34,"18|[2-69]|85"],[44,"[78]"],[8,7],"(?:7.|8[1-48])......"',676:'[23,"[2-4]|50|6[09]|7[0-24-69]|8[05]",1],[43,0],[34,"[5-8]"],[7,5],"(?:5[45]|6[89]|7[2-9]|8[4-9]|99)....."',677:'[25,"7|8[4-9]|9([1-8]|9[0-8])"],[7,5],"(?:48...|(?:(?:7[1-9].|8[4-9].|6[89].)|9(?:1[2-9]|2[013-9]|3[0-2]|5[0-46-9]|7[0-689]|8[0-79]|9[0-8]|[46].))....)"',678:'[34,"[579]"],[7,5],"(?:(?:7[013-7].|8..)|5(?:7[0-5]|[0-689].))...."',679:'[34,"[235-9]|45"],[434,0],[7,11],"(?:[279].|45|5[01568]|8[034679])....."',680:'[34,"[2-9]"],7,"(?:6[2-4689]0|7(?:7.|80)|8(?:3[0-5]|8.)|4[56][0-5])...."',681:'[222,"[4-8]"],6,"(?:50|68|72|8[23])...."',682:'[23,"[2-8]"],5,"[5-8]...."',683:'[34,8],[7,4],"888[4-9]..."',685:'[5,"[2-6]"],["CA{3,7}",8],[25,7],[6,7,5],"(?:60....|(?:7[1-35-8]|8[35-7]).....)"',686:'8,"(?:6(?:20|3.)|7(?:20|3[013-9]|4.|8[0-5]))....."',687:'[222,"[2-57-9]","$1.$2.$3"],6,"(?:5.|8[0-79]|[79].)...."',688:'[6,7,5],"(?:7[01].|90)...."',689:'[222,44],[2222,"[48]"],[8,6],"8[7-9]......"',690:'[4,5,6,7],"7[2-4].{2,5}"',691:'[34,"[39]"],7,"3[2357]0[1-9]...|820....|9[2-7]....."',692:'[34,"[2-6]",1],7,"(?:235|329|45[35-8]|545)...."',7:'[4222,["7(1[0-8]|2[1-9])","7(1([0-6]2|7|8[27])|2(1[23]|[2-9]2))","7(1([0-6]2|7|8[27])|2(13[03-69]|62[013-9]))|72[1-57-9]2"]],[5122,["7(1[0-68]|2[1-9])","7(1([06][3-6]|[18]|2[35]|[3-5][3-5])|2([13][3-5]|[24-689]|7[457]))","7(1(0([356]|4[023])|[18]|2(3[013-9]|5)|3[45]|43[013-79]|5(3[1-8]|4[1-7]|5)|6(3[0-35-9]|[4-6]))|2(1(3[178]|[45])|[24-689]|3[35]|7[457]))|7(14|23)4[0-8]|71(33|45)[1-79]"]],[334,7],[3322,"[3489]","$1 $2-$3-$4"],10,"7(?:0[0-25-8]|47|6[0-4]|7[15-8]|85).......|9........."',81:'[44,["007","0077","00777","00777[01]"],1],[333,"(12|57|99)0",1],[414,["1(26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(76|97)|746|8(3[89]|47|51|63)|9(49|80|9[16])","1(267|3(7[247]|9[278])|466|5(47|58|64)|6(3[245]|48|5[4-68]))|499[2468]|5(76|97)9|7468|8(3(8[78]|96)|477|51[24]|636)|9(496|802|9(1[23]|69))|1(45|58)[67]","1(267|3(7[247]|9[278])|466|5(47|58|64)|6(3[245]|48|5[4-68]))|499[2468]|5(769|979[2-69])|7468|8(3(8[78]|96[2457-9])|477|51[24]|636[2-57-9])|9(496|802|9(1[23]|69))|1(45|58)[67]"],1],[234,60,1],[144,["[36]|4(2[09]|7[01])","[36]|4(2(0|9[02-69])|7(0[019]|1))"],1],[234,["1(1|5[45]|77|88|9[69])|2(2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4([28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-389])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(2[124589]|3[279]|49|6[0-24-689]|7[0-468]|8[68]|9[019])|9([23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(1|5(4[018]|5[017])|77|88|9[69])|2(2([127]|3[014-9])|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|9[19])|62|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9])|5(2|3[045]|4[0-369]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9[0-2469])|49|6([0-24]|5[0-3589]|9[01459])|7[0-468]|8[68])|9([23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9([1289]|3[34]|4[0178]))|(49|55|83)[29]|(264|837)[016-9]|2(57|93)[015-9]|(47[59]|59[89]|8(6[68]|9))[019]","1(1|5(4[018]|5[017])|77|88|9[69])|2(2[127]|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|9(17|99))|6(2|4[016-9])|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9[0169])|3([29]|7([017-9]|6[6-8]))|49|6([0-24]|5([0-389]|5[23])|6([01]|9[178])|9[0145])|7[0-468]|8[68])|9(4[15]|5[138]|7[156]|8[189]|9([1289]|3(31|4[357])|4[0178]))|(8294|96)[1-3]|2(57|93)[015-9]|(223|8699)[014-9]|(48|8292|9[23])[1-9]|(47[59]|59[89]|8(68|9))[019]","1(1|5(4[018]|5[017])|77|88|9[69])|2(2[127]|3[0-269]|4[59]|5([0468][01]|[1-3]|5[0-69]|7[015-9]|9(17|99))|6(2|4[016-9])|7([1-35]|8[0189])|8([16]|3[0134]|9[0-5])|9([028]|17|3[015-9]))|4(2([13-79]|2[01]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(2|3[045]|4[0-369]|5[29]|8[02389]|9[0-3])|7(2[02-46-9]|34|[58]|6[0249]|7[57]|9([23]|4[0-59]|5[01569]|6[0167]))|8(2([1258]|4[0-39]|9([019]|4[1-3]|6([0-47-9]|5[01346-9])))|3([29]|7([017-9]|6[6-8]))|49|6([0-24]|5([0-389]|5[23])|6([01]|9[178])|9[0145])|7[0-468]|8[68])|9(4[15]|5[138]|6[1-3]|7[156]|8[189]|9([1289]|3(31|4[357])|4[0178]))|(223|8699)[014-9]|(48|829(2|66)|9[23])[1-9]|(47[59]|59[89]|8(68|9))[019]"],1],[324,["[14]|[29][2-9]|5[3-9]|7[2-4679]|8([246-9]|3[3-8]|5[2-9])","[14]|[29][2-9]|5[3-9]|7[2-4679]|8([246-9]|3([3-6][2-9]|7|8[2-5])|5[2-9])"],1],["DBd","007",1],[424,"008",1],[334,800,1],[244,"[2579]|80",1],["DCd",0,1],["DDe",0,1],["DEf",0,1],["DFg",0,1],[10,8,9,11,12,13,14,15,16,17],"[7-9]0[1-9]......."',82:'[5,["1[016-9]1","1[016-9]11","1[016-9]114"]],["Bd","(3[1-3]|[46][1-4]|5[1-5])1",1],[44,1,1],["AdD",2,1],[234,"60|8",1],["BdD","[1346]|5[1-5]",1],[244,"[57]",1],[533,["003","0030"]],[254,5,1],["EdD",0],[5234,0],[9,10,5,6,8,12,13,14],"1[0-26-9]........?"',84:'[244,"2[48]"],["69Ae",69],[343,"2[0-35-79]"],["[89]ACBB","8(8|9[89])|9"],["1[2689]ACD","1([26]|8[68]|99)"],["[3578]ACD","[357]|8[1-5]"],["86[89];CC","86[89]"],["1[89]00;A{4,6}",["1[89]0","1[89]00"]],[9,10,8],"(?:1(?:2.|6[1-9]|8[68]|99).......|(?:(?:7[06-9].|[39]..)|5(?:2[238]|59|[1689].)|8(?:9[689]|[1-8].))......)"',850:'[233,8],[134,2],[334,1],[10,8],"19[123]......."',852:'["CA{2,5}",[900,9003]],[44,"[2-7]|8[1-4]|9(0[1-9]|[1-8])"],[333,8],[3233,9],[8,9],"(?:(?:70(?:8[0-8]|[1-579].)|84(?:4[0-2]|8[0-35-9]|[0-39].))|4(?:(?:6..|09[3-6])|4(?:4[0-35-9]|[0-35-9].)|7(?:3.|4[0-48]|6[0-5]|[0-25].))|5(?:(?:6[0-4689].|9..)|2(?:5[3-7]|[0-46-9].)|3(?:5[4-8]|[0-46-9].)|5(?:5[01]|[0-46-9].)|7(?:3[0-6]|[0-246-9].)|[14][0-46-9].)|6(?:(?:0[1-9].|8[0-57-9].|[1-579]..)|6(?:6[0-5]|[0-57-9].))|9(?:(?:0[1-9].|1[02-9].|2..|[46-8]..)|3(?:9[013-9]|[0-8].)|5(?:9[0-7]|[0-8].)))...."',853:'[44,"[268]"],8,"6(?:[2356]..|8(?:2[5-9]|9[0-4]|[013-8].))...."',855:'["BCd","[1-9]"],[433,1],[8,9,10],"(?:(?:1[28]|3[189]|9[67]).|6[016-9]|7(?:[07-9]|[16].)|8(?:[013-79]|8.))......|(?:1.|9[0-57-9])......|(?:2[3-6]|3[2-6]|4[2-4]|[5-7][2-5])48....."',856:'[233,"2[13]|3[14]|[4-8]"],[2223,3],[2233,2],[9,10,8],"(?:20(?:7[6-9]|8[78]|[259].)......|30(?:[25].......|[49](?:.......?)))"',86:'["Bf",["(10|2[0-57-9])[19]","(10|2[0-57-9])(10|9[56])","(10|2[0-57-9])(100|9[56])"]],[34,["[1-9]","1[1-9]|26|[3-9]|(10|2[0-57-9])([0-8]|9[0-47-9])","1[1-9]|26|[3-9]|(10|2[0-57-9])([02-8]|1(0[1-9]|[1-9])|9[0-47-9])"]],[44,"16[08]"],["Cf",["3([157]|35|49|9[1-68])|4([17]|2[179]|6[47-9]|8[23])|5([1357]|2[37]|4[36]|6[1-46]|80)|6(3[1-5]|6[0238]|9[12])|7(01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(4[35]|59|85)[1-9]","(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[1-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))[19]","85[23](10|95)|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(10|9[56])","85[23](100|95)|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))(100|9[56])"]],[44,["[1-9]","1[1-9]|26|[3-9]|(10|2[0-57-9])([0-8]|9[0-47-9])","26|3([0268]|9[079])|4([049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6([0-24578]|6[14-79]|9[03-9])|7(0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8([046]|1[01459]|2[0-489]|50|8[0-2459]|9[09])|9(0[0457]|1[08]|[268]|4[024-9])|(34|85[23])[0-8]|(1|58)[1-9]|(63|95)[06-9]|(33|85[23]9)[0-46-9]|(10|2[0-57-9]|3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))([0-8]|9[0-47-9])","26|3([0268]|3[0-46-9]|4[0-8]|9[079])|4([049]|2[02-68]|[35]0|6[0-356]|8[014-9])|5(0|2[0-24-689]|4[0-2457-9]|6[057-9]|90)|6([0-24578]|3[06-9]|6[14-79]|9[03-9])|7(0[02-9]|2[0135-79]|3[23]|4[0-27-9]|6[1457]|8)|8([046]|1[01459]|2[0-489]|5(0|[23]([02-8]|1[1-9]|9[0-46-9]))|8[0-2459]|9[09])|9(0[0457]|1[08]|[268]|4[024-9]|5[06-9])|(1|58|85[23]10)[1-9]|(10|2[0-57-9])([0-8]|9[0-47-9])|(3([157].|35|49|9[1-68])|4([17].|2[179]|[35][1-9]|6[47-9]|8[23])|5([1357].|2[37]|4[36]|6[1-46]|80|9[1-9])|6(3[1-5]|6[0238]|9[12])|7(01|[1579].|2[248]|3[014-9]|4[3-6]|6[023689])|8(1[236-8]|2[5-7]|[37].|5[14-9]|8[36-8]|9[1-8])|9(0[1-3689]|1[1-79]|[379].|4[13]|5[1-5]))([02-8]|1(0[1-9]|[1-9])|9[0-47-9])"]],[334,"(4|80)0"],[244,["10|2([02-57-9]|1[1-9])","10|2([02-57-9]|1[1-9])","10[0-79]|2([02-57-9]|1[1-79])|(10|21)8(0[1-9]|[1-9])"]],[334,"3([3-59]|7[02-68])|4([26-8]|3[3-9]|5[2-9])|5(3[03-9]|[468]|7[028]|9[2-46-9])|6|7([0-247]|3[04-9]|5[0-4689]|6[2368])|8([1-358]|9[1-7])|9([013479]|5[1-5])|([34]1|55|79|87)[02-9]"],["Ch",9],[434,80],[344,"[3-578]"],[344,"1[3-9]"],[2334,"[12]"],[11,7,8,9,10,12],"1(?:(?:5[0-35-9]..|6[25-7]..|9[0135-9]..|[38]...)|4(?:00[019]|[5-9]..)|7(?:40[0-5]|[0-35-8]..))......"',880:'["BA{4,6}","31[5-7]|[459]1",1],["CA{3,7}","3([67]|8[013-9])|4(6[168]|7|[89][18])|5(6[128]|9)|6(28|4[14]|5)|7[2-589]|8(0[014-9]|[12])|9[358]|(3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(44|66)[01346-9]",1],["DA{3,6}","[13-9]",1],["Ah",2,1],[10,6,7,8,9],"(?:1[13-9].|(?:3[78]|44)[02-9]|6(?:44|6[02-9]))......."',886:'["AdD","[25][2-8]|[346]|7[1-9]|8[237-9]"],[234,"[258]"],[333,9],[244,7],[9,8],"9[0-8]......."',90:'[313,444],[334,"512|8[0589]|90"],[3322,["5([0-59]|61)","5([0-59]|616)","5([0-59]|6161)"]],[3322,"[24][1-8]|3[1-9]"],[10,7],"5(?:(?:0[1-7]..|2[24]..|5[1-59]..|61[06]1|9[246]..|[34]...)|1(?:0..|6(?:16|..)))....."',91:'[8,["5(0|2[23]|3[03]|[67]1|88)","5(0|2(21|3)|3(0|3[23])|616|717|888)","5(0|2(21|3)|3(0|3[23])|616|717|8888)"]],["De",[180,1800]],[334,140],[244,["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79([1-6]|7[19])|80([2-4]|6[0-589])","11|2[02]|33|4[04]|79([124-6]|3([02-9]|1[0-24-9])|7(1|9[1-6]))|80([2-4]|6[0-589])"]],[334,["1(2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(12|[2-4]1|5[17]|6[13]|80)|7(12|3[134]|4[47]|61|88)|8(16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(43|59|75)[15]|(1[59]|29|67|72)[14]","1(2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|[578]1|9[15])|6([2-4]1|5[17]|6[13]|7[14]|80)|7(12|(2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(70[2-6]|84[235-7]|91[3-7])|(1(29|60|8[06])|261|(55|61)2|7(31|4[47])|8(16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(12([2-6]|7[0-8])|[2-4]1|5[17]|6[13]|7[14]|80)|7(12|(2[14]|5[15])[2-6]|3171|61[346]|88([2-7]|82))|8(70[2-6]|84([2356]|7[19])|91([3-6]|7[19]))|73[134][2-6]|(1(29|60|8[06])|261|552|788[01])[2-7]|(74[47]|8(16|2[014]|3[126]|6[136]|7[78]|83))([2-6]|7[19])"]],[433,["1([2-479]|5[0235-9])|[2-5]|6(1[1358]|2[2457-9]|3[2-5]|[4-8])|7(1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1([2-479]|5[0235-9])|[2-5]|6(1[1358]|2([2457]|84|95)|3([2-4]|55)|[4-8])|7(1([013-8]|9[6-9])|28[6-8]|3(17|2[0-49]|9[2-57])|4(1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(2[1-3]|9[0-6])|6(0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1([2-479]|5([0236-9]|5[013-9]))|[2-5]|6(1[1358]|2([2457]|84|95)|3([2-4]|55)|[4-8])|7(1([013-8]|9[6-9])|3179)|807(1|9[1-3])|(1552|7(28[6-8]|3(2[0-49]|9[2-57])|4(1[2-4]|[29][0-7]|3[0-8]|[56].|8[0-24-7])|5(2[1-3]|9[0-6])|6(0[5689]|2[5-9]|3[02-8]|4.|5[0-367])|70[13-7]))[2-7]"]],[55,"[6-9]"],["DA{2,4};D",["1(6|8[06])","1(6|8[06]0)"]],[2343,0],[4333,18],[10,8,9,11,12,13],"(?:9....|6(?:(?:1279|0(?:0[0-3569].|26.|33.)|2(?:3[02589].|8[0-479].|9[0-79].|[06]..)|9(?:0[019].|13.)|82(?:8[478]|6.))|3(?:(?:0[0-79].|6[0-4679].|7[0-24-9].|[89]..)|5(?:0[0-6]|[1-9].)))|7(?:(?:(?:19[0-5].|[078]...)|5(?:5[017-9].|[0-46-9]..)|6(?:1[0-257-9].|[02-9]..)|9(?:3[01].|61.|[07-9]..))|2(?:[0235-9]..|[14][017-9].)|3(?:[025-9]..|[134][017-9].)|4(?:[0-35689]..|[47][017-9].))|8(?:(?:[145]...|0(?:6[67].|[0157-9]..)|6(?:1[07-9].|[02-9]..)|8(?:3[07-9].|4[047-9].|[0-25-9]..)|9(?:1[027-9].|[02-9]..))|2(?:[1-35-9]..|[04][07-9].)|3(?:[03-57-9]..|[126][07-9].)|7(?:[1-69]..|[078][07-9].)))....."',92:'[332,"[89]0"],[45,1],["Bh","(2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],["Cg",["2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(2[3-8]|98)|(2(3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(2[2-689]|3[23578]|4[3478]|5[2356])|9(22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"]],[55,58],[37,3],[2333,"2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],[3333,"[24-9]"],[10,8,9],"3(?:2.|3[0-79]|55|64|[0147].)......."',93:'[234,"[2-7]"],9,"7........"',94:'[234,7],[333,"[1-689]"],9,"7[0-24-8]......."',95:'[123,"16|2"],[223,"[45]|6(0[23]|[1-689]|7[235-7])|7([0-4]|5[2-7])|8[1-6]"],["ACd","[12]"],["BCd","[4-7]|8[1-35]"],["ACA{4,6}","9(2[0-4]|[35-9]|4[137-9])"],[144,2],[334,8],[1333,92],[154,9],[8,9,10,6,7],"(?:17[01]....|9(?:(?:5[0-6].....|2(?:[0-4].....|[56].......)|3(?:4.......|[0-36]......)|6(?:......|1......|[05-9].......)|7(?:3......|[4-9].......)|8(?:......|[89].......)|9(?:1......|[09].....|[4-8](?:.....|.......)))|4(?:[0245].......|(?:88|[1379].).....)))"',960:'[34,"[3467]|9[14-9]",1],[334,"[89]"],[7,10],"(?:4(?:01|6[46])|[79][1-9].)...."',961:'[133,"[13-69]|7([2-57]|62|8[0-7]|9[04-9])|8[02-9]"],[233,"[7-9]"],[7,8],"(?:3......|(?:81.|7(?:6[013-9]|8[7-9]|9[0-4]|[01].)).....)"',962:'[134,"[2356]|87"],["Cf","[89]"],[27,70],[144,7],[9,8],"(?:417|7(?:(?:55|9.)|[78][0-25-9]))......"',963:'["BCd","[1-5]"],[333,9],[9,8],"(?:50.|9(?:6[0-24-9]|7.|[1-589].))......"',964:'[134,1],["BCd","[2-6]"],[334,7],[8,10,9],"(?:96........|7(?:2......|[3-9]........))|6[26]......."',965:'["Dd","[169]|2([235]|4[1-35-9])|52"],[35,"[25]"],[8,7],"(?:41..|5(?:(?:1[0-7].|6[56].|88[58]|[05]..)|2(?:22|5[25])|7(?:55|77))|6(?:(?:0[034679].|2[26]2|3[36]3|4[46]4|5[015-9].|6..|7[067].|8[68]8|9[0369].)|1(?:00|11|6[16]))|9(?:(?:5[05].|8[057-9].|[04679]..)|1(?:1[01]|99|00)|2(?:00|2.)|3(?:00|3[03])))...."',966:'[45,9],[234,1],[234,5],["CCd",81],[334,8],[9,8,10],"5(?:7.|[013-689].)......"',967:'["ACd","[1-6]|7[24-68]"],[333,7],[9,7,8],"(?:7[01378]|10)......."',968:'["CA{4,6}","[58]"],[26,2],[44,"[79]"],[8,7,9],"(?:7(?:4.|[125-9].)|9(?:0[1-9]|[1-9].))....."',970:'[134,"[2489]"],[333,5],[433,1],[9,8,10],"5[69]......."',971:'["CA{2,9}",800],["CA{2,9}","60|8"],[134,"[236]|[479][2-8]"],[315,"[479]"],[234,5],[9,5,6,7,8,10,11,12],"5[024-68]......."',972:'[43,125,1],[422,121,1],[134,"[2-489]",1],[234,"[57]",1],[433,12,1],[46,159,1],[1333,"1[7-9]",1],["CbCD",15,"$1-$2 $3-$4"],[9,7,8,10,11,12],"(?:799.|5(?:[0-46-9]..|5(?:(?:01|16|3[0-4]|4[013-6]|5[0-25-9]|6[6-8]|7[0-26-8]|8[6-9])|[29][1-9])))....."',973:'[44,"[13679]|8[047]"],8,"(?:3(?:5[013-69].|8[0-57-9].|[0-4679]..)|6(?:3(?:00|33|6[16])|6(?:3[03-9]|7[0-689]|[69].)))...."',974:'[34,"2[126]|8"],[44,"[3-7]"],[8,7],"[35-7]......."',975:'[133,"[2-68]|7[246]"],[8,7],"(?:1[67]|77)......"',976:'[224,"[12]1"],[44,"[57-9]"],["Cf","[12]2[1-3]"],["Df",["[12](27|3[2-8]|4[2-68]|5[1-4689])","[12](27|3[2-8]|4[2-68]|5[1-4689])[0-3]"]],["Ee","[12]"],[8,9,10],"(?:5[05]|6[069]|72|8[0135689]|9.)......"',977:'[17,"1[2-6]",1],[26,"[1-8]|9([1-69]|7[15-9])",1],[37,9,1],[10,8],"9(?:6[0-3]|7[0-24-6]|8[0-24-68]|00)......."',98:'["Be","(1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],["CCd",9],[244,"[1-8]"],[8,10,6,7],"(?:30005...|9(?:(?:(?:2[0-3]..|[13]...)|0(?:4..|[0-35]..))|9(?:[0-469]..|5(?:10|5.)|8(?:88|[12].))).....)"',992:'[612,[331,3317]],[324,"[34]7|91[78]"],[414,3],[234,"[457-9]"],9,"(?:(?:1[0-27-9].|2[0-27].|5[05].|7[01578].|8[0178].|66.|[09]..)|3(?:3[03-9]|[08].)|4(?:0.|1[18]|4[0-57-9]))......"',993:'[2222,12,"$1 $2-$3-$4"],[3122,"[1-5]","$1 $2-$3-$4"],[26,6],8,"(?:6[1-9]|71)......"',994:'[3222,9],[2322,["[12]|365","[12]|365","[12]|365([0-46-9]|5[0-35-9])"]],[2322,"[3-8]"],9,"(?:36554|(?:10|4[04]|5[015]|60|7[07]|99)...)...."',995:'[333,70],[2322,32],[3222,"[57]"],[3222,"[348]"],9,"(?:5(?:0[01457]|1[0-2457]|2[025]|3[0-35]|4[045]|5[0-57-9]|6[89]|7[0-2457-9]|8[058]|9[0-35-9])|7(?:08|11|90))......"',996:'[45,"3(1[346]|[24-79])"],[333,"[235-79]"],["CCAc",8],[9,10],"(?:(?:5[0-24-7].|600|88[08]|99[05-9]|312)|2(?:0[0-35]|2.)|7(?:55|[07].))......"',998:'[2322,"[679]"],9,"(?:(?:33...|8[078]...|9[0-57-9]...|[25]0...)|6(?:(?:2(?:(?:11.|7..)|2(?:9[01379]|[12]1)|5(?:3[0-4]|[126].))|5(?:(?:19[01]|30.|59.|7..)|2(?:27|9[26]))|6(?:(?:3[79].|9[0-3].)|2(?:1[5-9]|2[0367]|38|41|52|60)|4(?:56|83)|7(?:1[017]|3[07]|4[047]|5[057]|67|8[0178]|9[79]|[07].))|9(?:(?:5[67].|7..)|2(?:1[1267]|3[01]|5.|7[0-4])|6(?:2[0-26]|8.)))|1(?:(?:(?:35[0-4]|50.|61[23])|2(?:2[01]|98))|7(?:(?:4.|55|9[5-9])|[01][017]))|7(?:(?:2(?:24|3[237]|4[5-9]|7[15-8])|5(?:7[12]|8[0589])|9(?:0.|7[079]))|7(?:0.|[39][07])))|7(?:(?:[07]...|1(?:(?:13[01]|71[3-69]|98.)|6(?:0[47]|1[67]|66))|2(?:57.|2(?:2[79]|95)|3(?:2[5-9]|6[0-6])|7(?:0.|1[17]|2[27]|3[37]|44|5[057]|66|88))|3(?:(?:33.|9[4-6].)|2(?:1[0-6]|21|3[469]|7[159])|5(?:0[0-4]|5[579]|9.)|7(?:4[0467]|6[67]|8[078]|[0-3579].))|5(?:(?:112|3[1568].|52[6-9])|2(?:0.|2[29]|[49]4)|7(?:0[01578]|1[017]|4[047]|8[78]|9[079]|[23]7|[5-7].))|6(?:(?:39.|41[179])|2(?:2[1245]|4[2-4])|5(?:5[0-2]|[349].)|7(?:0[017]|22|44|55|67|88|[13].))|9(?:(?:22[128]|57[02569])|3(?:2[0-4]|7.)|7(?:2[05-9]|3[37]|4.|60|7[2579]|87|9[07])))|4(?:(?:2(?:29|5[0257]|6[0-7]|7[1-57])|5(?:1[0-4]|8.|9[5-9])|9(?:7[015-9]|[89].))|7(?:(?:0.|1[024589]|2[0-27]|3[0137]|5[01]|7[5-9]|9[079])|[46][07]))))...."'};i.default=e}),66);
__d("WATypedArraysConcat",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){n===void 0&&(n=0);var r=t.reduce(function(e,t){return e+t.length},n),o=new e(r),a=0;return t.forEach(function(e){o.set(e,a),a+=e.length}),o}i.concatTypedArrays=e}),66);
__d("WACryptoAesCbc",["Promise","WABinary","WACryptoDependencies","WAPromiseDelays","WATypedArraysCast","WATypedArraysConcat","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=16,u=1024,c=16,d=1024*1024,m=s*d,p=(function(){function e(e,t,n,r){this.$4=null,this.$6=!1,this.$1=e,this.$2=t,this.$3=n;var a={name:"AES-CBC",iv:r};this.$5=o("WACryptoDependencies").getCrypto().subtle.importKey("raw",n,"AES-CBC",!1,[t]).then(function(e){return{algo:a,key:e}})}var t=e.prototype;return t.append=function(t){var e=this;this.$7("append");var n,r=this.$4;if(r)if(r.writeByteArray(t),r.size()>u){var a=r.size()%s;n=r.readByteArrayView(r.size()-a),r.size()||(this.$4=null)}else n=null;else if(t.length>u){var i=t.length%s;i?(this.$4=new(o("WABinary")).Binary(t),n=this.$4.readByteArrayView(t.length-i)):n=t}else this.$4=new(o("WABinary")).Binary(t),n=null;var l=n;return l&&(this.$5=this.$5.then(function(t){var n=t.algo,r=t.key;if(e.$2==="encrypt")return o("WACryptoDependencies").getCrypto().subtle.encrypt(n,r,l).then(function(t){return e.$1.writeByteArray(new Uint8Array(t,0,t.byteLength-s)),new Uint8Array(t,t.byteLength-2*s,s)});var a=l.slice(-s);return o("WACryptoDependencies").getCrypto().subtle.decrypt(n,r,l).then(function(t){return e.$1.writeBuffer(t),a})}).then(function(t){var n={name:"AES-CBC",iv:t};return o("WACryptoDependencies").getCrypto().subtle.importKey("raw",e.$3,"AES-CBC",!1,[e.$2]).then(function(e){return{algo:n,key:e}})})),this.$5.then(function(){})},t.finalize=function(t){var e=this;this.$7("finalize");var n;if(this.$4){var r=this.$4;t&&r.writeByteArray(t),n=r.readByteArrayView(),this.$4=null}else t&&(n=t);if(n){var a=n;return this.$5.then(function(t){var n=t.algo,r=t.key;return e.$2==="encrypt"?o("WACryptoDependencies").getCrypto().subtle.encrypt(n,r,a):o("WACryptoDependencies").getCrypto().subtle.decrypt(n,r,a)}).then(function(t){e.$1.writeBuffer(t)})}else return this.$5.then(function(){})},t.$7=function(t){if(this.$6)throw r("err")("AesCbcStream."+t+" called after finalize")},e})();function _(e){return{name:"AES-CBC",iv:o("WATypedArraysCast").castTypedArrays(Uint8Array,e)}}function f(e){return o("WACryptoDependencies").getCrypto().subtle.importKey("raw",o("WATypedArraysCast").castTypedArrays(Uint8Array,e),"AES-CBC",!1,["encrypt"])}function g(e){if(e)return o("WATypedArraysCast").castTypedArrays(Uint8Array,e);var t=new Uint8Array(c);return o("WACryptoDependencies").getCrypto().getRandomValues(t),t}function h(e){var t=e.byteLength,n=s-t%s;return Number.isNaN(n)?t:t+n}function y(t,r,a){var i=_(r);return(e||(e=n("Promise"))).resolve(o("WACryptoDependencies").getCrypto().subtle.importKey("raw",o("WATypedArraysCast").castTypedArrays(Uint8Array,t),"AES-CBC",!1,["decrypt"])).then(function(e){return o("WACryptoDependencies").getCrypto().subtle.decrypt(i,e,a)})}function C(t,r){return(e||(e=n("Promise"))).resolve().then(function(){var e=r.slice(0,c),n=r.slice(c);return y(t,e,n)})}function b(t,r,a){return(e||(e=n("Promise"))).resolve().then(function(){var i=g(a),l=_(i);return(e||(e=n("Promise"))).resolve(f(t)).then(function(e){return o("WACryptoDependencies").getCrypto().subtle.encrypt(l,e,r)}).then(function(e){return o("WATypedArraysConcat").concatTypedArrays(Uint8Array,[i,new Uint8Array(e)]).buffer})})}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.encKey,n=e.plaintext,a=e.optionalIv,i=e.chunkSize,l=i===void 0?m:i,u=e.delayInBetween,c=u===void 0?!1:u;if(l%s!==0)throw r("err")("chunkSize must be a multiple of "+s+", "+l+" received");var d=yield f(t),p=new Uint8Array(n),_=Math.ceil(p.byteLength/l),y=g(a),C=new Uint8Array(h(p)+y.byteLength);C.set(y);for(var b=0,v=y,S;b<_;b++){var L=b===_-1,E=b*l;S=p.subarray(E,E+l);var k=yield R(L,S,v,d),I=k.encryptedChunk,T=k.nextIv;C.set(I,y.byteLength+b*l),v=T,c===!0&&(yield o("WAPromiseDelays").releaseToMainThread())}return C.buffer}),S.apply(this,arguments)}function R(e,t,n,r){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield o("WACryptoDependencies").getCrypto().subtle.encrypt(_(n),r,t).then(function(t){return e?new Uint8Array(t):new Uint8Array(t).subarray(0,-s)}),i=a.slice(-s);return{encryptedChunk:a,nextIv:i}}),L.apply(this,arguments)}l.AES_CBC_BLOCK_SIZE=s,l.AesCbcStream=p,l.importRawKey=f,l.getIv=g,l.aesCbcDecrypt=y,l.aesCbcDecryptSplit=C,l.aesCbcEncrypt=b,l.aesCbcEncryptWithChunking=v,l.aesCbcEncryptChunk=R}),98);
__d("WACryptoHkdfSync",["WABinary","WACryptoSha256HmacBuilder","err"],(function(t,n,r,o,a,i,l){"use strict";var e=32,s=new Uint8Array(e),u=255*e;function c(e,t){return new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(t!=null?t:s).update(e).finish()}function d(t,n,a){if(a===void 0&&(a=new Uint8Array(0)),n<0||n>u)throw r("err")("HKDF::expand given bad length "+n);for(var i=Math.ceil(n/e),l=new Uint8Array(0),s=new(o("WABinary")).Binary,c=1;c<=i;c++)l=new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(t).update(o("WABinary").Binary.build(l,a,c).readByteArrayView()).finish(),s.writeByteArray(l);return s.readByteArrayView(n)}function m(e,t,n,r){return d(c(e,t),r,n)}l.hkdf=m}),98);
__d("WACryptoPkcs7",["WACryptoDependencies","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=new Uint8Array(1);do o("WACryptoDependencies").getCrypto().getRandomValues(t);while(t[0]===0);u(e,t[0])}function s(e){var t=new Uint8Array(1);o("WACryptoDependencies").getCrypto().getRandomValues(t),u(e,(t[0]&15)+1)}function u(e,t){for(var n=0;n<t;n++)e.writeUint8(t)}function c(e){if(e.length===0)throw r("err")("unpadPkcs7 given empty bytes");var t=e[e.length-1];if(t>e.length)throw r("err")("unpadPkcs7 given "+e.length+" bytes, but pad is "+t);return new Uint8Array(e.buffer,e.byteOffset,e.length-t)}l.writeRandomPad=e,l.writeRandomPadMax16=s,l.writePad=u,l.unpadPkcs7=c}),98);
__d("WADepthFirstTraversal",[],(function(t,n,r,o,a,i){"use strict";function e(t,n,r){var o=n(t);o.forEach(function(t){return e(t,n,r)}),r(t)}i.default=e}),66);
__d("WADynamicRouterAsync",["Promise","WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u={sentinel:"RESPONSE_NAMESPACE"},c={sentinel:"NOT_HANDLED"},d=(function(){function t(){var e=this;this.$2=(s||(s=n("Promise"))).resolve(),this.$3=new Map,this.$4=0,this.$5=null,this.$6=null,this.$7=null,this.fireAndForget=function(t,n,r,o){o===void 0&&(o=!1),e.$9(t,n,r,null,o)},this.sendAndReceive=function(t,r,o,a){return a===void 0&&(a=!1),new(s||(s=n("Promise")))(function(n,i){var l=null;e.$9(t,r,o,function(t){try{var r=_(t);r?l=r.call(t,function(t){e.$9(u,"",t,n,a)},function(t){e.$9(u,"",t,i,!1)}):e.$9(u,"",t,n,a)}catch(t){e.$9(u,"",t,i,!1)}},a)})},this.$8=function(){var t=e.$6;if(t){for(var n=e.$3,r;t&&!(r=m(n,t));)e.$6=t=t.nextRoute;if(!(!t||!r)){var o=e.$10(r,t),a=!0;if(o!==c){var i=t.prevRoute,l=t.nextRoute;e.$6===t&&(e.$6=l),i?i.nextRoute=l:e.$5=l,l?l.prevRoute=i:(a=!1,e.$7=i)}return a&&e.$2.then(e.$8).finally(function(){}),o}}}}var a=t.prototype;return a.setAckPayload=function(t){this.$1=t},a.getAckPayoad=function(){return this.$1},a.hasHandlerForNamespace=function(t){return this.$3.has(t)},a.getHandledNamespaces=function(){return Array.from(this.$3.keys())},a.setNamespaceHandler=function(t,n){var e=this.$3,r=e.get(t);if(r!==n&&(++this.$4,e.set(t,n),!r)){var o=this.$5;o&&(this.$6||this.$2.then(this.$8).finally(function(){}),this.$6=o)}},a.setHandlers=function(n,a){function t(t,i,l){if(a[t]==null)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose([""," is not defined for ",""])),t,n),r("err")(t+" is not defined for "+n);var s=a[t](i);l&&l(s)}this.setNamespaceHandler(n,t)},a.$9=function(t,n,r,o,a){var e=this.$7,i={namespace:t,route:n,arg:r,resolver:o,prevRoute:e,nextRoute:null,silentLog:a};this.$7=i;var l=!0;e?(e.nextRoute=i,l=!this.$6):this.$5=i,l&&m(this.$3,i)&&(this.$6=i,this.$2.then(this.$8).finally(function(){}))},a.$10=function(t,o){var e=o.arg,a=o.resolver,i=o.route,l=o.silentLog,u=this.$4,d=null,m=null;try{d=t(i,e,a,l)}catch(e){m=(s||(s=n("Promise"))).reject(e)}if(d===c)if(u===this.$4)m=(s||(s=n("Promise"))).reject(r("err")("DynamicRouter: NOT_HANDLED can only be used when updating handlers"));else return c;if(a){m&&a(m);return}else return m},t})();function m(e,t){var n=t.namespace;return n===u?p:e.get(n)}function p(e,t,n){n(t)}function _(e){if(e!=null&&(typeof e=="object"||typeof e=="function")){var t=e.then;return typeof t=="function"?t:null}return null}l.NOT_HANDLED=c,l.DynamicRouter=d}),98);
__d("WAFrameSocket",["WABinary","WAErrors","WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(function(e){function t(t){var n,r="SocketClosed";return n=e.call(this,t!=null?t:r)||this,n.name=r,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.toString=function(){return this.name},t})(babelHelpers.wrapNativeSuper(Error)),m=(function(){function t(t,n){var r=this;this.$3=new(o("WABinary")).Binary,this.closed=!1,this.$4=!1,this.onFrame=null,this.onClose=null,this.$5=function(e){r.$3.writeByteArray(e),r.convertBufferedToFrames()},this.$6=function(){if(r.$3.peek(p)){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed, waiting for pending processing"]))),r.$4=!0;return}r.$9()},this.$7=function(e){},this.$2=n,this.$1=t,t.onData=this.$5,t.onClose=this.$6,t.onError=this.$7}var n=t.prototype;return n.sendFrame=function(t){if(!this.$4){this.throwIfClosed();var e=this.$2,n=t.byteLength;this.$8(n);var r=this.$1.dataToSend;e?(this.$2=null,r.ensureAdditionalCapacity(e.length+3+n),r.writeByteArray(e)):r.ensureAdditionalCapacity(3+n),r.writeUint8(n>>16),r.writeUint16(n&65535),r.write(t),this.$1.requestSend()}},n.$9=function(){if(!this.closed){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket closed"]))),this.$4=!1,this.closed=!0;var e=this.onClose;e&&e()}},n.$8=function(t){if(t>=1<<24)throw o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Buffer to send: ",""])),t),new(o("WAErrors")).BufferTooLargeError("Buffer too large: "+t)},n.convertBufferedToFrames=function(){for(var e=this.$3,t=this.onFrame;t&&e.peek(p);){var n=_(e),r=e.readByteArrayView(n);t(r),t=this.onFrame}this.$4&&!e.peek(p)&&this.$9(),t&&e.size()&&o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["FrameSocket: queueing partial frame of "," bytes"])),e.size())},n.throwIfClosed=function(){if(this.closed)throw new d},n.close=function(){this.$1.close()},t})();function p(e){if(e.size()<3)return!1;var t=_(e);return t<=e.size()}function _(e){return e.readUint8()<<16|e.readUint16()}l.SocketClosed=d,l.FrameSocket=m}),98);
__d("WASmaxInAbPropsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInAbPropsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","bad-request");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",400);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorBadRequestMixin=e}),98);
__d("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","feature-not-implemented");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",501);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFeatureNotImplementedMixin=e}),98);
__d("WASmaxInAbPropsNoRetryErrors",["WAResultOrError","WASmaxInAbPropsIQErrorBadRequestMixin","WASmaxInAbPropsIQErrorFeatureNotImplementedMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInAbPropsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:t.value});var n=o("WASmaxInAbPropsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(e);return n.success?o("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorBadRequest","IQErrorFeatureNotImplemented"],[t,n])}l.parseNoRetryErrors=e}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry",["WAResultOrError","WASmaxInAbPropsIQErrorResponseMixin","WASmaxInAbPropsNoRetryErrors","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInAbPropsNoRetryErrors").parseNoRetryErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorNoRetryErrors:i.value})):i}l.parseGetExperimentConfigResponseErrorNoRetry=e}),98);
__d("WASmaxInAbPropsIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","internal-server-error");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",500);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorInternalServerErrorMixin=e}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry",["WAResultOrError","WASmaxInAbPropsIQErrorInternalServerErrorMixin","WASmaxInAbPropsIQErrorResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInAbPropsIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(r.value);if(!a.success)return a;var i=o("WASmaxInAbPropsIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({errorIQErrorInternalServerErrorMixin:a.value},i.value)):i}l.parseGetExperimentConfigResponseErrorRetry=e}),98);
__d("WASmaxInAbPropsExperimentConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"prop");if(!t.success)return t;var n=o("WASmaxParseUtils").attrIntRange(e,"config_code",1,void 0);if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(e,"config_value");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"config_expo_key",0,void 0);return a.success?o("WAResultOrError").makeResult({configCode:n.value,configValue:r.value,configExpoKey:a.value}):a}l.parseExperimentConfigMixin=e}),98);
__d("WASmaxInAbPropsSamplingConfigMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"prop");if(!t.success)return t;var n=o("WASmaxParseUtils").attrIntRange(e,"event_code",1,void 0);if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(e,"sampling_weight",-1e4,1e4);return r.success?o("WAResultOrError").makeResult({eventCode:n.value,samplingWeight:r.value}):r}l.parseSamplingConfigMixin=e}),98);
__d("WASmaxInAbPropsConfigs",["WAResultOrError","WASmaxInAbPropsExperimentConfigMixin","WASmaxInAbPropsSamplingConfigMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInAbPropsExperimentConfigMixin").parseExperimentConfigMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"ExperimentConfig",value:t.value});var n=o("WASmaxInAbPropsSamplingConfigMixin").parseSamplingConfigMixin(e);return n.success?o("WAResultOrError").makeResult({name:"SamplingConfig",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["ExperimentConfig","SamplingConfig"],[t,n])}l.parseConfigs=e}),98);
__d("WASmaxInAbPropsEnums",[],(function(t,n,r,o,a,i){var e={false:"false",true:"true"};i.ENUM_FALSE_TRUE=e}),66);
__d("WASmaxInAbPropsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInAbPropsGetExperimentConfigResponseSuccess",["WAResultOrError","WASmaxInAbPropsConfigs","WASmaxInAbPropsEnums","WASmaxInAbPropsIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"prop");if(!t.success)return t;var n=o("WASmaxInAbPropsConfigs").parseConfigs(e);return n.success?o("WAResultOrError").makeResult({configs:n.value}):n}function s(e){var t=o("WASmaxParseUtils").assertTag(e,"erid");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytesRange(e,1,100);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}function u(t,n){var r=o("WASmaxParseUtils").assertTag(t,"iq");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(t,"props");if(!a.success)return a;var i=o("WASmaxParseUtils").optionalChildWithTag(t,"erid",s);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,a.value,"protocol","1");if(!l.success)return l;var u=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,a.value,"ab_key");if(!u.success)return u;var c=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,a.value,"hash");if(!c.success)return c;var d=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,a.value,"refresh",0,void 0);if(!d.success)return d;var m=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,a.value,"refresh_id",0,void 0);if(!m.success)return m;var p=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrStringEnum,a.value,"delta_update",o("WASmaxInAbPropsEnums").ENUM_FALSE_TRUE);if(!p.success)return p;var _=o("WASmaxInAbPropsIQResultResponseMixin").parseIQResultResponseMixin(t,n);if(!_.success)return _;var f=o("WASmaxParseUtils").mapChildrenWithTag(a.value,"prop",0,1/0,e);return f.success?o("WAResultOrError").makeResult(babelHelpers.extends({propsProtocol:l.value,propsAbKey:u.value,propsHash:c.value,propsRefresh:d.value,propsRefreshId:m.value,propsDeltaUpdate:p.value},_.value,{erid:i.value,propsProp:f.value})):f}l.parseGetExperimentConfigResponseSuccessPropsProp=e,l.parseGetExperimentConfigResponseSuccessErid=s,l.parseGetExperimentConfigResponseSuccess=u}),98);
__d("WASmaxOutAbPropsBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"get"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQGetRequestMixin=s}),98);
__d("WASmaxOutAbPropsGetExperimentConfigRequest",["WASmaxAttrs","WASmaxJsx","WASmaxOutAbPropsBaseIQGetRequestMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.propsHash,n=e.propsRefreshId,r=o("WASmaxOutAbPropsBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(o("WASmaxJsx").smax("iq",{xmlns:"abt",to:o("WAWap").S_WHATSAPP_NET},o("WASmaxJsx").smax("props",{protocol:"1",hash:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t),refresh_id:o("WASmaxAttrs").OPTIONAL(o("WAWap").INT,n)})));return r}l.makeGetExperimentConfigRequest=e}),98);
__d("WASmaxAbPropsGetExperimentConfigRPC",["WAComms","WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry","WASmaxInAbPropsGetExperimentConfigResponseErrorRetry","WASmaxInAbPropsGetExperimentConfigResponseSuccess","WASmaxOutAbPropsGetExperimentConfigRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutAbPropsGetExperimentConfigRequest").makeGetExperimentConfigRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInAbPropsGetExperimentConfigResponseSuccess").parseGetExperimentConfigResponseSuccess(r,n);if(a.success)return{name:"GetExperimentConfigResponseSuccess",value:a.value};var i=o("WASmaxInAbPropsGetExperimentConfigResponseErrorNoRetry").parseGetExperimentConfigResponseErrorNoRetry(r,n);if(i.success)return{name:"GetExperimentConfigResponseErrorNoRetry",value:i.value};var l=o("WASmaxInAbPropsGetExperimentConfigResponseErrorRetry").parseGetExperimentConfigResponseErrorRetry(r,n);if(l.success)return{name:"GetExperimentConfigResponseErrorRetry",value:l.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("GetExperimentConfig",{Success:a,ErrorNoRetry:i,ErrorRetry:l}))}),s.apply(this,arguments)}l.sendGetExperimentConfigRPC=e}),98);
__d("WAGetAbPropsProtocol",["WALogger","WAResultOrError","WASmaxAbPropsGetExperimentConfigRPC","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("WASmaxAbPropsGetExperimentConfigRPC").sendGetExperimentConfigRPC(t);if(n.name==="GetExperimentConfigResponseSuccess"){var r=n.value,a=r.erid,i=r.propsAbKey,l=r.propsDeltaUpdate,s=r.propsHash,u=r.propsProp,d=r.propsRefresh,m=r.propsRefreshId,p=c(u),_=p.newProps,f=p.samplingConfigs;return o("WAResultOrError").makeResult({abKey:i,hash:s,refresh:d,refreshId:m,props:_,samplingConfigs:f,erid:a==null?void 0:a.elementValue,isDeltaUpdate:l==="true"})}return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getAbPropsProtocol failed ",""])),n.value),o("WAResultOrError").makeError()}),u.apply(this,arguments)}function c(e){var t=[],n=[];return e.forEach(function(e){var r=e.configs;if(r.name==="ExperimentConfig"){var o;t.push({configCode:r.value.configCode,configValue:r.value.configValue,configExpoKey:(o=r.value.configExpoKey)==null?void 0:o.toString()})}else r.name==="SamplingConfig"&&n.push({eventCode:r.value.eventCode,samplingWeight:r.value.samplingWeight})}),{newProps:t,samplingConfigs:n}}l.getAbPropsProtocol=s}),98);
/**
 * License: https://www.facebook.com/legal/license/MDzNl_j9yvg/
 */
__d("fflate-0.6.10",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var t,n="";try{t={}.Worker}catch(e){}e.default=t?function(e,r,o,a,i){var l=!1,s=new t(e+n,{eval:!0}).on("error",function(e){return i(e,null)}).on("message",function(e){return i(null,e)}).on("exit",function(e){e&&!l&&i(new Error("exited with code "+e),null)});return s.postMessage(o,a),s.terminate=function(){return l=!0,t.prototype.terminate.call(s)},s}:function(e,t,n,r,o){setImmediate(function(){return o(new Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var a=function(){};return{terminate:a,postMessage:a}}}var u=!1;function c(){return u||(u=!0,s()),l.exports}var d={},m={exports:d};function p(){var e=c(),t=Uint8Array,n=Uint16Array,r=Uint32Array,o=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=function(e,t){for(var o=new n(31),a=0;a<31;++a)o[a]=t+=1<<e[a-1];for(var i=new r(o[30]),a=1;a<30;++a)for(var l=o[a];l<o[a+1];++l)i[l]=l-o[a]<<5|a;return[o,i]},s=l(o,2),u=s[0],m=s[1];u[28]=258,m[258]=28;for(var p=l(a,0),_=p[0],f=p[1],g=new n(32768),h=0;h<32768;++h){var y=(h&43690)>>>1|(h&21845)<<1;y=(y&52428)>>>2|(y&13107)<<2,y=(y&61680)>>>4|(y&3855)<<4,g[h]=((y&65280)>>>8|(y&255)<<8)>>>1}for(var C=(function(e,t,r){for(var o=e.length,a=0,i=new n(t);a<o;++a)++i[e[a]-1];var l=new n(t);for(a=0;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var s;if(r){s=new n(1<<t);var u=15-t;for(a=0;a<o;++a)if(e[a])for(var c=a<<4|e[a],d=t-e[a],m=l[e[a]-1]++<<d,p=m|(1<<d)-1;m<=p;++m)s[g[m]>>>u]=c}else for(s=new n(o),a=0;a<o;++a)e[a]&&(s[a]=g[l[e[a]-1]++]>>>15-e[a]);return s}),b=new t(288),h=0;h<144;++h)b[h]=8;for(var h=144;h<256;++h)b[h]=9;for(var h=256;h<280;++h)b[h]=7;for(var h=280;h<288;++h)b[h]=8;for(var v=new t(32),h=0;h<32;++h)v[h]=5;var S=C(b,9,0),R=C(b,9,1),L=C(v,5,0),E=C(v,5,1),k=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},I=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},T=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},D=function(e){return(e/8|0)+(e&7&&1)},x=function(e,o,a){(o==null||o<0)&&(o=0),(a==null||a>e.length)&&(a=e.length);var i=new(e instanceof n?n:e instanceof r?r:t)(a-o);return i.set(e.subarray(o,a)),i},$=function(e,n,r){var l=e.length;if(!l||r&&!r.l&&l<5)return n||new t(0);var s=!n||r,c=!r||r.i;r||(r={}),n||(n=new t(l*3));var d=function(e){var r=n.length;if(e>r){var o=new t(Math.max(r*2,e));o.set(n),n=o}},m=r.f||0,p=r.p||0,f=r.b||0,g=r.l,h=r.d,y=r.m,b=r.n,v=l*8;do{if(!g){r.f=m=I(e,p,1);var S=I(e,p+1,3);if(p+=3,S)if(S==1)g=R,h=E,y=9,b=5;else if(S==2){var N=I(e,p,31)+257,M=I(e,p+10,15)+4,w=N+I(e,p+5,31)+1;p+=14;for(var A=new t(w),F=new t(19),O=0;O<M;++O)F[i[O]]=I(e,p+O*3,7);p+=M*3;for(var B=k(F),W=(1<<B)-1,q=C(F,B,1),O=0;O<w;){var U=q[I(e,p,W)];p+=U&15;var L=U>>>4;if(L<16)A[O++]=L;else{var V=0,H=0;for(L==16?(H=3+I(e,p,3),p+=2,V=A[O-1]):L==17?(H=3+I(e,p,7),p+=3):L==18&&(H=11+I(e,p,127),p+=7);H--;)A[O++]=V}}var G=A.subarray(0,N),z=A.subarray(N);y=k(G),b=k(z),g=C(G,y,1),h=C(z,b,1)}else throw"invalid block type";else{var L=D(p)+4,$=e[L-4]|e[L-3]<<8,P=L+$;if(P>l){if(c)throw"unexpected EOF";break}s&&d(f+$),n.set(e.subarray(L,P),f),r.b=f+=$,r.p=p=P*8;continue}if(p>v){if(c)throw"unexpected EOF";break}}s&&d(f+131072);for(var j=(1<<y)-1,K=(1<<b)-1,Q=p;;Q=p){var V=g[T(e,p)&j],X=V>>>4;if(p+=V&15,p>v){if(c)throw"unexpected EOF";break}if(!V)throw"invalid length/literal";if(X<256)n[f++]=X;else if(X==256){Q=p,g=null;break}else{var Y=X-254;if(X>264){var O=X-257,J=o[O];Y=I(e,p,(1<<J)-1)+u[O],p+=J}var Z=h[T(e,p)&K],ee=Z>>>4;if(!Z)throw"invalid distance";p+=Z&15;var z=_[ee];if(ee>3){var J=a[ee];z+=T(e,p)&(1<<J)-1,p+=J}if(p>v){if(c)throw"unexpected EOF";break}s&&d(f+131072);for(var te=f+Y;f<te;f+=4)n[f]=n[f-z],n[f+1]=n[f+1-z],n[f+2]=n[f+2-z],n[f+3]=n[f+3-z];f=te}}r.l=g,r.p=Q,r.b=f,g&&(m=1,r.m=y,r.d=h,r.n=b)}while(!m);return f==n.length?n:x(n,0,f)},P=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},N=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},M=function(e,r){for(var o=[],a=0;a<e.length;++a)e[a]&&o.push({s:a,f:e[a]});var i=o.length,l=o.slice();if(!i)return[q,0];if(i==1){var s=new t(o[0].s+1);return s[o[0].s]=1,[s,1]}o.sort(function(e,t){return e.f-t.f}),o.push({s:-1,f:25001});var u=o[0],c=o[1],d=0,m=1,p=2;for(o[0]={s:-1,f:u.f+c.f,l:u,r:c};m!=i-1;)u=o[o[d].f<o[p].f?d++:p++],c=o[d!=m&&o[d].f<o[p].f?d++:p++],o[m++]={s:-1,f:u.f+c.f,l:u,r:c};for(var _=l[0].s,a=1;a<i;++a)l[a].s>_&&(_=l[a].s);var f=new n(_+1),g=w(o[m-1],f,0);if(g>r){var a=0,h=0,y=g-r,C=1<<y;for(l.sort(function(e,t){return f[t.s]-f[e.s]||e.f-t.f});a<i;++a){var b=l[a].s;if(f[b]>r)h+=C-(1<<g-f[b]),f[b]=r;else break}for(h>>>=y;h>0;){var v=l[a].s;f[v]<r?h-=1<<r-f[v]++-1:++a}for(;a>=0&&h;--a){var S=l[a].s;f[S]==r&&(--f[S],++h)}g=r}return[new t(f),g]},w=function(e,t,n){return e.s==-1?Math.max(w(e.l,t,n+1),w(e.r,t,n+1)):t[e.s]=n},A=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new n(++t),o=0,a=e[0],i=1,l=function(e){r[o++]=e},s=1;s<=t;++s)if(e[s]==a&&s!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[s]}return[r.subarray(0,o),t]},F=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},O=function(e,t,n){var r=n.length,o=D(t+2);e[o]=r&255,e[o+1]=r>>>8,e[o+2]=e[o]^255,e[o+3]=e[o+1]^255;for(var a=0;a<r;++a)e[o+a+4]=n[a];return(o+4+r)*8},B=function(e,t,r,l,s,u,c,d,m,p,_){P(t,_++,r),++s[256];for(var f=M(s,15),g=f[0],h=f[1],y=M(u,15),R=y[0],E=y[1],k=A(g),I=k[0],T=k[1],D=A(R),x=D[0],$=D[1],w=new n(19),B=0;B<I.length;++B)w[I[B]&31]++;for(var B=0;B<x.length;++B)w[x[B]&31]++;for(var W=M(w,7),q=W[0],U=W[1],V=19;V>4&&!q[i[V-1]];--V);var H=p+5<<3,G=F(s,b)+F(u,v)+c,z=F(s,g)+F(u,R)+c+14+3*V+F(w,q)+(2*w[16]+3*w[17]+7*w[18]);if(H<=G&&H<=z)return O(t,_,e.subarray(m,m+p));var j,K,Q,X;if(P(t,_,1+(z<G)),_+=2,z<G){j=C(g,h,0),K=g,Q=C(R,E,0),X=R;var Y=C(q,U,0);P(t,_,T-257),P(t,_+5,$-1),P(t,_+10,V-4),_+=14;for(var B=0;B<V;++B)P(t,_+3*B,q[i[B]]);_+=3*V;for(var J=[I,x],Z=0;Z<2;++Z)for(var ee=J[Z],B=0;B<ee.length;++B){var te=ee[B]&31;P(t,_,Y[te]),_+=q[te],te>15&&(P(t,_,ee[B]>>>5&127),_+=ee[B]>>>12)}}else j=S,K=b,Q=L,X=v;for(var B=0;B<d;++B)if(l[B]>255){var te=l[B]>>>18&31;N(t,_,j[te+257]),_+=K[te+257],te>7&&(P(t,_,l[B]>>>23&31),_+=o[te]);var ne=l[B]&31;N(t,_,Q[ne]),_+=X[ne],ne>3&&(N(t,_,l[B]>>>5&8191),_+=a[ne])}else N(t,_,j[l[B]]),_+=K[l[B]];return N(t,_,j[256]),_+K[256]},W=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),q=new t(0),U=function(e,i,l,s,u,c){var d=e.length,p=new t(s+d+5*(1+Math.ceil(d/7e3))+u),_=p.subarray(s,p.length-u),g=0;if(!i||d<8)for(var h=0;h<=d;h+=65535){var y=h+65535;y<d?g=O(_,g,e.subarray(h,y)):(_[h]=c,g=O(_,g,e.subarray(h,d)))}else{for(var C=W[i-1],b=C>>>13,v=C&8191,S=(1<<l)-1,R=new n(32768),L=new n(S+1),E=Math.ceil(l/3),k=2*E,I=function(t){return(e[t]^e[t+1]<<E^e[t+2]<<k)&S},T=new r(25e3),$=new n(288),P=new n(32),N=0,M=0,h=0,w=0,A=0,F=0;h<d;++h){var U=I(h),V=h&32767,H=L[U];if(R[V]=H,L[U]=V,A<=h){var G=d-h;if((N>7e3||w>24576)&&G>423){g=B(e,_,0,T,$,P,M,w,F,h-F,g),w=N=M=0,F=h;for(var z=0;z<286;++z)$[z]=0;for(var z=0;z<30;++z)P[z]=0}var j=2,K=0,Q=v,X=V-H&32767;if(G>2&&U==I(h-X))for(var Y=Math.min(b,G)-1,J=Math.min(32767,h),Z=Math.min(258,G);X<=J&&--Q&&V!=H;){if(e[h+j]==e[h+j-X]){for(var ee=0;ee<Z&&e[h+ee]==e[h+ee-X];++ee);if(ee>j){if(j=ee,K=X,ee>Y)break;for(var te=Math.min(X,ee-2),ne=0,z=0;z<te;++z){var re=h-X+z+32768&32767,oe=R[re],ae=re-oe+32768&32767;ae>ne&&(ne=ae,H=re)}}}V=H,H=R[V],X+=V-H+32768&32767}if(K){T[w++]=268435456|m[j]<<18|f[K];var ie=m[j]&31,le=f[K]&31;M+=o[ie]+a[le],++$[257+ie],++P[le],A=h+j,++N}else T[w++]=e[h],++$[e[h]]}}g=B(e,_,c,T,$,P,M,w,F,h-F,g),!c&&g&7&&(g=O(_,g+1,q))}return x(p,0,s+D(g)+u)},V=(function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(n&1&&-306674912)^n>>>1;e[t]=n}return e})(),H=function(){var e=-1;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=V[n&255^t[r]]^n>>>8;e=n},d:function(){return~e}}},G=function(){var e=1,t=0;return{p:function(n){for(var r=e,o=t,a=n.length,i=0;i!=a;){for(var l=Math.min(i+2655,a);i<l;++i)o+=r+=n[i];r=(r&65535)+15*(r>>16),o=(o&65535)+15*(o>>16)}e=r,t=o},d:function(){return e%=65521,t%=65521,(e&255)<<24|e>>>8<<16|(t&255)<<8|t>>>8}}},z=function(e,t,n,r,o){return U(e,t.level==null?6:t.level,t.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):12+t.mem,n,r,!o)},j=function(e,t){var n={};for(var r in e)n[r]=e[r];for(var r in t)n[r]=t[r];return n},K=function(e,t,n){for(var r=e(),o=e.toString(),a=o.slice(o.indexOf("[")+1,o.lastIndexOf("]")).replace(/ /g,"").split(","),i=0;i<r.length;++i){var l=r[i],s=a[i];if(typeof l=="function"){t+=";"+s+"=";var u=l.toString();if(l.prototype)if(u.indexOf("[native code]")!=-1){var c=u.indexOf(" ",8)+1;t+=u.slice(c,u.indexOf("(",c))}else{t+=u;for(var d in l.prototype)t+=";"+s+".prototype."+d+"="+l.prototype[d].toString()}else t+=u}else n[s]=l}return[t,n]},Q=[],X=function(e){var o=[];for(var a in e)(e[a]instanceof t||e[a]instanceof n||e[a]instanceof r)&&o.push((e[a]=new e[a].constructor(e[a])).buffer);return o},Y=function(t,n,r,o){var a;if(!Q[r]){for(var i="",l={},s=t.length-1,u=0;u<s;++u)a=K(t[u],i,l),i=a[0],l=a[1];Q[r]=K(t[s],i,l)}var c=j({},Q[r][1]);return e.default(Q[r][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+n.toString()+"}",r,c,X(c),o)},J=function(){return[t,n,r,o,a,i,u,_,R,E,g,C,k,I,T,D,x,$,Ie,oe,ae]},Z=function(){return[t,n,r,o,a,i,m,f,S,b,L,v,g,W,q,C,P,N,M,w,A,F,O,B,D,x,U,z,Re,oe]},ee=function(){return[pe,ge,me,H,V]},te=function(){return[_e,fe]},ne=function(){return[he,me,G]},re=function(){return[ye]},oe=function(e){return postMessage(e,[e.buffer])},ae=function(e){return e&&e.size&&new t(e.size)},ie=function(e,t,n,r,o,a){var i=Y(n,r,o,function(e,t){i.terminate(),a(e,t)});return i.postMessage([e,t],t.consume?[e.buffer]:[]),function(){i.terminate()}},le=function(e){return e.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(t){return e.push(t.data[0],t.data[1])}},se=function(e,t,n,r,o){var a,i=Y(e,r,o,function(e,n){e?(i.terminate(),t.ondata.call(t,e)):(n[1]&&i.terminate(),t.ondata.call(t,e,n[0],n[1]))});i.postMessage(n),t.push=function(e,n){if(a)throw"stream finished";if(!t.ondata)throw"no stream handler";i.postMessage([e,a=n],[e.buffer])},t.terminate=function(){i.terminate()}},ue=function(e,t){return e[t]|e[t+1]<<8},ce=function(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0},de=function(e,t){return ce(e,t)+ce(e,t+4)*4294967296},me=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},pe=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&me(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},_e=function(e){if(e[0]!=31||e[1]!=139||e[2]!=8)throw"invalid gzip data";var t=e[3],n=10;t&4&&(n+=e[10]|(e[11]<<8)+2);for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(t&2)},fe=function(e){var t=e.length;return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0},ge=function(e){return 10+(e.filename&&e.filename.length+1||0)},he=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;e[0]=120,e[1]=r<<6|(r?32-2*r:1)},ye=function(e){if((e[0]&15)!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(e[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ce(e,t){return!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,e}var be=(function(){function e(e,t){!t&&typeof e=="function"&&(t=e,e={}),this.ondata=t,this.o=e||{}}return e.prototype.p=function(e,t){this.ondata(z(e,this.o,0,0,!t),t)},e.prototype.push=function(e,t){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=t,this.p(e,t||!1)},e})();d.Deflate=be;var ve=(function(){function e(e,t){se([Z,function(){return[le,be]}],this,Ce.call(this,e,t),function(e){var t=new be(e.data);onmessage=le(t)},6)}return e})();d.AsyncDeflate=ve;function Se(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z],function(e){return oe(Re(e.data[0],e.data[1]))},0,n)}d.deflate=Se;function Re(e,t){return z(e,t||{},0,0)}d.deflateSync=Re;var Le=(function(){function e(e){this.s={},this.p=new t(0),this.ondata=e}return e.prototype.e=function(e){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var n=this.p.length,r=new t(n+e.length);r.set(this.p),r.set(e,n),this.p=r},e.prototype.c=function(e){this.d=this.s.i=e||!1;var t=this.s.b,n=$(this.p,this.o,this.s);this.ondata(x(n,t,this.s.b),this.d),this.o=x(n,this.s.b-32768),this.s.b=this.o.length,this.p=x(this.p,this.s.p/8|0),this.s.p&=7},e.prototype.push=function(e,t){this.e(e),this.c(t)},e})();d.Inflate=Le;var Ee=(function(){function e(e){this.ondata=e,se([J,function(){return[le,Le]}],this,0,function(){var e=new Le;onmessage=le(e)},7)}return e})();d.AsyncInflate=Ee;function ke(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J],function(e){return oe(Ie(e.data[0],ae(e.data[1])))},1,n)}d.inflate=ke;function Ie(e,t){return $(e,t)}d.inflateSync=Ie;var Te=(function(){function e(e,t){this.c=H(),this.l=0,this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e),this.l+=e.length;var n=z(e,this.o,this.v&&ge(this.o),t&&8,!t);this.v&&(pe(n,this.o),this.v=0),t&&(me(n,n.length-8,this.c.d()),me(n,n.length-4,this.l)),this.ondata(n,t)},e})();d.Gzip=Te,d.Compress=Te;var De=(function(){function e(e,t){se([Z,ee,function(){return[le,be,Te]}],this,Ce.call(this,e,t),function(e){var t=new Te(e.data);onmessage=le(t)},8)}return e})();d.AsyncGzip=De,d.AsyncCompress=De;function xe(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z,ee,function(){return[$e]}],function(e){return oe($e(e.data[0],e.data[1]))},2,n)}d.gzip=xe,d.compress=xe;function $e(e,t){t||(t={});var n=H(),r=e.length;n.p(e);var o=z(e,t,ge(t),8),a=o.length;return pe(o,t),me(o,a-8,n.d()),me(o,a-4,r),o}d.gzipSync=$e,d.compressSync=$e;var Pe=(function(){function e(e){this.v=1,Le.call(this,e)}return e.prototype.push=function(e,t){if(Le.prototype.e.call(this,e),this.v){var n=this.p.length>3?_e(this.p):4;if(n>=this.p.length&&!t)return;this.p=this.p.subarray(n),this.v=0}if(t){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}Le.prototype.c.call(this,t)},e})();d.Gunzip=Pe;var Ne=(function(){function e(e){this.ondata=e,se([J,te,function(){return[le,Le,Pe]}],this,0,function(){var e=new Pe;onmessage=le(e)},9)}return e})();d.AsyncGunzip=Ne;function Me(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J,te,function(){return[we]}],function(e){return oe(we(e.data[0]))},3,n)}d.gunzip=Me;function we(e,n){return $(e.subarray(_e(e),-8),n||new t(fe(e)))}d.gunzipSync=we;var Ae=(function(){function e(e,t){this.c=G(),this.v=1,be.call(this,e,t)}return e.prototype.push=function(e,t){be.prototype.push.call(this,e,t)},e.prototype.p=function(e,t){this.c.p(e);var n=z(e,this.o,this.v&&2,t&&4,!t);this.v&&(he(n,this.o),this.v=0),t&&me(n,n.length-4,this.c.d()),this.ondata(n,t)},e})();d.Zlib=Ae;var Fe=(function(){function e(e,t){se([Z,ne,function(){return[le,be,Ae]}],this,Ce.call(this,e,t),function(e){var t=new Ae(e.data);onmessage=le(t)},10)}return e})();d.AsyncZlib=Fe;function Oe(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[Z,ne,function(){return[Be]}],function(e){return oe(Be(e.data[0],e.data[1]))},4,n)}d.zlib=Oe;function Be(e,t){t||(t={});var n=G();n.p(e);var r=z(e,t,2,4);return he(r,t),me(r,r.length-4,n.d()),r}d.zlibSync=Be;var We=(function(){function e(e){this.v=1,Le.call(this,e)}return e.prototype.push=function(e,t){if(Le.prototype.e.call(this,e),this.v){if(this.p.length<2&&!t)return;this.p=this.p.subarray(2),this.v=0}if(t){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}Le.prototype.c.call(this,t)},e})();d.Unzlib=We;var qe=(function(){function e(e){this.ondata=e,se([J,re,function(){return[le,Le,We]}],this,0,function(){var e=new We;onmessage=le(e)},11)}return e})();d.AsyncUnzlib=qe;function Ue(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return ie(e,t,[J,re,function(){return[Ve]}],function(e){return oe(Ve(e.data[0],ae(e.data[1])))},5,n)}d.unzlib=Ue;function Ve(e,t){return $((ye(e),e.subarray(2,-4)),t)}d.unzlibSync=Ve;var He=(function(){function e(e){this.G=Pe,this.I=Le,this.Z=We,this.ondata=e}return e.prototype.push=function(e,n){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(e,n);else{if(this.p&&this.p.length){var r=new t(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length)}else this.p=e;if(this.p.length>2){var o=this,a=function(){o.ondata.apply(o,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(a):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(a):new this.Z(a),this.s.push(this.p,n),this.p=null}}},e})();d.Decompress=He;var Ge=(function(){function e(e){this.G=Ne,this.I=Ee,this.Z=qe,this.ondata=e}return e.prototype.push=function(e,t){He.prototype.push.call(this,e,t)},e})();d.AsyncDecompress=Ge;function ze(e,t,n){if(n||(n=t,t={}),typeof n!="function")throw"no callback";return e[0]==31&&e[1]==139&&e[2]==8?Me(e,t,n):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?ke(e,t,n):Ue(e,t,n)}d.decompress=ze;function je(e,t){return e[0]==31&&e[1]==139&&e[2]==8?we(e,t):(e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31?Ie(e,t):Ve(e,t)}d.decompressSync=je;var Ke=function(e,n,r,o){for(var a in e){var i=e[a],l=n+a;i instanceof t?r[l]=[i,o]:Array.isArray(i)?r[l]=[i[0],j(o,i[1])]:Ke(i,l+"/",r,o)}},Qe=typeof TextEncoder!="undefined"&&new TextEncoder,Xe=typeof TextDecoder!="undefined"&&new TextDecoder,Ye=0;try{Xe.decode(q,{stream:!0}),Ye=1}catch(e){}var Je=function(e){for(var t="",n=0;;){var r=e[n++],o=(r>127)+(r>223)+(r>239);if(n+o>e.length)return[t,x(e,n-1)];o?o==3?(r=((r&15)<<18|(e[n++]&63)<<12|(e[n++]&63)<<6|e[n++]&63)-65536,t+=String.fromCharCode(55296|r>>10,56320|r&1023)):o&1?t+=String.fromCharCode((r&31)<<6|e[n++]&63):t+=String.fromCharCode((r&15)<<12|(e[n++]&63)<<6|e[n++]&63):t+=String.fromCharCode(r)}},Ze=(function(){function e(e){this.ondata=e,Ye?this.t=new TextDecoder:this.p=q}return e.prototype.push=function(e,n){if(!this.ondata)throw"no callback";if(n=!!n,this.t){if(this.ondata(this.t.decode(e,{stream:!0}),n),n){if(this.t.decode().length)throw"invalid utf-8 data";this.t=null}return}if(!this.p)throw"stream finished";var r=new t(this.p.length+e.length);r.set(this.p),r.set(e,this.p.length);var o=Je(r),a=o[0],i=o[1];if(n){if(i.length)throw"invalid utf-8 data";this.p=null}else this.p=i;this.ondata(a,n)},e})();d.DecodeUTF8=Ze;var et=(function(){function e(e){this.ondata=e}return e.prototype.push=function(e,t){if(!this.ondata)throw"no callback";if(this.d)throw"stream finished";this.ondata(tt(e),this.d=t||!1)},e})();d.EncodeUTF8=et;function tt(e,n){if(n){for(var r=new t(e.length),o=0;o<e.length;++o)r[o]=e.charCodeAt(o);return r}if(Qe)return Qe.encode(e);for(var a=e.length,i=new t(e.length+(e.length>>1)),l=0,s=function(e){i[l++]=e},o=0;o<a;++o){if(l+5>i.length){var u=new t(l+8+(a-o<<1));u.set(i),i=u}var c=e.charCodeAt(o);c<128||n?s(c):c<2048?(s(192|c>>6),s(128|c&63)):c>55295&&c<57344?(c=65536+(c&1047552)|e.charCodeAt(++o)&1023,s(240|c>>18),s(128|c>>12&63),s(128|c>>6&63),s(128|c&63)):(s(224|c>>12),s(128|c>>6&63),s(128|c&63))}return x(i,0,l)}d.strToU8=tt;function nt(e,t){if(t){for(var n="",r=0;r<e.length;r+=16384)n+=String.fromCharCode.apply(null,e.subarray(r,r+16384));return n}else{if(Xe)return Xe.decode(e);var o=Je(e),a=o[0],i=o[1];if(i.length)throw"invalid utf-8 data";return a}}d.strFromU8=nt;var rt=function(e){return e==1?3:e<6?2:e==9?1:0},ot=function(e,t){return t+30+ue(e,t+26)+ue(e,t+28)},at=function(e,t,n){var r=ue(e,t+28),o=nt(e.subarray(t+46,t+46+r),!(ue(e,t+8)&2048)),a=t+46+r,i=ce(e,t+20),l=n&&i==4294967295?it(e,a):[i,ce(e,t+24),ce(e,t+42)],s=l[0],u=l[1],c=l[2];return[ue(e,t+10),s,u,o,a+ue(e,t+30)+ue(e,t+32),c]},it=function(e,t){for(;ue(e,t)!=1;t+=4+ue(e,t+2));return[de(e,t+12),de(e,t+4),de(e,t+20)]},lt=function(e){var t=0;if(e)for(var n in e){var r=e[n].length;if(r>65535)throw"extra field too long";t+=r+4}return t},st=function(e,t,n,r,o,a,i,l){var s=r.length,u=n.extra,c=l&&l.length,d=lt(u);me(e,t,i!=null?33639248:67324752),t+=4,i!=null&&(e[t++]=20,e[t++]=n.os),e[t]=20,t+=2,e[t++]=n.flag<<1|(a==null&&8),e[t++]=o&&8,e[t++]=n.compression&255,e[t++]=n.compression>>8;var m=new Date(n.mtime==null?Date.now():n.mtime),p=m.getFullYear()-1980;if(p<0||p>119)throw"date not in range 1980-2099";if(me(e,t,p<<25|m.getMonth()+1<<21|m.getDate()<<16|m.getHours()<<11|m.getMinutes()<<5|m.getSeconds()>>>1),t+=4,a!=null&&(me(e,t,n.crc),me(e,t+4,a),me(e,t+8,n.size)),me(e,t+12,s),me(e,t+14,d),t+=16,i!=null&&(me(e,t,c),me(e,t+6,n.attrs),me(e,t+10,i),t+=14),e.set(r,t),t+=s,d)for(var _ in u){var f=u[_],g=f.length;me(e,t,+_),me(e,t+2,g),e.set(f,t+4),t+=4+g}return c&&(e.set(l,t),t+=c),t},ut=function(e,t,n,r,o){me(e,t,101010256),me(e,t+8,n),me(e,t+10,n),me(e,t+12,r),me(e,t+16,o)},ct=(function(){function e(e){this.filename=e,this.c=H(),this.size=0,this.compression=0}return e.prototype.process=function(e,t){this.ondata(null,e,t)},e.prototype.push=function(e,t){if(!this.ondata)throw"no callback - add to ZIP archive before pushing";this.c.p(e),this.size+=e.length,t&&(this.crc=this.c.d()),this.process(e,t||!1)},e})();d.ZipPassThrough=ct;var dt=(function(){function e(e,t){var n=this;t||(t={}),ct.call(this,e),this.d=new be(t,function(e,t){n.ondata(null,e,t)}),this.compression=8,this.flag=rt(t.level)}return e.prototype.process=function(e,t){try{this.d.push(e,t)}catch(e){this.ondata(e,null,t)}},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e})();d.ZipDeflate=dt;var mt=(function(){function e(e,t){var n=this;t||(t={}),ct.call(this,e),this.d=new ve(t,function(e,t,r){n.ondata(e,t,r)}),this.compression=8,this.flag=rt(t.level),this.terminate=this.d.terminate}return e.prototype.process=function(e,t){this.d.push(e,t)},e.prototype.push=function(e,t){ct.prototype.push.call(this,e,t)},e})();d.AsyncZipDeflate=mt;var pt=(function(){function e(e){this.ondata=e,this.u=[],this.d=1}return e.prototype.add=function(e){var n=this;if(this.d&2)throw"stream finished";var r=tt(e.filename),o=r.length,a=e.comment,i=a&&tt(a),l=o!=e.filename.length||i&&a.length!=i.length,s=o+lt(e.extra)+30;if(o>65535)throw"filename too long";var u=new t(s);st(u,0,e,r,l);var c=[u],d=function(){for(var e=0,t=c;e<t.length;e++){var r=t[e];n.ondata(null,r,!1)}c=[]},m=this.d;this.d=0;var p=this.u.length,_=j(e,{f:r,u:l,o:i,t:function(){e.terminate&&e.terminate()},r:function(){if(d(),m){var e=n.u[p+1];e?e.r():n.d=1}m=1}}),f=0;e.ondata=function(r,o,a){if(r)n.ondata(r,o,a),n.terminate();else if(f+=o.length,c.push(o),a){var i=new t(16);me(i,0,134695760),me(i,4,e.crc),me(i,8,f),me(i,12,e.size),c.push(i),_.c=f,_.b=s+f+16,_.crc=e.crc,_.size=e.size,m&&_.r(),m=1}else m&&d()},this.u.push(_)},e.prototype.end=function(){var e=this;if(this.d&2)throw this.d&1?"stream finishing":"stream finished";this.d?this.e():this.u.push({r:function(){e.d&1&&(e.u.splice(-1,1),e.e())},t:function(){}}),this.d=3},e.prototype.e=function(){for(var e=0,n=0,r=0,o=0,a=this.u;o<a.length;o++){var i=a[o];r+=46+i.f.length+lt(i.extra)+(i.o?i.o.length:0)}for(var l=new t(r+22),s=0,u=this.u;s<u.length;s++){var i=u[s];st(l,e,i,i.f,i.u,i.c,n,i.o),e+=46+i.f.length+lt(i.extra)+(i.o?i.o.length:0),n+=i.b}ut(l,e,this.u.length,r,n),this.ondata(null,l,!0),this.d=2},e.prototype.terminate=function(){for(var e=0,t=this.u;e<t.length;e++){var n=t[e];n.t()}this.d=2},e})();d.Zip=pt;function _t(e,n,r){if(r||(r=n,n={}),typeof r!="function")throw"no callback";var o={};Ke(e,"",o,n);var a=Object.keys(o),i=a.length,l=0,s=0,u=i,c=new Array(i),d=[],m=function(){for(var e=0;e<d.length;++e)d[e]()},p=function(){var e=new t(s+22),n=l,o=s-l;s=0;for(var a=0;a<u;++a){var i=c[a];try{var d=i.c.length;st(e,s,i,i.f,i.u,d);var m=30+i.f.length+lt(i.extra),p=s+m;e.set(i.c,p),st(e,l,i,i.f,i.u,d,s,i.m),l+=16+m+(i.m?i.m.length:0),s=p+d}catch(e){return r(e,null)}}ut(e,l,c.length,o,n),r(null,e)};i||p();for(var _=function(e){var t=a[e],n=o[t],u=n[0],_=n[1],f=H(),g=u.length;f.p(u);var h=tt(t),y=h.length,C=_.comment,b=C&&tt(C),v=b&&b.length,S=lt(_.extra),R=_.level==0?0:8,L=function(n,o){if(n)m(),r(n,null);else{var a=o.length;c[e]=j(_,{size:g,crc:f.d(),c:o,f:h,m:b,u:y!=t.length||b&&C.length!=v,compression:R}),l+=30+y+S+a,s+=76+2*(y+S)+(v||0)+a,--i||p()}};if(y>65535&&L("filename too long",null),!R)L(null,u);else if(g<16e4)try{L(null,Re(u,_))}catch(e){L(e,null)}else d.push(Se(u,_,L))},f=0;f<u;++f)_(f);return m}d.zip=_t;function ft(e,n){n||(n={});var r={},o=[];Ke(e,"",r,n);var a=0,i=0;for(var l in r){var s=r[l],u=s[0],c=s[1],d=c.level==0?0:8,m=tt(l),p=m.length,_=c.comment,f=_&&tt(_),g=f&&f.length,h=lt(c.extra);if(p>65535)throw"filename too long";var y=d?Re(u,c):u,C=y.length,b=H();b.p(u),o.push(j(c,{size:u.length,crc:b.d(),c:y,f:m,m:f,u:p!=l.length||f&&_.length!=g,o:a,compression:d})),a+=30+p+h+C,i+=76+2*(p+h)+(g||0)+C}for(var v=new t(i+22),S=a,R=i-a,L=0;L<o.length;++L){var m=o[L];st(v,m.o,m,m.f,m.u,m.c.length);var E=30+m.f.length+lt(m.extra);v.set(m.c,m.o+E),st(v,a,m,m.f,m.u,m.c.length,m.o,m.m),a+=16+E+(m.m?m.m.length:0)}return ut(v,a,o.length,R,S),v}d.zipSync=ft;var gt=(function(){function e(){}return e.prototype.push=function(e,t){this.ondata(null,e,t)},e.compression=0,e})();d.UnzipPassThrough=gt;var ht=(function(){function e(){var e=this;this.i=new Le(function(t,n){e.ondata(null,t,n)})}return e.prototype.push=function(e,t){try{this.i.push(e,t)}catch(n){this.ondata(n,e,t)}},e.compression=8,e})();d.UnzipInflate=ht;var yt=(function(){function e(e,t){var n=this;t<32e4?this.i=new Le(function(e,t){n.ondata(null,e,t)}):(this.i=new Ee(function(e,t,r){n.ondata(e,t,r)}),this.terminate=this.i.terminate)}return e.prototype.push=function(e,t){this.i.terminate&&(e=x(e,0)),this.i.push(e,t)},e.compression=8,e})();d.AsyncUnzipInflate=yt;var Ct=(function(){function e(e){this.onfile=e,this.k=[],this.o={0:gt},this.p=q}return e.prototype.push=function(e,n){var r=this;if(!this.onfile)throw"no callback";if(!this.p)throw"stream finished";if(this.c>0){var o=Math.min(this.c,e.length),a=e.subarray(0,o);if(this.c-=o,this.d?this.d.push(a,!this.c):this.k[0].push(a),e=e.subarray(o),e.length)return this.push(e,n)}else{var i=0,l=0,s=void 0,u=void 0;this.p.length?e.length?(u=new t(this.p.length+e.length),u.set(this.p),u.set(e,this.p.length)):u=this.p:u=e;for(var c=u.length,d=this.c,m=d&&this.d,p=function(){var e,t=ce(u,l);if(t==67324752){i=1,s=l,_.d=null,_.c=0;var n=ue(u,l+6),o=ue(u,l+8),a=n&2048,m=n&8,p=ue(u,l+26),f=ue(u,l+28);if(c>l+30+p+f){var g=[];_.k.unshift(g),i=2;var h=ce(u,l+18),y=ce(u,l+22),C=nt(u.subarray(l+30,l+=30+p),!a);h==4294967295?(e=m?[-2]:it(u,l),h=e[0],y=e[1]):m&&(h=-1),l+=f,_.c=h;var b,v={name:C,compression:o,start:function(){if(!v.ondata)throw"no callback";if(!h)v.ondata(null,q,!0);else{var e=r.o[o];if(!e)throw"unknown compression type "+o;b=h<0?new e(C):new e(C,h,y),b.ondata=function(e,t,n){v.ondata(e,t,n)};for(var t=0,n=g;t<n.length;t++){var a=n[t];b.push(a,!1)}r.k[0]==g&&r.c?r.d=b:b.push(q,!0)}},terminate:function(){b&&b.terminate&&b.terminate()}};h>=0&&(v.size=h,v.originalSize=y),_.onfile(v)}return"break"}else if(d){if(t==134695760)return s=l+=12+(d==-2&&8),i=3,_.c=0,"break";if(t==33639248)return s=l-=4,i=3,_.c=0,"break"}},_=this;l<c-4;++l){var f=p();if(f==="break")break}if(this.p=q,d<0){var g=i?u.subarray(0,s-12-(d==-2&&8)-(ce(u,s-16)==134695760&&4)):u.subarray(0,l);m?m.push(g,!!i):this.k[+(i==2)].push(g)}if(i&2)return this.push(u.subarray(l),n);this.p=u.subarray(l)}if(n){if(this.c)throw"invalid zip file";this.p=null}},e.prototype.register=function(e){this.o[e.compression]=e},e})();d.Unzip=Ct;function bt(e,n){if(typeof n!="function")throw"no callback";for(var r=[],o=function(){for(var e=0;e<r.length;++e)r[e]()},a={},i=e.length-22;ce(e,i)!=101010256;--i)if(!i||e.length-i>65558){n("invalid zip file",null);return}var l=ue(e,i+8);l||n(null,{});var s=l,u=ce(e,i+16),c=u==4294967295;if(c){if(i=ce(e,i-12),ce(e,i)!=101075792){n("invalid zip file",null);return}s=l=ce(e,i+32),u=ce(e,i+48)}for(var d=function(i){var s=at(e,u,c),d=s[0],m=s[1],p=s[2],_=s[3],f=s[4],g=s[5],h=ot(e,g);u=f;var y=function(e,t){e?(o(),n(e,null)):(a[_]=t,--l||n(null,a))};if(!d)y(null,x(e,h,h+m));else if(d==8){var C=e.subarray(h,h+m);if(m<32e4)try{y(null,Ie(C,new t(p)))}catch(e){y(e,null)}else r.push(ke(C,{size:p},y))}else y("unknown compression type "+d,null)},m=0;m<s;++m)d(m);return o}d.unzip=bt;function vt(e){for(var n={},r=e.length-22;ce(e,r)!=101010256;--r)if(!r||e.length-r>65558)throw"invalid zip file";var o=ue(e,r+8);if(!o)return{};var a=ce(e,r+16),i=a==4294967295;if(i){if(r=ce(e,r-12),ce(e,r)!=101075792)throw"invalid zip file";o=ce(e,r+32),a=ce(e,r+48)}for(var l=0;l<o;++l){var s=at(e,a,i),u=s[0],c=s[1],d=s[2],m=s[3],p=s[4],_=s[5],f=ot(e,_);if(a=p,!u)n[m]=x(e,f,f+c);else if(u==8)n[m]=Ie(e.subarray(f,f+c),new t(d));else throw"unknown compression type "+u}return n}d.unzipSync=vt}var _=!1;function f(){return _||(_=!0,p()),m.exports}function g(e){switch(e){case void 0:return f()}}a.exports=g}),null);
__d("fflate",["fflate-0.6.10"],(function(t,n,r,o,a,i){a.exports=n("fflate-0.6.10")()}),null);
__d("WAGzip",["Promise","err","fflate"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.$GzipWrapper$p_2=[],n.ondata=function(e,t){if(n.$GzipWrapper$p_2.push(e),!!t){var r=0;n.$GzipWrapper$p_2.forEach(function(e){r+=e.length});var o=new Uint8Array(r),a=0;n.$GzipWrapper$p_2.forEach(function(e){o.set(e,a),a+=e.length}),n.$GzipWrapper$p_1=o}},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.push=function(n,a){if(this.$GzipWrapper$p_1!=null)throw r("err")("Tried to push chunk to compressor after final block");n instanceof Uint8Array?e.prototype.push.call(this,n,a):n instanceof ArrayBuffer?e.prototype.push.call(this,new Uint8Array(n),a):e.prototype.push.call(this,o("fflate").strToU8(n),a)},n.result=function(){if(this.$GzipWrapper$p_1==null)throw r("err")("Tried to access result before adding final block");return this.$GzipWrapper$p_1},t})(o("fflate").Gzip);function u(e){return e===void 0&&(e={}),new s(e)}function c(e){return o("fflate").decompressSync(e)}function d(t){return(e||(e=n("Promise"))).resolve(c(t))}l.GzipWrapper=s,l.createDeflate=u,l.inflate=c,l.gzipInflate=d}),98);
__d("WAIsoToCc",[],(function(t,n,r,o,a,i){var e={ES:34,DE:49,MX:52,GB:44,SA:966,IT:39,AF:93,AX:358,AL:355,DZ:213,AS:1,AD:376,AO:244,AI:1,AG:1,AR:54,AM:374,AW:297,AC:247,AU:61,AT:43,AZ:994,BS:1,BH:973,BD:880,BB:1,BY:375,BE:32,BZ:501,BJ:229,BM:1,BT:975,BO:591,BQ:599,BA:387,BW:267,BR:55,IO:246,VG:1,BN:673,BG:359,BF:226,BI:257,CI:225,KH:855,CM:237,CA:1,CV:238,KY:1,CF:236,TD:235,CL:56,CN:86,CX:61,CC:61,CO:57,KM:269,CG:242,CD:243,CK:682,CR:506,HR:385,CU:53,CW:599,CY:357,CZ:420,DK:45,DJ:253,DM:1,DO:1,EC:593,EG:20,SV:503,GQ:240,ER:291,EE:372,ET:251,FK:500,FO:298,FJ:679,FI:358,FR:33,GF:594,PF:689,GA:241,GM:220,GE:995,GH:233,GI:350,GR:30,GL:299,GD:1,GP:590,GU:1,GT:502,GG:44,GN:224,GW:245,GY:592,HT:509,HN:504,HK:852,HU:36,IS:354,IN:91,ID:62,IR:98,IQ:964,IE:353,IM:44,IL:972,JM:1,JP:81,JE:44,JO:962,KZ:7,KE:254,KI:686,KW:965,KG:996,LA:856,LV:371,LB:961,LS:266,LR:231,LY:218,LI:423,LT:370,LU:352,MO:853,MK:389,MG:261,MW:265,MY:60,MV:960,ML:223,MT:356,MH:692,MQ:596,MR:222,MU:230,YT:262,FM:691,MD:373,MC:377,MN:976,ME:382,MS:1,MA:212,MZ:258,MM:95,NA:264,NR:674,NP:977,NL:31,NC:687,NZ:64,NI:505,NE:227,NG:234,NU:683,NF:672,KP:850,MP:1,NO:47,OM:968,PK:92,PW:680,PS:970,PA:507,PG:675,PY:595,PE:51,PH:63,PL:48,PT:351,PR:1,QA:974,RO:40,RU:7,RW:250,RE:262,BL:590,SH:290,KN:1,LC:1,MF:590,PM:508,VC:1,WS:685,SM:378,SN:221,RS:381,SC:248,SL:232,SG:65,SX:1,SK:421,SI:386,SB:677,SO:252,ZA:27,KR:82,SS:211,LK:94,SD:249,SR:597,SJ:47,SZ:268,SE:46,CH:41,SY:963,ST:239,TW:886,TJ:992,TZ:255,TH:66,TL:670,TG:228,TK:690,TO:676,TT:1,TN:216,TR:90,TM:993,TC:1,TV:688,VI:1,UG:256,UA:380,AE:971,US:1,UY:598,UZ:998,VU:678,VA:379,VE:58,VN:84,WF:681,YE:967,ZM:260,ZW:263,XK:383},l=e;i.default=l}),66);
__d("WAServerMediaType",[],(function(t,n,r,o,a,i){"use strict";var e=["image","sticker","ptt","audio","document","video","gif","ppic","md-app-state","md-msg-hist","kyc-id","template","thumbnail-image","thumbnail-video","thumbnail-gif","thumbnail-document","thumbnail-link","payment-bg-image","novi-video","novi-image","xma-image","biz-cover-photo","preview","newsletter-music-artwork","newsletter-audio","newsletter-document","newsletter-image","newsletter-gif","newsletter-ptt","newsletter-sticker","newsletter-thumbnail-link","newsletter-video","sticker-pack","thumbnail-sticker-pack","music-artwork","group-history"];function l(e){switch(e){case"image":case"sticker":case"ptt":case"audio":case"document":case"video":case"gif":case"ppic":case"md-app-state":case"md-msg-hist":case"kyc-id":case"thumbnail-image":case"thumbnail-video":case"thumbnail-gif":case"thumbnail-document":case"thumbnail-link":case"payment-bg-image":case"novi-video":case"novi-image":case"template":case"xma-image":case"biz-cover-photo":case"preview":case"newsletter-music-artwork":case"newsletter-audio":case"newsletter-document":case"newsletter-image":case"newsletter-gif":case"newsletter-ptt":case"newsletter-sticker":case"newsletter-thumbnail-link":case"newsletter-video":case"sticker-pack":case"thumbnail-sticker-pack":case"music-artwork":case"group-history":return e;default:return null}}function s(e){return e==="Image"?"image":e==="Video"?"video":e==="Ptt"?"ptt":e==="Gif"?"gif":e==="Sticker"?"sticker":e==="DocumentFile"?"document":e==="Text"||e==="Futureproof"||e==="Ciphertext"||e==="Unavailable"||e==="ExpiredEphemeral"||e==="Admin"||e==="Revoked"||e==="DeleteForMe"||e==="EphemeralSettingAdmin"||e==="EphemeralSyncResponse"||e==="EphemeralSettingChangeFromCurrentDevice"||e==="AlertICDC"||e==="GroupInvite"||e==="SenderKeyDistribution"||e==="Reaction"||e==="EditAction"||e==="ReceiverFetch"||e==="Raven"||e==="GroupPollCreate"||e==="GroupPollUpdate"?null:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.SERVER_MEDIA=e,i.castToServerMediaType=l,i.getMediaType=s}),66);
__d("WAMediaConnParser",["WADeprecatedWapParser","WAServerMediaType"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("WADeprecatedWapParser"))("mediaConnParser",function(e){var t,n,r=e.child("media_conn"),o=c(r);return{hosts:o,authToken:r.attrString("auth"),authTokenExpiryTs:r.attrFutureTime("auth_ttl"),routesExpiryTs:r.attrFutureTime("ttl"),maxBuckets:r.attrInt("max_buckets"),maxManualRetry:(t=r.maybeAttrInt("max_manual_retry",0,4))!=null?t:3,maxAutoDownloadRetry:(n=r.maybeAttrInt("max_auto_download_retry",0,4))!=null?n:3}});function s(e){var t,n;if(e.hasAttr("fallback_hostname"))return{domain:e.attrString("fallback_hostname"),class:e.maybeAttrString("fallback_class"),ip4:(t=e.maybeAttrString("fallback_ip4"))!=null?t:void 0,ip6:(n=e.maybeAttrString("fallback_ip6"))!=null?n:void 0}}function u(e){var t,n,r,o;return{domain:e.attrString("hostname"),fallback:s(e),uploadable:d(e,"upload"),downloadable:d(e,"download"),isFallback:e.maybeAttrString("type")==="fallback",downloadBuckets:(t=(n=e.maybeChild("download_buckets"))==null?void 0:n.mapChildren(function(e){return parseInt(e.tag(),10)}))!=null?t:[],class:e.maybeAttrString("class"),ip4:(r=e.maybeAttrString("ip4"))!=null?r:void 0,ip6:(o=e.maybeAttrString("ip6"))!=null?o:void 0}}function c(e){return e.mapChildrenWithTag("host",u)}function d(e,t){return e.hasChild(t)?e.child(t).mapChildren(function(e){var t=e.tag();return o("WAServerMediaType").castToServerMediaType(t)}).filter(Boolean):o("WAServerMediaType").SERVER_MEDIA}l.mediaConnParser=e}),98);
__d("WAMediaWasmWorkerClient",["FBLogger","Promise","QPLUserFlow","WAByteArray","WACustomError","WAMediaWasmWorkerResource","WAPromiseTimeout","WAResultOrError","WorkerBundleResource","WorkerClient","WorkerMessagePort","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,w=o("WorkerBundleResource").createDedicatedWebWorker(r("WAMediaWasmWorkerResource")),A="media_platform",F=function(){return r("FBLogger")(A).tags(["WAMediaWasmWorkerClient"])},O=new(o("WorkerMessagePort")).WorkerSyncedMessagePort(w,"WAMediaWasmWorker");o("WorkerClient").init(O),F().DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["initiated."]))),O.addMessageListener("log",function(e){var t=e.logType,n=e.message;switch(t){case"dev":F().DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["from worker: ",""])),n);break;case"error":F().MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["worker error: ",""])),n);break;default:}}),O.addMessageListener("qpl",function(e){B(e)});function B(e){var t=e.action,n=e.event;switch(t.type){case"point":{r("QPLUserFlow").addPoint(n,t.pointName,{instanceKey:t.instanceKey});break}case"annotations":{r("QPLUserFlow").addAnnotations(n,t.annotations,{instanceKey:t.instanceKey});break}default:F().MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Unknown QPL action type from worker: ",""])),t.type)}}function W(e){var t=e.eventFlow,n=e.input;return Q({operation:"webpCheck",input:o("WAByteArray").uint8ArrayToBuffer(n)},t)}function q(e){var t=e.eventFlow,n=e.input;return F().INFO(d||(d=babelHelpers.taggedTemplateLiteralLoose(["mp4RepairMuxInWorker processing video"]))),Q({operation:"mp4RepairMux",input:o("WAByteArray").uint8ArrayToBuffer(n)},t)}function U(e){return V.apply(this,arguments)}function V(){return V=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.eventFlow,n=e.forceTranscode,r=e.input,a=e.supportsHevc;F().INFO(_||(_=babelHelpers.taggedTemplateLiteralLoose(["transcodeToMp4InWorker processing video"])));var i=K();F().INFO(f||(f=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),i);var l=yield Y();if(!l.success)return o("WAResultOrError").makeError(l.error);var s=l.value,u=s.onMessageOnce("transcodeToMp4Response",function(e){return e.requestId===i}),c=o("WAByteArray").uint8ArrayToBuffer(r),d=c?[c]:void 0;s.postMessage({input:c,requestId:i,forceTranscode:n,supportsHevc:a,type:"transcodeToMp4Request",qplData:t.flowDetails},d),t==null||t.addPoint("sent_request_to_media_worker_start");var m=yield u,p=m.output;return F().INFO(g||(g=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),i,p.success),p.success?(t==null||t.addPoint("sent_request_to_media_worker_end"),p):(t==null||t.addPoint("sent_request_to_media_worker_end"),t==null||t.addAnnotations({string:{errorMessage:p.error.errorMessage}}),o("WAResultOrError").makeError(p.error.errorType))}),V.apply(this,arguments)}function H(e){var t=e.eventFlow,n=e.imageData,r=e.quality,a=e.useHdScanConfig;return Q({operation:"progressiveJpegEncode",input:o("WAByteArray").uint8ArrayToBuffer(n.data),height:n.height,width:n.width,quality:r,useHdScanConfig:a},t)}function G(e){return z.apply(this,arguments)}function z(){return z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.eventFlow,n=e.file,r=e.maxOutputResolution,o=e.quality,a=e.useHdScanConfig,i=yield n.arrayBuffer();return Q({operation:"progressiveJpegEncodeWithFile",input:i,fileName:n.name,fileType:n.type,quality:o,useHdScanConfig:a,maxOutputWidth:r==null?void 0:r.width,maxOutputHeight:r==null?void 0:r.height},t)}),z.apply(this,arguments)}function j(e){F().INFO(m||(m=babelHelpers.taggedTemplateLiteralLoose(["start prewarming media wasm worker, operation: ",""])),e),O.postMessage({type:"prewarm",operation:e})}var K=(function(){var e=0;return function(){return++e}})();function Q(e,t){return X.apply(this,arguments)}function X(){return X=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=K();F().INFO(h||(h=babelHelpers.taggedTemplateLiteralLoose(["sending input bytes to worker, requestId: ",""])),n);var r=yield Y(t);if(!r.success)return r;var a=r.value,i=a.onMessageOnce("mediaOperationResponse",function(e){return e.requestId===n}),l=e.input?[e.input]:void 0;a.postMessage(babelHelpers.extends({},e,{requestId:n,type:"mediaOperationRequest"}),l),t==null||t.addPoint("sent_request_to_media_worker_start");var s=yield i,u=s.output;return u.success?(F().INFO(y||(y=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),n),t==null||t.addPoint("sent_request_to_media_worker_end",{bool:{isOpfsSyncSupported:u.value.isOpfsSyncSupported}}),o("WAResultOrError").makeResult(u.value.bytes)):(F().MUSTFIX(C||(C=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),n,u.error.errorMessage),t==null||t.addPoint("sent_request_to_media_worker_fail"),o("WAResultOrError").makeError(u.error.errorType))}),X.apply(this,arguments)}function Y(e){e==null||e.addPoint("get_connected_worker_port_start");var t=3e4;return o("WAPromiseTimeout").promiseTimeout(O.fullyConnected,t).then(function(t){return e==null||e.addPoint("get_connected_worker_port_end"),o("WAResultOrError").makeResult(t)}).catch(function(t){return e==null||e.addPoint("get_connected_worker_port_fail",{string:{workerPortFailure:t instanceof o("WACustomError").TimeoutError?"timeout":"runtime-error"}}),t instanceof o("WACustomError").TimeoutError?o("WAResultOrError").makeError("worker-connection-timeout"):(F().MUSTFIX(p||(p=babelHelpers.taggedTemplateLiteralLoose(["worker-connection-runtime-error: ",""])),t),o("WAResultOrError").makeError("worker-connection-runtime-error"))})}function J(e){return Z.apply(this,arguments)}function Z(){return Z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,r,a=e.file,i=e.maxDimension,l=e.thumbnailBlobByteSizeLimitBytes,s=e.thumbnailQualityPercentageWhenAboveByteSizeLimit,u=K();F().INFO(b||(b=babelHelpers.taggedTemplateLiteralLoose(["sending input to worker, requestId: ",""])),u);var c=yield Y();if(!c.success)return c;var d=c.value,m=d.onMessageOnce("mediaGenerateImageThumbnailResponse",function(e){return e.requestId===u}),p=yield a.arrayBuffer(),_=p?[p]:void 0;d.postMessage({input:p,fileName:a.name,fileType:a.type,maxDimension:i,requestId:u,thumbnailBlobByteSizeLimitBytes:l,thumbnailQualityPercentageWhenAboveByteSizeLimit:s,type:"mediaGenerateImageThumbnailRequest"},_);var f=yield m;return F().INFO(v||(v=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",", success: ",""])),u,f.output.success),f.output.success?o("WAResultOrError").makeResult(f.output.value):(F().MUSTFIX(S||(S=babelHelpers.taggedTemplateLiteralLoose(["requestId: ",", error: ",""])),u,(t=f.output.error)==null?void 0:t.errorMessage),(M||(M=n("Promise"))).reject((r=f.output.error)==null?void 0:r.errorMessage))}),Z.apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return te=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){F().INFO(R||(R=babelHelpers.taggedTemplateLiteralLoose(["start media storage shadow test"])));var n=K(),r=yield Y();if(!r.success)return o("WAResultOrError").makeError({errorName:"port-init",errorMessage:r.error});var a=r.value,i=a.onMessageOnce("mediaStorageShadowTestResponse",function(e){return e.requestId===n});a.postMessage({input:e,requestId:n,storageType:t,type:"mediaStorageShadowTestRequest"});var l=yield i,s=l.output;return s.success?(F().INFO(L||(L=babelHelpers.taggedTemplateLiteralLoose(["received storage results from worker, requestId: ",""])),n),o("WAResultOrError").makeResult(s.value)):(F().MUSTFIX(E||(E=babelHelpers.taggedTemplateLiteralLoose(["media storage test failed for storageType: ",", error: ",""])),t,s.error.errorMessage),o("WAResultOrError").makeError({errorName:s.error.errorName,errorMessage:s.error.errorMessage}))}),te.apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return re=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.eventFlow,n=e.input,r=e.mediaType,a=e.rawMimeType,i=K();F().INFO(k||(k=babelHelpers.taggedTemplateLiteralLoose(["start kaleidoscope classifiy in worker, requestId: ",""])),i);var l=yield Y(t);if(!l.success)return o("WAResultOrError").makeError({errorName:l.error});var s=l.value,u=s.onMessageOnce("kaleidoscopeClassifyResponse",function(e){return e.requestId===i});s.postMessage({mediaType:r,rawMimeType:a,input:n,requestId:i,type:"kaleidoscopeClassifyRequest"}),t.addPoint("sent_request_to_media_worker_start");var c=yield u,d=c.output;return d.success?(F().INFO(I||(I=babelHelpers.taggedTemplateLiteralLoose(["received output from worker, requestId: ",""])),i),t==null||t.addPoint("sent_request_to_media_worker_end"),d):(t.addPoint("sent_request_to_media_worker_fail"),o("WAResultOrError").makeError({errorName:d.error}))}),re.apply(this,arguments)}function oe(e){return ae.apply(this,arguments)}function ae(){return ae=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=K();F().INFO(T||(T=babelHelpers.taggedTemplateLiteralLoose(["calculateFilehashInWorker[","]: sending ","B to worker"])),t,e.byteLength);var n=yield Y();if(!n.success)return{transferredBuffer:e,result:n};var r=n.value,a=r.onMessageOnce("calculateFilehashResponse",function(e){return e.requestId===t});r.postMessage({buffer:e,requestId:t,type:"calculateFilehashRequest"},[e]);var i=yield a,l=i.output,s=i.transferredBuffer;return l.success?(F().INFO(D||(D=babelHelpers.taggedTemplateLiteralLoose(["calculateFilehashInWorker[","]: received result from worker"])),t),{transferredBuffer:s,result:o("WAResultOrError").makeResult({filehash:l.value})}):(F().MUSTFIX(x||(x=babelHelpers.taggedTemplateLiteralLoose(["calculateFilehashInWorker[","]: failed: ",""])),t,l.error.errorMessage),{transferredBuffer:s,result:o("WAResultOrError").makeError(l.error.errorType)})}),ae.apply(this,arguments)}function ie(e,t,n){return le.apply(this,arguments)}function le(){return le=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=K();F().INFO($||($=babelHelpers.taggedTemplateLiteralLoose(["hmacSha256InWorker[","]: sending ","B to worker"])),r,t.byteLength);var a=yield Y();if(!a.success)return{transferredKeyBuffer:e,transferredBuffer:t,result:a};var i=a.value,l=i.onMessageOnce("calculateHmacSha256Response",function(e){return e.requestId===r});i.postMessage({keyBuffer:e,buffer:t,length:n,requestId:r,type:"calculateHmacSha256Request"},[e,t]);var s=yield l,u=s.output,c=s.transferredBuffer,d=s.transferredKeyBuffer;return u.success?(F().INFO(P||(P=babelHelpers.taggedTemplateLiteralLoose(["hmacSha256InWorker[","]: received result from worker"])),r),{transferredKeyBuffer:d,transferredBuffer:c,result:o("WAResultOrError").makeResult({hmac:u.value})}):(F().MUSTFIX(N||(N=babelHelpers.taggedTemplateLiteralLoose(["hmacSha256InWorker[","]: failed: ",""])),r,u.error.errorMessage),{transferredKeyBuffer:e,transferredBuffer:t,result:o("WAResultOrError").makeError(u.error.errorType)})}),le.apply(this,arguments)}l.webpCheckInWorker=W,l.mp4RepairMuxInWorker=q,l.transcodeToMp4InWorker=U,l.progressiveJpegEncodeInWorker=H,l.progressiveJpegEncodeInWorkerWithFile=G,l.prewarmMediaWasmWorker=j,l.getConnectedWorkerPortWithTimeout=Y,l.generateImageThumbnailInWorker=J,l.runMediaStorageShadowTestWasmWorker=ee,l.kaleidoscopeClassifyInWorker=ne,l.calculateFilehashInWorker=oe,l.hmacSha256InWorker=ie}),98);
__d("WAMemoizeOne",["shallowEqual"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){t===void 0&&(t=r("shallowEqual"));var n=null,o=function(o){return n==null||!t(n.params,o)?n={params:o,result:e.call(this,o)}:n.params=o,n.result};return o.clear=function(){n=null},o}l.default=e}),98);
__d("WANoiseSocket",["Promise","WACryptoDependencies","WALogger","WAPromiseQueue","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=n("Promise"))).reject("UNINITIALIZED HANDSHAKE"),c=new Uint8Array(0);u.catch(function(){});var d=(function(){function t(t,n,r){var a=this;this.$4=[],this.$5=new(o("WAPromiseQueue")).PromiseQueue,this.$6=new(o("WAPromiseQueue")).PromiseQueue,this.$7=0,this.$8=0,this.$9=!1,this.$14=function(t){a.$1.closed?o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["NoiseSocket socket closed while encrypting frame"]))):a.$1.sendFrame(t)},this.$12=function(e){var t=a.$7++;a.$5.enqueueHandlers(_(a.$2,t,void 0,e),a.$15)},this.$13=function(){a.$9=!0,a.$5.wait().then(function(){a.$9=!1;var e=a.$11;e&&e()})},this.$15=function(e){a.$10?a.$10(e):a.$4.push(e)},this.$1=t,this.$3=n,this.$2=r,t.onFrame=this.$12,this.$1.onClose=this.$13,t.convertBufferedToFrames()}var r=t.prototype;return r.sendFrameAsync=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield this.sendFrame(e);return t});function t(t){return e.apply(this,arguments)}return t})(),r.sendFrame=function(t){if(this.$9)return(s||(s=n("Promise"))).resolve();this.$1.throwIfClosed();var e=this.$8++;return this.$6.enqueueHandlers(p(this.$3,e,void 0,t),this.$14)},r.setOnFrame=function(t){this.$10=t},r.setOnClose=function(t){this.$11=t},r.close=function(){this.$1.close()},t})();function m(e){var t=new ArrayBuffer(12),n=new DataView(t);return n.setUint32(8,e),new Uint8Array(t)}function p(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-GCM",iv:m(t),additionalData:n?new Uint8Array(n):c},e,r)}function _(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-GCM",iv:m(t),additionalData:n?new Uint8Array(n):c},e,r)}l.NoiseSocket=d}),98);
__d("WANoiseHandshake",["Promise","WABinary","WACryptoDependencies","WACryptoHkdf","WACryptoSha256","WAErrors","WANoiseSocket","WAResolvable","WATagsLogger","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=o("WATagsLogger").TAGS(["NoiseHandshake"]),m=(c||(c=n("Promise"))).reject("UNINITIALIZED HANDSHAKE"),p=new Uint8Array(0);m.catch(function(){});var _=(function(){function t(e){var t=this;this.$2=m,this.$3=m,this.$4=m,this.$5=0,this.$1=e,this.$6=new(o("WAResolvable")).Resolvable,e.onClose=function(){t.$6.reject(new(o("WAErrors")).Disconnected("NoiseHandshake: SocketClosed"))},b(this.$6.promise)}var r=t.prototype;return r.start=function(t,r){var e=o("WABinary").Binary.build(t).readBuffer(),a=e.byteLength===32?(c||(c=n("Promise"))).resolve(e):o("WACryptoSha256").sha256(e);this.$2=a,this.$3=a,this.$4=a.then(g),this.authenticate(r)},r.sendAndReceive=function(t){var e=this.$1,r=new(c||(c=n("Promise")))(function(n){e.onFrame=function(t){e.onFrame=null,n(t)},e.sendFrame(t)});return this.$7(r)},r.send=function(t){this.$1.sendFrame(t)},r.authenticate=function(t){this.$2=(c||(c=n("Promise"))).all([this.$2,t]).then(function(e){var t=e[0],n=e[1],r=o("WABinary").Binary.build(t,n).readByteArrayView();return o("WACryptoSha256").sha256(r)})},r.encrypt=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{var r=this.$5++,o=(c||(c=n("Promise"))).all([this.$4,this.$2,t]).then(function(e){var t=e[0],n=e[1],o=e[2];return h(t,r,n,o)});this.authenticate(o);var a=yield this.$7(o);return a}catch(t){throw d.ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error on encrypt: ",""])),t),t}});function r(e){return t.apply(this,arguments)}return r})(),r.decrypt=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var r=this.$5++,o=(c||(c=n("Promise"))).all([this.$4,this.$2]).then(function(t){var n=t[0],o=t[1];return y(n,r,o,e)});this.authenticate(e);var a=yield this.$7(o);return a}catch(e){throw d.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Error on decrypt: "," reason: ",""])),e,t),e}});function t(t,n){return e.apply(this,arguments)}return t})(),r.finish=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this;try{var t=this.$3.then(function(e){return C(e,new Uint8Array(0))}).then(function(e){var t=e[0],r=e[1];return(c||(c=n("Promise"))).all([g(t,["encrypt"]),g(r,["decrypt"])])}).then(function(t){var n=t[0],r=t[1];return new(o("WANoiseSocket")).NoiseSocket(e.$1,n,r)}),r=yield this.$7(t);return r}catch(e){throw d.ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Error on finish: ",""])),e),e}});function t(){return e.apply(this,arguments)}return t})(),r.mixIntoKey=function(t){this.$5=0;var e=(c||(c=n("Promise"))).all([this.$3,t]).then(function(e){var t=e[0],n=e[1];return C(t,new Uint8Array(n))});this.$3=e.then(function(e){return e[0]}),this.$4=e.then(function(e){return g(e[1])}),b(this.$3),b(this.$4)},r.$7=function(t){var e=this;return(c||(c=n("Promise"))).race([t,this.$6.promise]).then(function(t){return e.$6.resolveWasCalled()?e.$6.promise:t})},t})();function f(e){var t=new ArrayBuffer(12),n=new DataView(t);return n.setUint32(8,e),new Uint8Array(t)}function g(e,t){return t===void 0&&(t=["encrypt","decrypt"]),o("WACryptoDependencies").getCrypto().subtle.importKey("raw",new Uint8Array(e),"AES-GCM",!1,t)}function h(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-GCM",iv:f(t),additionalData:n?new Uint8Array(n):p},e,r)}function y(e,t,n,r){return o("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-GCM",iv:f(t),additionalData:n?new Uint8Array(n):p},e,r)}function C(e,t){return o("WACryptoHkdf").extractWithSaltAndExpand(t,new Uint8Array(e),"",64).then(function(e){return[e.slice(0,32),e.slice(32)]})}function b(e){e.catch(function(){})}l.NoiseHandshake=_}),98);
__d("WAOpusRecorderWorkerClient",["WAWebOpusRecorderWorkerResource","WorkerBundleResource"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.$1=o("WorkerBundleResource").createDedicatedWebWorker(r("WAWebOpusRecorderWorkerResource")),this.$1.onmessage=e!=null?e:null}var t=e.prototype;return t.getWorker=function(){return this.$1},t.postMessage=function(t,n){var e={type:"message",message:t};this.$1.postMessage(e,n)},t.addEventListener=function(t,n){this.$1.addEventListener(t,n)},t.removeEventListener=function(t,n){this.$1.addEventListener(t,n)},e})();function s(){return new e}function u(t){return new e(t)}l.WAOpusRecorderWorkerClient=e,l.getOpusEncoderWorker=s,l.getOpusDecoderWorker=u}),98);
__d("WAOpusRecorderPlayer",["Promise","WABinary","WABlobToArrayBuffer","WALogger","WAOpusRecorderWorkerClient"],(function(t,n,r,o,a,i,l){var e,s,u,c,d="audio/wav",m,p=0;function _(){return p++,m||(m=new window.AudioContext),m}function f(){if(p--,p===0&&m){try{m.close().catch(function(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["releaseAudioContext close async error: ",""])),t)})}catch(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["releaseAudioContext close sync error: ",""])),e)}m=void 0}}var g=(function(){function e(e){this.oggBlob=e}var t=e.prototype;return t.generateBlob=function(){return this.oggBlobToWAVBlob(this.oggBlob,1)},t.oggBlobToWAVBlob=function(t,r){var e=this;r===void 0&&(r=2);var a=r;return new(c||(c=n("Promise")))(function(n){var r=function(r){if(r.data==null){for(var t=function(t){l.forEach(function(e){for(var n=e[t]||e[0],r=0;r<n.length;r++)s.push(n[r])})},o=0;o<a;o++)t(o);var i=e.encodeWAV(s,c,a),u=new Blob([i.readByteArrayView()],{type:d});f(),n(u)}else l.push(r.data),a=l[0].length},i=o("WAOpusRecorderWorkerClient").getOpusDecoderWorker(r),l=[],s=[],c=_(),m={outputBufferSampleRate:c.sampleRate,bufferLength:4096};i.postMessage({command:"decode-init",config:m}),o("WABlobToArrayBuffer").blobToArrayBuffer(t).then(function(e){i.postMessage({command:"decode",pages:new Uint8Array(e)}),i.postMessage({command:"decode-done"})}).catch(function(e){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Player::oggBlobToWAVBlob error: ",""])),e)})})},t.encodeWAV=function(t,n,r){var e=new(o("WABinary")).Binary(void 0,!0);e.ensureCapacity(44+t.length*2),e.writeString("RIFF"),e.writeUint32(36+t.length*2),e.writeString("WAVE"),e.writeString("fmt "),e.writeUint32(16),e.writeUint16(1),e.writeUint16(r),e.writeUint32(n.sampleRate),e.writeUint32(n.sampleRate*r*2),e.writeUint16(r*2),e.writeUint16(16),e.writeString("data"),e.writeUint32(t.length*2);for(var a=0;a<t.length;a++){var i=Math.max(-1,Math.min(t[a],1));i*=i>0?32767:32768,e.writeInt16(Math.floor(i))}return e},e})();l.default=g}),98);
__d("WAPriorityQueue",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$2=e,this.$1=[],this.$3(t)}var t=e.prototype;return t.size=function(){return this.$1.length},t.$3=function(t){var e=this;t!=null&&t.length&&t.forEach(function(t){e.push(t)})},t.$4=function(t,n){var e=this.$1[n];this.$1[n]=this.$1[t],this.$1[t]=e},t.$5=function(t){if(t===void 0&&(t=0),t!==0){var e=this.$6(t),n=e*2+1,r=e*2+2,o=this.$1.length;if(!(t>=o)){var a=this.$7(e),i=e;if(n<o){var l=this.$7(n);a>l&&(i=n,a=l)}if(r<o){var s=this.$7(r);a>s&&(i=r)}i!==e&&(this.$4(i,e),this.$5(e))}}},t.$8=function(t){t===void 0&&(t=0);var e=t*2+1,n=t*2+2,r=this.$1.length;if(!(t>=r)){var o=this.$7(t),a=t;if(e<r){var i=this.$7(e);o>i&&(a=e,o=i)}if(n<r){var l=this.$7(n);o>l&&(a=n)}a!==t&&this.$4(a,t),e<r&&this.$8(e),n<r&&this.$8(n)}},t.$7=function(t){return this.$2(this.$1[t])},t.$6=function(t){return t%2===0?(t-2)/2:(t-1)/2},t.push=function(t){this.$1.push(t);var e=this.$1.length-1;this.$5(e)},t.pull=function(){var e=this.$1.shift();return this.heapify(),e},t.heapify=function(){this.$8(0)},t.peek=function(){return this.$1[0]},e})();i.default=e}),66);
__d("WAProgressiveJpegMarkers",[],(function(t,n,r,o,a,i){"use strict";var e=255,l=0,s={SOF0:192,SOF1:193,SOF2:194,SOF3:195,DHT:196,SOF5:197,SOF6:198,SOF7:199,JPG:200,SOF9:201,SOF10:202,SOF11:203,SOF13:205,SOF14:206,SOF15:207,RST0:208,RST1:209,RST2:210,RST3:211,RST4:212,RST5:213,RST6:214,RST7:215,SOI:216,EOI:217,SOS:218,DQT:219,DRI:221,APP0:224,APP1:225,APP2:226,APP3:227,APP4:228,APP5:229,APP6:230,APP7:231,APP8:232,APP9:233,APP10:234,APP11:235,APP12:236,APP13:237,APP14:238,APP15:239,COM:254,TEM:1},u=[l,s.RST0,s.RST1,s.RST2,s.RST3,s.RST4,s.RST5,s.RST6,s.RST7];i.MARKER_PREFIX=e,i.MARKER_ESCAPE_BYTE=l,i.MARKERS=s,i.SOS_STREAM=u}),66);
__d("WAPromiseCache",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){this.promise=t,this.lastUsedTime=this.createdTime=+Date.now()},l=(function(){function t(e,t){var n=t.maxCached,r=n===void 0?10:n,o=t.maxAge,a=o===void 0?1/0:o,i=t.shouldCache;this.$1={},this.$2=r,this.$3=a,this.$4=e,this.$5=i}var n=t.prototype;return n.delete=function(t){delete this.$1[t]},n.getOrRun=function(n){var t=this,r=this.$1;if(this.$3!==1/0)for(var o=Date.now()-this.$3,a=Object.keys(r),i=0;i<a.length;i++){var l=a[i];r[l].createdTime<o&&delete r[l]}var s=r[n];if(s)return s.lastUsedTime=+Date.now(),s.promise;var u=Object.keys(r);if(u.length>=this.$2){for(var c,d,m=0;m<u.length;m++){var p=u[m],_=r[p];(d==null||_.lastUsedTime<d)&&(d=_.lastUsedTime,c=p)}c!=null&&delete r[c]}for(var f=arguments.length,g=new Array(f>1?f-1:0),h=1;h<f;h++)g[h-1]=arguments[h];var y=this.$4.apply(void 0,[n].concat(g));return r[n]=new e(y),y.then(function(e){var r=t.$5;t.$1[n]===y&&!r(e)&&delete t.$1[n]}).catch(function(){t.$1[n]===y&&delete t.$1[n]}),y},n.isCached=function(t){var e=this.$1,n=e[t];if(n){var r=!0;if(this.$3!==1/0){var o=Date.now()-this.$3;r=n.createdTime>=o}return r&&!!n}return!1},t})();i.default=l}),66);
__d("WAPttComposerScaleWaveform",["invariant"],(function(t,n,r,o,a,i,l,s){function e(e,t){return t===e.length?e:t===0?[]:e.length===0?new Array(t).fill(0):t>e.length?u(e,t):c(e,t)}function u(e,t){t>e.length||s(0,75746,t,e.length);var n;if(e.length===1)n=0;else{var r=(t-e.length)/(e.length-1);n=1/(1+r)}var o=[];t>=1&&o.push(e[0]);for(var a=1;a<t-1;a++){var i=a*n,l=Math.floor(i),u=i-l;o.push(d(e[l],e[Math.ceil(i)],u))}return t>=2&&o.push(e[e.length-1]),o}function c(e,t){t<e.length||s(0,75747,t,e.length);var n=[],r=t/e.length,o=0,a=0,i=0;for(var l of e)o+=l,i+=1,a+=r,a>=1&&(n.push(o/i),i=0,o=0,a-=1);return i>0&&n.push(o/i),n}function d(e,t,n){return e+(t-e)*n}l.default=e}),98);
__d("WAQplUploader",["WALogger","WAPromiseDelays","WAPromiseRetryLoop","WAQplTypes","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m={minTimeout:1e3,maxTimeout:1e4,retries:5,type:"exponential"},p=100,_={MAX_COUNT:4,MIN_DELAY:1*1e3*60,MAX_DELAY:15*1e3*60},f=300,g=1440*60,h,y,C;function b(e,t){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r,a,i,l;h=t.healthLogger,y=t.storageApi,!C&&(C={sendEvents:e.sendEvents,isQplEnabled:e.isQplEnabled,startDelayInMs:1e3*((n=e.startDelayInSeconds)!=null?n:f),intervalInMs:1e3*((r=e.intervalInSeconds)!=null?r:g),minRetryDelayInMs:1e3*((a=e.minRetryDelayInSeconds)!=null?a:_.MIN_DELAY),maxRetryDelayInMs:1e3*((i=e.maxRetryDelayInSeconds)!=null?i:_.MAX_DELAY),maxRetryAttemptsCount:(l=e.maxRetryAttemptsCount)!=null?l:_.MAX_COUNT},yield o("WAPromiseDelays").delayMs(C.startDelayInMs),yield k(),R())}),v.apply(this,arguments)}function S(){return k()}function R(){setTimeout(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield k(),R()}),C.intervalInMs)}function L(){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=C.minRetryDelayInMs+Math.floor(Math.random()*(C.maxRetryDelayInMs-C.minRetryDelayInMs));yield o("WAPromiseDelays").delayMs(e)}),E.apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n;if(t===void 0&&(t=0),!!((n=C)!=null&&n.isQplEnabled()))try{for(var a=yield y.getRowCount(),i=0;i<a;){var l=yield y.getFromBottom(p);yield T(l);var s=l[0].id||0,u=l[l.length-1].id||0;yield y.deleteRange(s,u),i+=l.length}}catch(n){if(t<C.maxRetryAttemptsCount)yield L(),k(t+1);else{var c;o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, error during upload session, error: ",""])),n).verbose().sendLogs("QPL Uploader upload session failed"),(c=h)==null||c.errorUploadingChunk(r("getErrorSafe")(n).message)}}}),I.apply(this,arguments)}function T(e){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=new(o("WAPromiseRetryLoop")).PromiseRetryLoop({name:"QplUploadChunk",timer:{algo:{type:m.type,first:m.minTimeout},max:m.maxTimeout},code:function(n){var t=e[0].id,r=e[e.length-1].id;return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sending rows ","-",", count ",""])),t,r,e.length),C.sendEvents(e).then(function(){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sending rows ","-",": done"])),t,r),n()}).catch(function(e){if(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader, sending rows ","-",": error: ",""])),t,r,e),e instanceof o("WAQplTypes").QplServerStatusCodeError)switch(e.statusCode){case 500:o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["QPL Uploader uploadChunk, retriable error: ",""])),e.message);break;default:n();break}throw e})}});t.start(),yield t.promise()}),D.apply(this,arguments)}l.start=b,l.forceQplUpload=S}),98);
__d("WASmaxOutChatstateInternalTestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.testConfig,n=o("WASmaxJsx").smax("smax$any",null,o("WASmaxJsx").smax("test",{config:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeInternalTestMixin=s}),98);
__d("WASmaxMixinGroupExhaustiveError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="SmaxMixinGroupExhaustiveError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.SmaxMixinGroupExhaustiveError=e}),66);
__d("WASmaxOutChatstateComposingMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.hasComposingMediaAudio,n=o("WASmaxJsx").smax("chatstate",null,o("WASmaxJsx").smax("composing",{media:o("WASmaxAttrs").OPTIONAL_LITERAL("audio",t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeComposingMixin=s}),98);
__d("WASmaxOutChatstatePausedMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("chatstate",null,o("WASmaxJsx").smax("paused",null));return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergePausedMixin=s}),98);
__d("WASmaxOutChatstateStateTypes",["WASmaxMixinGroupExhaustiveError","WASmaxOutChatstateComposingMixin","WASmaxOutChatstatePausedMixin"],(function(t,n,r,o,a,i,l){function e(e,t){if(t.composing)return o("WASmaxOutChatstateComposingMixin").mergeComposingMixin(e,t.composing);if(t.isPaused)return o("WASmaxOutChatstatePausedMixin").mergePausedMixin(e);throw new(o("WASmaxMixinGroupExhaustiveError")).SmaxMixinGroupExhaustiveError}l.mergeStateTypes=e}),98);
__d("WASmaxOutChatstateClientNotificationRequest",["WASmaxJsx","WASmaxMixins","WASmaxOutChatstateInternalTestMixin","WASmaxOutChatstateStateTypes","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.chatstateTo,n=e.internalTestMixinArgs,r=e.stateTypesArgs,a=o("WASmaxOutChatstateStateTypes").mergeStateTypes(o("WASmaxMixins").optionalMerge(o("WASmaxOutChatstateInternalTestMixin").mergeInternalTestMixin,o("WASmaxJsx").smax("chatstate",{to:o("WAWap").JID(t)}),n),r);return a}l.makeClientNotificationRequest=e}),98);
__d("WASmaxChatstateClientNotificationRPC",["WAComms","WASmaxOutChatstateClientNotificationRequest","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutChatstateClientNotificationRequest").makeClientNotificationRequest(e);yield o("WAComms").castSmaxStanza(t)}),s.apply(this,arguments)}l.sendClientNotificationRPC=e}),98);
__d("WASendChatStateProtocol",["WALogger","WASmaxChatstateClientNotificationRPC"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["sendChatStateProtocol Sending "," to ",""])),n,t);var r;return n==="idle"?r={isPaused:!0}:r={composing:{hasComposingMediaAudio:n==="recording_audio"}},o("WASmaxChatstateClientNotificationRPC").sendClientNotificationRPC({chatstateTo:t,stateTypesArgs:r})}l.sendChatStateProtocol=s}),98);
__d("WASmaxInPassiveModeActiveIQResponseSuccess",["WAResultOrError","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"active");if(!r.success)return r;var a=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",a.value);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");if(!l.success)return l;var s=o("WASmaxParseJid").literalJid(o("WASmaxParseJid").attrDomainJid,e,"from","s.whatsapp.net");return s.success?o("WAResultOrError").makeResult({type:l.value,from:s.value}):s}l.parseActiveIQResponseSuccess=e}),98);
__d("WASmaxOutPassiveModeActiveIQRequest",["WASmaxJsx","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set",xmlns:"passive",to:o("WAWap").S_WHATSAPP_NET},o("WASmaxJsx").smax("active",null));return e}l.makeActiveIQRequest=e}),98);
__d("WASmaxPassiveModeActiveIQRPC",["WAComms","WASmaxInPassiveModeActiveIQResponseSuccess","WASmaxOutPassiveModeActiveIQRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutPassiveModeActiveIQRequest").makeActiveIQRequest(),n=yield o("WAComms").sendSmaxStanza(t,e),r=o("WASmaxInPassiveModeActiveIQResponseSuccess").parseActiveIQResponseSuccess(n,t);if(r.success)return{name:"ActiveIQResponseSuccess",value:r.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("ActiveIQ",{Success:r}))}),s.apply(this,arguments)}l.sendActiveIQRPC=e}),98);
__d("WASmaxInPassiveModePassiveIQResponseSuccess",["WAResultOrError","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"passive");if(!r.success)return r;var a=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",a.value);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");if(!l.success)return l;var s=o("WASmaxParseJid").literalJid(o("WASmaxParseJid").attrDomainJid,e,"from","s.whatsapp.net");return s.success?o("WAResultOrError").makeResult({type:l.value,from:s.value}):s}l.parsePassiveIQResponseSuccess=e}),98);
__d("WASmaxOutPassiveModePassiveIQRequest",["WASmaxJsx","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set",xmlns:"passive",to:o("WAWap").S_WHATSAPP_NET},o("WASmaxJsx").smax("passive",null));return e}l.makePassiveIQRequest=e}),98);
__d("WASmaxPassiveModePassiveIQRPC",["WAComms","WASmaxInPassiveModePassiveIQResponseSuccess","WASmaxOutPassiveModePassiveIQRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutPassiveModePassiveIQRequest").makePassiveIQRequest(),n=yield o("WAComms").sendSmaxStanza(t,e),r=o("WASmaxInPassiveModePassiveIQResponseSuccess").parsePassiveIQResponseSuccess(n,t);if(r.success)return{name:"PassiveIQResponseSuccess",value:r.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("PassiveIQ",{Success:r}))}),s.apply(this,arguments)}l.sendPassiveIQRPC=e}),98);
__d("WASendPassiveModeProtocol",["WALogger","WASmaxPassiveModeActiveIQRPC","WASmaxPassiveModePassiveIQRPC","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){t==="active"?yield o("WASmaxPassiveModeActiveIQRPC").sendActiveIQRPC():yield o("WASmaxPassiveModePassiveIQRPC").sendPassiveIQRPC(),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["sendPassiveModeIq: passive mode set to '","'"])),t)}),u.apply(this,arguments)}l.sendPassiveModeProtocol=s}),98);
__d("WASmaxOutPresenceAvailabilityRequest",["WASmaxAttrs","WASmaxJsx","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.presenceType,n=e.presenceName,r=o("WASmaxJsx").smax("presence",{type:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t),name:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,n)});return r}l.makeAvailabilityRequest=e}),98);
__d("WASmaxPresenceAvailabilityRPC",["WAComms","WASmaxOutPresenceAvailabilityRequest","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutPresenceAvailabilityRequest").makeAvailabilityRequest(e);yield o("WAComms").castSmaxStanza(t)}),s.apply(this,arguments)}l.sendAvailabilityRPC=e}),98);
__d("WASendPresenceStatusProtocol",["WASmaxPresenceAvailabilityRPC"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.name,n=e.status;return o("WASmaxPresenceAvailabilityRPC").sendAvailabilityRPC({presenceType:n,presenceName:t})}l.sendPresenceStatusProtocol=e}),98);
__d("WASmaxInGroupsServerNotificationMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"notification");if(!t.success)return t;var n=o("WASmaxParseUtils").attrIntRange(e,"t",0,void 0);if(!n.success)return n;var r=o("WASmaxParseUtils").attrStanzaId(e,"id");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"offline",0,1024);return a.success?o("WAResultOrError").makeResult({t:n.value,id:r.value,offline:a.value}):a}l.parseServerNotificationMixin=e}),98);
__d("WASmaxInGroupsGroupsDirtyNotificationRequest",["WAResultOrError","WASmaxInGroupsServerNotificationMixin","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"group");if(!t.success)return t;var n=o("WASmaxParseJid").attrGroupJid(e,"jid");return n.success?o("WAResultOrError").makeResult({jid:n.value}):n}function s(t){var n=o("WASmaxParseUtils").assertTag(t,"notification");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t,"groups_dirty");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,t,"type","w:gp2");if(!a.success)return a;var i=o("WASmaxParseJid").literalJid(o("WASmaxParseJid").attrDomainJid,t,"from","g.us");if(!i.success)return i;var l=o("WASmaxInGroupsServerNotificationMixin").parseServerNotificationMixin(t);if(!l.success)return l;var s=o("WASmaxParseUtils").mapChildrenWithTag(r.value,"group",1,1e4,e);return s.success?o("WAResultOrError").makeResult(babelHelpers.extends({type:a.value,from:i.value},l.value,{groupsDirtyGroup:s.value})):s}l.parseGroupsDirtyNotificationRequestGroupsDirtyGroup=e,l.parseGroupsDirtyNotificationRequest=s}),98);
__d("WASmaxOutGroupsNotificationClientAckMixin",["WASmaxInGroupsEnums","WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,e,["id"]);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(t.error);var n=o("WASmaxParseReference").attrFromReference(o("WASmaxParseJid").attrJidEnum,e,["from"],o("WASmaxInGroupsEnums").DOMAINJID_GROUPJID);if(!n.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(n.error);var r=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrString,e,["type"]);if(!r.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(r.error);var a=o("WASmaxJsx").smax("ack",{id:o("WAWap").STANZA_ID(t.value),to:o("WAWap").JID(n.value),class:"notification",type:o("WAWap").CUSTOM_STRING(r.value)});return a}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeNotificationClientAckMixin=s}),98);
__d("WASmaxOutGroupsGroupsDirtyNotificationResponseAck",["WASmaxJsx","WASmaxOutGroupsNotificationClientAckMixin"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxOutGroupsNotificationClientAckMixin").mergeNotificationClientAckMixin(o("WASmaxJsx").smax("ack",null),e);return t}l.makeGroupsDirtyNotificationResponseAck=e}),98);
__d("WASmaxGroupsGroupsDirtyNotificationRPC",["WASmaxInGroupsGroupsDirtyNotificationRequest","WASmaxOutGroupsGroupsDirtyNotificationResponseAck","WASmaxParsingFailure","WASmaxRpcUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInGroupsGroupsDirtyNotificationRequest").parseGroupsDirtyNotificationRequest(e);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("GroupsDirtyNotification",{Request:t}));return{parsedRequest:t.value,makeGroupsDirtyNotificationResponseAck:function(){return o("WASmaxOutGroupsGroupsDirtyNotificationResponseAck").makeGroupsDirtyNotificationResponseAck(e)}}}l.receiveGroupsDirtyNotificationRPC=e}),98);
__d("WASmaxInGroupsClientErrors",["WAResultOrError","WASmaxInGroupsIQErrorBadRequestMixin","WASmaxInGroupsIQErrorFallbackClientMixin","WASmaxInGroupsIQErrorForbiddenMixin","WASmaxInGroupsIQErrorItemNotFoundMixin","WASmaxInGroupsIQErrorLockedMixin","WASmaxInGroupsIQErrorNotAuthorizedMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInGroupsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:t.value});var n=o("WASmaxInGroupsIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:n.value});var r=o("WASmaxInGroupsIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(e);if(r.success)return o("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:r.value});var a=o("WASmaxInGroupsIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(e);if(a.success)return o("WAResultOrError").makeResult({name:"IQErrorForbidden",value:a.value});var i=o("WASmaxInGroupsIQErrorLockedMixin").parseIQErrorLockedMixin(e);if(i.success)return o("WAResultOrError").makeResult({name:"IQErrorLocked",value:i.value});var l=o("WASmaxInGroupsIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(e);return l.success?o("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:l.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorBadRequest","IQErrorItemNotFound","IQErrorNotAuthorized","IQErrorForbidden","IQErrorLocked","IQErrorFallbackClient"],[t,n,r,a,i,l])}l.parseClientErrors=e}),98);
__d("WASmaxInGroupsRevokeRequestCodeResponseClientError",["WAResultOrError","WASmaxInGroupsClientErrors","WASmaxInGroupsIQErrorResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInGroupsIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInGroupsClientErrors").parseClientErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorClientErrors:i.value})):i}l.parseRevokeRequestCodeResponseClientError=e}),98);
__d("WASmaxInGroupsRevokeRequestCodeResponseServerError",["WASmaxInGroupsBaseServerErrorMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxInGroupsBaseServerErrorMixin").parseBaseServerErrorMixin(e,t);return r.success,r}l.parseRevokeRequestCodeResponseServerError=e}),98);
__d("WASmaxInGroupsRevokeRequestCodeResponseSuccess",["WAResultOrError","WASmaxInGroupsGroupAddressingModeMixin","WASmaxInGroupsIQResultResponseMixin","WASmaxInGroupsPhoneNumberMixin","WASmaxInGroupsUsernameAttMixin","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"participant");if(!t.success)return t;var n=o("WASmaxParseJid").attrUserJid(e,"jid");if(!n.success)return n;var r=o("WASmaxParseUtils").optionalLiteral(o("WASmaxParseUtils").attrString,e,"error","404");if(!r.success)return r;var a=o("WASmaxInGroupsPhoneNumberMixin").parsePhoneNumberMixin(e),i=o("WASmaxInGroupsUsernameAttMixin").parseUsernameAttMixin(e);return o("WAResultOrError").makeResult({jid:n.value,error:r.value,phoneNumberMixin:a.success?a.value:null,usernameAttMixin:i.success?i.value:null})}function s(t,n){var r=o("WASmaxParseUtils").assertTag(t,"iq");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(t,"revoke");if(!a.success)return a;var i=o("WASmaxInGroupsIQResultResponseMixin").parseIQResultResponseMixin(t,n);if(!i.success)return i;var l=o("WASmaxInGroupsGroupAddressingModeMixin").parseGroupAddressingModeMixin(t),s=o("WASmaxParseUtils").mapChildrenWithTag(a.value,"participant",1,1e3,e);return s.success?o("WAResultOrError").makeResult(babelHelpers.extends({},i.value,{groupAddressingModeMixin:l.success?l.value:null,revokeParticipant:s.value})):s}l.parseRevokeRequestCodeResponseSuccessRevokeParticipant=e,l.parseRevokeRequestCodeResponseSuccess=s}),98);
__d("WASmaxOutGroupsBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQSetRequestMixin=s}),98);
__d("WASmaxOutGroupsBaseSetGroupMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutGroupsBaseIQSetRequestMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.iqTo,n=o("WASmaxOutGroupsBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(o("WASmaxJsx").smax("iq",{to:o("WAWap").GROUP_JID(t),xmlns:"w:g2"}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeBaseSetGroupMixin=s}),98);
__d("WASmaxOutGroupsRevokeRequestCodeRequest",["WASmaxChildren","WASmaxJsx","WASmaxOutGroupsBaseSetGroupMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.participantJid,n=o("WASmaxJsx").smax("participant",{jid:o("WAWap").USER_JID(t)});return n}function s(t){var n=t.participantArgs,r=o("WASmaxOutGroupsBaseSetGroupMixin").mergeBaseSetGroupMixin(o("WASmaxJsx").smax("iq",null,o("WASmaxJsx").smax("revoke",null,o("WASmaxChildren").REPEATED_CHILD(e,n,1,1e3))),t);return r}l.makeRevokeRequestCodeRequestRevokeParticipant=e,l.makeRevokeRequestCodeRequest=s}),98);
__d("WASmaxGroupsRevokeRequestCodeRPC",["WAComms","WASmaxInGroupsRevokeRequestCodeResponseClientError","WASmaxInGroupsRevokeRequestCodeResponseServerError","WASmaxInGroupsRevokeRequestCodeResponseSuccess","WASmaxOutGroupsRevokeRequestCodeRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutGroupsRevokeRequestCodeRequest").makeRevokeRequestCodeRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInGroupsRevokeRequestCodeResponseSuccess").parseRevokeRequestCodeResponseSuccess(r,n);if(a.success)return{name:"RevokeRequestCodeResponseSuccess",value:a.value};var i=o("WASmaxInGroupsRevokeRequestCodeResponseClientError").parseRevokeRequestCodeResponseClientError(r,n);if(i.success)return{name:"RevokeRequestCodeResponseClientError",value:i.value};var l=o("WASmaxInGroupsRevokeRequestCodeResponseServerError").parseRevokeRequestCodeResponseServerError(r,n);if(l.success)return{name:"RevokeRequestCodeResponseServerError",value:l.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("RevokeRequestCode",{Success:a,ClientError:i,ServerError:l}))}),s.apply(this,arguments)}l.sendRevokeRequestCodeRPC=e}),98);
__d("WASmaxInGroupsIQErrorNotAllowedMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","not-allowed");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",405);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorNotAllowedMixin=e}),98);
__d("WASmaxInGroupsIQErrorParentLinkedGroupsParticipantsResourceLimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","linked-groups-participants-resource-limit");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",412);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorParentLinkedGroupsParticipantsResourceLimitMixin=e}),98);
__d("WASmaxInGroupsIQErrorResourceConstraintMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","resource-constraint");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",500);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorResourceConstraintMixin=e}),98);
__d("WASmaxInGroupsIQErrorResourceLimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","resource-limit");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",419);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorResourceLimitMixin=e}),98);
__d("WASmaxInGroupsParentGroupMixin",["WAResultOrError","WASmaxParseJid"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseJid").attrGroupJid(e,"parent_group_jid");return t.success?o("WAResultOrError").makeResult({parentGroupJid:t.value}):t}l.parseParentGroupMixin=e}),98);
__d("WASmaxInMdAESEncryptionMetadataMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"encrypted_key");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"nonce");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"encrypted_data");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(e,"auth_tag");if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"version","1");if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"algorithm","aes-256-gcm");if(!l.success)return l;var s=o("WASmaxParseUtils").contentBytesRange(t.value,1,2048);if(!s.success)return s;var u=o("WASmaxParseUtils").contentBytesRange(n.value,1,128);if(!u.success)return u;var c=o("WASmaxParseUtils").contentBytesRange(r.value,1,8192);if(!c.success)return c;var d=o("WASmaxParseUtils").contentBytesRange(a.value,1,128);return d.success?o("WAResultOrError").makeResult({version:i.value,algorithm:l.value,encryptedKeyElementValue:s.value,nonceElementValue:u.value,encryptedDataElementValue:c.value,authTagElementValue:d.value}):d}l.parseAESEncryptionMetadataMixin=e}),98);
__d("WASmaxInMdBaseIQSetRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"iq");if(!t.success)return t;var n=o("WASmaxParseUtils").attrStanzaId(e,"id");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","set");return r.success?o("WAResultOrError").makeResult({id:n.value,type:r.value}):r}l.parseBaseIQSetRequestMixin=e}),98);
__d("WASmaxInMdIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","bad-request");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",400);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorBadRequestMixin=e}),98);
__d("WASmaxInMdIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","internal-server-error");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",500);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorInternalServerErrorMixin=e}),98);
__d("WASmaxInMdCompanionFinishErrors",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:t.value});var n=o("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);return n.success?o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorInternalServerError","IQErrorBadRequest"],[t,n])}l.parseCompanionFinishErrors=e}),98);
__d("WASmaxInMdIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInMdCompanionFinishResponseError",["WAResultOrError","WASmaxInMdCompanionFinishErrors","WASmaxInMdIQErrorResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInMdCompanionFinishErrors").parseCompanionFinishErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorCompanionFinishErrors:i.value})):i}l.parseCompanionFinishResponseError=e}),98);
__d("WASmaxInMdIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInMdCompanionFinishResponseSuccess",["WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(e,t);return r.success,r}l.parseCompanionFinishResponseSuccess=e}),98);
__d("WASmaxInMdIQErrorFeatureNotAvailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","feature-not-available");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",452);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFeatureNotAvailableMixin=e}),98);
__d("WASmaxInMdIQErrorForbiddenMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","forbidden");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",403);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorForbiddenMixin=e}),98);
__d("WASmaxInMdIQErrorRateOverlimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","rate-overlimit");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",429);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorRateOverlimitMixin=e}),98);
__d("WASmaxInMdIqMixinErrors",["WAResultOrError","WASmaxInMdIQErrorBadRequestMixin","WASmaxInMdIQErrorFeatureNotAvailableMixin","WASmaxInMdIQErrorForbiddenMixin","WASmaxInMdIQErrorInternalServerErrorMixin","WASmaxInMdIQErrorRateOverlimitMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMdIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:t.value});var n=o("WASmaxInMdIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:n.value});var r=o("WASmaxInMdIQErrorFeatureNotAvailableMixin").parseIQErrorFeatureNotAvailableMixin(e);if(r.success)return o("WAResultOrError").makeResult({name:"IQErrorFeatureNotAvailable",value:r.value});var a=o("WASmaxInMdIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(e);if(a.success)return o("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:a.value});var i=o("WASmaxInMdIQErrorForbiddenMixin").parseIQErrorForbiddenMixin(e);return i.success?o("WAResultOrError").makeResult({name:"IQErrorForbidden",value:i.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorInternalServerError","IQErrorBadRequest","IQErrorFeatureNotAvailable","IQErrorRateOverlimit","IQErrorForbidden"],[t,n,r,a,i])}l.parseIqMixinErrors=e}),98);
__d("WASmaxInMdCompanionHelloResponseError",["WAResultOrError","WASmaxInMdIQErrorResponseMixin","WASmaxInMdIqMixinErrors","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInMdIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInMdIqMixinErrors").parseIqMixinErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorIqMixinErrors:i.value})):i}l.parseCompanionHelloResponseError=e}),98);
__d("WASmaxInMdCompanionHelloResponseNotifyCompanion",["WAResultOrError","WASmaxInMdIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"link_code_companion_reg");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(r.value,"link_code_pairing_ref");if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,r.value,"stage","companion_hello");if(!i.success)return i;var l=o("WASmaxParseUtils").contentBytes(a.value);if(!l.success)return l;var s=o("WASmaxInMdIQResultResponseMixin").parseIQResultResponseMixin(e,t);return s.success?o("WAResultOrError").makeResult(babelHelpers.extends({linkCodeCompanionRegStage:i.value,linkCodeCompanionRegLinkCodePairingRefElementValue:l.value},s.value)):s}l.parseCompanionHelloResponseNotifyCompanion=e}),98);
__d("WASmaxInMdEnums",[],(function(t,n,r,o,a,i){var e={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",a:"a",b:"b",c:"c",d:"d",e:"e",f:"f",g:"g",h:"h",i:"i",j:"j",k:"k",l:"l",m:"m"},l={false:"false",true:"true"};i.ENUM_0_1_2_3_4_5_6_7_8_9_A_B_C_D_E_F_G_H_I_J_K_L_M=e,i.ENUM_FALSE_TRUE=l}),66);
__d("WASmaxInMdSetRegRequest",["WAResultOrError","WASmaxInMdAESEncryptionMetadataMixin","WASmaxInMdBaseIQSetRequestMixin","WASmaxInMdEnums","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"biz");if(!t.success)return t;var n=o("WASmaxParseUtils").attrString(e,"name");return n.success?o("WAResultOrError").makeResult({name:n.value}):n}function s(e){var t=o("WASmaxParseUtils").assertTag(e,"client-props");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytes(e);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}function u(e){var t=o("WASmaxParseUtils").assertTag(e,"encryption-metadata");if(!t.success)return t;var n=o("WASmaxInMdAESEncryptionMetadataMixin").parseAESEncryptionMetadataMixin(e);return n.success,n}function c(t){var n=o("WASmaxParseUtils").assertTag(t,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t,"pair-success");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(r.value,"device-identity");if(!a.success)return a;var i=o("WASmaxParseUtils").flattenedChildWithTag(r.value,"device");if(!i.success)return i;var l=o("WASmaxParseUtils").flattenedChildWithTag(r.value,"platform");if(!l.success)return l;var c=o("WASmaxParseUtils").optionalChildWithTag(r.value,"biz",e);if(!c.success)return c;var d=o("WASmaxParseUtils").optionalChildWithTag(r.value,"client-props",s);if(!d.success)return d;var m=o("WASmaxParseUtils").optionalChildWithTag(r.value,"encryption-metadata",u);if(!m.success)return m;var p=o("WASmaxParseJid").literalJid(o("WASmaxParseJid").attrDomainJid,t,"from","s.whatsapp.net");if(!p.success)return p;var _=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,t,"xmlns","md");if(!_.success)return _;var f=o("WASmaxParseUtils").contentBytesRange(a.value,1,500);if(!f.success)return f;var g=o("WASmaxParseJid").attrDeviceJid(i.value,"jid");if(!g.success)return g;var h=o("WASmaxParseUtils").optional(o("WASmaxParseJid").attrDeviceJid,i.value,"lid");if(!h.success)return h;var y=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrStringEnum,i.value,"beta",o("WASmaxInMdEnums").ENUM_FALSE_TRUE);if(!y.success)return y;var C=o("WASmaxParseUtils").attrString(l.value,"name");if(!C.success)return C;var b=o("WASmaxInMdBaseIQSetRequestMixin").parseBaseIQSetRequestMixin(t);return b.success?o("WAResultOrError").makeResult(babelHelpers.extends({from:p.value,xmlns:_.value,pairSuccessDeviceIdentityElementValue:f.value,pairSuccessDeviceJid:g.value,pairSuccessDeviceLid:h.value,pairSuccessDeviceBeta:y.value,pairSuccessPlatformName:C.value},b.value,{pairSuccessBiz:c.value,pairSuccessClientProps:d.value,pairSuccessEncryptionMetadata:m.value})):b}l.parseSetRegRequestPairSuccessBiz=e,l.parseSetRegRequestPairSuccessClientProps=s,l.parseSetRegRequestPairSuccessEncryptionMetadata=u,l.parseSetRegRequest=c}),98);
__d("WASmaxInMdSetToCompanionRequest",["WAResultOrError","WASmaxInMdBaseIQSetRequestMixin","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ref");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytes(e);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}function s(t){var n=o("WASmaxParseUtils").assertTag(t,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t,"pair-device");if(!r.success)return r;var a=o("WASmaxParseJid").literalJid(o("WASmaxParseJid").attrDomainJid,t,"from","s.whatsapp.net");if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,t,"xmlns","md");if(!i.success)return i;var l=o("WASmaxInMdBaseIQSetRequestMixin").parseBaseIQSetRequestMixin(t);if(!l.success)return l;var s=o("WASmaxParseUtils").mapChildrenWithTag(r.value,"ref",6,6,e);return s.success?o("WAResultOrError").makeResult(babelHelpers.extends({from:a.value,xmlns:i.value},l.value,{pairDeviceRef:s.value})):s}l.parseSetToCompanionRequestPairDeviceRef=e,l.parseSetToCompanionRequest=s}),98);
__d("WASmaxInMessageDeliverAdminEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","3");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAdminEditMixin=e}),98);
__d("WASmaxInMessageDeliverAdminProfileMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"admin_profile");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"name");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"picture");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"id");if(!a.success)return a;var i=o("WASmaxParseUtils").contentString(n.value);if(!i.success)return i;var l=o("WASmaxParseUtils").attrString(r.value,"id");if(!l.success)return l;var s=o("WASmaxParseUtils").attrString(r.value,"direct_path");return s.success?o("WAResultOrError").makeResult({id:a.value,nameElementValue:i.value,pictureId:l.value,pictureDirectPath:s.value}):s}l.parseAdminProfileMixin=e}),98);
__d("WASmaxInMessageDeliverAdminProfileMetaMixin",["WASmaxInMessageDeliverAdminProfileMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(n.value,"admin_profile");if(!r.success)return r;var a=o("WASmaxInMessageDeliverAdminProfileMixin").parseAdminProfileMixin(r.value);return a.success,a}l.parseAdminProfileMetaMixin=e}),98);
__d("WASmaxInMessageDeliverAdminRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","8");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAdminRevokeMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypeMediaMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","media");return n.success?o("WAResultOrError").makeResult({type:n.value}):n}l.parseContentTypeMediaMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypePollCreationMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","poll");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"polltype","creation");if(!a.success)return a;var i=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,n.value,"contenttype");return i.success?o("WAResultOrError").makeResult({type:r.value,metaPolltype:a.value,metaContenttype:i.value}):i}l.parseContentTypePollCreationMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypePollResultSnapshotMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","poll");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"polltype","result_snapshot");return a.success?o("WAResultOrError").makeResult({type:r.value,metaPolltype:a.value}):a}l.parseContentTypePollResultSnapshotMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypePollVoteMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","poll");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"polltype","vote");if(!a.success)return a;var i=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,n.value,"contenttype");return i.success?o("WAResultOrError").makeResult({type:r.value,metaPolltype:a.value,metaContenttype:i.value}):i}l.parseContentTypePollVoteMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypeQuizCreationMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","poll");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"polltype","quiz_creation");if(!a.success)return a;var i=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,n.value,"contenttype");return i.success?o("WAResultOrError").makeResult({type:r.value,metaPolltype:a.value,metaContenttype:i.value}):i}l.parseContentTypeQuizCreationMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypeReactionMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","reaction");return n.success?o("WAResultOrError").makeResult({type:n.value}):n}l.parseContentTypeReactionMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypeTextMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","text");return n.success?o("WAResultOrError").makeResult({type:n.value}):n}l.parseContentTypeTextMixin=e}),98);
__d("WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxInMessageDeliverContentTypePollCreationMixin","WASmaxInMessageDeliverContentTypeQuizCreationMixin","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"ContentTypeText",value:t.value});var n=o("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"ContentTypeMedia",value:n.value});var r=o("WASmaxInMessageDeliverContentTypePollCreationMixin").parseContentTypePollCreationMixin(e);if(r.success)return o("WAResultOrError").makeResult({name:"ContentTypePollCreation",value:r.value});var a=o("WASmaxInMessageDeliverContentTypeQuizCreationMixin").parseContentTypeQuizCreationMixin(e);return a.success?o("WAResultOrError").makeResult({name:"ContentTypeQuizCreation",value:a.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["ContentTypeText","ContentTypeMedia","ContentTypePollCreation","ContentTypeQuizCreation"],[t,n,r,a])}l.parseContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup=e}),98);
__d("WASmaxInMessageDeliverEnums",["WAJids"],(function(t,n,r,o,a,i,l){var e,s={0:"0",1:"1"},u={"1p_sticker":"1p_sticker",audio:"audio",avatar_sticker:"avatar_sticker",buttons_response:"buttons_response",cataloglink:"cataloglink",collection:"collection",contact:"contact",contact_array:"contact_array",document:"document",feed_reshare:"feed_reshare",genai_sticker:"genai_sticker",gif:"gif",group_history:"group_history",history:"history",image:"image",list_response:"list_response",location:"location",motion_photo:"motion_photo",motion_video:"motion_video",native_flow_response:"native_flow_response",order:"order",product:"product",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",sticker_pack:"sticker_pack",story_reply:"story_reply",url:"url",user_created_sticker:"user_created_sticker",vcard:"vcard",video:"video",xma:"xma"},c={"1p_sticker":"1p_sticker",audio:"audio",avatar_sticker:"avatar_sticker",cataloglink:"cataloglink",collection:"collection",document:"document",genai_sticker:"genai_sticker",gif:"gif",image:"image",motion_photo:"motion_photo",motion_video:"motion_video",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",sticker_pack:"sticker_pack",url:"url",user_created_sticker:"user_created_sticker",vcard:"vcard",video:"video"},d={1:"1",2:"2"},m={1:"1",3:"3"},p={ACCEPT:"ACCEPT",REJECT:"REJECT",UNKNOWN:"UNKNOWN"},_={account_authentication_request:"account_authentication_request",address_message:"address_message",call_permission_request:"call_permission_request",form_message:"form_message",galaxy_message:"galaxy_message",menu_options:"menu_options"},f={address_message:"address_message",galaxy_message:"galaxy_message"},g={ads_manager:"ads_manager",graph_api:"graph_api",maiba:"maiba",maiba_ai_hub:"maiba_ai_hub",marketing_messages_with_optimizations:"marketing_messages_with_optimizations",unified_inbox:"unified_inbox"},h={ads_manager:"ads_manager",maiba:"maiba",maiba_ai_hub:"maiba_ai_hub",marketing_messages_with_optimizations:"marketing_messages_with_optimizations",third_party:"third_party",unified_inbox:"unified_inbox"},y={allowlist:"allowlist",contacts:"contacts",denylist:"denylist"},C={allow:"allow",bypass:"bypass",deny:"deny",error:"error"},b={ASPRESENTED:"ASPRESENTED",BIMONTHLY:"BIMONTHLY",DAILY:"DAILY",FORTNIGHTLY:"FORTNIGHTLY",HALFYEARLY:"HALFYEARLY",MONTHLY:"MONTHLY",ONETIME:"ONETIME",QUARTERLY:"QUARTERLY",UNKNOWN:"UNKNOWN",WEEKLY:"WEEKLY",YEARLY:"YEARLY"},v={audio:"audio",avatar_sticker:"avatar_sticker",buttons_response:"buttons_response",cataloglink:"cataloglink",contact:"contact",contact_array:"contact_array",document:"document",feed_reshare:"feed_reshare",gif:"gif",history:"history",image:"image",list_response:"list_response",location:"location",native_flow_response:"native_flow_response",order:"order",product:"product",productlink:"productlink",ptt:"ptt",ptv:"ptv",sticker:"sticker",story_reply:"story_reply",url:"url",vcard:"vcard",video:"video",xma:"xma"},S={br:"br",incentive:"incentive",p2m:"p2m",p2p:"p2p",payout:"payout",upi:"upi",upi_lite:"upi_lite"},R={buyer:"buyer",seller:"seller"},L={card:"card","net-banking":"net-banking",upi:"upi",wallet:"wallet"},E={closed:"closed",open:"open"},k={country:"country",es:"es",react:"react",sys_msg_version:"sys_msg_version",tos3:"tos3",true:"true"},I={creation:"creation",edit:"edit",response:"response"},T={default:"default",group_history:"group_history",history:"history",member_tag:"member_tag"},D={delivery:"delivery",impressions:"impressions",link_clicks:"link_clicks",no_optimization:"no_optimization",offsite_conversions:"offsite_conversions",replies:"replies"},x={DEREGISTER:"DEREGISTER",INIT_TOP_UP:"INIT_TOP_UP",PAY:"PAY",TOP_UP:"TOP_UP"},$={ds:"ds",fc:"fc",ge:"ge"},P={EXACT:"EXACT",MAX:"MAX"},N={FAILED:"FAILED",PENDING:"PENDING",SUCCESS:"SUCCESS"},M={FAILURE:"FAILURE",INIT:"INIT",SUCCESS:"SUCCESS"},w={false:"false",true:"true"},A={FBPAY:"FBPAY",UPI:"UPI"},F={first:"first",full:"full",inner:"inner",last:"last"},O={FULL:"FULL",MISSING_FIELD_NOT_PARTIAL:"MISSING_FIELD_NOT_PARTIAL",PARTIAL:"PARTIAL"},B={group:"group",sender:"sender"},W={guest:"guest",wa:"wa"},q={hd_image_dual_upload:"hd_image_dual_upload",hd_video_dual_upload:"hd_video_dual_upload",hevc_video_dual_upload:"hevc_video_dual_upload",media_poll:"media_poll",motion_photo:"motion_photo",sticker_annotation:"sticker_annotation"},U={high:"high",high_force:"high_force",low:"low"},V={high:"high",low:"low",unknown:"unknown"},H={hosted:"hosted",view_once:"view_once"},G={hpp_payment_link:"hpp_payment_link",upi:"upi"},z={lid:"lid",pn:"pn"},j={matched:"matched",unmatched:"unmatched"},K={message_limit_reached:"message_limit_reached",under_limit:"under_limit"},Q={msg:"msg",pkmsg:"pkmsg"},X={new_member:"new_member",rereg_recovery_request:"rereg_recovery_request",rereg_recovery_response:"rereg_recovery_response",user_delete:"user_delete",user_update:"user_update"},Y={on_demand:"on_demand",scheduled:"scheduled"},J={p2m:"p2m",p2p:"p2p"},Z={request:"request",send:"send"},ee={smb_mm:"smb_mm",smb_promo:"smb_promo"},te={tier3:"tier3",tier6_matched:"tier6_matched",tier6_unmatched:"tier6_unmatched"},ne={"":"",call_permission_request:"call_permission_request",catalog_message:"catalog_message",menu_options:"menu_options",order_details:"order_details",order_status:"order_status",otp:"otp",payment_info:"payment_info",payment_key_info:"payment_key_info",payment_method:"payment_method",payment_status:"payment_status",video_call:"video_call",voice_call:"voice_call"},re={validators:[(e=o("WAJids")).validateDeviceJid,e.validateBroadcastJid,e.validateDeviceJid,e.validateGroupJid,e.validateInteropDeviceJid,e.validateInteropDeviceJid,e.validateDeviceJid,e.validateStatusJid],typeName:"DeviceJid|BroadcastJid|DeviceJid|GroupJid|InteropDeviceJid|InteropDeviceJid|DeviceJid|StatusJid"},oe={validators:[e.validateDeviceJid,e.validateDeviceJid],typeName:"DeviceJid|DeviceJid"},ae={validators:[e.validateDeviceJid,e.validateDeviceJid,e.validateInteropDeviceJid,e.validateInteropDeviceJid,e.validateDeviceJid],typeName:"DeviceJid|DeviceJid|InteropDeviceJid|InteropDeviceJid|DeviceJid"},ie={validators:[e.validateDeviceJid,e.validateDeviceJid,e.validateUserJid,e.validateUserJid,e.validateDeviceJid,e.validateLidUserJid,e.validateUserJid],typeName:"DeviceJid|DeviceJid|UserJid|UserJid|DeviceJid|LidUserJid|UserJid"},le={validators:[e.validateDeviceJid,e.validateDeviceJid,e.validateUserJid,e.validateUserJid,e.validateLidUserJid,e.validateUserJid],typeName:"DeviceJid|DeviceJid|UserJid|UserJid|LidUserJid|UserJid"},se={validators:[e.validateGroupJid,e.validateUserJid],typeName:"GroupJid|UserJid"},ue={validators:[e.validateUserJid,e.validateUserJid],typeName:"UserJid|UserJid"};l.ENUM_0_1=s,l.ENUM_1PSTICKER_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_COLLECTION_CONTACT_CONTACTARRAY_DOCUMENT_FEEDRESHARE_GENAISTICKER_GIF_GROUPHISTORY_HISTORY_IMAGE_LISTRESPONSE_LOCATION_MOTIONPHOTO_MOTIONVIDEO_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_STORYREPLY_URL_USERCREATEDSTICKER_VCARD_VIDEO_XMA=u,l.ENUM_1PSTICKER_AUDIO_AVATARSTICKER_CATALOGLINK_COLLECTION_DOCUMENT_GENAISTICKER_GIF_IMAGE_MOTIONPHOTO_MOTIONVIDEO_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_URL_USERCREATEDSTICKER_VCARD_VIDEO=c,l.ENUM_1_2=d,l.ENUM_1_3=m,l.ENUM_ACCEPT_REJECT_UNKNOWN=p,l.ENUM_ACCOUNTAUTHENTICATIONREQUEST_ADDRESSMESSAGE_CALLPERMISSIONREQUEST_FORMMESSAGE_GALAXYMESSAGE_MENUOPTIONS=_,l.ENUM_ADDRESSMESSAGE_GALAXYMESSAGE=f,l.ENUM_ADSMANAGER_GRAPHAPI_MAIBA_MAIBAAIHUB_MARKETINGMESSAGESWITHOPTIMIZATIONS_UNIFIEDINBOX=g,l.ENUM_ADSMANAGER_MAIBA_MAIBAAIHUB_MARKETINGMESSAGESWITHOPTIMIZATIONS_THIRDPARTY_UNIFIEDINBOX=h,l.ENUM_ALLOWLIST_CONTACTS_DENYLIST=y,l.ENUM_ALLOW_BYPASS_DENY_ERROR=C,l.ENUM_ASPRESENTED_BIMONTHLY_DAILY_FORTNIGHTLY_HALFYEARLY_MONTHLY_ONETIME_QUARTERLY_UNKNOWN_WEEKLY_YEARLY=b,l.ENUM_AUDIO_AVATARSTICKER_BUTTONSRESPONSE_CATALOGLINK_CONTACT_CONTACTARRAY_DOCUMENT_FEEDRESHARE_GIF_HISTORY_IMAGE_LISTRESPONSE_LOCATION_NATIVEFLOWRESPONSE_ORDER_PRODUCT_PRODUCTLINK_PTT_PTV_STICKER_STORYREPLY_URL_VCARD_VIDEO_XMA=v,l.ENUM_BR_INCENTIVE_P2M_P2P_PAYOUT_UPI_UPILITE=S,l.ENUM_BUYER_SELLER=R,l.ENUM_CARD_NETBANKING_UPI_WALLET=L,l.ENUM_CLOSED_OPEN=E,l.ENUM_COUNTRY_ES_REACT_SYSMSGVERSION_TOS3_TRUE=k,l.ENUM_CREATION_EDIT_RESPONSE=I,l.ENUM_DEFAULTP_GROUPHISTORY_HISTORY_MEMBERTAG=T,l.ENUM_DELIVERY_IMPRESSIONS_LINKCLICKS_NOOPTIMIZATION_OFFSITECONVERSIONS_REPLIES=D,l.ENUM_DEREGISTER_INITTOPUP_PAY_TOPUP=x,l.ENUM_DS_FC_GE=$,l.ENUM_EXACT_MAX=P,l.ENUM_FAILED_PENDING_SUCCESS=N,l.ENUM_FAILURE_INIT_SUCCESS=M,l.ENUM_FALSE_TRUE=w,l.ENUM_FBPAY_UPI=A,l.ENUM_FIRST_FULL_INNER_LAST=F,l.ENUM_FULL_MISSINGFIELDNOTPARTIAL_PARTIAL=O,l.ENUM_GROUP_SENDER=B,l.ENUM_GUEST_WA=W,l.ENUM_HDIMAGEDUALUPLOAD_HDVIDEODUALUPLOAD_HEVCVIDEODUALUPLOAD_MEDIAPOLL_MOTIONPHOTO_STICKERANNOTATION=q,l.ENUM_HIGH_HIGHFORCE_LOW=U,l.ENUM_HIGH_LOW_UNKNOWN=V,l.ENUM_HOSTED_VIEWONCE=H,l.ENUM_HPPPAYMENTLINK_UPI=G,l.ENUM_LID_PN=z,l.ENUM_MATCHED_UNMATCHED=j,l.ENUM_MESSAGELIMITREACHED_UNDERLIMIT=K,l.ENUM_MSG_PKMSG=Q,l.ENUM_NEWMEMBER_REREGRECOVERYREQUEST_REREGRECOVERYRESPONSE_USERDELETE_USERUPDATE=X,l.ENUM_ONDEMAND_SCHEDULED=Y,l.ENUM_P2M_P2P=J,l.ENUM_REQUEST_SEND=Z,l.ENUM_SMBMM_SMBPROMO=ee,l.ENUM_TIER3_TIER6MATCHED_TIER6UNMATCHED=te,l.ENUM__CALLPERMISSIONREQUEST_CATALOGMESSAGE_MENUOPTIONS_ORDERDETAILS_ORDERSTATUS_OTP_PAYMENTINFO_PAYMENTKEYINFO_PAYMENTMETHOD_PAYMENTSTATUS_VIDEOCALL_VOICECALL=ne,l.DEVICEJID_BROADCASTJID_DEVICEJID_GROUPJID_INTEROPDEVICEJID_INTEROPDEVICEJID_DEVICEJID_STATUSJID=re,l.DEVICEJID_DEVICEJID=oe,l.DEVICEJID_DEVICEJID_INTEROPDEVICEJID_INTEROPDEVICEJID_DEVICEJID=ae,l.DEVICEJID_DEVICEJID_USERJID_USERJID_DEVICEJID_LIDUSERJID_USERJID=ie,l.DEVICEJID_DEVICEJID_USERJID_USERJID_LIDUSERJID_USERJID=le,l.GROUPJID_USERJID=se,l.USERJID_USERJID=ue}),98);
__d("WASmaxInMessageDeliverMediaMetaMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,n.value,"contenttype");return r.success?o("WAResultOrError").makeResult({metaContenttype:r.value}):r}l.parseMediaMetaMixin=e}),98);
__d("WASmaxInMessageDeliverMessageAssociationTypeMixin",["WAResultOrError","WASmaxInMessageDeliverEnums","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").attrStringEnum(n.value,"message_association_type",o("WASmaxInMessageDeliverEnums").ENUM_HDIMAGEDUALUPLOAD_HDVIDEODUALUPLOAD_HEVCVIDEODUALUPLOAD_MEDIAPOLL_MOTIONPHOTO_STICKERANNOTATION);return r.success?o("WAResultOrError").makeResult({metaMessageAssociationType:r.value}):r}l.parseMessageAssociationTypeMixin=e}),98);
__d("WASmaxInMessageDeliverPayloadMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"plaintext");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytesRange(e,1,1048576);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}l.parsePayloadMixin=e}),98);
__d("WASmaxInMessageDeliverWAMOSubMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"is_wamo_sub","true");return r.success?o("WAResultOrError").makeResult({metaIsWamoSub:r.value}):r}l.parseWAMOSubMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterMediaMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxInMessageDeliverEnums","WASmaxInMessageDeliverMediaMetaMixin","WASmaxInMessageDeliverMessageAssociationTypeMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxParseUtils").attrStringEnum(n.value,"mediatype",o("WASmaxInMessageDeliverEnums").ENUM_1PSTICKER_AUDIO_AVATARSTICKER_CATALOGLINK_COLLECTION_DOCUMENT_GENAISTICKER_GIF_IMAGE_MOTIONPHOTO_MOTIONVIDEO_PRODUCTLINK_PTT_PTV_STICKER_STICKERPACK_URL_USERCREATEDSTICKER_VCARD_VIDEO);if(!r.success)return r;var a=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!a.success)return a;var i=o("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(e);if(!i.success)return i;var l=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e),s=o("WASmaxInMessageDeliverMessageAssociationTypeMixin").parseMessageAssociationTypeMixin(e),u=o("WASmaxInMessageDeliverMediaMetaMixin").parseMediaMetaMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({plaintextMediatype:r.value,plaintextPayloadMixin:a.value},i.value,{wAMOSubMixin:l.success?l.value:null,messageAssociationTypeMixin:s.success?s.value:null,mediaMetaMixin:u.success?u.value:null}))}l.parseNewsletterMediaMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterTextMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({plaintextPayloadMixin:r.value},a.value,{wAMOSubMixin:i.success?i.value:null}))}l.parseNewsletterTextMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup",["WAResultOrError","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"NewsletterText",value:t.value});var n=o("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(e);return n.success?o("WAResultOrError").makeResult({name:"NewsletterMedia",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["NewsletterText","NewsletterMedia"],[t,n])}l.parseNewsletterTextOrMediaMixinGroup=e}),98);
__d("WASmaxInMessageDeliverQuestionTypeReplyMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"questiontype","reply");return r.success?o("WAResultOrError").makeResult({metaQuestiontype:r.value}):r}l.parseQuestionTypeReplyMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionReplyMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup","WASmaxInMessageDeliverQuestionTypeReplyMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxInMessageDeliverQuestionTypeReplyMixin").parseQuestionTypeReplyMixin(e);if(!n.success)return n;var r=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e),a=o("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup").parseNewsletterTextOrMediaMixinGroup(e);return a.success?o("WAResultOrError").makeResult(babelHelpers.extends({},n.value,{wAMOSubMixin:r.success?r.value:null,newsletterTextOrMediaMixinGroup:a.value})):a}l.parseNewsletterQuestionReplyMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup",["WAResultOrError","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterQuestionReplyMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessageDeliverNewsletterQuestionReplyMixin").parseNewsletterQuestionReplyMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"NewsletterQuestionReply",value:t.value});var n=o("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"NewsletterText",value:n.value});var r=o("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(e);return r.success?o("WAResultOrError").makeResult({name:"NewsletterMedia",value:r.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["NewsletterQuestionReply","NewsletterText","NewsletterMedia"],[t,n,r])}l.parseNewsletterQuestionReplyOrTextOrMediaMixinGroup=e}),98);
__d("WASmaxInMessageDeliverNewsletterEditMixin",["WAResultOrError","WASmaxInMessageDeliverAdminEditMixin","WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxInMessageDeliverAdminEditMixin").parseAdminEditMixin(e);if(!n.success)return n;var r=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e),a=o("WASmaxInMessageDeliverNewsletterQuestionReplyOrTextOrMediaMixinGroup").parseNewsletterQuestionReplyOrTextOrMediaMixinGroup(e);return a.success?o("WAResultOrError").makeResult(babelHelpers.extends({},n.value,{wAMOSubMixin:r.success?r.value:null,newsletterQuestionReplyOrTextOrMediaMixinGroup:a.value})):a}l.parseNewsletterEditMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterPollCreationMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollCreationMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypePollCreationMixin").parseContentTypePollCreationMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({plaintextPayloadMixin:r.value},a.value,{wAMOSubMixin:i.success?i.value:null}))}l.parseNewsletterPollCreationMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollResultSnapshotMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypePollResultSnapshotMixin").parseContentTypePollResultSnapshotMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({plaintextPayloadMixin:r.value},a.value,{wAMOSubMixin:i.success?i.value:null}))}l.parseNewsletterPollResultSnapshotMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterPollVoteMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypePollVoteMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"vote");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytesRange(e,32,32);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}function s(t){var n=o("WASmaxParseUtils").assertTag(t,"message");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t,"votes");if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypePollVoteMixin").parseContentTypePollVoteMixin(t);if(!a.success)return a;var i=o("WASmaxParseUtils").mapChildrenWithTag(r.value,"vote",0,1e3,e);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{votesVote:i.value})):i}l.parseNewsletterPollVoteVotesVote=e,l.parseNewsletterPollVoteMixin=s}),98);
__d("WASmaxInMessageDeliverQuestionTypeQuestionMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"questiontype","question");return r.success?o("WAResultOrError").makeResult({metaQuestiontype:r.value}):r}l.parseQuestionTypeQuestionMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup","WASmaxInMessageDeliverQuestionTypeQuestionMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxInMessageDeliverQuestionTypeQuestionMixin").parseQuestionTypeQuestionMixin(e);if(!n.success)return n;var r=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e),a=o("WASmaxInMessageDeliverNewsletterTextOrMediaMixinGroup").parseNewsletterTextOrMediaMixinGroup(e);return a.success?o("WAResultOrError").makeResult(babelHelpers.extends({},n.value,{wAMOSubMixin:r.success?r.value:null,newsletterTextOrMediaMixinGroup:a.value})):a}l.parseNewsletterQuestionMixin=e}),98);
__d("WASmaxInMessageDeliverQuestionTypeResponseMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"questiontype","response");return r.success?o("WAResultOrError").makeResult({metaQuestiontype:r.value}):r}l.parseQuestionTypeResponseMixin=e}),98);
__d("WASmaxInMessageDeliverResponseServerIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(n.value,"response_server_id");return r.success?o("WAResultOrError").makeResult({metaResponseServerId:r.value}):r}l.parseResponseServerIDMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterQuestionResponseMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverQuestionTypeResponseMixin","WASmaxInMessageDeliverResponseServerIDMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverQuestionTypeResponseMixin").parseQuestionTypeResponseMixin(e);if(!i.success)return i;var l=o("WASmaxInMessageDeliverResponseServerIDMixin").parseResponseServerIDMixin(e);return l.success?o("WAResultOrError").makeResult(babelHelpers.extends({plaintextPayloadMixin:r.value},a.value,i.value,l.value)):l}l.parseNewsletterQuestionResponseMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterQuizCreationMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeQuizCreationMixin","WASmaxInMessageDeliverPayloadMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverPayloadMixin").parsePayloadMixin(n.value);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeQuizCreationMixin").parseContentTypeQuizCreationMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({plaintextPayloadMixin:r.value},a.value,{wAMOSubMixin:i.success?i.value:null}))}l.parseNewsletterQuizCreationMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterReactionMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeReactionMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"reaction");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(n.value,"code");if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeReactionMixin").parseContentTypeReactionMixin(e);return a.success?o("WAResultOrError").makeResult(babelHelpers.extends({reactionCode:r.value},a.value)):a}l.parseNewsletterReactionMixin=e}),98);
__d("WASmaxInMessageDeliverRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","7");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseRevokeMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterReactionRevokeMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeReactionMixin","WASmaxInMessageDeliverRevokeMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"reaction");if(!n.success)return n;var r=o("WASmaxInMessageDeliverRevokeMixin").parseRevokeMixin(e);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeReactionMixin").parseContentTypeReactionMixin(e);return a.success?o("WAResultOrError").makeResult(babelHelpers.extends({},r.value,a.value)):a}l.parseNewsletterReactionRevokeMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterRevokeMixin",["WAResultOrError","WASmaxInMessageDeliverAdminRevokeMixin","WASmaxInMessageDeliverContentTypeTextMixin","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverAdminRevokeMixin").parseAdminRevokeMixin(e);if(!r.success)return r;var a=o("WASmaxInMessageDeliverContentTypeTextMixin").parseContentTypeTextMixin(e);if(!a.success)return a;var i=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({},r.value,a.value,{wAMOSubMixin:i.success?i.value:null}))}l.parseNewsletterRevokeMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterWAMOEmptyMixin",["WAResultOrError","WASmaxInMessageDeliverAdminEditMixin","WASmaxInMessageDeliverAdminRevokeMixin","WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup","WASmaxInMessageDeliverWAMOSubMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxInMessageDeliverWAMOSubMixin").parseWAMOSubMixin(e);if(!r.success)return r;var a=o("WASmaxInMessageDeliverAdminRevokeMixin").parseAdminRevokeMixin(e),i=o("WASmaxInMessageDeliverAdminEditMixin").parseAdminEditMixin(e),l=o("WASmaxInMessageDeliverContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup").parseContentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup(e);return l.success?o("WAResultOrError").makeResult(babelHelpers.extends({},r.value,{adminRevokeMixin:a.success?a.value:null,adminEditMixin:i.success?i.value:null,contentTypeTextOrMediaOrPollCreationOrQuizCreationMixinGroup:l.value})):l}l.parseNewsletterWAMOEmptyMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterMessageFanoutContent",["WAResultOrError","WASmaxInMessageDeliverNewsletterEditMixin","WASmaxInMessageDeliverNewsletterMediaMixin","WASmaxInMessageDeliverNewsletterPollCreationMixin","WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin","WASmaxInMessageDeliverNewsletterPollVoteMixin","WASmaxInMessageDeliverNewsletterQuestionMixin","WASmaxInMessageDeliverNewsletterQuestionReplyMixin","WASmaxInMessageDeliverNewsletterQuestionResponseMixin","WASmaxInMessageDeliverNewsletterQuizCreationMixin","WASmaxInMessageDeliverNewsletterReactionMixin","WASmaxInMessageDeliverNewsletterReactionRevokeMixin","WASmaxInMessageDeliverNewsletterRevokeMixin","WASmaxInMessageDeliverNewsletterTextMixin","WASmaxInMessageDeliverNewsletterWAMOEmptyMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessageDeliverNewsletterQuestionMixin").parseNewsletterQuestionMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"NewsletterQuestion",value:t.value});var n=o("WASmaxInMessageDeliverNewsletterQuestionResponseMixin").parseNewsletterQuestionResponseMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"NewsletterQuestionResponse",value:n.value});var r=o("WASmaxInMessageDeliverNewsletterEditMixin").parseNewsletterEditMixin(e);if(r.success)return o("WAResultOrError").makeResult({name:"NewsletterEdit",value:r.value});var a=o("WASmaxInMessageDeliverNewsletterQuestionReplyMixin").parseNewsletterQuestionReplyMixin(e);if(a.success)return o("WAResultOrError").makeResult({name:"NewsletterQuestionReply",value:a.value});var i=o("WASmaxInMessageDeliverNewsletterRevokeMixin").parseNewsletterRevokeMixin(e);if(i.success)return o("WAResultOrError").makeResult({name:"NewsletterRevoke",value:i.value});var l=o("WASmaxInMessageDeliverNewsletterTextMixin").parseNewsletterTextMixin(e);if(l.success)return o("WAResultOrError").makeResult({name:"NewsletterText",value:l.value});var s=o("WASmaxInMessageDeliverNewsletterMediaMixin").parseNewsletterMediaMixin(e);if(s.success)return o("WAResultOrError").makeResult({name:"NewsletterMedia",value:s.value});var u=o("WASmaxInMessageDeliverNewsletterReactionMixin").parseNewsletterReactionMixin(e);if(u.success)return o("WAResultOrError").makeResult({name:"NewsletterReaction",value:u.value});var c=o("WASmaxInMessageDeliverNewsletterReactionRevokeMixin").parseNewsletterReactionRevokeMixin(e);if(c.success)return o("WAResultOrError").makeResult({name:"NewsletterReactionRevoke",value:c.value});var d=o("WASmaxInMessageDeliverNewsletterPollCreationMixin").parseNewsletterPollCreationMixin(e);if(d.success)return o("WAResultOrError").makeResult({name:"NewsletterPollCreation",value:d.value});var m=o("WASmaxInMessageDeliverNewsletterQuizCreationMixin").parseNewsletterQuizCreationMixin(e);if(m.success)return o("WAResultOrError").makeResult({name:"NewsletterQuizCreation",value:m.value});var p=o("WASmaxInMessageDeliverNewsletterPollVoteMixin").parseNewsletterPollVoteMixin(e);if(p.success)return o("WAResultOrError").makeResult({name:"NewsletterPollVote",value:p.value});var _=o("WASmaxInMessageDeliverNewsletterPollResultSnapshotMixin").parseNewsletterPollResultSnapshotMixin(e);if(_.success)return o("WAResultOrError").makeResult({name:"NewsletterPollResultSnapshot",value:_.value});var f=o("WASmaxInMessageDeliverNewsletterWAMOEmptyMixin").parseNewsletterWAMOEmptyMixin(e);return f.success?o("WAResultOrError").makeResult({name:"NewsletterWAMOEmpty",value:f.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["NewsletterQuestion","NewsletterQuestionResponse","NewsletterEdit","NewsletterQuestionReply","NewsletterRevoke","NewsletterText","NewsletterMedia","NewsletterReaction","NewsletterReactionRevoke","NewsletterPollCreation","NewsletterQuizCreation","NewsletterPollVote","NewsletterPollResultSnapshot","NewsletterWAMOEmpty"],[t,n,r,a,i,l,s,u,c,d,m,p,_,f])}l.parseNewsletterMessageFanoutContent=e}),98);
__d("WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(n.value,"msg_edit_t",15778656e5,41024736e5);return r.success?o("WAResultOrError").makeResult({metaMsgEditT:r.value}):r}l.parseNewsletterMessageLastEditTimestampMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(n.value,"original_msg_t",1577865600,4102473600);return r.success?o("WAResultOrError").makeResult({metaOriginalMsgT:r.value}):r}l.parseNewsletterMessageOriginalTimestampMixin=e}),98);
__d("WASmaxInMessageDeliverPaidPartnershipContentMixin",["WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"meta");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(n.value,"paid_partnership");return r.success?o("WASmaxParseUtils").voidSuccess:r}l.parsePaidPartnershipContentMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterMessageFanoutMixin",["WAResultOrError","WASmaxInMessageDeliverAdminProfileMetaMixin","WASmaxInMessageDeliverNewsletterMessageFanoutContent","WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin","WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin","WASmaxInMessageDeliverPaidPartnershipContentMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").attrStanzaId(e,"id");if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(e,"server_id",99,2147476647);if(!r.success)return r;var a=o("WASmaxParseUtils").attrIntRange(e,"t",0,void 0);if(!a.success)return a;var i=o("WASmaxParseUtils").optionalLiteral(o("WASmaxParseUtils").attrString,e,"is_sender","true");if(!i.success)return i;var l=o("WASmaxInMessageDeliverNewsletterMessageOriginalTimestampMixin").parseNewsletterMessageOriginalTimestampMixin(e),s=o("WASmaxInMessageDeliverNewsletterMessageLastEditTimestampMixin").parseNewsletterMessageLastEditTimestampMixin(e),u=o("WASmaxInMessageDeliverAdminProfileMetaMixin").parseAdminProfileMetaMixin(e),c=o("WASmaxInMessageDeliverPaidPartnershipContentMixin").parsePaidPartnershipContentMixin(e),d=o("WASmaxInMessageDeliverNewsletterMessageFanoutContent").parseNewsletterMessageFanoutContent(e);return d.success?o("WAResultOrError").makeResult({id:n.value,serverId:r.value,t:a.value,isSender:i.value,newsletterMessageOriginalTimestampMixin:l.success?l.value:null,newsletterMessageLastEditTimestampMixin:s.success?s.value:null,adminProfileMetaMixin:u.success?u.value:null,hasPaidPartnershipContentMixin:c.success,newsletterMessageFanoutContent:d.value}):d}l.parseNewsletterMessageFanoutMixin=e}),98);
__d("WASmaxInMessageDeliverOfflineMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").attrIntRange(e,"offline",0,12);return t.success?o("WAResultOrError").makeResult({offline:t.value}):t}l.parseOfflineMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterMessageWithJIDMixin",["WAResultOrError","WASmaxInMessageDeliverNewsletterMessageFanoutMixin","WASmaxInMessageDeliverOfflineMixin","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseJid").attrNewsletterJid(e,"from");if(!n.success)return n;var r=o("WASmaxInMessageDeliverNewsletterMessageFanoutMixin").parseNewsletterMessageFanoutMixin(e);if(!r.success)return r;var a=o("WASmaxInMessageDeliverOfflineMixin").parseOfflineMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({from:n.value},r.value,{offlineMixin:a.success?a.value:null}))}l.parseNewsletterMessageWithJIDMixin=e}),98);
__d("WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin",["WAResultOrError","WASmaxInMessageDeliverContentTypeMediaMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"plaintext");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"rcat");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,n.value,"mediatype","url");if(!a.success)return a;var i=o("WASmaxParseUtils").contentBytes(r.value);if(!i.success)return i;var l=o("WASmaxInMessageDeliverContentTypeMediaMixin").parseContentTypeMediaMixin(e);return l.success?o("WAResultOrError").makeResult(babelHelpers.extends({plaintextMediatype:a.value,rcatElementValue:i.value},l.value)):l}l.parseReceiverContentTypeMediaRCATMixin=e}),98);
__d("WASmaxInMessageDeliverNewsletterRequest",["WAResultOrError","WASmaxInMessageDeliverNewsletterMessageWithJIDMixin","WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"message");if(!t.success)return t;var n=o("WASmaxInMessageDeliverNewsletterMessageWithJIDMixin").parseNewsletterMessageWithJIDMixin(e);if(!n.success)return n;var r=o("WASmaxInMessageDeliverReceiverContentTypeMediaRCATMixin").parseReceiverContentTypeMediaRCATMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({},n.value,{receiverContentTypeMediaRCATMixin:r.success?r.value:null}))}l.parseNewsletterRequest=e}),98);
__d("WASmaxInMessagePublishAckAdminEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","3");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAckAdminEditMixin=e}),98);
__d("WASmaxInMessagePublishAckAdminRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","8");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAckAdminRevokeMixin=e}),98);
__d("WASmaxInMessagePublishAckMessageEditMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","1");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAckMessageEditMixin=e}),98);
__d("WASmaxInMessagePublishAckMessagePinMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","2");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAckMessagePinMixin=e}),98);
__d("WASmaxInMessagePublishEnums",["WAJids"],(function(t,n,r,o,a,i,l){var e,s={CBP:"CBP",NBP:"NBP",PMP:"PMP"},u={delivery:"delivery",no_optimization:"no_optimization"},c={false:"false",true:"true"},d={free_customer_service:"free_customer_service",free_entry_point:"free_entry_point",regular:"regular"},m={lid:"lid",pn:"pn"},p={validators:[(e=o("WAJids")).validateDeviceJid,e.validateDeviceJid,e.validateUserJid,e.validateUserJid],typeName:"DeviceJid|DeviceJid|UserJid|UserJid"},_={validators:[e.validateUserJid,e.validateUserJid],typeName:"UserJid|UserJid"};l.ENUM_CBP_NBP_PMP=s,l.ENUM_DELIVERY_NOOPTIMIZATION=u,l.ENUM_FALSE_TRUE=c,l.ENUM_FREECUSTOMERSERVICE_FREEENTRYPOINT_REGULAR=d,l.ENUM_LID_PN=m,l.DEVICEJID_DEVICEJID_USERJID_USERJID=p,l.USERJID_USERJID=_}),98);
__d("WASmaxInMessagePublishAckPaidConversationMixin",["WAResultOrError","WASmaxInMessagePublishEnums","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"delivery_context");if(!t.success)return t;var n=o("WASmaxParseUtils").attrStringEnum(e,"optimization_goal",o("WASmaxInMessagePublishEnums").ENUM_DELIVERY_NOOPTIMIZATION);return n.success?o("WAResultOrError").makeResult({optimizationGoal:n.value}):n}function s(e){var t=o("WASmaxParseUtils").assertTag(e,"source_url");if(!t.success)return t;var n=o("WASmaxParseUtils").contentString(e);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}function u(e){var t=o("WASmaxParseUtils").assertTag(e,"referral");if(!t.success)return t;var n=o("WASmaxParseUtils").optionalChildWithTag(e,"source_url",s);if(!n.success)return n;var r=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"source_type");return r.success?o("WAResultOrError").makeResult({sourceType:r.value,sourceUrl:n.value}):r}function c(e){var t=o("WASmaxParseUtils").assertTag(e,"origin");if(!t.success)return t;var n=o("WASmaxParseUtils").optionalChildWithTag(e,"referral",u);if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(e,"type");return r.success?o("WAResultOrError").makeResult({type:r.value,referral:n.value}):r}function d(e){var t=o("WASmaxParseUtils").assertTag(e,"pricing");if(!t.success)return t;var n=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"consumer_country_code");if(!n.success)return n;var r=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"business_country_code");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"conversation_status",0,void 0);if(!a.success)return a;var i=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"latest_c2b_timestamp",0,void 0);if(!i.success)return i;var l=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"analytics_conversation_id");if(!l.success)return l;var s=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"b2c_timestamp",0,void 0);return s.success?o("WAResultOrError").makeResult({consumerCountryCode:n.value,businessCountryCode:r.value,conversationStatus:a.value,latestC2bTimestamp:i.value,analyticsConversationId:l.value,b2cTimestamp:s.value}):s}function m(t){var n=o("WASmaxParseUtils").assertTag(t,"ack");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t,"biz");if(!r.success)return r;var a=o("WASmaxParseUtils").optionalChildWithTag(r.value,"delivery_context",e);if(!a.success)return a;var i=o("WASmaxParseUtils").optionalChildWithTag(r.value,"origin",c);if(!i.success)return i;var l=o("WASmaxParseUtils").optionalChildWithTag(r.value,"pricing",d);if(!l.success)return l;var s=o("WASmaxParseUtils").attrString(r.value,"paid_convo_id");if(!s.success)return s;var u=o("WASmaxParseUtils").attrStringEnum(r.value,"pricing_model",o("WASmaxInMessagePublishEnums").ENUM_CBP_NBP_PMP);if(!u.success)return u;var m=o("WASmaxParseUtils").attrStringEnum(r.value,"billable",o("WASmaxInMessagePublishEnums").ENUM_FALSE_TRUE);if(!m.success)return m;var p=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,r.value,"expiration_timestamp",0,void 0);if(!p.success)return p;var _=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,r.value,"pricing_category");if(!_.success)return _;var f=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrStringEnum,r.value,"pricing_type",o("WASmaxInMessagePublishEnums").ENUM_FREECUSTOMERSERVICE_FREEENTRYPOINT_REGULAR);return f.success?o("WAResultOrError").makeResult({bizPaidConvoId:s.value,bizPricingModel:u.value,bizBillable:m.value,bizExpirationTimestamp:p.value,bizPricingCategory:_.value,bizPricingType:f.value,bizDeliveryContext:a.value,bizOrigin:i.value,bizPricing:l.value}):f}l.parseAckPaidConversationBizDeliveryContext=e,l.parseAckPaidConversationBizOriginReferralSourceUrl=s,l.parseAckPaidConversationBizOriginReferral=u,l.parseAckPaidConversationBizOrigin=c,l.parseAckPaidConversationBizPricing=d,l.parseAckPaidConversationMixin=m}),98);
__d("WASmaxInMessagePublishAckPaidGroupConversationMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"biz");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(n.value,"pricing");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,r.value,"business_country_code");return a.success?o("WAResultOrError").makeResult({bizPricingBusinessCountryCode:a.value}):a}l.parseAckPaidGroupConversationMixin=e}),98);
__d("WASmaxInMessagePublishAckPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup",["WAResultOrError","WASmaxInMessagePublishAckPaidConversationMixin","WASmaxInMessagePublishAckPaidGroupConversationMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessagePublishAckPaidConversationMixin").parseAckPaidConversationMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"AckPaidConversation",value:t.value});var n=o("WASmaxInMessagePublishAckPaidGroupConversationMixin").parseAckPaidGroupConversationMixin(e);return n.success?o("WAResultOrError").makeResult({name:"AckPaidGroupConversation",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["AckPaidConversation","AckPaidGroupConversation"],[t,n])}l.parseAckPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup=e}),98);
__d("WASmaxInMessagePublishAckRevokeMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"edit","7");return n.success?o("WAResultOrError").makeResult({edit:n.value}):n}l.parseAckRevokeMixin=e}),98);
__d("WASmaxInMessagePublishServerFrankingTagMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"franking");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"reporting_tag");if(!n.success)return n;var r=o("WASmaxParseUtils").contentBytesRange(n.value,9,128);return r.success?o("WAResultOrError").makeResult({frankingReportingTagElementValue:r.value}):r}l.parseServerFrankingTagMixin=e}),98);
__d("WASmaxInMessagePublishAckMixin",["WAResultOrError","WASmaxInMessagePublishAckAdminEditMixin","WASmaxInMessagePublishAckAdminRevokeMixin","WASmaxInMessagePublishAckMessageEditMixin","WASmaxInMessagePublishAckMessagePinMixin","WASmaxInMessagePublishAckPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup","WASmaxInMessagePublishAckRevokeMixin","WASmaxInMessagePublishServerFrankingTagMixin","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"ack");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",r.value);if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"class","message");if(!i.success)return i;var l=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",l.value);if(!s.success)return s;var u=o("WASmaxParseUtils").attrIntRange(e,"t",0,void 0);if(!u.success)return u;var c=o("WASmaxInMessagePublishAckMessageEditMixin").parseAckMessageEditMixin(e),d=o("WASmaxInMessagePublishAckAdminEditMixin").parseAckAdminEditMixin(e),m=o("WASmaxInMessagePublishAckMessagePinMixin").parseAckMessagePinMixin(e),p=o("WASmaxInMessagePublishAckAdminRevokeMixin").parseAckAdminRevokeMixin(e),_=o("WASmaxInMessagePublishAckRevokeMixin").parseAckRevokeMixin(e),f=o("WASmaxInMessagePublishServerFrankingTagMixin").parseServerFrankingTagMixin(e),g=o("WASmaxInMessagePublishAckPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup").parseAckPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup(e);return o("WAResultOrError").makeResult({class:i.value,t:u.value,ackMessageEditMixin:c.success?c.value:null,ackAdminEditMixin:d.success?d.value:null,ackMessagePinMixin:m.success?m.value:null,ackAdminRevokeMixin:p.success?p.value:null,ackRevokeMixin:_.success?_.value:null,serverFrankingTagMixin:f.success?f.value:null,ackPaidAckPaidConversationOrAckPaidGroupConversationConversationMixinGroup:g.success?g.value:null})}l.parseAckMixin=e}),98);
__d("WASmaxInMessagePublishApplicationNegativeAckMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").attrIntRange(e,"application_error",0,void 0);return n.success?o("WAResultOrError").makeResult({applicationError:n.value}):n}l.parseApplicationNegativeAckMixin=e}),98);
__d("WASmaxInMessagePublishMessageNackRetryAttributesMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"ack");if(!t.success)return t;var n=o("WASmaxParseUtils").attrIntRange(e,"backoff",0,86400);return n.success?o("WAResultOrError").makeResult({backoff:n.value}):n}l.parseMessageNackRetryAttributesMixin=e}),98);
__d("WASmaxInMessagePublishNegativeAckMixin",["WAResultOrError","WASmaxInMessagePublishAckMixin","WASmaxInMessagePublishApplicationNegativeAckMixin","WASmaxInMessagePublishMessageNackRetryAttributesMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"ack");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(e,"error");if(!r.success)return r;var a=o("WASmaxInMessagePublishAckMixin").parseAckMixin(e,t);if(!a.success)return a;var i=o("WASmaxInMessagePublishApplicationNegativeAckMixin").parseApplicationNegativeAckMixin(e),l=o("WASmaxInMessagePublishMessageNackRetryAttributesMixin").parseMessageNackRetryAttributesMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({error:r.value},a.value,{applicationNegativeAckMixin:i.success?i.value:null,messageNackRetryAttributesMixin:l.success?l.value:null}))}l.parseNegativeAckMixin=e}),98);
__d("WASmaxInPreKeysDeviceIdentityMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"device-identity");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytes(t.value);return n.success?o("WAResultOrError").makeResult({deviceIdentityElementValue:n.value}):n}l.parseDeviceIdentityMixin=e}),98);
__d("WASmaxInPreKeysEnums",["WAJids"],(function(t,n,r,o,a,i,l){var e,s={validators:[(e=o("WAJids")).validateDeviceJid,e.validateDeviceJid],typeName:"DeviceJid|DeviceJid"},u={validators:[e.validateDeviceJid,e.validateDeviceJid,e.validateInteropDeviceJid,e.validateInteropDeviceJid],typeName:"DeviceJid|DeviceJid|InteropDeviceJid|InteropDeviceJid"},c={validators:[e.validateDeviceJid,e.validateDomainJid],typeName:"DeviceJid|DomainJid"},d={validators:[e.validateUserJid,e.validateUserJid],typeName:"UserJid|UserJid"};l.DEVICEJID_DEVICEJID=s,l.DEVICEJID_DEVICEJID_INTEROPDEVICEJID_INTEROPDEVICEJID=u,l.DEVICEJID_DOMAINJID=c,l.USERJID_USERJID=d}),98);
__d("WASmaxInPreKeysIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInPreKeysIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","bad-request");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",400);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorBadRequestMixin=e}),98);
__d("WASmaxInPreKeysIQErrorFallbackClientMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").attrString(e,"text");if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(e,"code",400,499);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFallbackClientMixin=e}),98);
__d("WASmaxInPreKeysIQErrorNoValidJIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","not-acceptable");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",406);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorNoValidJIDMixin=e}),98);
__d("WASmaxInPreKeysRequestErrorsFetch",["WAResultOrError","WASmaxInPreKeysIQErrorBadRequestMixin","WASmaxInPreKeysIQErrorFallbackClientMixin","WASmaxInPreKeysIQErrorNoValidJIDMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInPreKeysIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:t.value});var n=o("WASmaxInPreKeysIQErrorNoValidJIDMixin").parseIQErrorNoValidJIDMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"IQErrorNoValidJID",value:n.value});var r=o("WASmaxInPreKeysIQErrorFallbackClientMixin").parseIQErrorFallbackClientMixin(e);return r.success?o("WAResultOrError").makeResult({name:"IQErrorFallbackClient",value:r.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorBadRequest","IQErrorNoValidJID","IQErrorFallbackClient"],[t,n,r])}l.parseRequestErrorsFetch=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseRequestError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysRequestErrorsFetch","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInPreKeysRequestErrorsFetch").parseRequestErrorsFetch(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorRequestErrorsFetch:i.value})):i}l.parseFetchKeyBundlesResponseRequestError=e}),98);
__d("WASmaxInPreKeysIQErrorFallbackServerMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").attrString(e,"text");if(!n.success)return n;var r=o("WASmaxParseUtils").attrIntRange(e,"code",500,599);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFallbackServerMixin=e}),98);
__d("WASmaxInPreKeysIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","service-unavailable");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",503);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorServiceUnavailableMixin=e}),98);
__d("WASmaxInPreKeysServerErrors",["WAResultOrError","WASmaxInPreKeysIQErrorFallbackServerMixin","WASmaxInPreKeysIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInPreKeysIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:t.value});var n=o("WASmaxInPreKeysIQErrorFallbackServerMixin").parseIQErrorFallbackServerMixin(e);return n.success?o("WAResultOrError").makeResult({name:"IQErrorFallbackServer",value:n.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorServiceUnavailable","IQErrorFallbackServer"],[t,n])}l.parseServerErrors=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseServerError",["WAResultOrError","WASmaxInPreKeysIQErrorResponseMixin","WASmaxInPreKeysServerErrors","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInPreKeysIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInPreKeysServerErrors").parseServerErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorServerErrors:i.value})):i}l.parseFetchKeyBundlesResponseServerError=e}),98);
__d("WASmaxInPreKeysIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInPreKeysResponsePaddingMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"iq");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"padding");if(!n.success)return n;var r=o("WASmaxParseUtils").contentBytesRange(n.value,0,524288);return r.success?o("WAResultOrError").makeResult({paddingElementValue:r.value}):r}l.parseResponsePaddingMixin=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"user");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(n.value,"text");if(!r.success)return r;var a=o("WASmaxParseUtils").attrIntRange(n.value,"code",500,599);return a.success?o("WAResultOrError").makeResult({errorText:r.value,errorCode:a.value}):a}l.parseFetchKeyBundlesUserErrorFallbackMixin=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"user");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(n.value,"text");if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,n.value,"code",500);return a.success?o("WAResultOrError").makeResult({errorText:r.value,errorCode:a.value}):a}l.parseFetchKeyBundlesUserErrorMixin=e}),98);
__d("WASmaxInPreKeysKeyDataMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").contentBytesRange(e,32,32);return t.success?o("WAResultOrError").makeResult({elementValue:t.value}):t}l.parseKeyDataMixin=e}),98);
__d("WASmaxInPreKeysIdentityKeyMixin",["WASmaxInPreKeysKeyDataMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"identity");if(!t.success)return t;var n=o("WASmaxInPreKeysKeyDataMixin").parseKeyDataMixin(t.value);return n.success,n}l.parseIdentityKeyMixin=e}),98);
__d("WASmaxInPreKeysKeyTypeMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"type");if(!t.success)return t;var n=o("WASmaxParseUtils").contentLiteralBytes(t.value,new Uint8Array([5]));return n.success?o("WAResultOrError").makeResult({typeElementValue:n.value}):n}l.parseKeyTypeMixin=e}),98);
__d("WASmaxInPreKeysKeyIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"id");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytesRange(e,3,3);return n.success?o("WAResultOrError").makeResult({elementValue:n.value}):n}l.parseKeyIDMixin=e}),98);
__d("WASmaxInPreKeysPreKeyMixin",["WAResultOrError","WASmaxInPreKeysKeyDataMixin","WASmaxInPreKeysKeyIDMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"key");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"id");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"value");if(!r.success)return r;var a=o("WASmaxInPreKeysKeyIDMixin").parseKeyIDMixin(n.value);if(!a.success)return a;var i=o("WASmaxInPreKeysKeyDataMixin").parseKeyDataMixin(r.value);return i.success?o("WAResultOrError").makeResult({keyIdKeyIDMixin:a.value,keyValueKeyDataMixin:i.value}):i}l.parsePreKeyMixin=e}),98);
__d("WASmaxInPreKeysRegistrationIDMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"registration");if(!t.success)return t;var n=o("WASmaxParseUtils").contentBytesRange(t.value,4,4);return n.success?o("WAResultOrError").makeResult({registrationElementValue:n.value}):n}l.parseRegistrationIDMixin=e}),98);
__d("WASmaxInPreKeysSignedPreKeyMixin",["WAResultOrError","WASmaxInPreKeysKeyDataMixin","WASmaxInPreKeysKeyIDMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").flattenedChildWithTag(e,"skey");if(!t.success)return t;var n=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"id");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"value");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(t.value,"signature");if(!a.success)return a;var i=o("WASmaxParseUtils").contentBytesRange(a.value,64,64);if(!i.success)return i;var l=o("WASmaxInPreKeysKeyIDMixin").parseKeyIDMixin(n.value);if(!l.success)return l;var s=o("WASmaxInPreKeysKeyDataMixin").parseKeyDataMixin(r.value);return s.success?o("WAResultOrError").makeResult({skeySignatureElementValue:i.value,skeyIdKeyIDMixin:l.value,skeyValueKeyDataMixin:s.value}):s}l.parseSignedPreKeyMixin=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin",["WAResultOrError","WASmaxInPreKeysDeviceIdentityMixin","WASmaxInPreKeysIdentityKeyMixin","WASmaxInPreKeysKeyTypeMixin","WASmaxInPreKeysPreKeyMixin","WASmaxInPreKeysRegistrationIDMixin","WASmaxInPreKeysSignedPreKeyMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"user");if(!t.success)return t;var n=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrIntRange,e,"t",0,void 0);if(!n.success)return n;var r=o("WASmaxParseUtils").optionalLiteral(o("WASmaxParseUtils").attrString,e,"is_cloud_api","true");if(!r.success)return r;var a=o("WASmaxInPreKeysRegistrationIDMixin").parseRegistrationIDMixin(e);if(!a.success)return a;var i=o("WASmaxInPreKeysKeyTypeMixin").parseKeyTypeMixin(e),l=o("WASmaxInPreKeysIdentityKeyMixin").parseIdentityKeyMixin(e);if(!l.success)return l;var s=o("WASmaxInPreKeysPreKeyMixin").parsePreKeyMixin(e),u=o("WASmaxInPreKeysSignedPreKeyMixin").parseSignedPreKeyMixin(e);if(!u.success)return u;var c=o("WASmaxInPreKeysDeviceIdentityMixin").parseDeviceIdentityMixin(e);return o("WAResultOrError").makeResult(babelHelpers.extends({t:n.value,isCloudApi:r.value},a.value,{keyTypeMixin:i.success?i.value:null},l.value,{preKeyMixin:s.success?s.value:null},u.value,{deviceIdentityMixin:c.success?c.value:null}))}l.parseFetchKeyBundlesUserSuccessMixin=e}),98);
__d("WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup",["WAResultOrError","WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin","WASmaxInPreKeysFetchKeyBundlesUserErrorMixin","WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInPreKeysFetchKeyBundlesUserSuccessMixin").parseFetchKeyBundlesUserSuccessMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"FetchKeyBundlesUserSuccess",value:t.value});var n=o("WASmaxInPreKeysFetchKeyBundlesUserErrorMixin").parseFetchKeyBundlesUserErrorMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"FetchKeyBundlesUserError",value:n.value});var r=o("WASmaxInPreKeysFetchKeyBundlesUserErrorFallbackMixin").parseFetchKeyBundlesUserErrorFallbackMixin(e);return r.success?o("WAResultOrError").makeResult({name:"FetchKeyBundlesUserErrorFallback",value:r.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["UserSuccess","UserError","UserErrorFallback"],[t,n,r])}l.parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup=e}),98);
__d("WASmaxInPreKeysFetchKeyBundlesResponseSuccess",["WAResultOrError","WASmaxInPreKeysEnums","WASmaxInPreKeysIQResultResponseMixin","WASmaxInPreKeysResponsePaddingMixin","WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup","WASmaxParseJid","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"user");if(!t.success)return t;var n=o("WASmaxParseJid").attrJidEnum(e,"jid",o("WASmaxInPreKeysEnums").DEVICEJID_DEVICEJID);if(!n.success)return n;var r=o("WASmaxInPreKeysUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup").parseUserFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup(e);return r.success?o("WAResultOrError").makeResult({jid:n.value,userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup:r.value}):r}function s(t,n){var r=o("WASmaxParseUtils").assertTag(t,"iq");if(!r.success)return r;var a=o("WASmaxParseUtils").flattenedChildWithTag(t,"list");if(!a.success)return a;var i=o("WASmaxInPreKeysIQResultResponseMixin").parseIQResultResponseMixin(t,n);if(!i.success)return i;var l=o("WASmaxInPreKeysResponsePaddingMixin").parseResponsePaddingMixin(t),s=o("WASmaxParseUtils").mapChildrenWithTag(a.value,"user",0,1e5,e);return s.success?o("WAResultOrError").makeResult(babelHelpers.extends({},i.value,{responsePaddingMixin:l.success?l.value:null,listUser:s.value})):s}l.parseFetchKeyBundlesResponseSuccessListUser=e,l.parseFetchKeyBundlesResponseSuccess=s}),98);
__d("WASmaxInProfilePictureEnums",["WAJids"],(function(t,n,r,o,a,i,l){var e,s={false:"false",true:"true"},u={image:"image",preview:"preview"},c={lid:"lid",pn:"pn"},d={validators:[(e=o("WAJids")).validateDomainJid,e.validateGroupJid,e.validateUserJid,e.validateUserJid],typeName:"DomainJid|GroupJid|UserJid|UserJid"},m={validators:[e.validateGroupJid,e.validateUserJid],typeName:"GroupJid|UserJid"},p={validators:[e.validateUserJid,e.validateUserJid],typeName:"UserJid|UserJid"};l.ENUM_FALSE_TRUE=s,l.ENUM_IMAGE_PREVIEW=u,l.ENUM_LID_PN=c,l.DOMAINJID_GROUPJID_USERJID_USERJID=d,l.GROUPJID_USERJID=m,l.USERJID_USERJID=p}),98);
__d("WASmaxInProfilePictureIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","bad-request");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",400);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorBadRequestMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","feature-not-implemented");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",501);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFeatureNotImplementedMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","internal-server-error");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",500);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorInternalServerErrorMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorItemNotFoundMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","item-not-found");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",404);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorItemNotFoundMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorNotAuthorizedMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","not-authorized");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",401);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorNotAuthorizedMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorRateOverlimitMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","rate-overlimit");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",429);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorRateOverlimitMixin=e}),98);
__d("WASmaxInProfilePictureIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","service-unavailable");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",503);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorServiceUnavailableMixin=e}),98);
__d("WASmaxInProfilePictureProfilePictureGetErrors",["WAResultOrError","WASmaxInProfilePictureIQErrorBadRequestMixin","WASmaxInProfilePictureIQErrorFeatureNotImplementedMixin","WASmaxInProfilePictureIQErrorInternalServerErrorMixin","WASmaxInProfilePictureIQErrorItemNotFoundMixin","WASmaxInProfilePictureIQErrorNotAuthorizedMixin","WASmaxInProfilePictureIQErrorRateOverlimitMixin","WASmaxInProfilePictureIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInProfilePictureIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:t.value});var n=o("WASmaxInProfilePictureIQErrorNotAuthorizedMixin").parseIQErrorNotAuthorizedMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"IQErrorNotAuthorized",value:n.value});var r=o("WASmaxInProfilePictureIQErrorItemNotFoundMixin").parseIQErrorItemNotFoundMixin(e);if(r.success)return o("WAResultOrError").makeResult({name:"IQErrorItemNotFound",value:r.value});var a=o("WASmaxInProfilePictureIQErrorRateOverlimitMixin").parseIQErrorRateOverlimitMixin(e);if(a.success)return o("WAResultOrError").makeResult({name:"IQErrorRateOverlimit",value:a.value});var i=o("WASmaxInProfilePictureIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(e);if(i.success)return o("WAResultOrError").makeResult({name:"IQErrorInternalServerError",value:i.value});var l=o("WASmaxInProfilePictureIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(e);if(l.success)return o("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:l.value});var s=o("WASmaxInProfilePictureIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(e);return s.success?o("WAResultOrError").makeResult({name:"IQErrorServiceUnavailable",value:s.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorBadRequest","IQErrorNotAuthorized","IQErrorItemNotFound","IQErrorRateOverlimit","IQErrorInternalServerError","IQErrorFeatureNotImplemented","IQErrorServiceUnavailable"],[t,n,r,a,i,l,s])}l.parseProfilePictureGetErrors=e}),98);
__d("WASmaxInProfilePictureGetResponseError",["WAResultOrError","WASmaxInProfilePictureIQErrorResponseMixin","WASmaxInProfilePictureProfilePictureGetErrors","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInProfilePictureIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInProfilePictureProfilePictureGetErrors").parseProfilePictureGetErrors(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorProfilePictureGetErrors:i.value})):i}l.parseGetResponseError=e}),98);
__d("WASmaxInProfilePictureIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInProfilePictureGetResponseSuccessAvatarURLs",["WAResultOrError","WASmaxInProfilePictureIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"avatar");if(!t.success)return t;var n=o("WASmaxParseUtils").attrString(e,"url");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(e,"pose_id");if(!r.success)return r;var a=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,e,"hash");return a.success?o("WAResultOrError").makeResult({url:n.value,poseId:r.value,hash:a.value}):a}function s(t,n){var r=o("WASmaxParseUtils").assertTag(t,"iq");if(!r.success)return r;var a=o("WASmaxInProfilePictureIQResultResponseMixin").parseIQResultResponseMixin(t,n);if(!a.success)return a;var i=o("WASmaxParseUtils").mapChildrenWithTag(t,"avatar",1,4,e);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{avatar:i.value})):i}l.parseGetResponseSuccessAvatarURLsAvatar=e,l.parseGetResponseSuccessAvatarURLs=s}),98);
__d("WASmaxInProfilePictureGetResponseSuccessNoData",["WASmaxInProfilePictureIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxInProfilePictureIQResultResponseMixin").parseIQResultResponseMixin(e,t);return r.success,r}l.parseGetResponseSuccessNoData=e}),98);
__d("WASmaxInProfilePictureGetResponseSuccessPictureBlob",["WAResultOrError","WASmaxInProfilePictureEnums","WASmaxInProfilePictureIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"picture");if(!r.success)return r;var a=o("WASmaxParseUtils").attrString(r.value,"id");if(!a.success)return a;var i=o("WASmaxParseUtils").attrStringEnum(r.value,"type",o("WASmaxInProfilePictureEnums").ENUM_IMAGE_PREVIEW);if(!i.success)return i;var l=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrStringEnum,r.value,"has_staging",o("WASmaxInProfilePictureEnums").ENUM_FALSE_TRUE);if(!l.success)return l;var s=o("WASmaxParseUtils").contentBytesRange(r.value,1,void 0);if(!s.success)return s;var u=o("WASmaxInProfilePictureIQResultResponseMixin").parseIQResultResponseMixin(e,t);return u.success?o("WAResultOrError").makeResult(babelHelpers.extends({pictureId:a.value,pictureType:i.value,pictureHasStaging:l.value,pictureElementValue:s.value},u.value)):u}l.parseGetResponseSuccessPictureBlob=e}),98);
__d("WASmaxInProfilePictureGetResponseSuccessPictureURL",["WAResultOrError","WASmaxInProfilePictureEnums","WASmaxInProfilePictureIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"picture");if(!r.success)return r;var a=o("WASmaxParseUtils").attrString(r.value,"id");if(!a.success)return a;var i=o("WASmaxParseUtils").attrStringEnum(r.value,"type",o("WASmaxInProfilePictureEnums").ENUM_IMAGE_PREVIEW);if(!i.success)return i;var l=o("WASmaxParseUtils").attrString(r.value,"url");if(!l.success)return l;var s=o("WASmaxParseUtils").attrString(r.value,"direct_path");if(!s.success)return s;var u=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrString,r.value,"hash");if(!u.success)return u;var c=o("WASmaxParseUtils").optional(o("WASmaxParseUtils").attrStringEnum,r.value,"has_staging",o("WASmaxInProfilePictureEnums").ENUM_FALSE_TRUE);if(!c.success)return c;var d=o("WASmaxInProfilePictureIQResultResponseMixin").parseIQResultResponseMixin(e,t);return d.success?o("WAResultOrError").makeResult(babelHelpers.extends({pictureId:a.value,pictureType:i.value,pictureUrl:l.value,pictureDirectPath:s.value,pictureHash:u.value,pictureHasStaging:c.value},d.value)):d}l.parseGetResponseSuccessPictureURL=e}),98);
__d("WASmaxInPushConfigIQErrorConflictMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","conflict");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",409);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorConflictMixin=e}),98);
__d("WASmaxInPushConfigIQErrorInternalServerErrorMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","internal-server-error");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",500);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorInternalServerErrorMixin=e}),98);
__d("WASmaxInPushConfigIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInPushConfigIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInPushConfigSetResponseConflict",["WAResultOrError","WASmaxInPushConfigIQErrorConflictMixin","WASmaxInPushConfigIQErrorResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInPushConfigIQErrorConflictMixin").parseIQErrorConflictMixin(r.value);if(!a.success)return a;var i=o("WASmaxInPushConfigIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({errorIQErrorConflictMixin:a.value},i.value)):i}l.parseSetResponseConflict=e}),98);
__d("WASmaxInPushConfigSetResponseInternalServerError",["WAResultOrError","WASmaxInPushConfigIQErrorInternalServerErrorMixin","WASmaxInPushConfigIQErrorResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInPushConfigIQErrorInternalServerErrorMixin").parseIQErrorInternalServerErrorMixin(r.value);if(!a.success)return a;var i=o("WASmaxInPushConfigIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({errorIQErrorInternalServerErrorMixin:a.value},i.value)):i}l.parseSetResponseInternalServerError=e}),98);
__d("WASmaxInPushConfigSetResponseSuccess",["WASmaxInPushConfigIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxInPushConfigIQResultResponseMixin").parseIQResultResponseMixin(e,t);return r.success,r}l.parseSetResponseSuccess=e}),98);
__d("WASmaxInStatsIQErrorBadRequestMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","bad-request");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",400);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorBadRequestMixin=e}),98);
__d("WASmaxInStatsIQErrorFeatureNotImplementedMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","feature-not-implemented");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",501);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorFeatureNotImplementedMixin=e}),98);
__d("WASmaxInStatsIQErrorNotAcceptableMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"field");if(!t.success)return t;var n=o("WASmaxParseUtils").attrString(e,"name");if(!n.success)return n;var r=o("WASmaxParseUtils").attrString(e,"reason");return r.success?o("WAResultOrError").makeResult({name:n.value,reason:r.value}):r}function s(t){var n=o("WASmaxParseUtils").assertTag(t,"error");if(!n.success)return n;var r=o("WASmaxParseUtils").optionalChildWithTag(t,"field",e);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,t,"text","not-acceptable");if(!a.success)return a;var i=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,t,"code",406);return i.success?o("WAResultOrError").makeResult({text:a.value,code:i.value,field:r.value}):i}l.parseIQErrorNotAcceptableField=e,l.parseIQErrorNotAcceptableMixin=s}),98);
__d("WASmaxInStatsIQErrorResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","error");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQErrorResponseMixin=e}),98);
__d("WASmaxInStatsIQErrorServiceUnavailableMixin",["WAResultOrError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseUtils").assertTag(e,"error");if(!t.success)return t;var n=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"text","service-unavailable");if(!n.success)return n;var r=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrInt,e,"code",503);return r.success?o("WAResultOrError").makeResult({text:n.value,code:r.value}):r}l.parseIQErrorServiceUnavailableMixin=e}),98);
__d("WASmaxInStatsIQResultResponseMixin",["WAResultOrError","WASmaxParseReference","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseReference").attrStringFromReference(t,["id"]);if(!r.success)return r;var a=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"id",r.value);if(!a.success)return a;var i=o("WASmaxParseReference").attrStringFromReference(t,["to"]);if(!i.success)return i;var l=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"from",i.value);if(!l.success)return l;var s=o("WASmaxParseUtils").literal(o("WASmaxParseUtils").attrString,e,"type","result");return s.success?o("WAResultOrError").makeResult({type:s.value}):s}l.parseIQResultResponseMixin=e}),98);
__d("WASmaxInStatsSendBufferNoRetryError",["WAResultOrError","WASmaxInStatsIQErrorBadRequestMixin","WASmaxInStatsIQErrorFeatureNotImplementedMixin","WASmaxInStatsIQErrorNotAcceptableMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInStatsIQErrorBadRequestMixin").parseIQErrorBadRequestMixin(e);if(t.success)return o("WAResultOrError").makeResult({name:"IQErrorBadRequest",value:t.value});var n=o("WASmaxInStatsIQErrorNotAcceptableMixin").parseIQErrorNotAcceptableMixin(e);if(n.success)return o("WAResultOrError").makeResult({name:"IQErrorNotAcceptable",value:n.value});var r=o("WASmaxInStatsIQErrorFeatureNotImplementedMixin").parseIQErrorFeatureNotImplementedMixin(e);return r.success?o("WAResultOrError").makeResult({name:"IQErrorFeatureNotImplemented",value:r.value}):o("WASmaxParseUtils").errorMixinDisjunction(e,["IQErrorBadRequest","IQErrorNotAcceptable","IQErrorFeatureNotImplemented"],[t,n,r])}l.parseSendBufferNoRetryError=e}),98);
__d("WASmaxInStatsSendBufferResponseErrorNoRetry",["WAResultOrError","WASmaxInStatsIQErrorResponseMixin","WASmaxInStatsSendBufferNoRetryError","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInStatsIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);if(!a.success)return a;var i=o("WASmaxInStatsSendBufferNoRetryError").parseSendBufferNoRetryError(r.value);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({},a.value,{errorSendBufferNoRetryError:i.value})):i}l.parseSendBufferResponseErrorNoRetry=e}),98);
__d("WASmaxInStatsSendBufferResponseErrorRetry",["WAResultOrError","WASmaxInStatsIQErrorResponseMixin","WASmaxInStatsIQErrorServiceUnavailableMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxParseUtils").flattenedChildWithTag(e,"error");if(!r.success)return r;var a=o("WASmaxInStatsIQErrorServiceUnavailableMixin").parseIQErrorServiceUnavailableMixin(r.value);if(!a.success)return a;var i=o("WASmaxInStatsIQErrorResponseMixin").parseIQErrorResponseMixin(e,t);return i.success?o("WAResultOrError").makeResult(babelHelpers.extends({errorIQErrorServiceUnavailableMixin:a.value},i.value)):i}l.parseSendBufferResponseErrorRetry=e}),98);
__d("WASmaxInStatsSendBufferResponseSuccess",["WASmaxInStatsIQResultResponseMixin","WASmaxParseUtils"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseUtils").assertTag(e,"iq");if(!n.success)return n;var r=o("WASmaxInStatsIQResultResponseMixin").parseIQResultResponseMixin(e,t);return r.success,r}l.parseSendBufferResponseSuccess=e}),98);
__d("WASmaxOutMdBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQSetRequestMixin=s}),98);
__d("WASmaxOutMdCompanionFinishRequest",["WASmaxJsx","WASmaxOutMdBaseIQSetRequestMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t,n=e.linkCodeCompanionRegJid,r=e.linkCodePairingWrappedKeyBundleElementValue,a=e.companionIdentityPublicElementValue,i=e.linkCodePairingRefElementValue,l=o("WASmaxOutMdBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin((t=o("WASmaxJsx")).smax("iq",{xmlns:"md",to:o("WAWap").S_WHATSAPP_NET},t.smax("link_code_companion_reg",{jid:o("WAWap").USER_JID(n),stage:"companion_finish"},t.smax("link_code_pairing_wrapped_key_bundle",null,r),t.smax("companion_identity_public",null,a),t.smax("link_code_pairing_ref",null,i))));return l}l.makeCompanionFinishRequest=e}),98);
__d("WASmaxMdCompanionFinishRPC",["WAComms","WASmaxInMdCompanionFinishResponseError","WASmaxInMdCompanionFinishResponseSuccess","WASmaxOutMdCompanionFinishRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutMdCompanionFinishRequest").makeCompanionFinishRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInMdCompanionFinishResponseSuccess").parseCompanionFinishResponseSuccess(r,n);if(a.success)return{name:"CompanionFinishResponseSuccess",value:a.value};var i=o("WASmaxInMdCompanionFinishResponseError").parseCompanionFinishResponseError(r,n);if(i.success)return{name:"CompanionFinishResponseError",value:i.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("CompanionFinish",{Success:a,Error:i}))}),s.apply(this,arguments)}l.sendCompanionFinishRPC=e}),98);
__d("WASmaxOutMdCompanionPlatformDisplayElMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.companionPlatformDisplayElementValue,n=o("WASmaxJsx").smax("companion_platform_display",null,t);return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeCompanionPlatformDisplayElMixin=s}),98);
__d("WASmaxOutMdCompanionPlatformIdElMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.companionPlatformIdElementValue,n=o("WASmaxJsx").smax("companion_platform_id",null,t);return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeCompanionPlatformIdElMixin=s}),98);
__d("WASmaxOutMdCompanionHelloRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutMdBaseIQSetRequestMixin","WASmaxOutMdCompanionPlatformDisplayElMixin","WASmaxOutMdCompanionPlatformIdElMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.linkCodePairingNonceElementValue,n=o("WASmaxJsx").smax("link_code_pairing_nonce",null,t);return n}function s(t){var n,r=t.linkCodePairingNonceArgs,a=t.linkCodeCompanionRegJid,i=t.linkCodeCompanionRegShouldShowPushNotification,l=t.linkCodePairingWrappedCompanionEphemeralPubElementValue,s=t.companionServerAuthKeyPubElementValue,u=t.companionPlatformIdElMixinArgs,c=t.companionPlatformDisplayElMixinArgs,d=o("WASmaxOutMdBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin((n=o("WASmaxJsx")).smax("iq",{xmlns:"md",to:o("WAWap").S_WHATSAPP_NET},n.smax("link_code_companion_reg",{jid:o("WAWap").USER_JID(a),stage:"companion_hello",should_show_push_notification:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,i)},n.smax("link_code_pairing_wrapped_companion_ephemeral_pub",null,l),n.smax("companion_server_auth_key_pub",null,s),o("WASmaxOutMdCompanionPlatformIdElMixin").mergeCompanionPlatformIdElMixin(n.smax("companion_platform_id",null),u),o("WASmaxOutMdCompanionPlatformDisplayElMixin").mergeCompanionPlatformDisplayElMixin(n.smax("companion_platform_display",null),c),o("WASmaxChildren").OPTIONAL_CHILD(e,r))));return d}l.makeCompanionHelloRequestLinkCodeCompanionRegLinkCodePairingNonce=e,l.makeCompanionHelloRequest=s}),98);
__d("WASmaxMdCompanionHelloRPC",["WAComms","WASmaxInMdCompanionHelloResponseError","WASmaxInMdCompanionHelloResponseNotifyCompanion","WASmaxOutMdCompanionHelloRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutMdCompanionHelloRequest").makeCompanionHelloRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInMdCompanionHelloResponseNotifyCompanion").parseCompanionHelloResponseNotifyCompanion(r,n);if(a.success)return{name:"CompanionHelloResponseNotifyCompanion",value:a.value};var i=o("WASmaxInMdCompanionHelloResponseError").parseCompanionHelloResponseError(r,n);if(i.success)return{name:"CompanionHelloResponseError",value:i.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("CompanionHello",{NotifyCompanion:a,Error:i}))}),s.apply(this,arguments)}l.sendCompanionHelloRPC=e}),98);
__d("WASmaxOutMdRegularCompanionSetRegResponseBundleMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.keyAttestationKeyId,n=e.keyAttestationElementValue,r=o("WASmaxJsx").smax("key_attestation",{key_id:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)},n);return r}function s(e){var t=e.gpiaElementValue,n=o("WASmaxJsx").smax("gpia",null,t);return n}function u(t){var n=t.keyAttestationArgs,r=t.gpiaArgs,a=t.deviceIdentityKeyIndex,i=t.deviceIdentityElementValue,l=o("WASmaxJsx").smax("smax$any",null,o("WASmaxJsx").smax("pair-device-sign",null,o("WASmaxJsx").smax("device-identity",{"key-index":o("WAWap").INT(a)},i),o("WASmaxChildren").OPTIONAL_CHILD(e,n),o("WASmaxChildren").OPTIONAL_CHILD(s,r)));return l}function c(e,t){var n=u(t);return o("WASmaxMixins").mergeStanzas(e,n)}l.makeRegularCompanionSetRegResponseBundlePairDeviceSignKeyAttestation=e,l.makeRegularCompanionSetRegResponseBundlePairDeviceSignGpia=s,l.mergeRegularCompanionSetRegResponseBundleMixin=c}),98);
__d("WASmaxOutMdSetRegResponseClientResponse",["WASmaxJsx","WASmaxOutMdRegularCompanionSetRegResponseBundleMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,t,["id"]);if(!n.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(n.error);var r=o("WASmaxOutMdRegularCompanionSetRegResponseBundleMixin").mergeRegularCompanionSetRegResponseBundleMixin(o("WASmaxJsx").smax("iq",{id:o("WAWap").STANZA_ID(n.value),to:o("WAWap").S_WHATSAPP_NET,type:"result"}),e);return r}l.makeSetRegResponseClientResponse=e}),98);
__d("WASmaxOutMdIQErrorNotAuthorizedMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("error",{text:"not-authorized",code:o("WAWap").INT(401)});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeIQErrorNotAuthorizedMixin=s}),98);
__d("WASmaxOutMdSetRegResponseError",["WASmaxJsx","WASmaxOutMdIQErrorNotAuthorizedMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,e,["id"]);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(t.error);var n=o("WASmaxJsx").smax("iq",{id:o("WAWap").STANZA_ID(t.value),to:o("WAWap").S_WHATSAPP_NET,type:"error"},o("WASmaxOutMdIQErrorNotAuthorizedMixin").mergeIQErrorNotAuthorizedMixin(o("WASmaxJsx").smax("error",null)));return n}l.makeSetRegResponseError=e}),98);
__d("WASmaxOutMdHostedCompanionSetRegResponseBundleMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.deviceIdentityElementValue,n=o("WASmaxJsx").smax("smax$any",null,o("WASmaxJsx").smax("hosted-pair-set",null,o("WASmaxJsx").smax("device-identity",null,t)));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeHostedCompanionSetRegResponseBundleMixin=s}),98);
__d("WASmaxOutMdSetRegResponseHostedClientResponse",["WASmaxJsx","WASmaxOutMdHostedCompanionSetRegResponseBundleMixin","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e,t){var n=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,t,["id"]);if(!n.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(n.error);var r=o("WASmaxOutMdHostedCompanionSetRegResponseBundleMixin").mergeHostedCompanionSetRegResponseBundleMixin(o("WASmaxJsx").smax("iq",{id:o("WAWap").STANZA_ID(n.value),to:o("WAWap").S_WHATSAPP_NET,type:"result"}),e);return r}l.makeSetRegResponseHostedClientResponse=e}),98);
__d("WASmaxMdSetRegRPC",["WASmaxInMdSetRegRequest","WASmaxOutMdSetRegResponseClientResponse","WASmaxOutMdSetRegResponseError","WASmaxOutMdSetRegResponseHostedClientResponse","WASmaxParsingFailure","WASmaxRpcUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMdSetRegRequest").parseSetRegRequest(e);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("SetReg",{Request:t}));return{parsedRequest:t.value,makeSetRegResponseClientResponse:function(n){return o("WASmaxOutMdSetRegResponseClientResponse").makeSetRegResponseClientResponse(n,e)},makeSetRegResponseHostedClientResponse:function(n){return o("WASmaxOutMdSetRegResponseHostedClientResponse").makeSetRegResponseHostedClientResponse(n,e)},makeSetRegResponseError:function(){return o("WASmaxOutMdSetRegResponseError").makeSetRegResponseError(e)}}}l.receiveSetRegRPC=e}),98);
__d("WASmaxOutMdSetToCompanionResponseClientResponse",["WASmaxJsx","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,e,["id"]);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(t.error);var n=o("WASmaxParseReference").attrFromReference(o("WASmaxParseJid").attrDomainJid,e,["from"]);if(!n.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(n.error);var r=o("WASmaxJsx").smax("iq",{id:o("WAWap").STANZA_ID(t.value),to:o("WAWap").DOMAIN_JID(n.value),type:"result"});return r}l.makeSetToCompanionResponseClientResponse=e}),98);
__d("WASmaxMdSetToCompanionRPC",["WASmaxInMdSetToCompanionRequest","WASmaxOutMdSetToCompanionResponseClientResponse","WASmaxParsingFailure","WASmaxRpcUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMdSetToCompanionRequest").parseSetToCompanionRequest(e);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("SetToCompanion",{Request:t}));return{parsedRequest:t.value,makeSetToCompanionResponseClientResponse:function(){return o("WASmaxOutMdSetToCompanionResponseClientResponse").makeSetToCompanionResponseClientResponse(e)}}}l.receiveSetToCompanionRPC=e}),98);
__d("WASmaxOutMessageDeliverCommonAckMixin",["WASmaxJsx","WASmaxMixins","WASmaxParseJid","WASmaxParseReference","WASmaxParseUtils","WASmaxParsingFailure","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxParseReference").attrFromReference(o("WASmaxParseJid").attrNewsletterJid,e,["from"]);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(t.error);var n=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrStanzaId,e,["id"]);if(!n.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(n.error);var r=o("WASmaxParseReference").attrFromReference(o("WASmaxParseUtils").attrString,e,["type"]);if(!r.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(r.error);var a=o("WASmaxJsx").smax("ack",{to:o("WAWap").JID(t.value),class:"message",id:o("WAWap").STANZA_ID(n.value),type:o("WAWap").CUSTOM_STRING(r.value)});return a}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeCommonAckMixin=s}),98);
__d("WASmaxOutMessageDeliverNewsletterResponseError",["WASmaxJsx","WASmaxOutMessageDeliverCommonAckMixin"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxOutMessageDeliverCommonAckMixin").mergeCommonAckMixin(o("WASmaxJsx").smax("ack",{error:"406"}),e);return t}l.makeNewsletterResponseError=e}),98);
__d("WASmaxOutMessageDeliverNewsletterResponseSuccess",["WASmaxJsx","WASmaxOutMessageDeliverCommonAckMixin"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxOutMessageDeliverCommonAckMixin").mergeCommonAckMixin(o("WASmaxJsx").smax("ack",null),e);return t}l.makeNewsletterResponseSuccess=e}),98);
__d("WASmaxMessageDeliverNewsletterRPC",["WASmaxInMessageDeliverNewsletterRequest","WASmaxOutMessageDeliverNewsletterResponseError","WASmaxOutMessageDeliverNewsletterResponseSuccess","WASmaxParsingFailure","WASmaxRpcUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxInMessageDeliverNewsletterRequest").parseNewsletterRequest(e);if(!t.success)throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("Newsletter",{Request:t}));return{parsedRequest:t.value,makeNewsletterResponseError:function(){return o("WASmaxOutMessageDeliverNewsletterResponseError").makeNewsletterResponseError(e)},makeNewsletterResponseSuccess:function(){return o("WASmaxOutMessageDeliverNewsletterResponseSuccess").makeNewsletterResponseSuccess(e)}}}l.receiveNewsletterRPC=e}),98);
__d("WASmaxOutGroupsParentGroupMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.anyParentGroupJid,n=o("WASmaxJsx").smax("smax$any",{parent_group_jid:o("WAWap").GROUP_JID(t)});return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeParentGroupMixin=s}),98);
__d("WASmaxOutMessagePublishClickToWhatsAppAttributionMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.ctwaAttributionElementValue,n=o("WASmaxJsx").smax("ctwa_attribution",null,t);return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeClickToWhatsAppAttributionMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypeMediaMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("message",{type:"media"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeContentTypeMediaMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypePollCreationMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.metaContenttype,n=o("WASmaxJsx").smax("message",{type:"poll"},o("WASmaxJsx").smax("meta",{polltype:"creation",contenttype:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeContentTypePollCreationMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypePollResultSnapshotMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("message",{type:"poll"},o("WASmaxJsx").smax("meta",{polltype:"result_snapshot"}));return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeContentTypePollResultSnapshotMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypePollVoteMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.metaContenttype,n=o("WASmaxJsx").smax("message",{type:"poll"},o("WASmaxJsx").smax("meta",{polltype:"vote",contenttype:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeContentTypePollVoteMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypeReactionMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("message",{type:"reaction"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeContentTypeReactionMixin=s}),98);
__d("WASmaxOutMessagePublishContentTypeTextMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("message",{type:"text"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeContentTypeTextMixin=s}),98);
__d("WASmaxOutMessagePublishCtwaAttributionMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutMessagePublishClickToWhatsAppAttributionMixin"],(function(t,n,r,o,a,i,l){function e(e){var t=o("WASmaxOutMessagePublishClickToWhatsAppAttributionMixin").mergeClickToWhatsAppAttributionMixin(o("WASmaxJsx").smax("ctwa_attribution",null),e);return t}function s(t){var n=t.ctwaAttributionArgs,r=o("WASmaxJsx").smax("message",null,o("WASmaxChildren").OPTIONAL_CHILD(e,n));return r}function u(e,t){var n=s(t);return o("WASmaxMixins").mergeStanzas(e,n)}l.makeCtwaAttributionCtwaAttribution=e,l.mergeCtwaAttributionMixin=u}),98);
__d("WASmaxOutMessagePublishMessageAssociationTypeMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.metaMessageAssociationType,n=o("WASmaxJsx").smax("message",null,o("WASmaxJsx").smax("meta",{message_association_type:o("WAWap").CUSTOM_STRING(t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeMessageAssociationTypeMixin=s}),98);
__d("WASmaxOutMessagePublishMsgMetaOriginMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.metaOrigin,n=o("WASmaxJsx").smax("message",null,o("WASmaxJsx").smax("meta",{origin:o("WAWap").CUSTOM_STRING(t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeMsgMetaOriginMixin=s}),98);
__d("WASmaxOutMessagePublishRevokeMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("message",{edit:"7"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeRevokeMixin=s}),98);
__d("WASmaxOutPreKeysClientRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),xmlns:"encrypt",to:o("WAWap").S_WHATSAPP_NET});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeClientRequestMixin=s}),98);
__d("WASmaxOutPreKeysFetchKeyBundlesRequest",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxOutPreKeysClientRequestMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.userJid,n=e.hasUserReasonIdentity,r=o("WASmaxJsx").smax("user",{jid:o("WAWap").JID(t),reason:o("WASmaxAttrs").OPTIONAL_LITERAL("identity",n)});return r}function s(t){var n=t.userArgs,r=o("WASmaxOutPreKeysClientRequestMixin").mergeClientRequestMixin(o("WASmaxJsx").smax("iq",{type:"get"},o("WASmaxJsx").smax("key",null,o("WASmaxChildren").REPEATED_CHILD(e,n,1,1e5))));return r}l.makeFetchKeyBundlesRequestKeyUser=e,l.makeFetchKeyBundlesRequest=s}),98);
__d("WASmaxOutPreKeysRegistrationIDMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.registrationElementValue,n=o("WASmaxJsx").smax("smax$any",null,o("WASmaxJsx").smax("registration",null,t));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeRegistrationIDMixin=s}),98);
__d("WASmaxOutProfilePictureAddRequestMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.addRequestCode,n=e.addRequestAdmin,r=e.addRequestExpiration,a=o("WASmaxJsx").smax("picture",null,o("WASmaxJsx").smax("add_request",{code:o("WAWap").CUSTOM_STRING(t),admin:o("WASmaxAttrs").OPTIONAL(o("WAWap").USER_JID,n),expiration:o("WAWap").INT(r)}));return a}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeAddRequestMixin=s}),98);
__d("WASmaxOutProfilePictureAvatarMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.avatarPoseId,n=o("WASmaxJsx").smax("avatar",{pose_id:o("WAWap").CUSTOM_STRING(t)});return n}function s(t){var n=t.avatarArgs,r=o("WASmaxJsx").smax("picture",{type:"avatar"},o("WASmaxChildren").REPEATED_CHILD(e,n,0,4));return r}function u(e,t){var n=s(t);return o("WASmaxMixins").mergeStanzas(e,n)}l.makeAvatarAvatar=e,l.mergeAvatarMixin=u}),98);
__d("WASmaxOutProfilePictureBaseIQGetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"get"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQGetRequestMixin=s}),98);
__d("WASmaxOutProfilePictureBaseGetIQMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutProfilePictureBaseIQGetRequestMixin"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxOutProfilePictureBaseIQGetRequestMixin").mergeBaseIQGetRequestMixin(o("WASmaxJsx").smax("iq",{xmlns:"w:profile:picture"}));return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseGetIQMixin=s}),98);
__d("WASmaxOutProfilePictureServerDomainIQMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{to:o("WAWap").S_WHATSAPP_NET});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeServerDomainIQMixin=s}),98);
__d("WASmaxOutProfilePictureGetIQMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutProfilePictureServerDomainIQMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.iqTarget,n=o("WASmaxOutProfilePictureServerDomainIQMixin").mergeServerDomainIQMixin(o("WASmaxJsx").smax("iq",{target:o("WAWap").JID(t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeGetIQMixin=s}),98);
__d("WASmaxOutProfilePicturePrivacyTokenContentsMixin",["WASmaxJsx","WASmaxMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.anyElementValue,n=o("WASmaxJsx").smax("smax$any",null,t);return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergePrivacyTokenContentsMixin=s}),98);
__d("WASmaxOutProfilePictureTCTokenMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutProfilePicturePrivacyTokenContentsMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.tctokenT,n=e.privacyTokenContentsMixinArgs,r=o("WASmaxJsx").smax("smax$any",null,o("WASmaxOutProfilePicturePrivacyTokenContentsMixin").mergePrivacyTokenContentsMixin(o("WASmaxJsx").smax("tctoken",{t:o("WASmaxAttrs").OPTIONAL(o("WAWap").INT,t)}),n));return r}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeTCTokenMixin=s}),98);
__d("WASmaxOutProfilePictureGetRequest",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WASmaxOutProfilePictureAddRequestMixin","WASmaxOutProfilePictureAvatarMixin","WASmaxOutProfilePictureBaseGetIQMixin","WASmaxOutProfilePictureGetIQMixin","WASmaxOutProfilePictureTCTokenMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t,n,r=e.pictureType,a=e.pictureId,i=e.pictureQuery,l=e.pictureInvite,s=e.picturePersonaId,u=e.pictureCommonGid,c=e.addRequestMixinArgs,d=e.tCTokenMixinArgs,m=e.avatarMixinArgs,p=o("WASmaxOutProfilePictureGetIQMixin").mergeGetIQMixin(o("WASmaxOutProfilePictureBaseGetIQMixin").mergeBaseGetIQMixin(o("WASmaxJsx").smax("iq",null,o("WASmaxMixins").optionalMerge(o("WASmaxOutProfilePictureAvatarMixin").mergeAvatarMixin,o("WASmaxMixins").optionalMerge(o("WASmaxOutProfilePictureTCTokenMixin").mergeTCTokenMixin,o("WASmaxMixins").optionalMerge(o("WASmaxOutProfilePictureAddRequestMixin").mergeAddRequestMixin,o("WASmaxJsx").smax("picture",{type:(t=o("WASmaxAttrs")).OPTIONAL((n=o("WAWap")).CUSTOM_STRING,r),id:t.OPTIONAL(n.CUSTOM_STRING,a),query:t.OPTIONAL(n.CUSTOM_STRING,i),invite:t.OPTIONAL(n.CUSTOM_STRING,l),persona_id:t.OPTIONAL(n.CUSTOM_STRING,s),common_gid:t.OPTIONAL(n.GROUP_JID,u)}),c),d),m))),e);return p}l.makeGetRequest=e}),98);
__d("WASmaxOutPushConfigAndroidClientConfigMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t,n,r=e.configPlatform,a=e.configId,i=e.configAppid,l=e.configAppMute,s=e.configPkey,u=e.configVoipPayloadType,c=e.configNumAcc,d=o("WASmaxJsx").smax("config",{platform:(t=o("WAWap")).CUSTOM_STRING(r),id:t.CUSTOM_STRING(a),appid:(n=o("WASmaxAttrs")).OPTIONAL(t.CUSTOM_STRING,i),app_mute:n.OPTIONAL(t.INT,l),pkey:n.OPTIONAL(t.CUSTOM_STRING,s),voip_payload_type:n.OPTIONAL(t.CUSTOM_STRING,u),num_acc:n.OPTIONAL(t.INT,c)});return d}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeAndroidClientConfigMixin=s}),98);
__d("WASmaxOutPushConfigAndroidClientMixin",["WASmaxChildren","WASmaxJsx","WASmaxMixins","WASmaxOutPushConfigAndroidClientConfigMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.itemJid,n=e.itemMute,r=o("WASmaxJsx").smax("item",{jid:o("WAWap").GROUP_JID(t),mute:o("WAWap").INT(n)});return r}function s(t){var n=t.itemArgs,r=o("WASmaxOutPushConfigAndroidClientConfigMixin").mergeAndroidClientConfigMixin(o("WASmaxJsx").smax("config",null,o("WASmaxChildren").REPEATED_CHILD(e,n,0,1/0)),t);return r}function u(e,t){var n=s(t);return o("WASmaxMixins").mergeStanzas(e,n)}l.makeAndroidClientItem=e,l.mergeAndroidClientMixin=u}),98);
__d("WASmaxOutPushConfigAppleClientMixin",["WASmaxAttrs","WASmaxChildren","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t,n=e.itemJid,r=e.itemMute,a=e.itemNotify,i=e.itemCall,l=o("WASmaxJsx").smax("item",{jid:(t=o("WAWap")).JID(n),mute:o("WASmaxAttrs").OPTIONAL(t.INT,r),notify:o("WASmaxAttrs").OPTIONAL(t.CUSTOM_STRING,a),call:o("WASmaxAttrs").OPTIONAL(t.CUSTOM_STRING,i)});return l}function s(t){var n,r,a=t.itemArgs,i=t.configPlatform,l=t.hasConfigVersion2,s=t.configId,u=t.configVoip,c=t.configPreview,d=t.configDefault,m=t.configGroups,p=t.configCall,_=t.configStatusSound,f=t.configLg,g=t.configLc,h=t.configBackgroundLocation,y=t.configNseVer,C=t.configNseCall,b=t.configNseRead,v=t.configNseRetry,S=t.configRegPush,R=t.configPkey,L=t.configVoipPayloadType,E=t.configSettings,k=t.configAppMute,I=t.configAppleWatchId,T=t.configAppleWatchPkey,D=o("WASmaxJsx").smax("config",{platform:(n=o("WAWap")).CUSTOM_STRING(i),version:(r=o("WASmaxAttrs")).OPTIONAL_LITERAL("2",l),id:r.OPTIONAL(n.CUSTOM_STRING,s),voip:r.OPTIONAL(n.CUSTOM_STRING,u),preview:n.CUSTOM_STRING(c),default:n.CUSTOM_STRING(d),groups:n.CUSTOM_STRING(m),call:n.CUSTOM_STRING(p),status_sound:r.OPTIONAL(n.CUSTOM_STRING,_),lg:n.CUSTOM_STRING(f),lc:n.CUSTOM_STRING(g),background_location:r.OPTIONAL(n.CUSTOM_STRING,h),nse_ver:r.OPTIONAL(n.CUSTOM_STRING,y),nse_call:r.OPTIONAL(n.CUSTOM_STRING,C),nse_read:r.OPTIONAL(n.CUSTOM_STRING,b),nse_retry:r.OPTIONAL(n.CUSTOM_STRING,v),reg_push:r.OPTIONAL(n.CUSTOM_STRING,S),pkey:r.OPTIONAL(n.CUSTOM_STRING,R),voip_payload_type:n.CUSTOM_STRING(L),settings:r.OPTIONAL(n.INT,E),app_mute:r.OPTIONAL(n.INT,k),apple_watch_id:r.OPTIONAL(n.CUSTOM_STRING,I),apple_watch_pkey:r.OPTIONAL(n.CUSTOM_STRING,T)},o("WASmaxChildren").REPEATED_CHILD(e,a,0,1/0));return D}function u(e,t){var n=s(t);return o("WASmaxMixins").mergeStanzas(e,n)}l.makeAppleClientItem=e,l.mergeAppleClientMixin=u}),98);
__d("WASmaxOutPushConfigBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQSetRequestMixin=s}),98);
__d("WASmaxOutPushConfigEnterpriseClientMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.configId,n=o("WASmaxJsx").smax("config",{platform:"ent",id:o("WAWap").CUSTOM_STRING(t)});return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeEnterpriseClientMixin=s}),98);
__d("WASmaxOutPushConfigFBClientMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.configAppid,n=e.configDeviceid,r=e.configFbid,a=o("WASmaxJsx").smax("config",{platform:"fb",appid:o("WAWap").CUSTOM_STRING(t),deviceid:o("WAWap").CUSTOM_STRING(n),fbid:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,r)});return a}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeFBClientMixin=s}),98);
__d("WASmaxOutPushConfigWNSClientMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.configVersion,n=e.configId,r=o("WASmaxJsx").smax("config",{platform:"wns",version:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t),id:o("WAWap").CUSTOM_STRING(n)});return r}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeWNSClientMixin=s}),98);
__d("WASmaxOutPushConfigWebClientMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t,n=e.configEndpoint,r=e.configAuth,a=e.configP256dh,i=e.configLg,l=e.configLc,s=o("WASmaxJsx").smax("config",{platform:"web",endpoint:(t=o("WAWap")).CUSTOM_STRING(n),auth:t.CUSTOM_STRING(r),p256dh:t.CUSTOM_STRING(a),lg:o("WASmaxAttrs").OPTIONAL(t.CUSTOM_STRING,i),lc:o("WASmaxAttrs").OPTIONAL(t.CUSTOM_STRING,l)});return s}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeWebClientMixin=s}),98);
__d("WASmaxOutPushConfigConfigMixins",["WASmaxMixinGroupExhaustiveError","WASmaxOutPushConfigAndroidClientMixin","WASmaxOutPushConfigAppleClientMixin","WASmaxOutPushConfigEnterpriseClientMixin","WASmaxOutPushConfigFBClientMixin","WASmaxOutPushConfigWNSClientMixin","WASmaxOutPushConfigWebClientMixin"],(function(t,n,r,o,a,i,l){function e(e,t){if(t.fBClient)return o("WASmaxOutPushConfigFBClientMixin").mergeFBClientMixin(e,t.fBClient);if(t.androidClient)return o("WASmaxOutPushConfigAndroidClientMixin").mergeAndroidClientMixin(e,t.androidClient);if(t.appleClient)return o("WASmaxOutPushConfigAppleClientMixin").mergeAppleClientMixin(e,t.appleClient);if(t.wNSClient)return o("WASmaxOutPushConfigWNSClientMixin").mergeWNSClientMixin(e,t.wNSClient);if(t.enterpriseClient)return o("WASmaxOutPushConfigEnterpriseClientMixin").mergeEnterpriseClientMixin(e,t.enterpriseClient);if(t.webClient)return o("WASmaxOutPushConfigWebClientMixin").mergeWebClientMixin(e,t.webClient);throw new(o("WASmaxMixinGroupExhaustiveError")).SmaxMixinGroupExhaustiveError}l.mergeConfigMixins=e}),98);
__d("WASmaxOutPushConfigSetClearMixin",["WASmaxAttrs","WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.clearPlatform,n=o("WASmaxJsx").smax("iq",null,o("WASmaxJsx").smax("clear",{platform:o("WASmaxAttrs").OPTIONAL(o("WAWap").CUSTOM_STRING,t)}));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeSetClearMixin=s}),98);
__d("WASmaxOutPushConfigSetSetConfigMixin",["WASmaxJsx","WASmaxMixins","WASmaxOutPushConfigConfigMixins"],(function(t,n,r,o,a,i,l){function e(e){var t=e.configMixinsArgs,n=o("WASmaxJsx").smax("iq",null,o("WASmaxOutPushConfigConfigMixins").mergeConfigMixins(o("WASmaxJsx").smax("config",null),t));return n}function s(t,n){var r=e(n);return o("WASmaxMixins").mergeStanzas(t,r)}l.mergeSetSetConfigMixin=s}),98);
__d("WASmaxOutPushConfigSetSetConfigOrSetClearMixinGroup",["WASmaxMixinGroupExhaustiveError","WASmaxOutPushConfigSetClearMixin","WASmaxOutPushConfigSetSetConfigMixin"],(function(t,n,r,o,a,i,l){function e(e,t){if(t.setSetConfig)return o("WASmaxOutPushConfigSetSetConfigMixin").mergeSetSetConfigMixin(e,t.setSetConfig);if(t.setClear)return o("WASmaxOutPushConfigSetClearMixin").mergeSetClearMixin(e,t.setClear);throw new(o("WASmaxMixinGroupExhaustiveError")).SmaxMixinGroupExhaustiveError}l.mergeSetSetConfigOrSetClearMixinGroup=e}),98);
__d("WASmaxOutPushConfigSetRequest",["WASmaxJsx","WASmaxOutPushConfigBaseIQSetRequestMixin","WASmaxOutPushConfigSetSetConfigOrSetClearMixinGroup","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.setSetConfigOrSetClearMixinGroupArgs,n=o("WASmaxOutPushConfigSetSetConfigOrSetClearMixinGroup").mergeSetSetConfigOrSetClearMixinGroup(o("WASmaxOutPushConfigBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(o("WASmaxJsx").smax("iq",{to:o("WAWap").S_WHATSAPP_NET,xmlns:"urn:xmpp:whatsapp:push"})),t);return n}l.makeSetRequest=e}),98);
__d("WASmaxOutStatsBaseIQSetRequestMixin",["WASmaxJsx","WASmaxMixins","WAWap"],(function(t,n,r,o,a,i,l){function e(){var e=o("WASmaxJsx").smax("iq",{id:o("WAWap").generateId(),type:"set"});return e}function s(t){var n=e();return o("WASmaxMixins").mergeStanzas(t,n)}l.mergeBaseIQSetRequestMixin=s}),98);
__d("WASmaxOutStatsSendBufferRequest",["WASmaxJsx","WASmaxOutStatsBaseIQSetRequestMixin","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.addT,n=e.addElementValue,r=o("WASmaxOutStatsBaseIQSetRequestMixin").mergeBaseIQSetRequestMixin(o("WASmaxJsx").smax("iq",{xmlns:"w:stats",to:o("WAWap").S_WHATSAPP_NET},o("WASmaxJsx").smax("add",{t:o("WAWap").INT(t)},n)));return r}l.makeSendBufferRequest=e}),98);
__d("WASmaxOutUnifiedSessionShareRequest",["WASmaxJsx","WAWap"],(function(t,n,r,o,a,i,l){function e(e){var t=e.unifiedSessionId,n=o("WASmaxJsx").smax("ib",null,o("WASmaxJsx").smax("unified_session",{id:o("WAWap").CUSTOM_STRING(t)}));return n}l.makeShareRequest=e}),98);
__d("WASmaxPreKeysFetchKeyBundlesRPC",["WAComms","WASmaxInPreKeysFetchKeyBundlesResponseRequestError","WASmaxInPreKeysFetchKeyBundlesResponseServerError","WASmaxInPreKeysFetchKeyBundlesResponseSuccess","WASmaxOutPreKeysFetchKeyBundlesRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutPreKeysFetchKeyBundlesRequest").makeFetchKeyBundlesRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInPreKeysFetchKeyBundlesResponseSuccess").parseFetchKeyBundlesResponseSuccess(r,n);if(a.success)return{name:"FetchKeyBundlesResponseSuccess",value:a.value};var i=o("WASmaxInPreKeysFetchKeyBundlesResponseRequestError").parseFetchKeyBundlesResponseRequestError(r,n);if(i.success)return{name:"FetchKeyBundlesResponseRequestError",value:i.value};var l=o("WASmaxInPreKeysFetchKeyBundlesResponseServerError").parseFetchKeyBundlesResponseServerError(r,n);if(l.success)return{name:"FetchKeyBundlesResponseServerError",value:l.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("FetchKeyBundles",{Success:a,RequestError:i,ServerError:l}))}),s.apply(this,arguments)}l.sendFetchKeyBundlesRPC=e}),98);
__d("WASmaxProfilePictureGetRPC",["WAComms","WASmaxInProfilePictureGetResponseError","WASmaxInProfilePictureGetResponseSuccessAvatarURLs","WASmaxInProfilePictureGetResponseSuccessNoData","WASmaxInProfilePictureGetResponseSuccessPictureBlob","WASmaxInProfilePictureGetResponseSuccessPictureURL","WASmaxOutProfilePictureGetRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutProfilePictureGetRequest").makeGetRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInProfilePictureGetResponseSuccessPictureURL").parseGetResponseSuccessPictureURL(r,n);if(a.success)return{name:"GetResponseSuccessPictureURL",value:a.value};var i=o("WASmaxInProfilePictureGetResponseSuccessAvatarURLs").parseGetResponseSuccessAvatarURLs(r,n);if(i.success)return{name:"GetResponseSuccessAvatarURLs",value:i.value};var l=o("WASmaxInProfilePictureGetResponseSuccessPictureBlob").parseGetResponseSuccessPictureBlob(r,n);if(l.success)return{name:"GetResponseSuccessPictureBlob",value:l.value};var s=o("WASmaxInProfilePictureGetResponseSuccessNoData").parseGetResponseSuccessNoData(r,n);if(s.success)return{name:"GetResponseSuccessNoData",value:s.value};var u=o("WASmaxInProfilePictureGetResponseError").parseGetResponseError(r,n);if(u.success)return{name:"GetResponseError",value:u.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("Get",{SuccessPictureURL:a,SuccessAvatarURLs:i,SuccessPictureBlob:l,SuccessNoData:s,Error:u}))}),s.apply(this,arguments)}l.sendGetRPC=e}),98);
__d("WASmaxPushConfigSetRPC",["WAComms","WASmaxInPushConfigSetResponseConflict","WASmaxInPushConfigSetResponseInternalServerError","WASmaxInPushConfigSetResponseSuccess","WASmaxOutPushConfigSetRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutPushConfigSetRequest").makeSetRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInPushConfigSetResponseSuccess").parseSetResponseSuccess(r,n);if(a.success)return{name:"SetResponseSuccess",value:a.value};var i=o("WASmaxInPushConfigSetResponseInternalServerError").parseSetResponseInternalServerError(r,n);if(i.success)return{name:"SetResponseInternalServerError",value:i.value};var l=o("WASmaxInPushConfigSetResponseConflict").parseSetResponseConflict(r,n);if(l.success)return{name:"SetResponseConflict",value:l.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("Set",{Success:a,InternalServerError:i,Conflict:l}))}),s.apply(this,arguments)}l.sendSetRPC=e}),98);
__d("WASmaxStatsSendBufferRPC",["WAComms","WASmaxInStatsSendBufferResponseErrorNoRetry","WASmaxInStatsSendBufferResponseErrorRetry","WASmaxInStatsSendBufferResponseSuccess","WASmaxOutStatsSendBufferRequest","WASmaxParsingFailure","WASmaxRpcUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WASmaxOutStatsSendBufferRequest").makeSendBufferRequest(e),r=yield o("WAComms").sendSmaxStanza(n,t),a=o("WASmaxInStatsSendBufferResponseSuccess").parseSendBufferResponseSuccess(r,n);if(a.success)return{name:"SendBufferResponseSuccess",value:a.value};var i=o("WASmaxInStatsSendBufferResponseErrorNoRetry").parseSendBufferResponseErrorNoRetry(r,n);if(i.success)return{name:"SendBufferResponseErrorNoRetry",value:i.value};var l=o("WASmaxInStatsSendBufferResponseErrorRetry").parseSendBufferResponseErrorRetry(r,n);if(l.success)return{name:"SendBufferResponseErrorRetry",value:l.value};throw new(o("WASmaxParsingFailure")).SmaxParsingFailure(o("WASmaxRpcUtils").errorMessageRpcParsing("SendBuffer",{Success:a,ErrorNoRetry:i,ErrorRetry:l}))}),s.apply(this,arguments)}l.sendSendBufferRPC=e}),98);
__d("WASmaxUnifiedSessionShareRPC",["WAComms","WASmaxOutUnifiedSessionShareRequest","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WASmaxOutUnifiedSessionShareRequest").makeShareRequest(e);yield o("WAComms").castSmaxStanza(t)}),s.apply(this,arguments)}l.sendShareRPC=e}),98);
__d("WASocketTransport",["Promise","WABinary","WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=1,d=(function(){function t(t){var n=this;this.$2=!1,this.onData=null,this.onClose=null,this.onError=null,this.dataToSend=new(o("WABinary")).Binary,this.$3=function(t){if(!n.$2){var r=new Uint8Array(t.data);n.onData?n.onData(r):o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["WebSocket #"," dropped "," bytes"])),n.id,r.length)}},this.$4=function(e){n.$2||n.$6(e)},this.$5=function(e){if(!n.$2){var t=n.onError;t&&t(String(e))}};var r=c++;this.id=r,this.$1=t,t.onmessage=this.$3,t.onclose=this.$4,t.onerror=this.$5}var n=t.prototype;return n.close=function(){this.$2||(this.$1.close(),this.$6())},n.requestSend=function(){if(this.$2){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WebSocket #"," not opened"])),this.id);return}this.dataToSend.size()&&this.$1.send(this.dataToSend.readBuffer())},n.$6=function(t){this.$2=!0,this.onClose&&this.onClose(t)},t})();function m(e,t,o,a){var i=new WebSocket(e);return i.binaryType="arraybuffer",new(u||(u=n("Promise")))(function(e,n){i.onopen=function(){a==null||a(),e()},i.onclose=function(e){t==null||t(e),o==null||o(null,e),n(r("err")("WebSocket closed after microtask delay}: "+e.reason+" "+e.code))}}).then(function(){var e=new d(i);return o!=null&&(e.onClose=function(t){t!=null&&o(e.id,t)}),e})}l.WebSocketTransport=d,l.openWebSocket=m}),98);
__d("WASyncdKeyManagementUtils",["WASyncdKeyTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new DataView(o("WASyncdKeyTypes").fromSyncKeyId(e)).getUint16(0)}function s(e){return new DataView(o("WASyncdKeyTypes").fromSyncKeyId(e)).getUint32(2)}function u(e){return s(e)+1}l.getKeyDeviceId=e,l.getKeyEpoch=s,l.generateNewKeyEpoch=u}),98);
__d("WATaskScheduler",["Promise","WALogger","WAPromiseBackoffs","WAResolvable","WATimeUtils","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y="no_reschedule",C=(function(){function t(e){this.$1=!1,this.$2={},this.$3={},this.$4={},this.$5=new Map,this.$6=e.scheduledTimeResolver}var r=t.prototype;return r.$7=function(r){var t=this,a=this.$5.get(r);if(a==null){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Tried to start task "," before registering its implementation"])),r);return}this.$6.get(r).then(function(e){var i=e==null,l=!i&&e===o("WATimeUtils").DEFAULT_UNIXTIME;if(l){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Task "," deactivated"])),r);return}var f=e==null?0:e*1e3-o("WATimeUtils").unixTimeMs();f=Math.max(0,f),f=Math.min(f,2147483647),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Scheduling task "," in ","ms"])),r,f),t.$4[r]=setTimeout(function(){delete t.$4[r],o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Firing task ",""])),r),a(i).then(function(e){if(e==="no_reschedule")return new(h||(h=n("Promise")))(function(){});var a;return e===o("WATimeUtils").DEFAULT_UNIXTIME?(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Task "," complete, deactivating"])),r),delete t.$3[r],a=o("WATimeUtils").DEFAULT_UNIXTIME):e>=0?(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Task "," complete, waiting ",""])),r,e),delete t.$3[r],a=o("WATimeUtils").futureUnixTime(e)):(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Task "," will try again later"])),r),a=t.$8(r)),t.$6.set(r,a)}).then(function(){t.$7(r),t.$2[r]&&(t.$2[r].forEach(function(e){return e()}),delete t.$2[r])}).catch(function(e){return o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Task "," failed, try again later: ",""])),r,e),t.$6.set(r,t.$8(r)).then(function(){t.$7(r)})})},f)})},r.$8=function(t){return this.$3[t]||(this.$3[t]=o("WAPromiseBackoffs").createTimer({jitter:.1,max:o("WATimeUtils").HOUR_SECONDS*1e3,algo:{type:"fibonacci",first:1e3,second:2e3}})),o("WATimeUtils").futureUnixTime(Math.round(this.$3[t]()/1e3))},r.$9=function(t,n){this.$2[t]||(this.$2[t]=[]),this.$2[t].push(n)},r.awaitTaskPromise=function(t){var e=this;return new(h||(h=n("Promise")))(function(n){e.$9(t,n)})},r.reschedule=function(t,n){this.$1?(this.$6.set(t,n),this.$4[t]!=null&&clearTimeout(this.$4[t]),this.$7(t)):this.$6.set(t,n)},r.registerTask=function(t,n){this.$1||(this.$1=!0),this.$5.set(t,n),this.$7(t)},r.getScheduledTime=function(t){return this.$6.get(t)},t})(),b=null,v=new(o("WAResolvable")).Resolvable;function S(e){o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["startScheduler invoked"]))),b||(b=new C(e),v.resolve())}function R(e){var t=x("awaitTaskPromise");return t.awaitTaskPromise(e)}function L(e,t){var n=x("reschedule");n.reschedule(e,t)}function E(e,t){v.resolveWasCalled()?L(e,t):v.promise.then(function(){L(e,t)}).catch(function(t){o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["taskScheduler: reschedule eventually failed for task ",""])),e).sendLogs("task-scheduler-reschedule-failed")})}function k(e){E(e,o("WATimeUtils").unixTime())}function I(e){E(e,o("WATimeUtils").DEFAULT_UNIXTIME)}function T(e){var t=x("getScheduledTime");return t.getScheduledTime(e)}function D(e,t){var n=x("registerTask");n.registerTask(e,t)}function x(e){if(b)return b;throw r("err")("TaskScheduler::"+e+" called before startScheduler")}l.DO_NOT_RESCHEDULE=y,l.startScheduler=S,l.awaitTaskPromise=R,l._doReschedule=L,l.reschedule=E,l.rescheduleNow=k,l.deactivate=I,l.getScheduledTime=T,l.registerTask=D}),98);
__d("WAVerifyChainCertificateWA6",["WACert.pb","WACryptoUtils","WAHex","WALogger","WAResultOrError","WASignalKeys","WASignalOther","WASignalSignatures","decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R="142375574d0a587166aae71ebe516437c4a28b73e3695c6ce1f7f9545da8ee6b",L={SERIAL:0,ISSUER:"WhatsAppLongTerm1",PUBLIC_KEY:o("WASignalKeys").serializeIdentity(new Uint8Array(o("WAHex").parseHex(R)))};function E(t,n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: extract leaf and intermediate certificate"])));var r=o("decodeProtobuf").decodeProtobuf(o("WACert.pb").CertChainSpec,t),a=r.intermediate,i=r.leaf;if(a==null||i==null)return o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: missing leaf and/or intermediate certificate"]))),o("WAResultOrError").makeError("missing-certificate");o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["verifying intermediate certificate"])));var l=k(a);if(!l.success)return o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: invalid intermediate certificate"]))),o("WAResultOrError").makeError("invalid-certificate");if(l.value.issuerSerial!==L.SERIAL)return o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 intermediate certificate was not issued by RootCA"]))),o("WAResultOrError").makeError("invalid-certificate");if(!I(l.value,L.PUBLIC_KEY))return o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: intermediate certificate is poorly signed"]))),o("WAResultOrError").makeError("invalid-certificate");o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["verifying leaf certificate"])));var y=k(i);if(!y.success)return o("WALogger").ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: invalid leaf certificate"]))),o("WAResultOrError").makeError("invalid-certificate");if(y.value.issuerSerial!==l.value.serial)return o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 leaf certificate was not issued by RootCA"]))),o("WAResultOrError").makeError("invalid-certificate");var C=o("WASignalKeys").serializeIdentity(new Uint8Array(l.value.key));return I(y.value,C)?o("WACryptoUtils").arrayBuffersEqual(y.value.key,n)?o("WAResultOrError").makeResult({leaf:y.value,intermediate:l.value}):(o("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6 leafCert.key does not match handshake server.hello.static"]))),o("WAResultOrError").makeError("invalid-certificate")):(o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["verifyChainCertificateWA6: leaf certificate is poorly signed"]))),o("WAResultOrError").makeError("invalid-certificate"))}function k(e){var t=e.details,n=e.signature;if(!t)return o("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "details"']))),o("WAResultOrError").makeError("invalid-certificate");if(!n)return o("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "signature"']))),o("WAResultOrError").makeError("invalid-certificate");var r=o("decodeProtobuf").decodeProtobuf(o("WACert.pb").CertChain$NoiseCertificate$DetailsSpec,t),a=r.issuerSerial,i=r.key,l=r.notAfter,s=r.notBefore,u=r.serial;if(a==null)return o("WALogger").ERROR(b||(b=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "issuer_serial"']))),o("WAResultOrError").makeError("invalid-certificate");if(u==null)return o("WALogger").ERROR(v||(v=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "serial"']))),o("WAResultOrError").makeError("invalid-certificate");if(i==null)return o("WALogger").ERROR(S||(S=babelHelpers.taggedTemplateLiteralLoose(['parseCertificateWA6 certificate is missing "key"']))),o("WAResultOrError").makeError("invalid-certificate");var c=o("WASignalOther").ensureSize(new Uint8Array(n),64);return o("WAResultOrError").makeResult({serial:u,issuerSerial:a,key:i,notBefore:s,notAfter:l,details:t,signature:c})}function I(e,t){return o("WASignalSignatures").verifyMsgSignalVariant(t,new Uint8Array(e.details),e.signature)}l.ROOT_CA=L,l.verifyChainCertificateWA6=E,l.parseCertificateWA6=k}),98);
__d("WAWamTypes",[],(function(t,n,r,o,a,i){"use strict";var e={INT:0,BOOL:1,STRING:2,FLOAT:3};i.TYPES=e}),66);
__d("WAWamBuffer",["WABinary","WAWamTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e=5,s=47,u=0,c=1,d=2,m=1,p=2,_=0,f=4,g=8,h=(function(){function t(t,n,r,a){var i=this;this.$5=!1,this.$6=!1;var l=new(o("WABinary")).Binary(void 0,!0);switch(l.writeString("WAM"),l.writeUint8(e),l.writeUint8(n),l.writeUint16(r),t){case"regular":l.writeUint8(u);break;case"realtime":l.writeUint8(c);break;default:l.writeUint8(d)}this.$1=t,this.$2=l,this.$3=r,this.$4=n,a.forEach(function(e,t){return void i.writeGlobal(t,e)})}var n=t.prototype;return n.writeGlobal=function(t,n){if(n==null){v(this.$2,t,_);return}if(typeof n=="string")b(this.$2,t,_,n);else if(typeof n=="number")y(this.$2,t,_,n);else if(typeof n=="boolean")y(this.$2,t,_,n?1:0);else throw r("err")("Incorrect value type "+typeof n)},n.writeEvent=function(t,n,r,a){var e=this.$2;y(e,s,_,Math.floor(t/1e3));var i=S(r),l=i===-1?m|f:m;y(e,n,l,a);for(var u=0;u<=i;u+=3){var c=r[u+2];if(c!=null){var d=r[u],g=r[u+1],h=u===i?p|f:p;g===o("WAWamTypes").TYPES.INT?y(e,d,h,c):g===o("WAWamTypes").TYPES.BOOL?y(e,d,h,c?1:0):g===o("WAWamTypes").TYPES.STRING?b(e,d,h,c):C(e,d,h,c)}}this.$6=!0},n.getKey=function(){return{streamId:this.$4,sequenceNumber:this.$3,channel:this.$1}},n.getSize=function(){return this.$2.size()},n.peek=function(){return this.$2.peek(function(e){return e.readByteArrayView()})},n.getBuffer__INTERNAL=function(){return this.$2},n.isFinalized=function(){return this.$5},n.finalize=function(){this.$5=!0},n.hasEvents=function(){return this.$6},t})();function y(e,t,n,r){r===0?v(e,t,n|16):r===1?v(e,t,n|32):-128<=r&&r<128?(v(e,t,n|48),e.writeInt8(r)):-32768<=r&&r<32768?(v(e,t,n|64),e.writeInt16(r)):-2147483648<=r&&r<2147483648?(v(e,t,n|80),e.writeInt32(r)):(v(e,t,n|96),e.writeInt64(r))}function C(e,t,n,r){v(e,t,n|112),e.writeFloat64(r)}function b(e,t,n,r){var a=o("WABinary").numUtf8Bytes(r);a<256?(v(e,t,n|128),e.writeUint8(a)):a<65536?(v(e,t,n|144),e.writeUint16(a)):(v(e,t,n|160),e.writeUint32(a)),e.writeString(r)}function v(e,t,n){t<256?(e.writeUint8(n),e.writeUint8(t)):(e.writeUint8(n|g),e.writeUint16(t))}function S(e){for(var t=-1,n=0;n<e.length;n+=3)e[n+2]!=null&&(t=n);return t}function R(e){for(var t=S(e),n=0;n<=t;n+=3){var r=e[n+2];if(r!=null){var a=e[n+1];if(a===o("WAWamTypes").TYPES.INT&&isNaN(r))return!1}}return!0}function L(e){return typeof e=="number"?!isNaN(e):!0}l.WamBuffer=h,l.canWriteEvent=R,l.canWriteGlobal=L}),98);
__d("WAWam",["Promise","WALogger","WAPromiseEach","WAShiftTimer","WAWamBuffer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h,y=65536,C=300*1e3,b=3e3,v=1,S=2,R=6005,L=113760892,E=0,k="none",I={putBuffer:function(t,r,o){return(h||(h=n("Promise"))).resolve()}},T=(function(){function t(t){var n=this;this.$2=[],this.$3=new Map,this.$4=!1,this.$5=new Map,this.$8=-1,this.$9=I,this.$10=null,this.deinitialize=function(){n.$4=!1,n.$2=[],n.$3.clear(),n.$5=new Map,n.$8=-1,n.$9=I,n.serializePending.cancel(),n.finalizeBuffers.cancel()},this.enqueueEvent=function(e,t,r,o,a,i){var l=v;n.$2.push({type:l,id:e,commitTime:t,psIdIntValue:r,weight:a,fields:o,resolve:i}),n.$4&&n.serializePending.onOrBefore(b)},this.enqueueAttributesUpdate=function(t){var r={type:S,delta:[]};t.forEach(function(e,t){e!==void 0&&r.delta.push([t,e])}),r.delta.length>0&&(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["WAM: Enqueued "," attribute keys for update"])),r.delta.length),n.$2.push(r))},this.finalizeBuffers=new(o("WAShiftTimer")).ShiftTimer(function(){n.finalizeBuffers__INTERNAL()}),this.serializePending=new(o("WAShiftTimer")).ShiftTimer(function(){n.serializePending__INTERNAL()}),this.forceSerializePending=function(){n.$4&&n.$11()&&n.serializePending.forceRunNow()},this.$1=t}var n=t.prototype;return n.initialize=function(t,n,r,a){if(this.$4){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WAM: Failed to initialize already initialized WAM"]))).sendLogs("wam-initialize");return}this.$7=a,this.$8=t,this.$9=r,this.$10=n,this.$11()&&this.serializePending.forceRunNow(),this.$4=!0,o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WAM: Initialized with stream id ",""])),this.$8)},n.finalizeBuffers__INTERNAL=function(){this.$5.forEach(function(e){e.finalize()}),this.$5.size>0&&this.serializePending.onOrBefore(b)},n.$12=function(t){var e;return(e=this.$7)!=null&&e.multipleSequences?t===E?"null-psid":t:"regular"},n.$13=function(t){var e=this.$5.get(t);if(e)return e;var n=this.$12(t);if(this.$10==null){o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["WAM: Sequence number generator not initialised for channel ",""])),this.$1).sendLogs("wam-serializePending");return}var r=this.$10(n);if(e=new(o("WAWamBuffer")).WamBuffer(this.$1,this.$8,r,this.$3),this.$5.set(t,e),t!=="regular")if(this.$6==null)o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to create a private buffer without setting private stats ids"]))).sendLogs("wam-serializePending");else{var a=t===E?k:this.$6.get(t);a==null?o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to create a private buffer without setting private stats id"]))).sendLogs("wam-serializePending"):e.writeGlobal(R,a)}return e},n.serializePending__INTERNAL=function(){var e=this,t=[];this.finalizeBuffers.onOrBefore(C);var n=new Map,r=-1;this.$2.forEach(function(a,i){if(a.type===v){var l=!0;n.forEach(function(e){o("WAWamBuffer").canWriteGlobal(e)||(l=!1)});var s=o("WAWamBuffer").canWriteEvent(a.fields);if(s&&l){var u;switch(e.$1){case"regular":case"realtime":{u=e.$13("regular");break}default:e.$1,a.psIdIntValue==null?o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["A WAM event in channel private was dropped before serialization. Reason: missing psIdIntValue in the event payload"]))).sendLogs("wam-serializePending"):u=e.$13(a.psIdIntValue)}u!=null&&(n.forEach(function(t,n){var r=e.$3.get(n);(r===void 0||r!==t)&&(e.$5.forEach(function(e){return e.writeGlobal(n,t)}),e.$3.set(n,t))}),n.clear(),u.writeEvent(a.commitTime,a.id,a.fields,a.weight))}else o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["A WAM event in channel "," was dropped before serialization. Event correct: ",", pending attributes correct: ",""])),e.$1,s,l);a.resolve!=null&&t.push(a.resolve),r=i}else{a.type;for(var c=0;c<a.delta.length;++c){var d=a.delta[c],m=d[0],f=d[1];n.set(m,f)}}});var a=!1;this.$5.forEach(function(e){(e.isFinalized()||e.getSize()>y)&&(a=!0)});var i=[];this.$5.forEach(function(t,n){t.hasEvents()?i.push([t.getKey(),t.peek(),e.$12(n)]):o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Skipping putting buffer to sink, as it does not contain any events"])))});var l=o("WAPromiseEach").promiseEach(i,function(t){var n=t[0],r=t[1],o=t[2];return e.$9.putBuffer(n,r,a,o)}).then(function(){t.forEach(function(e){return void e()})});return this.$2=this.$2.slice(r+1),a&&(this.$5=new Map,this.finalizeBuffers.cancel()),l},n.$11=function(){return this.$2.length>0&&this.$2.some(function(e){return e.type===v})},n.isInitialized=function(){return this.$4},n.getStreamId=function(){return this.$8},n.getPendingActions=function(){return this.$2},n.getBuffers__INTERNAL=function(){return this.$5},n.getGlobals__INTERNAL=function(){return this.$3},n.setGlobals__INTERNAL=function(t){this.$3=t},n.getSink__INTERNAL=function(){return this.$9},n.updatePrivateStatsIds=function(t){if(this.$1!=="private"){o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["WAM: Tried to set private stats ids on a non-private channel"]))).sendLogs("wam-updatePrivateStatsIds");return}this.$6=t},t})();l.PRIVATE_STATS_DEFAULT_PS_ID_KEY_HASH_INT=L,l.Wam=T}),98);
__d("WAWamChannelManager",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Map,this.$2=new Map}var t=e.prototype;return t.getChannelInitialized=function(t){return this.$2.get(t)||!1},t.setChannelInitialized=function(t){this.$2.set(t,!0)},t.isSinkBusy=function(t){return this.$1.get(t)||!1},t.setSinkBusy=function(t,n){this.$1.set(t,n)},t.close=function(){var e=this;this.$1.forEach(function(t,n){e.$1.set(n,!1)}),this.$2.forEach(function(t,n){e.$2.set(n,!1)})},e})(),l;function s(){return l==null&&(l=new e),l}function u(){l!=null&&l.close()}i.getChannelManager=s,i.closeChannelManager=u}),66);
__d("WAWamManager",["WALogger","WAWam"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=65535,d=(function(){function t(e){this.$1=new Map,this.$2=e}var n=t.prototype;return n.$3=function(t,n){n==null||n===0?this.$1.set(t,"uninitialized"):n<0?this.$1.set(t,"uninitialized"):this.$1.set(t,n)},n.getSequenceNumber__INTERNAL=function(){return this.$1},n.initializeForChannel=function(n,r){var t=this;r.forEach(function(r,a){var i;if(n==="regular"&&a==="regular")t.$3(a,r);else if(n==="realtime"&&a==="realtime")t.$3(a,r);else if(n==="private"&&a!=="regular"&&a!=="realtime")t.$3(a,r);else if(n==="private"&&!((i=t.$2)!=null&&i.multipleSequences))t.$3(a,r);else{var l;o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["SequenceNumberGenerator::initializeForChannel: Incorrect combination of parameters: "," "," ",""])),n,a,(l=t.$2)==null?void 0:l.multipleSequences)}})},n.next=function(t){var e=this.$1.get(t),n;return e==null||e==="uninitialized"?n=1:(n=e+1,n>c&&(n=1)),this.$1.set(t,n),n},t})(),m=(function(){function e(){this.$1=new Map,this.$2=null}var t=e.prototype;return t.getWamInstance=function(t){var e=this.$1.get(t);return e||(e=new(o("WAWam")).Wam(t),this.$1.set(t,e)),e},t.initialize=function(t,n,r,a,i){var e=this.getWamInstance(t);if(e.isInitialized()){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WAM instance for channel "," has already been initialized"])),t);return}this.$2==null&&(this.$2=new d(i));var l=this.$2;this.$2.initializeForChannel(t,r),e.initialize(n,function(e){return l.next(e)},a,i)},t.deinitialize=function(){this.$1.forEach(function(e,t){e.isInitialized()&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WamManager: Deinitializing WAM Channel ",""])),t),e.deinitialize())}),this.$2=null},t.enqueueEvent=function(t,n,r,o,a,i,l){var e=this.getWamInstance(t);e.enqueueEvent(n,r,o,a,i,l)},t.enqueueAttributesUpdate=function(t,n){var e=this.getWamInstance(t);e.enqueueAttributesUpdate(n)},t.updatePrivateStatsIds=function(t){var e=this.getWamInstance("private");e.updatePrivateStatsIds(t)},t.forceFlushBuffers=function(){this.$1.forEach(function(e){e.forceSerializePending()})},t.rotateBuffers=function(){this.$1.forEach(function(e){e.finalizeBuffers.forceRunNow()})},t.getSequenceNumberGenerator__INTERNAL=function(){return this.$2},e})();l.WamManager=m}),98);
__d("WAWamUtils",["WABase64","WALogger","WAWamTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e={},e[(u=o("WAWamTypes")).TYPES.INT]="number",e[u.TYPES.FLOAT]="number",e[u.TYPES.STRING]="string",e[u.TYPES.BOOL]="boolean",e);function d(e,t){if(t==null||t.length===0)return e;for(var n=new Map,r=0;r<e.length;r+=3){var o=e[r];n.set(o,r)}for(var a=0;a<t.length;++a){var i=t[a],l=i[0],s=i[1],u=i[2];if(u!=null){var d=n.get(l);if(d!=null){var m=e[d+2];if(m!==void 0)continue}var p=c[s];p===typeof u&&(d==null?(n.set(l,e.length),e.push(l,s,u)):e[d+2]=u)}}return e}function m(e){for(var t=new Map,n=new Map,a=0;a<e.length;a+=4){var i=e[a],l=e[a+1],u=e[a+2],c=e[a+3];if(u===o("WAWamTypes").TYPES.FLOAT)throw r("err")("Float attributes are currently not supported in runtime");if(!Array.isArray(i)){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["logAttributes WAM channel is not an array"]))).sendLogs("wam-log-attributes");return}i.includes("regular")&&t.set(l,c),i.includes("private")&&n.set(l,c)}return{deltaRegular:t,deltaPrivate:n}}function p(e,t){var n=[];return t.forEach(function(t){var r=t.channel;if(r==null){if(e!=="regular")return}else if(r!==e)return;if(t.finished){var a=new Uint8Array(o("WABase64").decodeB64(t.buffer)),i=t.key;n.push({key:i,content:a})}}),n}function _(e){return JSON.stringify([e.streamId,e.sequenceNumber,e.channel])}function f(e,t,n,r,a){var i=_(e);return{bufferKey:i,meta:{streamId:e.streamId,sequenceNumber:e.sequenceNumber},bufferRow:{key:i,channel:t,streamId:n,buffer:o("WABase64").encodeB64(r),finished:a}}}function g(e){var t=null;return e&&(t=e.sequenceNumber),t}l.appendRawFields=d,l.getDeltaFromAttributes=m,l.getFinishedBuffers=p,l.asBufferEntry=f,l.getSequenceNumber=g}),98);
__d("WAWamEntrypoint",["Promise","WAWamManager","WAWamUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=1,u=!1,c=null;function d(){return c||(c=new(o("WAWamManager")).WamManager),c}function m(){u=!0}function p(e,t,n,r,o){d().initialize(n,e,t,r,o)}function _(){d().deinitialize()}function f(e,t,n,r,a,i,l){i===void 0&&(i=s);var c=Date.now();u&&l!=null,d().enqueueEvent(e,t,c,n,o("WAWamUtils").appendRawFields(r,a),i)}function g(t,r,a,i,l,c,m){c===void 0&&(c=s);var p=Date.now();return u&&m!=null,new(e||(e=n("Promise")))(function(e){d().enqueueEvent(t,r,p,a,o("WAWamUtils").appendRawFields(i,l),c,e)})}function h(e,t){var n=o("WAWamUtils").getDeltaFromAttributes(e);if(n!=null){var r=n.deltaPrivate,a=n.deltaRegular;u&&t!=null,a.size>0&&d().enqueueAttributesUpdate("regular",a),r.size>0&&d().enqueueAttributesUpdate("private",r)}}function y(e){d().updatePrivateStatsIds(e)}function C(){d().forceFlushBuffers()}function b(){d().rotateBuffers()}l.enableDebugMode=m,l.initializeWAM=p,l.deinitializeWAM=_,l.log=f,l.logAsync=g,l.logAttributes=h,l.updatePrivateStatsIds=y,l.forceFlushBuffers=C,l.rotateBuffers=b}),98);
__d("WAWamStorage",["Promise","WALogger","WATimeUtils","WAWamChannelManager","WAWamEntrypoint","WAWamUtils","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=null,f=null;function g(e){if(f)return f;throw r("err")("WamStorage::"+e+" called before startWamStorage")}function h(t){f==null?f=t:o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[wam] startWamStorage: called again"]))).sendLogs("startWamStorage")}function y(){o("WAWamEntrypoint").deinitializeWAM(),o("WAWamChannelManager").closeChannelManager(),f=null,_=null}function C(e,t,a,i){var l=g("initializeWAMSink"),d=o("WAWamChannelManager").getChannelManager();if(d.getChannelInitialized(t))return(p||(p=n("Promise"))).resolve();d.setChannelInitialized(t);var m=l.getStreamId(e),f={putBuffer:function(r,i,_,f){if(d.isSinkBusy(t))return o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Sink flush did not happen within timeout, buffer is not saved"]))),(p||(p=n("Promise"))).resolve();d.setSinkBusy(t,!0);var e=o("WAWamUtils").asBufferEntry(r,t,m,i,_),g=e.bufferKey,h=e.bufferRow,y=e.meta;return l.saveBuffer(y,h,f).then(function(){var e=[r.streamId,r.sequenceNumber];o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Successfully put buffer "," to sink"])),e),_&&(a(),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["WamStorage: Buffer "," is scheduled for send"])),g))}).finally(function(){d.setSinkBusy(t,!1)})}};return _==null&&(_=l.finishBuffer(m)),_.then(function(){if(l.getStartingSequenceNumbers)return l.getStartingSequenceRow,l.getStartingSequenceNumbers(t,m);if(l.getStartingSequenceRow,i!=null&&i.multipleSequences)throw r("err")("getStartingSequenceRow must not used when enabling support for multiple sequences");return l.getStartingSequenceRow(m).then(function(e){var t=o("WAWamUtils").getSequenceNumber(e),n=new Map;return n.set("regular",t),n})}).then(function(e){o("WAWamEntrypoint").initializeWAM(m,e,t,f,i),t==="private"&&l.updatePrivateStatsIds&&l.updatePrivateStatsIds().then(o("WAWamEntrypoint").updatePrivateStatsIds)})}function b(e){return g("getFinishedStreamBuffers").getBuffers().then(function(t){return o("WAWamUtils").getFinishedBuffers(e,t)})}var v=64,S=function(t,n){var e=(n==null?void 0:n.maxRedeemCount)!=null&&n.maxRedeemCount!==0?n.maxRedeemCount:v,r=(n==null?void 0:n.maxExpirySeconds)!=null&&n.maxExpirySeconds!==0?n.maxExpirySeconds:o("WATimeUtils").DAY_SECONDS,a={maxRedeemCount:e,maxExpirySeconds:r};return o("WATimeUtils").happenedWithin(t.creationTs,a.maxExpirySeconds)?t.redeemCount>=a.maxRedeemCount?(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["The private stats token was redeemed maximum number of time. The client shall re-issue a new one"]))),!1):!0:(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["The private stats token expired. The client shall re-issue a new one"]))),!1)};function R(){var e=g("getPrivateStatsToken");if(!e.redeemPrivateStatsToken)throw r("err")("redeemPrivateStatsToken not implemented for WAM DB");return e.redeemPrivateStatsToken(S)}function L(e){var t=g("savePrivateStatsToken");if(!t.savePrivateStatsToken)throw r("err")("savePrivateStatsToken not implemented for WAM DB");return t.savePrivateStatsToken(e)}function E(){var e=g("privateStatsKillSwitchGetBlockedToken");if(!e.privateStatsKillSwitchGetBlockedToken)throw r("err")("privateStatsKillSwitchGetBlockedToken not implemented for WAM DB");return e.privateStatsKillSwitchGetBlockedToken()}function k(e){var t=g("privateStatsKillSwitchSet");if(!t.privateStatsKillSwitchSet)throw r("err")("privateStatsKillSwitchSet not implemented for WAM DB");return t.privateStatsKillSwitchSet(e)}function I(e){return g("removeBufferByKey").removeBufferByKey(e)}function T(){return g("nukeMetrics").nukeMetrics()}l.startWamStorage=h,l.closeWamStorage=y,l.initializeWAMSink=C,l.getFinishedStreamBuffers=b,l.redeemPrivateStatsToken=R,l.savePrivateStatsToken=L,l.privateStatsKillSwitchGetBlockedToken=E,l.privateStatsKillSwitchSet=k,l.removeBufferByKey=I,l.nukeMetrics=T}),98);
__d("WAWebABPropsUpdateFromStorage",["WALogger","WAWebABPropsCache","WAWebABPropsConfigs","WAWebABPropsGlobals","WAWebApiAbPropConfig","WAWebUserPrefsGeneral","asyncToGeneratorRuntime","compactMap","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=!1,n=t;if(!r("gkx")("26258")){var a=yield o("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb();r("gkx")("26259")&&a?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[abprops][intern] Web Beta joined, using DEBUG default AB prop values"]))),n=!0):t&&a&&(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[abprops][dev] Web Beta joined, using NON-DEBUG default AB prop values (to simulate intern env)"]))),n=!1)}var i=yield o("WAWebApiAbPropConfig").getABPropConfigs(),l=[],d=0,m=r("compactMap")(i,function(e){var t=o("WAWebABPropsCache").getABPropConfigNameFromCode(Number(e.configCode));if(t==null)d++,l.length<3&&l.push(e.configCode);else{var a=o("WAWebABPropsConfigs").ABPropConfigs[t],i=a[0],s=a[1],u=a[2],c=a[3],m=n?c:u,p=o("WAWebApiAbPropConfig").parseConfigValue(e.configValue,s,m),_;return!r("gkx")("26258")&&e.overriddenConfigValue!=null&&(_=o("WAWebApiAbPropConfig").parseConfigValue(e.overriddenConfigValue,s,m)),{configCode:i,configValue:p,configExpoKey:e.configExpoKey,hasAccessed:e.hasAccessed,overriddenConfigValue:_}}});d>0&&o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[abprops] "," ABProps exist in storage but no longer available for this client version => ",""])),d,l),o("WAWebABPropsCache").bulkCreateOrReplaceABPropConfigs(m),o("WAWebABPropsGlobals").updateGlobalExpoKey(),o("WAWebABPropsGlobals").updateGlobalABKey()}catch(e){o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[abprops] Failed to update ABProps configs cache from storage: ",""])),e).verbose().sendLogs("[abprops] Failed to update ABProps configs cache from storage: "+e)}}),m.apply(this,arguments)}l.updateABPropsFromStorage=d}),98);
__d("WAWebABPropsWamGlobals",["WAWebABProps","WAWebWamGlobals"],(function(t,n,r,o,a,i,l){function e(){o("WAWebWamGlobals").Global.set({serviceImprovementOptOut:o("WAWebABProps").getABPropConfigValue("service_improvement_opt_out_flag")})}l.setAbPropDependingGlobalWamAttributes=e}),98);
__d("WAWebAbPropsParsingJob",["WAWebABPropsConfigs"],(function(t,n,r,o,a,i,l){function e(e,t){var n=new Map;e.forEach(function(e){var t=e.configCode,r=e.configExpoKey,o=e.configValue;n.set(t,{configValue:o,configExpoKey:r})});var r=new Map;return Object.keys(o("WAWebABPropsConfigs").ABPropConfigs).map(function(e){var a=o("WAWebABPropsConfigs").ABPropConfigs[e][0],i=n.get(a);if(!(i==null&&t)){var l=i==null?void 0:i.configValue,s=i==null?void 0:i.configExpoKey;r.set(a,{configValue:l,configExpoKey:s==null?null:s.toString()})}}),r}l.parseABProps=e}),98);
__d("WAWebApiAbPropEventSamplingConfig",["Promise","WAWebBoolFunc","WAWebModelStorageInitialize","WAWebModelStorageUtils","WAWebSchemaAbPropEventSamplingConfig"],(function(t,n,r,o,a,i,l){var e;function s(){return o("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return o("WAWebSchemaAbPropEventSamplingConfig").getAbpropEventSamplingConfigsTable().all().then(function(e){return e})})}function u(e){return o("WAWebModelStorageInitialize").initializeWithoutGKs().then(function(){return o("WAWebSchemaAbPropEventSamplingConfig").getAbpropEventSamplingConfigsTable().get(e).then(function(e){return e==null?void 0:e.samplingWeight})})}function c(t){if(t==null||t.length===0)return(e||(e=n("Promise"))).resolve(!1);var r=[];return t.forEach(function(e){r.push({eventCode:e.eventCode,samplingWeight:e.samplingWeight})}),o("WAWebModelStorageUtils").getStorage().lock(["abprop-event-sampling-configs"],function(e){var t=e[0];return t.clear().then(function(){return t.bulkCreate(r).then(o("WAWebBoolFunc").returnTrue)})})}l.getEventSamplingConfigs=s,l.getEventSamplingWeight=u,l.updateEventSamplingConfigs=c}),98);
__d("WAWebEncryptedRid",["WABase64","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsMultiDevice"],(function(t,n,r,o,a,i,l){function e(e){return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WAWebEncryptedRid",o("WABase64").encodeB64(e))}function s(){return o("WAWebUserPrefsMultiDevice").isRegistered()?o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WAWebEncryptedRid"):null}l.setEncryptedRid=e,l.getEncryptedRid=s}),98);
__d("WAWebEventSampling",[],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(t){return e==null?null:e(t)}function u(e){var t=s(e);return t!=null?Math.abs(t):null}function c(t){e=t}l.getClientEventSamplingWeight=u,l.setGetEventSamplingConfigValueImpl=c}),98);
__d("WAWebEventSamplingCache",["WAWebApiAbPropEventSamplingConfig","WAWebEventSampling","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=!1;function u(t){return s?e.get(t):null}function c(){o("WAWebEventSampling").setGetEventSamplingConfigValueImpl(u)}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("WAWebApiAbPropEventSamplingConfig").getEventSamplingConfigs();t.forEach(function(t){e.set(t.eventCode,t.samplingWeight)}),s=!0}),m.apply(this,arguments)}l.initializeEventSamplingCache=c,l.updateEventSamplingFromStorage=d}),98);
__d("WAWebStoreSpecialAbProps",["WALogger","WAWebABProps","WAWebLocalStorage","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s=["wa_web_favicons_update_m1","web_ui_refresh_m1","web_retry_quota_exceeded_idb_writes","web_hybrid_apply_latest_db_schema_optimization_enabled"],u="abprops_needed_early";function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=s.reduce(function(e,t){var n=o("WAWebABProps").getABPropConfigValue(t);return n!=null&&(e[t]=n),e},{});r("WAWebLocalStorage")==null||r("WAWebLocalStorage").setItem(u,JSON.stringify(t))}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to store special early abprops"]))).sendLogs(r("getErrorSafe")(t).message)}}),d.apply(this,arguments)}l.storeSpecialAbProps=c}),98);
__d("WAWebUserPrefsAppStateSync",["WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED,!0)}),s.apply(this,arguments)}function u(){var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.CRITICAL_DATA_SYNCED);return e===!0}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS,e)}),d.apply(this,arguments)}function m(){var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.LAST_PERIODIC_APP_STATE_SYNC_TS);return e}function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.SHOULD_CHECK_CONTACT_SYNC_STATUS,!0)}),_.apply(this,arguments)}function f(){var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED);return e===!0}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.MD_SYNC_ACTIONS_ACTION_SANITIZED,e)}),h.apply(this,arguments)}function y(){return r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS,!0)}function C(){return!!r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").MD_KEYS.SYNCD_PRIMARY_ALLOWS_ALL_MUTATIONS)}function b(){return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=(t=yield b())!=null?t:{};yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.NON_CRITICAL_DATA_SYNC_STATUS,babelHelpers.extends({},n,e))}),S.apply(this,arguments)}l.setAllCriticalDataSynced=e,l.getAllCriticalDataSynced=u,l.setLastPeriodicAppStateSyncTs=c,l.getLastPeriodicAppStateSyncTs=m,l.setShouldCheckContactSyncStatus=p,l.getMdSyncActionsActionSanitized=f,l.setMdSyncActionsActionSanitized=g,l.setPrimaryAllowsAllMutations=y,l.getPrimaryAllowsAllMutations=C,l.getNonCriticalDataSyncStatus=b,l.setNonCriticalDataSyncStatus=v}),98);
__d("WAWebUserPrefsUiRefresh",["WALogger","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.WebUiRefreshNuxAcknowledged,e)}function u(){return r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.WebUiRefreshNuxAcknowledged)===!0}function c(){var e=d();r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.WebUiRefreshNuxViewsCount,e+1)}function d(){var t=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.WebUiRefreshNuxViewsCount);if(t==null)return 0;var n=parseInt(t,10);return isNaN(n)||n<0?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[ui-refresh] Invalid nux view count - returning 0"]))),0):n}function m(){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.WebUiRefreshNuxViewsCount,0)}l.setUiRefreshNuxAcked=s,l.getUiRefreshNuxAcked=u,l.incrementNuxViewCount=c,l.getNuxViewCount=d,l.resetNuxViewCount=m}),98);
__d("WAWebSyncOnABProps",["WALogger","WAWebABProps","WAWebABPropsWamGlobals","WAWebProtobufsE2E.pb","WAWebStoreSpecialAbProps","WAWebUserPrefsAppStateSync","WAWebUserPrefsCTWA","WAWebUserPrefsTypes","WAWebUserPrefsUiRefresh","asyncToGeneratorRuntime","cr:254"],(function(t,n,r,o,a,i,l){var e,s,u=(e=n("cr:254"))!=null?e:{},c=u.sendPeerDataOperationRequest;function d(e){e!==o("WAWebABProps").getABPropConfigValue("service_improvement_opt_out_flag")&&o("WAWebABPropsWamGlobals").setAbPropDependingGlobalWamAttributes()}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebUserPrefsAppStateSync").getNonCriticalDataSyncStatus();(e==null?void 0:e[o("WAWebUserPrefsTypes").NonCriticalDataSyncStatusType.RECENT_STICKER_INITIALIZED])===o("WAWebUserPrefsTypes").RecentStickerInitializedStatusType.NEED_REQUEST_BOOTSTRAP&&(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Recent Stickers: request peer message for recent sticker bootstrap."]))),yield c==null?void 0:c(o("WAWebProtobufsE2E.pb").Message$PeerDataOperationRequestType.SEND_RECENT_STICKER_BOOTSTRAP,{}))}),p.apply(this,arguments)}function _(e){var t=o("WAWebABProps").getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web");t===!0&&e===!1&&o("WAWebUserPrefsCTWA").clearAdAccountToken()}function f(e){var t=o("WAWebABProps").getABPropConfigValue("web_ui_refresh_m1");e===!0&&t===!1&&(o("WAWebUserPrefsUiRefresh").resetNuxViewCount(),o("WAWebUserPrefsUiRefresh").setUiRefreshNuxAcked(!1),o("WAWebStoreSpecialAbProps").storeSpecialAbProps())}l.handleServiceImprovementOptOutFlagABPropConfigValueChange=d,l.ensureNonCriticalDataSyncIsInitialized=m,l.handleAdAccountTokenStorageKillSwitchABPropConfigValueChange=_,l.handleUIRefreshNuxOnABPropConfigValueChange=f}),98);
__d("WAWebAbPropsSyncJob",["Promise","WAGetAbPropsProtocol","WALogger","WAPromiseDelays","WAWebABProps","WAWebABPropsGlobals","WAWebABPropsLocalStorage","WAWebABPropsUpdateFromStorage","WAWebAbPropsParsingJob","WAWebApiAbPropConfig","WAWebApiAbPropEventSamplingConfig","WAWebBackendEventBus","WAWebEncryptedRid","WAWebEventSamplingCache","WAWebSyncOnABProps","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d;o("WAWebBackendEventBus").BackendEventBus.onAbPropsUpdate((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.isInitialSync,r=e.partialPreviousABPropsValues,a=r.ctwa_ad_account_token_storage_kill_switch_web,i=r.service_improvement_opt_out_flag,l=r.web_ui_refresh_m1;yield(t=o("WAWebSyncOnABProps")).ensureNonCriticalDataSyncIsInitialized(),t.handleServiceImprovementOptOutFlagABPropConfigValueChange(i),t.handleAdAccountTokenStorageKillSwitchABPropConfigValueChange(a),t.handleUIRefreshNuxOnABPropConfigValueChange(l),n&&(yield o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("checkOrphanFavoriteStickers"))});return function(t){return e.apply(this,arguments)}})());var m={shouldSendHash:!0};function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.localRefreshId,i=t.shouldSendHash,l=r("justknobx")._("3330")&&a!=null,c=l?{propsRefreshId:a}:{propsHash:i?o("WAWebABPropsLocalStorage").getHash():void 0},m=yield o("WAGetAbPropsProtocol").getAbPropsProtocol(c);if(!m.success)return!1;var p=m.value,_=p.abKey,f=p.erid,g=p.hash,h=p.isDeltaUpdate,y=p.props,C=p.refresh,b=p.refreshId,v=p.samplingConfigs,S=f==null?(d||(d=n("Promise"))).resolve():o("WAWebEncryptedRid").setEncryptedRid(f);if(h&&!l?o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["syncABProps: received delta update response without responding to emergency push request"]))).sendLogs("abprops-requested-regular-received-delta"):!h&&l&&o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["syncABProps: received regular update response when responding to emergency push request"]))),!h){o("WAWebABPropsGlobals").updateGlobalABKey(_!=null?_:"");var R=Date.now();o("WAWebABPropsLocalStorage").updateAttributesLocalStorage(_,g,C,R)}if(b!=null&&o("WAWebABPropsLocalStorage").setRefreshId(b),g==null&&!h)return!1;try{return yield(d||(d=n("Promise"))).all([!h&&o("WAWebApiAbPropEventSamplingConfig").updateEventSamplingConfigs(v),o("WAWebApiAbPropConfig").updateABPropConfigs(o("WAWebAbPropsParsingJob").parseABProps(y,h),h),S]),!0}catch(e){o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["update ABProps config table failed"]))).verbose().sendLogs("update ABProps config table failed when syncing ABProps")}return!1}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){for(var t=o("WAWebABPropsLocalStorage").isABPropsAfterFirstSync(),r=3;r-- >0;)try{var a,i={service_improvement_opt_out_flag:(a=o("WAWebABProps")).getABPropConfigValue("service_improvement_opt_out_flag"),ctwa_ad_account_token_storage_kill_switch_web:a.getABPropConfigValue("ctwa_ad_account_token_storage_kill_switch_web"),web_ui_refresh_m1:a.getABPropConfigValue("web_ui_refresh_m1"),single_e2ee_session_migration_state_outgoing:a.getABPropConfigValue("single_e2ee_session_migration_state_outgoing")},l=e?babelHelpers.extends({},e):babelHelpers.extends({},m);l.localRefreshId==null&&(l.shouldSendHash=t&&l.shouldSendHash!==!1);var s=yield p(l);if(s){yield(d||(d=n("Promise"))).all([o("WAWebABPropsUpdateFromStorage").updateABPropsFromStorage(),o("WAWebEventSamplingCache").updateEventSamplingFromStorage()]),o("WAWebBackendEventBus").BackendEventBus.triggerAbPropsUpdate({partialPreviousABPropsValues:i,isInitialSync:!t});return}}catch(e){r===0&&o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["failed to sync ABProps"]))).verbose().sendLogs("failed to sync ABProps"),yield o("WAPromiseDelays").delayMs(10*1e3*Math.random())}}),g.apply(this,arguments)}l.syncABProps=p,l.syncABPropsTask=f}),98);
__d("WAWebAccentDiacriticRegex",[],(function(t,n,r,o,a,i){var e=/(?:[\^`\xA8\xAF\xB4\xB7\xB8\u02B0-\u034E\u0350-\u0357\u035D-\u0362\u0374\u0375\u037A\u0384\u0385\u0483-\u0487\u0559\u0591-\u05A1\u05A3-\u05BD\u05BF\u05C1\u05C2\u05C4\u064B-\u0652\u0657\u0658\u06DF\u06E0\u06E5\u06E6\u06EA-\u06EC\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F5\u0818\u0819\u08E3-\u08FE\u093C\u094D\u0951-\u0954\u0971\u09BC\u09CD\u0A3C\u0A4D\u0ABC\u0ACD\u0AFD-\u0AFF\u0B3C\u0B4D\u0BCD\u0C4D\u0CBC\u0CCD\u0D3B\u0D3C\u0D4D\u0DCA\u0E47-\u0E4C\u0E4E\u0EC8-\u0ECC\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F82-\u0F84\u0F86\u0F87\u0FC6\u1037\u1039\u103A\u1087-\u108D\u108F\u109A\u109B\u17C9-\u17D3\u17DD\u1939-\u193B\u1A75-\u1A7C\u1A7F\u1AB0-\u1ABD\u1B34\u1B44\u1B6B-\u1B73\u1BAA\u1BAB\u1C36\u1C37\u1C78-\u1C7D\u1CD0-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1D2C-\u1D6A\u1DC4-\u1DCF\u1DF5-\u1DF9\u1DFD-\u1DFF\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2CEF-\u2CF1\u2E2F\u302A-\u302F\u3099-\u309C\u30FC\uA66F\uA67C\uA67D\uA67F\uA69C\uA69D\uA6F0\uA6F1\uA717-\uA721\uA788\uA7F8\uA7F9\uA8C4\uA8E0-\uA8F1\uA92B-\uA92E\uA953\uA9B3\uA9C0\uA9E5\uAA7B-\uAA7D\uAABF-\uAAC2\uAAF6\uAB5B-\uAB5F\uABEC\uABED\uFB1E\uFE20-\uFE2F\uFF3E\uFF40\uFF70\uFF9E\uFF9F\uFFE3]|\uD800\uDEE0|\uD802[\uDEE5\uDEE6]|\uD803[\uDD22-\uDD27\uDF46-\uDF50]|\uD804[\uDCB9\uDCBA\uDD33\uDD34\uDD73\uDDC0\uDDCA-\uDDCC\uDE35\uDE36\uDEE9\uDEEA\uDF3C\uDF4D\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC42\uDC46\uDCC2\uDCC3\uDDBF\uDDC0\uDE3F\uDEB6\uDEB7\uDF2B]|\uD806[\uDC39\uDC3A\uDE34\uDE47\uDE99]|\uD807[\uDC3F\uDD42\uDD44\uDD45\uDD97]|\uD81A[\uDEF0-\uDEF4]|\uD81B[\uDF8F-\uDF9F]|\uD834[\uDD67-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD46\uDD48-\uDD4A])/g,l=e;i.default=l}),66);
__d("WAWebAccessibility.react",["react"],(function(t,n,r,o,a,i,l){var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useEffect,m=u.useState;function p(e){var t=e.children;return c.jsx("span",{"aria-label":t})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.assertive,n=t===void 0?!1:t,r=e.startWithText,o=r===void 0?!1:r,a=e.text,i=m(o?a:""),l=i[0],s=i[1];return d(function(){window.setTimeout(function(){s(a)},10)},[a]),c.jsx("span",{"aria-live":n?"assertive":"polite","aria-atomic":"true",className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",children:l})}_.displayName=_.name+" [from "+i.id+"]";var f=function(t){var e=t.disabled,n=t.onClick,r=function(t){return n==null?void 0:n(t)},o=function(n){e!==!0&&r(n)},a=function(t){var e=t.key==="Enter"||t.key===" "||t.key==="Spacebar"||t.which===13||t.which===32;e&&(t.preventDefault(),r(t))};return{onClick:o,onKeyPress:a,disabled:e,tabIndex:e===!0?-1:0,role:"button"}};l.InvisibleLabel=p,l.InvisibleAnnouncement=_,l.accessibleClickableButtonProps=f}),98);
__d("WAWebBaseJSHaltDetector",["WALogger","WAWebEventEmitter"],(function(t,n,r,o,a,i,l){var e,s,u,c="js_halt",d="clock_change_backwards",m=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.$BaseJsHaltDetector$p_1=e,r.$BaseJsHaltDetector$p_2=n,r}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.startDetection=function(){var t=this;if(!this.$BaseJsHaltDetector$p_3){var n=Date.now();this.$BaseJsHaltDetector$p_3=self.setInterval(function(){var e=Date.now(),r=e-n-t.$BaseJsHaltDetector$p_1;r>t.$BaseJsHaltDetector$p_2?t.trigger(c,r):r<-t.$BaseJsHaltDetector$p_2&&t.trigger(d,r),n=e},this.$BaseJsHaltDetector$p_1),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["JsHaltDetector:detection started"])))}},r.stopDetection=function(){this.$BaseJsHaltDetector$p_3&&(self.clearInterval(this.$BaseJsHaltDetector$p_3),this.$BaseJsHaltDetector$p_3=null,o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["JsHaltDetector:detection stopped"]))))},r.restartDetection=function(){this.stopDetection(),this.startDetection(),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["JsHaltDetector:detection restarted"])))},n})(r("WAWebEventEmitter"));l.JS_HALT_EVENT=c,l.CLOCK_CHANGE_BACKWARDS_EVENT=d,l.BaseJsHaltDetector=m}),98);
__d("WAWebClockDurationFormatters",["fbt","WATimeUtils","WAWeb-moment","err"],(function(t,n,r,o,a,i,l,s){function e(e){var t=typeof e=="string"?parseInt(e,10):e,n=r("WAWeb-moment").utc(t*1e3);if(n.isValid()){var a=t<o("WATimeUtils").HOUR_SECONDS?"m:ss":"H:mm:ss";return n.format(a)}return""}function u(e){var t,n=e,r=Math.floor(n/(t=o("WATimeUtils")).DAY_SECONDS);n-=r*t.DAY_SECONDS;var a=Math.floor(n/t.HOUR_SECONDS);n-=a*t.HOUR_SECONDS;var i=Math.floor(n/t.MINUTE_SECONDS),l=Math.floor(n%t.MINUTE_SECONDS),u=s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"1 day\"}",[s._plural(r,"days")]),c=s._(/*BTDS*/"_j{\"*\":\"{hours} hours\",\"_1\":\"1 hour\"}",[s._plural(a,"hours")]),d=s._(/*BTDS*/"_j{\"*\":\"{minutes} minutes\",\"_1\":\"1 minute\"}",[s._plural(i,"minutes")]),m=s._(/*BTDS*/"_j{\"*\":\"{seconds} seconds\",\"_1\":\"1 second\"}",[s._plural(l,"seconds")]);return r>0?s._(/*BTDS*/"{x days} {x hours} {x minutes} {x seconds}",[s._param("x days",u),s._param("x hours",c),s._param("x minutes",d),s._param("x seconds",m)]):a>0?s._(/*BTDS*/"{x hours} {x minutes} {x seconds}",[s._param("x hours",c),s._param("x minutes",d),s._param("x seconds",m)]):i>0?s._(/*BTDS*/"{x minutes} {x seconds}",[s._param("x minutes",d),s._param("x seconds",m)]):m}function c(e){var t,n=e,r=Math.floor(n/(t=o("WATimeUtils")).DAY_SECONDS);n-=r*t.DAY_SECONDS;var a=Math.floor(n/t.HOUR_SECONDS);n-=a*t.HOUR_SECONDS;var i=Math.floor(n%t.MINUTE_SECONDS),l=r*24+a,u=Math.floor(e/t.MINUTE_SECONDS);return r>=1?s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"1 day\"}",[s._plural(r,"days")]):l>=1?s._(/*BTDS*/"_j{\"*\":\"{hours} hours\",\"_1\":\"1 hour\"}",[s._plural(l,"hours")]):u>=1?s._(/*BTDS*/"_j{\"*\":\"{minutes} minutes\",\"_1\":\"1 minute\"}",[s._plural(u,"minutes")]):s._(/*BTDS*/"_j{\"*\":\"{seconds} seconds\",\"_1\":\"1 second\"}",[s._plural(i,"seconds")])}function d(e){var t=Math.floor(e/86400);if(t>0)return s._(/*BTDS*/"_j{\"*\":\"{days}d\"}",[s._plural(t),s._param("days",t)]);var n=Math.floor(e/3600);if(n>0)return s._(/*BTDS*/"_j{\"*\":\"{hours}h\"}",[s._plural(n),s._param("hours",n)]);var r=Math.floor(e/60);return r>0?s._(/*BTDS*/"_j{\"*\":\"{minutes}m\"}",[s._plural(r),s._param("minutes",r)]):s._(/*BTDS*/"_j{\"*\":\"{seconds}s\"}",[s._plural(e),s._param("seconds",e)])}function m(e){var t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;if(t>24||t===24&&(n>0||r>0)){var o=Math.ceil(e/86400);return s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"1 day\"}",[s._plural(o,"days")])}var a=t.toString().padStart(2,"0"),i=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0");return s._(/*BTDS*/"{x hours}:{x minutes}:{x seconds}",[s._param("x hours",a),s._param("x minutes",i),s._param("x seconds",l)])}function p(e){var t=Math.floor(e/86400);if(t>0){var n=s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"{days} day\"}",[s._plural(t),s._param("days",t)]);return s._(/*BTDS*/"Try again in {time}.",[s._param("time",n)])}var r=Math.floor(e/3600);if(r>0){var o=s._(/*BTDS*/"_j{\"*\":\"{hours} hours\",\"_1\":\"{hours} hour\"}",[s._plural(r),s._param("hours",r)]);return s._(/*BTDS*/"Try again in {time}.",[s._param("time",o)])}var a=Math.floor(e/60);if(a>0){var i=s._(/*BTDS*/"_j{\"*\":\"{minutes} minutes\",\"_1\":\"{minutes} minute\"}",[s._plural(a),s._param("minutes",a)]);return s._(/*BTDS*/"Try again in {time}.",[s._param("time",i)])}var l=s._(/*BTDS*/"_j{\"*\":\"{seconds} seconds\",\"_1\":\"{seconds} second\"}",[s._plural(e),s._param("seconds",e)]);return s._(/*BTDS*/"Try again in {time}.",[s._param("time",l)])}function _(e){if(e<0)throw r("err")("negative duration");if(e===0)return s._(/*BTDS*/"Now");var t=r("WAWeb-moment")().subtract(e,"seconds").year(),n=r("WAWeb-moment")().year();if(n!==t){var o=r("WAWeb-moment")().subtract(e,"seconds").format("MMM DD, YYYY");return s._(/*BTDS*/"{formattedDate}",[s._param("formattedDate",o)])}var a=Math.floor(e/86400);if(a>7){var i=r("WAWeb-moment")().subtract(e,"seconds").format("MMM DD");return s._(/*BTDS*/"{formattedDate}",[s._param("formattedDate",i)])}return e<60?s._(/*BTDS*/"Just now"):d(e)}function f(e){var t=d(e);return s._(/*BTDS*/"{time} left",[s._param("time",t)])}function g(e,t){var n=e,o=r("WAWeb-moment").unix(n).startOf("day"),a=t===void 0?r("WAWeb-moment")().startOf("day"):r("WAWeb-moment").unix(t).startOf("day"),i=a.diff(o,"days");return Math.abs(i)}l.durationStr=e,l.callDurationStr=u,l.callDurationStrSimple=c,l.shortDurationString=d,l.enforcementTimeLeftStr=m,l.tryAgainInStr=p,l.relativeShortStr=_,l.timeLeftStr=f,l.daysDeltaAbs=g}),226);
__d("WAWebClockPaymentStrings",["fbt","WAWeb-moment","err"],(function(t,n,r,o,a,i,l,s){function e(e){var t=r("WAWeb-moment").unix(e),n=t.startOf("day"),o=r("WAWeb-moment")().startOf("day").diff(n,"days");if(o===0)return s._(/*BTDS*/"today");if(o===1)return s._(/*BTDS*/"yesterday");if(o<7)switch(t.day()){case 0:default:return s._(/*BTDS*/"on Sunday");case 1:return s._(/*BTDS*/"on Monday");case 2:return s._(/*BTDS*/"on Tuesday");case 3:return s._(/*BTDS*/"on Wednesday");case 4:return s._(/*BTDS*/"on Thursday");case 5:return s._(/*BTDS*/"on Friday");case 6:return s._(/*BTDS*/"on Saturday")}else{var a=t.format("MMMM d");return s._(/*BTDS*/"on {date}",[s._param("date",a)])}}function u(e){var t=r("WAWeb-moment").unix(e);switch(t.day()){case 0:return s._(/*BTDS*/"on Sunday");case 1:return s._(/*BTDS*/"on Monday");case 2:return s._(/*BTDS*/"on Tuesday");case 3:return s._(/*BTDS*/"on Wednesday");case 4:return s._(/*BTDS*/"on Thursday");case 5:return s._(/*BTDS*/"on Friday");case 6:return s._(/*BTDS*/"on Saturday");default:throw r("err")("Unexpected day number")}}l.paymentTimestampStr=e,l.dayNameStr=u}),226);
__d("WAWebContactGetters",["WAMd5","WATimeUtils","WAWebBusinessProfileTypes","WAWebGetters","WAWebGettersCaches","WAWebUserPrefsMeUser","WAWebWid"],(function(t,n,r,o,a,i,l){var e=o("WAWebGetters").createGetterFactories({createCache:o("WAWebGettersCaches").createContactsCache}),s=e.computed,u=e.field,c=e.unsafeIdentityGetter,d=c,m=u("id"),p=u("pushname"),_=u("isBusiness"),f=u("verifiedLevel"),g=u("verifiedName"),h=u("name"),y=u("forcedBusinessUpdateFromServer"),C=u("isContactSyncCompleted"),b=u("type"),v=u("requestedPnTimestamp"),S=u("shortName"),R=u("isEnterprise"),L=u("isSmb"),E=u("labels"),k=u("statusMute"),I=u("parentStatusMute"),T=s(function(e){var t=e[0],n=e[1];return t||n},[k,I]),D=u("privacyMode"),x=u("isHosted"),$=u("businessProfile"),P=s(function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return n&&r!==o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH?a:t},[p,_,f,g]),N=s(function(e){var t=e[0];return t||""},[p]),M=s(function(e){var t=e[0];return o("WAWebUserPrefsMeUser").isMeAccount(t)},[m]),w=s(function(e){var t=e[0];return r("WAWebWid").isUser(t)},[m]),A=s(function(e){var t=e[0];return r("WAWebWid").isGroup(t)},[m]),F=s(function(e){var t=e[0];return r("WAWebWid").isBroadcast(t)},[m]),O=s(function(e){var t=e[0];return r("WAWebWid").isNewsletter(t)},[m]),B=s(function(e){var t=e[0];return r("WAWebWid").isBot(t)},[m]),W=s(function(e){var t=e[0];return r("WAWebWid").isAiHub(t)},[m]),q=s(function(e){var t=e[0];return r("WAWebWid").isPSA(t)},[m]),U=s(function(e){var t=e[0];return r("WAWebWid").isIAS(t)},[m]),V=s(function(e){var t=e[0];return r("WAWebWid").isSupportAccount(t)},[m]),H=s(function(e){var t=e[0];return r("WAWebWid").isCAPISupportAccount(t)},[m]),G=s(function(e){var t=e[0],n=e[1];return t&&n==="in"},[w,b]),z=s(function(e){var t=e[0],n=e[1];return t?o("WAMd5").md5((n.user||"")+"WA_ADD_NOTIF"):null},[w,m]),j=s(function(e){var t=e[0],n=e[1];return t?r("WAWebWid").user(n):null},[w,m]),K=s(function(e){var t=e[0];return t==null||t+o("WATimeUtils").DAY_SECONDS<o("WATimeUtils").unixTime()},[v]),Q=s(function(e){var t=e[0],n=e[1],r=e[2],a=e[3],i=e[4],l=e[5];return i||t&&n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&(r===a||!r||l.isBot())},[_,f,h,g,V,m]),X=s(function(e){var t=e[0],n=e[1],r=e[2],a=e[3];return t&&n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&!!r&&r!==a},[_,f,h,g]),Y=s(function(e){var t=e[0],n=e[1];return t&&n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH},[_,f]),J=s(function(e){var t=e[0],n=e[1];return t&&(n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH||n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.LOW)},[_,f]),Z=s(function(e){var t=e[0],n=e[1];return!t&&!n},[y,C]),ee=s(function(e){var t=e[0],n=e[1];return t&&n===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH},[_,f]);l.getContactUnsafe=d,l.getId=m,l.getPushname=p,l.getIsBusiness=_,l.getVerifiedLevel=f,l.getVerifiedName=g,l.getName=h,l.getRequestedPnTimestamp=v,l.getShortName=S,l.getIsEnterprise=R,l.getIsSmb=L,l.getLabels=E,l.getStatusMute=k,l.getCalculatedStatusMute=T,l.getPrivacyMode=D,l.getIsHosted=x,l.getBusinessProfile=$,l.getNotifyName=P,l.getPremiumMessageName=N,l.getIsMe=M,l.getIsUser=w,l.getIsGroup=A,l.getIsBroadcast=F,l.getIsNewsletter=O,l.getIsBot=B,l.getIsAiHub=W,l.getIsPSA=q,l.getIsIAS=U,l.getIsSupportAccount=V,l.getIsCAPISupportAccount=H,l.getIsWAContact=G,l.getUserhash=z,l.getUserid=j,l.getCanRequestPhoneNumber=K,l.getShowBusinessCheckmarkAsPrimary=Q,l.getShowBusinessCheckmarkAsSecondary=X,l.getShowBusinessCheckmarkInChatlist=Y,l.getIsDisplayNameApproved=J,l.getShouldForceBusinessUpdate=Z,l.getShowAsMetaVerified=ee}),98);
__d("WAWebAlphaRegex",[],(function(t,n,r,o,a,i){var e=new RegExp("[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]");i.default=e}),66);
__d("WAWebVoipBackendLoadable",["JSResourceForInteraction","Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield(e||(e=n("Promise"))).all([r("JSResourceForInteraction")("WAWebVoipInit").__setRef("WAWebVoipBackendLoadable").load(),r("JSResourceForInteraction")("WAWebHandleVoipCallOffer").__setRef("WAWebVoipBackendLoadable").load()]),o=t[0],a=t[1];return{WAWebVoipInit:o,WAWebHandleVoipCallOffer:a}});return function(){return t.apply(this,arguments)}})();l.requireVoipJsBackend=s}),98);
__d("WAWebWebcRawPlatformsWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({WebcRawPlatforms:[2416,{webcRawPlatform:[1,o("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{WebcRawPlatforms:[]});l.WebcRawPlatformsWamEvent=e}),98);
__d("WAWebConnModel",["WALogger","WAWebBaseModel","WAWebMobilePlatforms","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebVoipBackendLoadable","WAWebVoipGatingUtils","WAWebWamEnumPlatformType","WAWebWamGlobals","WAWebWebcRawPlatformsWamEvent","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){var e,s=(function(t){function a(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,e.id=o("WAWebBaseModel").prop(),e.ref=o("WAWebBaseModel").prop(),e.refTTL=o("WAWebBaseModel").prop(),e.refId=o("WAWebBaseModel").prop(),e.wid=o("WAWebBaseModel").prop(),e.connected=o("WAWebBaseModel").prop(),e.protoVersion=o("WAWebBaseModel").prop(),e.clientToken=o("WAWebBaseModel").prop(),e.serverToken=o("WAWebBaseModel").prop(),e.secret=o("WAWebBaseModel").prop(),e.isResponse=o("WAWebBaseModel").prop(),e.locales=o("WAWebBaseModel").prop(),e.is24h=o("WAWebBaseModel").prop(),e.platform=o("WAWebBaseModel").prop(),e.phone=o("WAWebBaseModel").prop(),e.tos=o("WAWebBaseModel").prop(),e.smbTos=o("WAWebBaseModel").prop(0),e.pushname=o("WAWebBaseModel").prop(),e.blockStoreAdds=o("WAWebBaseModel").session(!1),e.meReadyTriggered=o("WAWebBaseModel").session(!1),e.refExpiry=o("WAWebBaseModel").derived(function(){return Date.now()+this.refTTL},["ref","refTTL"]),e.platformField=o("WAWebBaseModel").derived(function(){return this.platform&&o("WAWebWamEnumPlatformType").PLATFORM_TYPE[this.platform.toUpperCase()]||o("WAWebWamEnumPlatformType").PLATFORM_TYPE.UNKNOWN},["platform"]),e.tosShowCallNotification=o("WAWebBaseModel").derived(function(){return!0},["tos"]),e.isSMB=o("WAWebBaseModel").derived(function(){return this.platform===o("WAWebMobilePlatforms").PLATFORMS.SMBA||this.platform===o("WAWebMobilePlatforms").PLATFORMS.SMBI},["platform"]),babelHelpers.assertThisInitialized(e)||babelHelpers.assertThisInitialized(e)}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.initialize=function(){var e=this;o("WAWebBaseModel").BaseModel.prototype.initialize.call(this),this.listenTo(this,"change:phone",function(){u(e.phone)}),this.listenTo(this,"change:platform",this.$ConnImpl$p_1),this.on("me_ready",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(o("WAWebVoipGatingUtils").isCallingEnabled()){var e=yield o("WAWebVoipBackendLoadable").requireVoipJsBackend(),t=e.WAWebVoipInit;yield t.initWAWebVoip()}}))},i.delete=function(){o("WAWebUserPrefsGeneral").setPushname(),this.clear()},i.canSetMyPushname=function(){return!this.isSMB},i.$ConnImpl$p_1=function(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Conn: platform change: ",""])),this.platform),this.platform&&o("WAWebWamGlobals").Global.set({webcPhonePlatform:this.platformField}),r("gkx")("26259")&&new(o("WAWebWebcRawPlatformsWamEvent")).WebcRawPlatformsWamEvent({webcRawPlatform:this.platform}).commit()},i.shouldSaveToCache=function(){return!!o("WAWebUserPrefsMeUser").getMaybeMeDevicePn()&&!!this.id},a})(o("WAWebBaseModel").BaseModel);s.Proxy="conn";function u(e){e===void 0&&(e={});var t=e,n=t.mcc,r=t.mnc;n&&typeof n=="string"&&(n=parseInt(n,10)),r&&typeof r=="string"&&(r=parseInt(r,10)),o("WAWebWamGlobals").Global.set({mcc:n!=null?n:null,mnc:r!=null?r:null,webcPhoneDeviceManufacturer:e.device_manufacturer||null,webcPhoneDeviceModel:e.device_model||null,webcPhoneOsBuildNumber:e.os_build_number||null,webcPhoneOsVersion:e.os_version||null,webcPhoneAppVersion:e.wa_version||null})}var c=o("WAWebBaseModel").defineModel(s),d=new c({id:"1"});l.Conn=d}),98);
__d("WAWebL10NRemoveAccents",["WAWebAccentDiacriticRegex","WAWebL10NHelpers","latenize"],(function(t,n,r,o,a,i,l){function e(e){return e===void 0&&(e=""),r("latenize")(o("WAWebL10NHelpers").normalizeForm(e).replace(r("WAWebAccentDiacriticRegex"),""))}l.removeAccents=e}),98);
__d("WAWebL10NAccentFold",["WAWebL10NRemoveAccents"],(function(t,n,r,o,a,i,l){function e(e){return e===void 0&&(e=""),o("WAWebL10NRemoveAccents").removeAccents(e).toLowerCase()}l.accentFold=e}),98);
__d("WAWebInflatePhoneRegex",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;return typeof e=="number"?t=String(e).split("").map(function(e){return".".repeat(Number(e))}).join(")("):t=e.replace(/;|[a-zA-Z]+/g,function(e){return e===";"?")(":e.split("").map(function(e){var t=e.charCodeAt(0);return t>=97?".".repeat(t-96)+"?":".".repeat(t-64)}).join(")(")}),"("+t+")"}i.inflatePhoneRegex=e}),66);
__d("WAWebPhoneUtils",["WACountries","WACountriesV2","WAJids","WAPhoneFindCC","WAWebInflatePhoneRegex","WAWebODS","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=(function(){function e(e){var t;if(Array.isArray(e)){t=e[0];var n=e[1];n!=null&&n!==-1&&(Array.isArray(n)||(n=[n]),this.$3=n.map(function(e){return new RegExp("^("+e+")")})),this.$2=e[2]}else t=e;this.$1=new RegExp("^"+o("WAWebInflatePhoneRegex").inflatePhoneRegex(t)+"$")}var t=e.prototype;return t.testAndFormat=function(t){if(!(!this.$1.test(t)||!this.$4(t))){if(typeof this.$2=="string")return t.replace(this.$1,this.$2);var e=this.$1.exec(t);if(e!=null)return e.slice(1).join(this.$2!=null?"-":" ")}},t.$4=function(t){return!this.$3||this.$3.some(function(e){return e.test(t)})},e})(),u={},c={};function d(){return r("gkx")("15125")}function m(e){var t=d(),n=t?c:u,o=r(t?"WACountriesV2":"WACountries");if(n[e]!=null)return n[e];var a=o[e]!=null?JSON.parse("["+o[e]+"]"):null;if(a==null)return null;var i=a.pop(),l=null;if(typeof i=="string"){var m=i,p=a.pop();try{l=new RegExp("^(?:"+m+")$")}catch(e){}return n[e]={formats:a.map(function(e){return new s(e)}),lengths:p,validMobileRegex:l}}return n[e]={formats:a.map(function(e){return new s(e)}),lengths:i,validMobileRegex:null}}function p(e){var t=e.length>0&&e[0]==="+",n=t?e.substring(1):e,r=o("WAPhoneFindCC").findCC(n);if(!r)return n;var a=n.substring(r.length),i=m(r);if(!i)return"+"+r+" "+a;for(var l=i.formats,s=0;s<l.length;s++){var u=l[s].testAndFormat(a);if(u!=null&&u!=="")return"+"+r+" "+u}return"+"+r+" "+a}function _(t){var n=e.get(t);return n==null&&(n=p(t),e.set(t,n)),n}var f=/^\+*[\d ()]+$/;function g(e){return f.test(e)}function h(e,t){if(!/^\d+$/.test(t))return!1;var n=m(e);return n?typeof n.lengths=="number"?n.lengths===t.length:n.lengths.includes(t.length):!1}function y(e,t,n){if(!d()||!/^\d+$/.test(t))return!1;var o=m(e);if(!o)return!1;var a=typeof o.lengths=="number"?o.lengths===t.length:o.lengths.includes(t.length);if(!a)return!1;var i=!1;if(o.validMobileRegex!=null&&(i=o.validMobileRegex.test(t)),n!=null)e:{if(n==="pn_linking"){i?r("WAWebODS").incr("web.pn_linking.v2.success"):r("WAWebODS").incr("web.pn_linking.v2.failure");break e}break e}return i}function C(e){return _(o("WAJids").phoneNumberFromJid(e))}l.compileCountryRegexes=m,l.formatPhone=_,l.isPotentiallyPhoneNumber=g,l.isPotentiallyValid=h,l.isValidMobileForRegistration=y,l.formattedPhoneNumber=C}),98);
__d("WAWebWidFormat",["fbt","WAJids","WALogger","WATypeUtils","WAWebL10N","WAWebPhoneUtils","WAWebUsernameGatingUtils","WAWebWid","WAWebWidFactory","gkx","lodash"],(function(t,n,r,o,a,i,l,s){var e,u=r("lodash").memoize(function(e){return e==="Server"?e:o("WAWebPhoneUtils").formatPhone(e)});function c(e){return r("WAWebL10N").isRTL()?r("WAWebL10N").isolateLTR(u(e)):u(e)}function d(t){return o("WAWebUsernameGatingUtils").shouldLogUnknownNumberError()&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["GetUnknownNumber: unexpected unknown number displayed for wid: ",""])),t==null?void 0:t.toLogString()),s._(/*BTDS*/"Unknown number").toString()}function m(){return s._(/*BTDS*/"Unknown user").toString()}function p(e){return o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?m():d(e)}function _(e){return e instanceof r("WAWebWid")?e.isLid()?r("gkx")("26258")?p(e):e.toString():c(e.user):o("WATypeUtils").isString(e)?e.endsWith(o("WAJids").LID_DOMAIN)?r("gkx")("26258")?p(o("WAWebWidFactory").createUserWidOrThrow(e)):e:c(e.split("@")[0]):""}l.getUnknownUserOrNumber=p,l.widToFormattedUser=_}),226);
__d("WAWebFrontendContactGetters",["fbt","WAWebABProps","WAWebAlphaRegex","WAWebBusinessProfileTypes","WAWebConnModel","WAWebContactComparator","WAWebContactGetters","WAWebGetters","WAWebGettersCaches","WAWebL10NAccentFold","WAWebL10NRemoveAccents","WAWebLidMigrationUtils","WAWebUsernameGatingUtils","WAWebWamEnumOppositeVisibleIdentificationType","WAWebWid","WAWebWidFormat","cr:17143","fbs","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l,s){var e,u=(e=n("cr:17143"))!=null?e:{},c=u.ContactCollection,d=o("WAWebGetters").createGetterFactories({root:o("WAWebContactGetters").getContactUnsafe,createCache:o("WAWebGettersCaches").createFrontendContactsCache}),m=d.computed,p=d.field,_=p("phoneNumber"),f=p("displayNameLID"),g=p("locale"),h=p("pendingAction"),y=p("isContactBlocked"),C=p("shareOwnPn"),b=p("businessProfile"),v=p("commonGroups"),S=p("businessCatalog"),R=p("textStatusString"),L=p("textStatusEmoji"),E=p("textStatusEphemeralDuration"),k=p("textStatusLastUpdateTime"),I=p("textStatusExpiryTs"),T=p("usernameKey"),D=p("username"),x=p("isUsernameContact"),$=p("isEphemeralityDisabled"),P=m(function(e){var t=e[0];return t!=null&&t.length>0?{displayName:"@"+t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.USERNAME}:null},[D]),N=m(function(e){var t=e[0];return t!=null?t.displayName:null},[P]),M=m(function(e){var t=e[0],n=e[1],r=e[2];return n!=null&&o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?{displayName:n,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.USERNAME}:t!=null?{displayName:t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.MASKED_PHONE_NUMBER}:{displayName:o("WAWebWidFormat").getUnknownUserOrNumber(r),type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.PLACEHOLDER}},[f,N,o("WAWebContactGetters").getId]),w=m(function(e){var t=e[0],n=e[1];return t!=null?{displayName:o("WAWebWidFormat").widToFormattedUser(t),type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.PHONE_NUMBER}:n},[_,M]),A=m(function(e){var t=e[0];return t.displayName},[w]),F=m(function(e){var t=e[0],n=e[1];return t!=null&&t!==""?{displayName:t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:n},[o("WAWebContactGetters").getName,w]),O=m(function(e){var t=e[0];return t.displayName},[F]),B=m(function(e){var t=e[0],n=e[1];return t.isLid()?n:{displayName:o("WAWebWidFormat").widToFormattedUser(t),type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.PHONE_NUMBER}},[o("WAWebContactGetters").getId,w]),W=m(function(e){var t=e[0],n=e[1];return n!=null&&o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?n:t},[B,P]),q=m(function(e){var t=e[0];return t.displayName},[M]),U=m(function(e){var t=e[0];return t.displayName},[W]);function V(e){return e?r("fbs")._(/*BTDS*/"WhatsApp Business").toString():r("fbs")._(/*BTDS*/"WhatsApp").toString()}var H=m(function(e){var t=e[0],n=e[1];if(!t.isRegularUser())return!1;if(t.isLid())return n;var r=o("WAWebLidMigrationUtils").toUserLid(t),a=r!=null?c==null?void 0:c.get(r):null;return a!=null&&a.isUsernameContact},[o("WAWebContactGetters").getId,x]),G=m(function(e){var t=e[0],n=e[1],r=e[2];return!!(t&&(n!=null&&n.length||r))},[o("WAWebContactGetters").getIsUser,o("WAWebContactGetters").getName,H]),z=m(function(e){var t=e[0],n=e[1],r=e[2];return!r&&t&&n!==o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH},[o("WAWebContactGetters").getIsBusiness,o("WAWebContactGetters").getVerifiedLevel,G]),j=m(function(e){var t=e[0],n=e[1],r=e[2];return r?null:t||n},[o("WAWebContactGetters").getName,o("WAWebContactGetters").getNotifyName,z]),K=m(function(e){var t=e[0],n=e[1],a=e[2],i=e[3];return a&&!r("isStringNullOrEmpty")(o("WAWebConnModel").Conn.pushname)?{displayName:o("WAWebConnModel").Conn.pushname,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.PUSHNAME}:r("WAWebWid").isPSA(t)?{displayName:V(o("WAWebConnModel").Conn.isSMB),type:null}:n!=null&&n!==""?{displayName:n,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:i},[o("WAWebContactGetters").getId,j,o("WAWebContactGetters").getIsMe,W]),Q=m(function(e){var t=e[0];return t.displayName},[K]),X=m(function(e){var t=e[0];return t.type},[K]),Y=m(function(e){var t=e[0],n=e[1],a=e[2],i=e[3],l=e[4];if(r("WAWebWid").isPSA(a))return{displayName:V(o("WAWebConnModel").Conn.isSMB),type:null};if(r("WAWebWid").isSupportAccount(a))return{displayName:o("WAWebL10NAccentFold").accentFold("WhatsApp Support"),type:null};if(i){var u=s._(/*BTDS*/"{nameOrPhoneNumber} (You)",[s._param("nameOrPhoneNumber",t!=null?t:n)]);return{displayName:o("WAWebL10NAccentFold").accentFold(u.toString()),type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}}return t!=null?{displayName:o("WAWebL10NAccentFold").accentFold(t),type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:null},[o("WAWebContactGetters").getName,U,o("WAWebContactGetters").getId,o("WAWebContactGetters").getIsMe,g]),J=m(function(e){var t=e[0];return t!=null?t.displayName:null},[Y]),Z=m(function(e){var t=e[0],n=e[1],a=e[2],i=e[3],l=e[4],s=e[5],u=e[6],c=e[7];return n?u?{displayName:r("fbs")._(/*BTDS*/"You").toString(),type:null}:r("WAWebWid").isPSA(n)?{displayName:V(o("WAWebConnModel").Conn.isSMB),type:null}:r("WAWebWid").isSupportAccount(n)?{displayName:"WhatsApp Support",type:null}:t?{displayName:t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:a===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&i?{displayName:i,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.VERIFIED_BUSINESS_NAME}:s?l:{displayName:"",type:null}:{displayName:"",type:null}},[o("WAWebContactGetters").getName,o("WAWebContactGetters").getId,o("WAWebContactGetters").getVerifiedLevel,o("WAWebContactGetters").getVerifiedName,W,o("WAWebContactGetters").getIsUser,o("WAWebContactGetters").getIsMe,g]),ee=m(function(e){var t=e[0];return t.displayName},[Z]),te=m(function(e){var t=e[0],n=e[1],o=e[2],a=e[3],i=e[4];if(!o)return{displayName:"",type:null};if(a)return{displayName:r("fbs")._(/*BTDS*/"You").toString(),type:null};if(t!=null)return{displayName:t,type:null};var l=n.displayName;return{displayName:l&&l.replace(/\s/g," "),type:n.type}},[o("WAWebContactGetters").getShortName,Z,o("WAWebContactGetters").getId,o("WAWebContactGetters").getIsMe,g]),ne=m(function(e){var t=e[0];return t.displayName},[te]),re=m(function(e){var t=e[0],n=e[1],o=e[2],a=e[3],i=e[4];if(!o)return{displayName:"",type:null};if(a)return{displayName:r("fbs")._(/*BTDS*/"You").toString(),type:null};if(t!=null&&t!=="")return{displayName:t,type:null};var l=n.displayName,s=n.type;return{displayName:l,type:s}},[o("WAWebContactGetters").getShortName,Z,o("WAWebContactGetters").getId,o("WAWebContactGetters").getIsMe,g]),oe=m(function(e){var t=e[0];return t.displayName},[re]),ae=m(function(e){var t=e[0],n=e[1];return t?!o("WAWebABProps").getABPropConfigValue("web_display_name_for_enterprise_biz_vlevel_low_killswitch"):n?!o("WAWebABProps").getABPropConfigValue("web_display_name_for_biz_vlevel_low_killswitch"):!1},[o("WAWebContactGetters").getIsEnterprise,o("WAWebContactGetters").getIsSmb]),ie=m(function(e){var t=e[0],n=e[1],a=e[2],i=e[3],l=e[4],s=e[5],u=e[6],c=e[7];return n?r("WAWebWid").isPSA(n)?{displayName:V(o("WAWebConnModel").Conn.isSMB),type:null}:r("WAWebWid").isSupportAccount(n)?{displayName:"WhatsApp Support",type:null}:t?{displayName:t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:a===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&i?{displayName:i,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.VERIFIED_BUSINESS_NAME}:u&&s&&i?{displayName:i,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.VERIFIED_BUSINESS_NAME}:l:{displayName:"",type:null}},[o("WAWebContactGetters").getName,o("WAWebContactGetters").getId,o("WAWebContactGetters").getVerifiedLevel,o("WAWebContactGetters").getVerifiedName,W,o("WAWebContactGetters").getIsDisplayNameApproved,ae,g]),le=m(function(e){var t=e[0];return t.displayName},[ie]),se=m(function(e){var t=e[0],n=e[1];return t?{displayName:t,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.SAVED_CONTACT_NAME}:n?{displayName:n,type:o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE.PUSHNAME}:null},[o("WAWebContactGetters").getName,o("WAWebContactGetters").getPushname]),ue=m(function(e){var t=e[0],n=e[1],r=e[2],o=e[3],a=e[4];return t&&!!r&&o&&n!==r&&!a.isBot()},[o("WAWebContactGetters").getIsBusiness,o("WAWebContactGetters").getName,o("WAWebContactGetters").getVerifiedName,G,o("WAWebContactGetters").getId]),ce=/^[^0-9]+$/,de=m(function(e){var t=e[0],n=e[1];return t!==o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH?null:n?o("WAWebL10NAccentFold").accentFold(n):null},[o("WAWebContactGetters").getVerifiedLevel,o("WAWebContactGetters").getVerifiedName]),me=m(function(e){var t=e[0],n=e[1],a=e[2],i=e[3];function l(e){var t=e.toLowerCase(),n=r("WAWebAlphaRegex").exec(t);if(n&&n.index===0||n&&ce.test(t.slice(n.index))){var a=n[0],i=o("WAWebL10NRemoveAccents").removeAccents(a);return o("WAWebContactComparator").getCollator().compare(i,a)?a:i}return"#"}return t?l(t):a===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&n?l(n):i!=null&&i!==""?"~":"#"},[o("WAWebContactGetters").getName,o("WAWebContactGetters").getVerifiedName,o("WAWebContactGetters").getVerifiedLevel,o("WAWebContactGetters").getNotifyName]);l.getPhoneNumber=_,l.getPendingAction=h,l.getIsContactBlocked=y,l.getShareOwnPn=C,l.getBusinessProfile=b,l.getCommonGroups=v,l.getBusinessCatalog=S,l.getTextStatusString=R,l.getTextStatusEmoji=L,l.getTextStatusEphemeralDuration=E,l.getTextStatusLastUpdateTime=k,l.getTextStatusExpiryTs=I,l.getUsernameKey=T,l.getUsername=D,l.getIsEphemeralityDisabled=$,l.getFormattedUsernameAndType=P,l.getFormattedUsername=N,l.getPnForLid=A,l.getUserDisplayNameForLid=O,l.getFormattedPhoneAndType=B,l.getFormattedUsernameOrPhoneAndType=W,l.getMaskedPhoneLid=q,l.getFormattedUsernameOrPhone=U,l.getIsUsernameContact=H,l.getIsMyContact=G,l.getIsNonVerified=z,l.getDisplayNameAndType=K,l.getDisplayName=Q,l.getDisplayNameType=X,l.getSearchName=J,l.getFormattedNameAndType=Z,l.getFormattedName=ee,l.getFormattedShortNameWithNonBreakingSpaces=ne,l.getFormattedShortNameAndType=re,l.getFormattedShortName=oe,l.getFormattedUserAndType=ie,l.getFormattedUser=le,l.getFormattedSavedNameOrPushnameWithType=se,l.getShowBiz3pBotVerifiedNameAsSecondary=ue,l.getSearchVerifiedName=de,l.getHeader=me}),226);
__d("WAWebContactComparator",["WAWebBusinessProfileTypes","WAWebCmd","WAWebContactGetters","WAWebFrontendContactGetters","WAWebL10NConstants"],(function(t,n,r,o,a,i,l){var e;d(),o("WAWebCmd").Cmd.on("set_collator",d);function s(e){if(e.name)return e.name;if(e.verifiedLevel===o("WAWebBusinessProfileTypes").VERIFIED_LEVEL.HIGH&&e.verifiedName)return e.verifiedName}var u=function(n,r){var t,a,i,l,u=(t=s(n))!=null?t:"",c=(a=s(r))!=null?a:"";if(!u&&c)return 1;if(u&&!c)return-1;if(u&&c){var d,m,p=(d=o("WAWebFrontendContactGetters").getHeader(n))!=null?d:"",_=(m=o("WAWebFrontendContactGetters").getHeader(r))!=null?m:"";if(p&&_){var f=e.compare(p,_);return f===0?e.compare(u,c):f}}var g=(i=o("WAWebContactGetters").getNotifyName(n))!=null?i:"",h=(l=o("WAWebContactGetters").getNotifyName(r))!=null?l:"";if(!g&&h)return 1;if(g&&!h)return-1;if(g&&h)return e.compare(g,h);var y=n.id.toString(),C=r.id.toString();return y&&C?y.localeCompare(C):-1};function c(){return e}function d(t){var n;if(t===void 0&&(t=o("WAWebL10NConstants").DEFAULT_LOCALE),(n=self.Intl)!=null&&n.Collator){var r=self.Intl.Collator([t],{sensitivity:"base"});e={compare:function(t,n){try{return r.compare(t,n)}catch(e){return 0}}}}else e={compare:function(t,n){return t.localeCompare(n)}}}l.ContactComparator=u,l.getCollator=c}),98);
__d("WAWebClock",["fbt","$InternalEnum","WALogger","WAWeb-moment","WAWebClockDurationFormatters","WAWebClockPaymentStrings","WAWebContactGetters","WAWebEventEmitter","WAWebFrontendContactGetters","WAWebL10N","WAWebL10NConstants","WAWebL10nGetRenderedLocale","WAWebUserPrefsLocales"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=6e4,m=1e3,p=["fi","id","ms","ms-my"],_="America/Belem",f="America/Porto_Velho",g="skew_change",h="hour24_format_change",y=-1,C=n("$InternalEnum")({DeviceTimeFormat:2,PhoneTimeFormat:1,LocaleTimeFormat:0}),b=(function(t){function n(){var n;if(n=t.call(this)||this,n.$ClockImpl$p_1=!1,n.skewMS=0,n.skew=0,Intl.DateTimeFormat&&Intl.DateTimeFormat().resolvedOptions){var r=Intl.DateTimeFormat().resolvedOptions().timeZone;switch(r?o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Intl.DateTimeFormat().resolvedOptions().timeZone is ",""])),r):o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Intl.DateTimeFormat().resolvedOptions().timeZone does not exist"]))),r){case"America/Sao_Paulo":n.timeZoneHardCode=_;break;case"America/Campo_Grande":case"America/Cuiaba":n.timeZoneHardCode=f;break}}return n.initIs24HourBasedOnLocale(),n}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.getIs24Hour=function(){return this.$ClockImpl$p_1},a.setIs24Hour=function(t,n){if(n!==C.LocaleTimeFormat&&t!=null){var e=this.getIs24Hour();n===C.DeviceTimeFormat?o("WAWebUserPrefsLocales").setDeviceHour24(t):n===C.PhoneTimeFormat&&o("WAWebUserPrefsLocales").setPhoneHour24(t),!(n===C.PhoneTimeFormat&&o("WAWebUserPrefsLocales").getDeviceHour24()!=null)&&(this.$ClockImpl$p_1=t,e!==t&&this.trigger(h))}},a.initIs24HourBasedOnLocale=function(){var e=o("WAWebUserPrefsLocales").getDeviceHour24(),t=o("WAWebUserPrefsLocales").getPhoneHour24();e!=null?this.setIs24Hour(e,C.DeviceTimeFormat):t!=null?this.setIs24Hour(t,C.PhoneTimeFormat):this.$ClockImpl$p_1=o("WAWebL10NConstants").LOCALES_THAT_PREFER_24HOUR_TIME.has(r("WAWebL10N").getNormalizedLocale())},a.setSkew=function(t){Math.abs(t)>d&&o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Setting large clockskew: ","ms"])),t);var e=this.skewMS;this.skewMS=t,this.skew=Math.round(t/1e3),Math.abs(e-this.skewMS)>m&&this.trigger(g)},a.getSkew=function(){return this.skew},a.getServerTimeMs=function(){return Date.now()+this.skewMS},a.getServerTime=function(){return new Date(this.getServerTimeMs())},a.convertGlobalToLocalUnixTime=function(t){return t+this.skew},a.timePassedFromNowMoment=function(t,n){var e=n.omitSuffix;return r("WAWeb-moment").unix(t).fromNow(e)},a.timePassedFromNowIntl=function(t,n){var e=n.style,o=r("WAWeb-moment")(),a=r("WAWeb-moment").unix(t),i=a.diff(o,"days"),l=a.diff(o,"hours"),s=a.diff(o,"minutes"),u=a.diff(o,"seconds"),c=r("WAWebL10N").getNormalizedLocale(),d=new Intl.RelativeTimeFormat(c,{style:e});return i!==0?d.format(i,"day"):l!==0?d.format(l,"hour"):s!==0?d.format(s,"minute"):d.format(u,"second")},a.relativeStr=function(t){var e=t+this.skew;return e>=r("WAWeb-moment")().startOf("day").unix()?this.$ClockImpl$p_2(e):this.$ClockImpl$p_3(e,!1)},a.relativeDateStr=function(t){return this.$ClockImpl$p_3(t+this.skew,!1)},a.relativeDateAndTimeStr=function(t){return this.$ClockImpl$p_3(t+this.skew,!0)},a.monthStr=function(t){var e=t+this.skew,n=e*1e3;return e>=r("WAWeb-moment")().startOf("month").unix()&&e<=r("WAWeb-moment")().endOf("month").unix()?s._(/*BTDS*/"This month"):e>=r("WAWeb-moment")().startOf("year").unix()&&e<=r("WAWeb-moment")().endOf("year").unix()?Intl.DateTimeFormat(r("WAWeb-moment").locale(),{month:"long"}).format(n):Intl.DateTimeFormat(r("WAWeb-moment").locale(),{month:"long",year:"numeric"}).format(n)},a.monthYearStr=function(t){var e=t+this.skew,n=e*1e3;return Intl.DateTimeFormat(r("WAWeb-moment").locale(),{month:"short",year:"numeric"}).format(n)},a.timeStr=function(t){var e=this.getIs24Hour();if(this.shouldUseIntlDateTimeFormat()){var n=(t+this.skew)*1e3,o={hour12:!e,hour:"numeric",minute:"numeric"},a={year:"numeric",month:"numeric",day:"numeric"};this.timeZoneHardCode!=null&&(o=babelHelpers.extends({},o,{timeZone:this.timeZoneHardCode}),a=babelHelpers.extends({},a,{timeZone:this.timeZoneHardCode}));var i=Intl.DateTimeFormat(r("WAWeb-moment").locale(),o).format(n),l=Intl.DateTimeFormat(r("WAWeb-moment").locale(),a).format(n);return i+", "+l}return r("WAWeb-moment").unix(t+this.skew).format(e?"HH"+this.$ClockImpl$p_4()+"mm, l":"LT, l")},a.timestampStr=function(t){return this.$ClockImpl$p_2(t+this.skew)},a.timestampStrFormat=function(){return this.getIs24Hour()?"HH"+this.$ClockImpl$p_4()+"mm":"LT"},a.timestampHour=function(t){var e=t+this.skew,n=r("WAWeb-moment").unix(e).hour();return this.getIs24Hour()?n:n%12},a.textStatusExpiryStr=function(t){var e=t+this.skew,n=this.$ClockImpl$p_2(e),r=this.$ClockImpl$p_3(e,!1);return s._(/*BTDS*/"Until {date} at {time}",[s._param("date",r),s._param("time",n)])},a.newsletterDescriptionCreatedStr=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew,r=this.$ClockImpl$p_2(n);if(e===0)return s._(/*BTDS*/"Created today at {time}",[s._param("time",r)]);if(e===1)return s._(/*BTDS*/"Created yesterday at {time}",[s._param("time",r)]);if(e<7){var o=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Created {day} at {time}",[s._param("day",o),s._param("time",r)])}var a=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Created {date} at {time}",[s._param("date",a),s._param("time",r)])},a.broadcastCreatedStr=function(t){var e=t+this.skew,n=this.$ClockImpl$p_2(e),r=this.$ClockImpl$p_5(e);return s._(/*BTDS*/"Created {monthDay}, {time}",[s._param("monthDay",r),s._param("time",n)])},a.createdStr=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew,r=this.$ClockImpl$p_2(n);if(e===0)return s._(/*BTDS*/"Created today at {time}",[s._param("time",r)]);if(e===1)return s._(/*BTDS*/"Created yesterday at {time}",[s._param("time",r)]);if(e<7){var o=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Created {day} at {time}",[s._param("day",o),s._param("time",r)])}var a=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Created {date} at {time}",[s._param("date",a),s._param("time",r)])},a.addedStr=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew,r=this.$ClockImpl$p_2(n);if(e===0)return s._(/*BTDS*/"Added today at {time}",[s._param("time",r)]);if(e===1)return s._(/*BTDS*/"Added yesterday at {time}",[s._param("time",r)]);if(e<7){var o=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Added {day} at {time}",[s._param("day",o),s._param("time",r)])}var a=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Added {date} at {time}",[s._param("date",a),s._param("time",r)])},a.updatedStr=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew,r=this.$ClockImpl$p_2(n);if(e===0)return s._(/*BTDS*/"Updated today at {time}",[s._param("time",r)]);if(e===1)return s._(/*BTDS*/"Updated yesterday at {time}",[s._param("time",r)]);if(e<7){var o=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Updated {day} at {time}",[s._param("day",o),s._param("time",r)])}var a=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"Updated {date} at {time}",[s._param("date",a),s._param("time",r)])},a.groupCreatedByStr=function(t,n,r){var e=this.daysDeltaAbs(t),o=t+this.skew,a=this.$ClockImpl$p_2(o);if(e===0)return r?s._(/*BTDS*/"Group created by you, today at {time}",[s._param("time",a)]):s._(/*BTDS*/"Group created by {name}, today at {time}",[s._param("name",n),s._param("time",a)]);if(e===1)return r?s._(/*BTDS*/"Group created by you, yesterday at {time}",[s._param("time",a)]):s._(/*BTDS*/"Group created by {name}, yesterday at {time}",[s._param("name",n),s._param("time",a)]);if(e<7){var i=this.$ClockImpl$p_6(t);return r?s._(/*BTDS*/"Group created by you, {on_day} at {time}",[s._param("on_day",i),s._param("time",a)]):s._(/*BTDS*/"Group created by {name}, {on_day} at {time}",[s._param("name",n),s._param("on_day",i),s._param("time",a)])}var l=this.$ClockImpl$p_3(o,!1);return r?s._(/*BTDS*/"Group created by you, on {date} at {time}",[s._param("date",l),s._param("time",a)]):s._(/*BTDS*/"Group created by {name}, on {date} at {time}",[s._param("name",n),s._param("date",l),s._param("time",a)])},a.createdByOnDateStr=function(t,n){var e=this.$ClockImpl$p_7(t);if(n){if(o("WAWebContactGetters").getIsMe(n))return s._(/*BTDS*/"Created by you on {date}",[s._param("date",e)]);if(o("WAWebFrontendContactGetters").getIsMyContact(n))return s._(/*BTDS*/"Created by {name} on {date}",[s._param("name",o("WAWebFrontendContactGetters").getFormattedName(n)),s._param("date",e)])}return s._(/*BTDS*/"Created on {date}",[s._param("date",e)])},a.groupCreatedStr=function(t,n,r){if(t==null||isNaN(t))return r||n==null||n===""?null:s._(/*BTDS*/"Created by {name}",[s._param("name",n)]);var e=this.daysDeltaAbs(t),o=t+this.skew;if(e===0)return r||n==null||n===""?s._(/*BTDS*/"Created today"):s._(/*BTDS*/"Created today by {name}",[s._param("name",n)]);if(e===1)return r||n==null||n===""?s._(/*BTDS*/"Created yesterday"):s._(/*BTDS*/"Created yesterday by {name}",[s._param("name",n)]);if(e<7){var a=this.$ClockImpl$p_6(t);return r||n==null||n===""?s._(/*BTDS*/"Created {on_day}",[s._param("on_day",a)]):s._(/*BTDS*/"Created {on_day} by {name}",[s._param("on_day",a),s._param("name",n)])}var i=this.$ClockImpl$p_3(o,!1);return r||n==null||n===""?s._(/*BTDS*/"Created {date}",[s._param("date",i)]):s._(/*BTDS*/"Created {date} by {name}",[s._param("date",i),s._param("name",n)])},a.suggestedOnDateStr=function(t){var e=r("WAWeb-moment").unix(t).format("l");return s._(/*BTDS*/"Suggested on {date}",[s._param("date",e)])},a.communityCreatedByStr=function(t,n,r){var e=this.daysDeltaAbs(t),o=t+this.skew,a=this.$ClockImpl$p_2(o);if(e===0)return r?s._(/*BTDS*/"Created by you, today at {time}",[s._param("time",a)]):s._(/*BTDS*/"Created by {name}, today at {time}",[s._param("name",n),s._param("time",a)]);if(e===1)return r?s._(/*BTDS*/"Created by you, yesterday at {time}",[s._param("time",a)]):s._(/*BTDS*/"Created by {name}, yesterday at {time}",[s._param("name",n),s._param("time",a)]);if(e<7){var i=this.$ClockImpl$p_6(t);return r?s._(/*BTDS*/"Created by you, {on-day} at {time}",[s._param("on-day",i),s._param("time",a)]):s._(/*BTDS*/"Created by {name}, {on-day} at {time}",[s._param("name",n),s._param("on-day",i),s._param("time",a)])}var l=this.$ClockImpl$p_3(o,!1);return r?s._(/*BTDS*/"Created by you, on {date} at {time}",[s._param("date",l),s._param("time",a)]):s._(/*BTDS*/"Created by {name}, on {date} at {time}",[s._param("name",n),s._param("date",l),s._param("time",a)])},a.statusTimePassedString=function(t){try{return this.timePassedFromNowIntl(t,{style:"long"})}catch(e){return this.timePassedFromNowMoment(t,{omitSuffix:!1})}},a.$ClockImpl$p_6=function(t){var e=t+this.skew;return o("WAWebClockPaymentStrings").dayNameStr(e)},a.untilStr=function(t){return this.$ClockImpl$p_8(t,s._(/*BTDS*/"Always"),function(e){return s._(/*BTDS*/"Until today at {time}",[s._param("time",e)])},function(e){return s._(/*BTDS*/"Until tomorrow at {time}",[s._param("time",e)])},function(e,t){return s._(/*BTDS*/"Until {day} at {time}",[s._param("day",e),s._param("time",t)])},function(e,t){return s._(/*BTDS*/"Until {date} at {time}",[s._param("date",e),s._param("time",t)])})},a.$ClockImpl$p_8=function(t,n,r,o,a,i){if(t===y)return n;var e=this.daysDeltaAbs(t),l=t+this.skew,s=this.$ClockImpl$p_2(l);if(e===0)return r(s);if(e===1)return o(s);if(e<7){var u=this.$ClockImpl$p_3(l,!1);return a(u,s)}var c=this.$ClockImpl$p_3(l,!1);return i(c,s)},a.mutedUntilStr=function(t){return this.$ClockImpl$p_8(t,s._(/*BTDS*/"Muted always"),function(e){return s._(/*BTDS*/"Muted until today at {time}",[s._param("time",e)])},function(e){return s._(/*BTDS*/"Muted until tomorrow at {time}",[s._param("time",e)])},function(e,t){return s._(/*BTDS*/"Muted until {day} at {time}",[s._param("day",e),s._param("time",t)])},function(e,t){return s._(/*BTDS*/"Muted until {date} at {time}",[s._param("date",e),s._param("time",t)])})},a.lastSeenStr=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew,r=this.$ClockImpl$p_2(n);if(e===0)return s._(/*BTDS*/"last seen today at {time}",[s._param("time",r)]);if(e===1)return s._(/*BTDS*/"last seen yesterday at {time}",[s._param("time",r)]);if(e<7){var o=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"last seen {date} at {time}",[s._param("date",o),s._param("time",r)])}var a=this.$ClockImpl$p_3(n,!1);return s._(/*BTDS*/"last seen {date} at {time}",[s._param("date",a),s._param("time",r)])},a.daysDeltaAbs=function(t,n){return o("WAWebClockDurationFormatters").daysDeltaAbs(t,n)},a.durationStr=function(t){return o("WAWebClockDurationFormatters").durationStr(t)},a.callDurationStr=function(t){return o("WAWebClockDurationFormatters").callDurationStr(t)},a.callDurationStrSimple=function(t){return o("WAWebClockDurationFormatters").callDurationStrSimple(t)},a.relativeShortStr=function(t){return o("WAWebClockDurationFormatters").relativeShortStr(t)},a.timeLeftStr=function(t){return o("WAWebClockDurationFormatters").timeLeftStr(t)},a.shortDurationString=function(t){return o("WAWebClockDurationFormatters").shortDurationString(t)},a.enforcementTimeLeftStr=function(t){return o("WAWebClockDurationFormatters").enforcementTimeLeftStr(t)},a.paymentTimestampStr=function(t){var e=t+this.skew;return o("WAWebClockPaymentStrings").paymentTimestampStr(e)},a.pastParticipantOnDateAtTime=function(t,n){var e=this.daysDeltaAbs(t),r=t+this.skew,o=this.$ClockImpl$p_2(r);if(e===0)return s._(/*BTDS*/"{action} today at {time}",[s._param("action",n),s._param("time",o)]);if(e===1)return s._(/*BTDS*/"{action} yesterday at {time}",[s._param("action",n),s._param("time",o)]);var a=this.$ClockImpl$p_3(r,!1);return s._(/*BTDS*/"{action} {date} at {time}",[s._param("action",n),s._param("date",a),s._param("time",o)])},a.membershipApprovalRequestSectionDate=function(t){var e=this.daysDeltaAbs(t),n=t+this.skew;if(e===0)return{key:"today",date:s._(/*BTDS*/"Today")};if(e===1)return{date:s._(/*BTDS*/"Yesterday"),key:"yesterday"};var o=r("WAWeb-moment").unix(n).format("LL");return{date:o,key:o}},a.dsaDisplayDate=function(t){if(this.shouldUseIntlDateTimeFormat()){var e=(t+this.skew)*1e3,n={year:"numeric",month:"short",day:"numeric"};return Intl.DateTimeFormat(r("WAWeb-moment").locale(),n).format(e)}return r("WAWeb-moment").unix(t+this.skew).format("ll")},a.periodCoveredDateStr=function(t,n){var e=r("WAWeb-moment").unix(n),o=r("WAWeb-moment").unix(t),a=this.$ClockImpl$p_9();return o.format(a)+" - "+e.format(a)},a.lastUpdatedDateStr=function(t){var e=r("WAWeb-moment").unix(t),n=this.$ClockImpl$p_9();return e.format(n)},a.$ClockImpl$p_9=function(){switch(o("WAWebL10nGetRenderedLocale").WAWebL10nGetRenderedLocale()){case"de_DE":case"sk_SK":return"Do MMM";default:return"DD MMM"}},a.$ClockImpl$p_2=function(t){var e=this.getIs24Hour();if(this.shouldUseIntlDateTimeFormat()){var n={hour12:!e,hour:"numeric",minute:"numeric"};this.timeZoneHardCode!=null&&(n=babelHelpers.extends({},n,{timeZone:this.timeZoneHardCode}));var o=Intl.DateTimeFormat(r("WAWeb-moment").locale(),n).format(t*1e3);return e?o.replace(/^24/,"00"):o.replace(/^0/,"12")}return r("WAWeb-moment").unix(t).format(this.timestampStrFormat())},a.$ClockImpl$p_7=function(t){if(this.shouldUseIntlDateTimeFormat()){var e={year:"numeric",month:"numeric",day:"numeric"};this.timeZoneHardCode!=null&&(e=babelHelpers.extends({},e,{timeZone:this.timeZoneHardCode}));var n=Intl.DateTimeFormat(r("WAWeb-moment").locale(),e).format(t*1e3);return n}return r("WAWeb-moment").unix(t).format("l")},a.$ClockImpl$p_5=function(t){if(this.shouldUseIntlDateTimeFormat()){var e={month:"short",day:"numeric"};return this.timeZoneHardCode!=null&&(e=babelHelpers.extends({},e,{timeZone:this.timeZoneHardCode})),Intl.DateTimeFormat(r("WAWeb-moment").locale(),e).format(t*1e3)}return r("WAWeb-moment").unix(t).format("MMM D")},a.$ClockImpl$p_3=function(t,n){var e=r("WAWeb-moment")().startOf("day"),o=r("WAWeb-moment").unix(t).startOf("day"),a=e.diff(o,"days"),i=this.$ClockImpl$p_2(t);if(a===0)return n?s._(/*BTDS*/"Today at {time}",[s._param("time",i)]):s._(/*BTDS*/"Today");if(a===1)return n?s._(/*BTDS*/"Yesterday at {time}",[s._param("time",i)]):s._(/*BTDS*/"Yesterday");if(!n&&Math.abs(a)<7)return r("WAWeb-moment").unix(t).format("dddd");var l=this.$ClockImpl$p_7(t);return n?s._(/*BTDS*/"{date} at {time}",[s._param("date",l),s._param("time",i)]):l},a.$ClockImpl$p_4=function(){var e=r("WAWeb-moment").locale();return p.includes(e)?".":":"},a.shouldUseIntlDateTimeFormat=function(){return Intl.DateTimeFormat&&!o("WAWebL10NConstants").LOCALE_DATE_TIME_CUSTOMIZATIONS[r("WAWeb-moment").locale()]&&!o("WAWebL10NConstants").SHOULD_USE_MOMENT_LOCALE_FORMAT.has(r("WAWeb-moment").locale())},a.tryAgainInStr=function(t){return o("WAWebClockDurationFormatters").tryAgainInStr(t)},n})(r("WAWebEventEmitter")),v=new b;l.SKEW_CHANGE_EVENT=g,l.HOUR24_FORMAT_CHANGE_EVENT=h,l.MUTE_ALWAYS_EXPIRATION_SENTINEL=y,l.TimeFormatSource=C,l.Clock=v}),226);
__d("WAWebJSHaltDetector",["WAWebBaseJSHaltDetector"],(function(t,n,r,o,a,i,l){var e=3e3,s=1e4,u=new(o("WAWebBaseJSHaltDetector")).BaseJsHaltDetector(s,e);u.startDetection(),l.DEFAULT_THRESHOLD=e,l.jsHaltDetector=u}),98);
__d("WAWebAlarm",["WALogger","WATimeUtils","WAWebBaseJSHaltDetector","WAWebClock","WAWebJSHaltDetector","isStringNullOrEmpty","uniqueID"],(function(t,n,r,o,a,i,l){var e,s=Math.pow(2,31)-1,u=(function(){function t(){var e=this;this.$1=new Map;var t=function(){e.$1.size>0&&e.$2()};o("WAWebJSHaltDetector").jsHaltDetector.on(o("WAWebBaseJSHaltDetector").JS_HALT_EVENT,t),o("WAWebJSHaltDetector").jsHaltDetector.on(o("WAWebBaseJSHaltDetector").CLOCK_CHANGE_BACKWARDS_EVENT,t),o("WAWebClock").Clock.on(o("WAWebClock").SKEW_CHANGE_EVENT,this.$3.bind(this))}var n=t.prototype;return n.setLocalTimeout=function(t,n,r){return this.$4(!1,t,n,r)},n.setGlobalTimeout=function(t,n,r){return this.$4(!0,t,n,r)},n.clearTimeout=function(t){if(!r("isStringNullOrEmpty")(t)){var e=this.$1.get(t);e&&(self.clearTimeout(e.timeoutId),this.$1.delete(t))}},n.$4=function(n,a,i,l){var t=this,u=!r("isStringNullOrEmpty")(l);u&&this.clearTimeout(l);var c=r("isStringNullOrEmpty")(l)?r("uniqueID")("alarm_timer_"):l,d=i-this.$5(n),m=Math.min(d,s);if(d<0)return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Alarm:setTimeout:Cannot set alarm in the past."]))),a(),c;var p=self.setTimeout(function(){i-t.$5(n)<o("WAWebJSHaltDetector").DEFAULT_THRESHOLD?(t.$1.delete(c),a()):t.$4(n,a,i,c)},m),_={isGlobal:n,fn:a,expiration:i,timeoutId:p};return this.$1.set(c,_),c},n.$2=function(){var e=this,t=new Map(this.$1);t.forEach(function(t,n){var r=t.expiration,o=t.fn,a=t.isGlobal;r<e.$5(a)?(e.clearTimeout(n),o()):e.$4(a,o,r,n)})},n.$3=function(){var e=this,t=new Map(this.$1);t.forEach(function(t,n){var r=t.expiration,o=t.fn,a=t.isGlobal;a&&e.$4(a,o,r,n)})},n.$5=function(t){return t===void 0&&(t=!1),(t?o("WATimeUtils").unixTime():o("WATimeUtils").unixTimeWithoutClockSkewCorrection())*1e3},t})(),c=new u,d=c;l.default=d}),98);
__d("WAWebAltDeviceLinkingBase32Encode",[],(function(t,n,r,o,a,i){var e="123456789ABCDEFGHJKLMNPQRSTVWXYZ";function l(t){for(var n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=0,o=0,a="",i=0;i<n.byteLength;i++)for(o=o<<8|n.getUint8(i),r+=8;r>=5;)a+=e[o>>>r-5&31],r-=5;return r>0&&(a+=e[o<<5-r&31]),a}i.bytesToCrockford=l}),66);
__d("WAWebAltDeviceLinkingAlgorithm",["WAArrayBufferUtils","WABinary","WAByteArray","WACryptoHkdf","WALogger","WAWebAltDeviceLinkingApi","WAWebAltDeviceLinkingBase32Encode","WAWebCryptoCurve25519","WAWebSignalStoreApi","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d;function m(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: generate random code"])));var t=new Uint8Array(5);return self.crypto.getRandomValues(t),o("WAWebAltDeviceLinkingBase32Encode").bytesToCrockford(t)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{return yield e()}catch(e){throw o("WAWebAltDeviceLinkingApi").addPointToCurrentMarker(t),e}}),_.apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){n===void 0&&(n=!1);var r=new(o("WABinary")).Binary(t),a=yield self.crypto.subtle.deriveKey({name:"PBKDF2",hash:"SHA-256",salt:r.readBuffer(),iterations:2<<16},e,{name:"AES-CTR",length:256},n,["encrypt","decrypt"]);return a}),g.apply(this,arguments)}function h(e,t,n){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: encrypt companion hello"])));var r={name:"AES-CTR",length:64,counter:t},a=yield self.crypto.subtle.encrypt(r,n,e);return a}),y.apply(this,arguments)}function C(e,t,n){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: decrypt primary hello"])));var r={name:"AES-CTR",length:64,counter:t},a=yield p(function(){return self.crypto.subtle.decrypt(r,n,e)},"fail decrypt primary ephemeral pub");return a}),b.apply(this,arguments)}function v(){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=m(),t=yield o("WAWebCryptoCurve25519").keyPair(),n=new Uint8Array(32);self.crypto.getRandomValues(n);var r=new Uint8Array(16);self.crypto.getRandomValues(r);var a=yield R(e,t,n,r);return babelHelpers.extends({},a,{linkCodePairingSecret:e})}),S.apply(this,arguments)}function R(e,t,n,r){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield self.crypto.subtle.importKey("raw",new TextEncoder().encode(e),{name:"PBKDF2"},!1,["deriveKey"]),i=yield f(a,n),l=yield p(function(){return h(t.pubKey,r,i)},"fail encrypt companion hello"),s=new(o("WABinary")).Binary;s.writeByteArray(n),s.writeByteArray(r),s.writeByteArray(new Uint8Array(l));var u=s.readBuffer();return{linkCodePairingWrappedCompanionEphemeralPub:u,linkCodeKey:a,linkCodePairingCompanionADVEphemeralKeyPair:t}}),L.apply(this,arguments)}function E(e,t){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield o("WACryptoHkdf").extractWithSaltAndExpand(e,t,"link_code_pairing_key_bundle_encryption_key",32);return n}),k.apply(this,arguments)}function I(e,t,n){return o("WAArrayBufferUtils").concatBuffers([e,t,o("WAByteArray").uint8ArrayToBuffer(n)])}function T(e,t,n){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: encrypt key bundle"])));var r=yield self.crypto.subtle.importKey("raw",e,{name:"AES-GCM"},!1,["encrypt"]),a={name:"AES-GCM",iv:t},i=yield p(function(){return self.crypto.subtle.encrypt(a,r,n)},"fail encrypt wrapped key bundle");return i}),D.apply(this,arguments)}function x(e,t,n){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: create adv secret material"])));var r=o("WAArrayBufferUtils").concatBuffers([e,t,o("WAByteArray").uint8ArrayToBuffer(n)]);return r}function $(e){return P.apply(this,arguments)}function P(){return P=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WACryptoHkdf").extractWithSaltAndExpand(e,null,"adv_secret",32);return t}),P.apply(this,arguments)}function N(e,t,n,r){return M.apply(this,arguments)}function M(){return M=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=yield o("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo();if(i==null)throw r("err")("alt pairing: Did not find registration info");var l=new Uint8Array(32);self.crypto.getRandomValues(l);var s=new Uint8Array(32);self.crypto.getRandomValues(s);var u=new Uint8Array(12);return self.crypto.getRandomValues(u),w(e,t,n,a,i.identityKeyPair.pubKey,i.identityKeyPair.privKey,l,s,u)}),M.apply(this,arguments)}function w(e,t,n,r,o,a,i,l,s){return A.apply(this,arguments)}function A(){return A=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a,i,l,s,u,c){var d=new(o("WABinary")).Binary(e),m=d.readByteArrayView(32),_=d.readByteArrayView(16),g=d.readByteArrayView(),h=yield f(n,m),y=yield p(function(){return C(g,_,h)},"fail decrypt primary ephemeral pub");if(y.byteLength===0)throw r("err")("alt pairing: linkCodePairingDecryptedPrimaryEphemeralPub is an empty buffer");var b=yield p(function(){return o("WAWebCryptoCurve25519").sharedSecret(y,a.privKey)},"fail generate ephemeral shared secret"),v=yield E(b,u),S=I(i,t,s),R=yield T(v,c,S),L=new(o("WABinary")).Binary;L.writeByteArray(u),L.writeByteArray(c),L.writeBuffer(R);var k=yield p(function(){return o("WAWebCryptoCurve25519").sharedSecret(t,l)},"fail generate identity shared secret"),D=o("WAArrayBufferUtils").concatBuffers([b,k,o("WAByteArray").uint8ArrayToBuffer(s)]),x=yield o("WACryptoHkdf").extractWithSaltAndExpand(D,null,"adv_secret",32),$=L.readBuffer();return{companionIdentityPublic:i,linkCodePairingWrappedKeyBundle:$,advSecret:x}}),A.apply(this,arguments)}l.generateRandomCode=m,l.deriveKey=f,l.encryptCompanionHello=h,l.decryptPrimaryHello=C,l.companionHello=v,l.companionHelloInternal=R,l.getBundleEncryptionKey=E,l.getKeyBundle=I,l.encryptKeyBundle=T,l.createAdvSecretMaterial=x,l.createAdvSecret=$,l.companionFinish=N,l.companionFinishInternal=w}),98);
__d("WAWebCompanionRegClientUtils",["$InternalEnum","WAWebEnvironment","WAWebMiscBrowserUtils"],(function(t,n,r,o,a,i,l){var e,s=n("$InternalEnum")({UNKNOWN:0,CHROME:1,EDGE:2,FIREFOX:3,IE:4,OPERA:5,SAFARI:6,ELECTRON:7,UWP:8,OTHER_WEB_CLIENT:9}),u=(e={},e[s.UNKNOWN]="0",e[s.CHROME]="1",e[s.EDGE]="2",e[s.FIREFOX]="3",e[s.IE]="4",e[s.OPERA]="5",e[s.SAFARI]="6",e[s.ELECTRON]="7",e[s.UWP]="8",e[s.OTHER_WEB_CLIENT]="9",e),c=u[d()];function d(){if(r("WAWebEnvironment").isWindows)return s.UWP;var e=r("WAWebMiscBrowserUtils").info().name;return e?e==="Chrome"?s.CHROME:e==="Firefox"?s.FIREFOX:e==="IE"?s.IE:e==="Opera"?s.OPERA:e==="Safari"?s.SAFARI:e==="Edge"?s.EDGE:s.OTHER_WEB_CLIENT:s.UNKNOWN}l.DEVICE_PLATFORM=c,l.getCompanionWebClientFromBrowser=d}),98);
__d("WAWebAltDeviceLinkingIq",["WASmaxMdCompanionFinishRPC","WASmaxMdCompanionHelloRPC","WAWebCompanionRegClientUtils","WAWebMiscBrowserUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.name="CompanionHelloError",r.type=n,r}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),s=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="CompanionFinishError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i){var l=yield o("WASmaxMdCompanionHelloRPC").sendCompanionHelloRPC({linkCodePairingNonceArgs:{linkCodePairingNonceElementValue:new Uint8Array(1)},linkCodeCompanionRegJid:t,linkCodePairingWrappedCompanionEphemeralPubElementValue:new Uint8Array(n),companionServerAuthKeyPubElementValue:new Uint8Array(a),companionPlatformIdElMixinArgs:{companionPlatformIdElementValue:o("WAWebCompanionRegClientUtils").DEVICE_PLATFORM},companionPlatformDisplayElMixinArgs:{companionPlatformDisplayElementValue:r("WAWebMiscBrowserUtils").info().name+" ("+r("WAWebMiscBrowserUtils").info().os+")"},linkCodeCompanionRegShouldShowPushNotification:i?"true":"false"});if(l.name==="CompanionHelloResponseNotifyCompanion")return l.value.linkCodeCompanionRegLinkCodePairingRefElementValue;throw l.name==="CompanionHelloResponseError"?new e("alt pairing: Got an error from alt paring: companion hello: "+l.value.errorIqMixinErrors.name,l.value.errorIqMixinErrors):new e("alt pairing: Got an unknown error from alt paring: companion hello")}),c.apply(this,arguments)}function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=yield o("WASmaxMdCompanionFinishRPC").sendCompanionFinishRPC({linkCodeCompanionRegJid:r,linkCodePairingWrappedKeyBundleElementValue:new Uint8Array(e),companionIdentityPublicElementValue:new Uint8Array(t),linkCodePairingRefElementValue:n});if(a.name!=="CompanionFinishResponseSuccess")throw new s("alt pairing: Got an error from alt paring: companion finish")}),m.apply(this,arguments)}l.CompanionHelloError=e,l.CompanionFinishError=s,l.sendCompanionHello=u,l.sendCompanionFinish=d}),98);
__d("WAWebSocketConstants",[],(function(t,n,r,o,a,i){var e={OPENING:"OPENING",PAIRING:"PAIRING",UNPAIRED:"UNPAIRED",UNPAIRED_IDLE:"UNPAIRED_IDLE",CONNECTED:"CONNECTED",CONFLICT:"CONFLICT",UNLAUNCHED:"UNLAUNCHED",PROXYBLOCK:"PROXYBLOCK",TOS_BLOCK:"TOS_BLOCK",SMB_TOS_BLOCK:"SMB_TOS_BLOCK",DEPRECATED_VERSION:"DEPRECATED_VERSION",SCREEN_LOCKED:"SCREEN_LOCKED"},l={DISCONNECTED:"DISCONNECTED",SYNCING:"SYNCING",RESUMING:"RESUMING",CONNECTED:"CONNECTED"};i.SOCKET_STATE=e,i.SOCKET_STREAM=l}),66);
__d("WAWebDirectConnectionX509",["JSResourceForInteraction","Promise","WALogger","WAWebDirectConnectionUtils","asyncToGeneratorRuntime","filterNulls","getErrorSafe","pvutils-1.0.17","requireDeferred"],(function(t,n,r,o,a,i,l){var e,s,u,c,d=r("requireDeferred")("asn1js-2.1.1").__setRef("WAWebDirectConnectionX509"),m="-----BEGIN CERTIFICATE-----",p="-----END CERTIFICATE-----",_="(?:"+m+")((?:.|\n)*?)(?:"+p+")",f="2.5.4.3";function g(){return r("JSResourceForInteraction")("pkijs").__setRef("WAWebDirectConnectionX509").load()}function h(t){var n="";try{n=atob(t)}catch(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] base64 decoding failed with ",""])),r("getErrorSafe")(t).toString())}return C(n)}function y(e){return btoa(b(e))}function C(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n.buffer}function b(e){return String.fromCharCode.apply(String,Array.from(new Uint8Array(e)))}function v(e,t){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield g(),r=n.CertificateChainValidationEngine;return new r({trustedCerts:t,certs:e})}),S.apply(this,arguments)}function R(e,t){return e.flat().reduce(function(e,n){return e.every(function(e){return!o("pvutils-1.0.17").isEqualBuffer(e.tbs,n.tbs)})&&t.includes(n)?[].concat(e,[n]):e},[])}function L(){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("JSResourceForInteraction")("WAWebDirectConnectionCaBundle").__setRef("WAWebDirectConnectionX509").load(),t=e.CA_BUNDLE;return k(t)}),E.apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield g(),a=t.Certificate,i=yield new(c||(c=n("Promise")))(function(e){d.onReady(function(t){e(t().fromBER)})});return r("filterNulls")(Array.from(e.matchAll(new RegExp(_,"gm")),function(e){var t=e[0],n=e[1],l=i(h(n)),u=l.result,c;try{c=u.error?null:new a({schema:u})}catch(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] certificate chain parsing from Get Public Key IQ failed with ",""])),r("getErrorSafe")(e).toString())}return c}))}),I.apply(this,arguments)}function T(e,t){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return(yield v(e,t)).verify()}),D.apply(this,arguments)}function x(e,t){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=yield v(e,t),a=R(yield(c||(c=n("Promise"))).all(e.map(function(e){return r.findIssuer(e,r)})),t);return a.length===0?(o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[direct-connection] no trusted root certificates could be found for ",""])),P(e[0])),null):a}),$.apply(this,arguments)}function P(e){var t;return(t=e.issuer.typesAndValues.find(function(e){var t=e.type;return t===f}))==null?void 0:t.value.valueBlock.value}function N(e){return o("WAWebDirectConnectionUtils").stringToCertificateString(e.map(function(e){var t=y(e.toSchema(!0).toBER(!1)).split(/(.{0,64})/g).filter(function(e){return e!==""}).join("\n");return m+"\n"+t+"\n"+p}).join("\n"))}function M(){return w.apply(this,arguments)}function w(){return w=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield g(),t=e.getEngine;return t()}),w.apply(this,arguments)}function A(e){return F.apply(this,arguments)}function F(){return F=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield g(),n=t.getRandomValues;return n(e)}),F.apply(this,arguments)}function O(e,t){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield e.getPublicKey({algorithm:{algorithm:{name:"RSA-OAEP",hash:{name:"SHA-256"}},usages:["encrypt"]}}),r=yield M(),o=yield r.subtle.encrypt({name:"RSA-OAEP"},n,t);return y(o)}),B.apply(this,arguments)}l.base64ToArrayBuffer=h,l.arrayBufferToBase64=y,l.stringToArrayBuffer=C,l.arrayBufferToString=b,l.fetchFromCABundle=L,l.extractCertificates=k,l.validateCertificates=T,l.genRootIssuers=x,l.encodeToString=N,l.getEngine=M,l.getRandomValues=A,l.encryptWithPublicKey=O}),98);
__d("WAWebUserPrefsScreenLock",["WAArrayBufferUtils","WABase64","WABinary","WAWebDbEncryptionKey","WAWebDirectConnectionX509","WAWebPermanentStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(){var e;T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS);var t=parseInt((e=r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS))!=null?e:0,10);return t!==0}function s(){return T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS),r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS)}function u(){var e;return T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS),(e=r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS))!=null?e:0}function c(e){r("WAWebUserPrefsStore").setUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_DURATION_SECONDS,e)}function d(e){r("WAWebUserPrefsStore").setUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_IV,e)}function m(){return T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_IV),r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_IV)}function p(e){return r("WAWebUserPrefsStore").setUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_SALT,e,{shouldWriteToIdb:!1})}function _(){return T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_SALT,!1),r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_SALT)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=I(),n=yield R(String(e),t);return r("WAWebUserPrefsStore").setUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_ITERATIONS,n+"_"+t)}),g.apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_ITERATIONS);var e=r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_LOCK_ITERATIONS);if(e==null)return null;if(typeof e=="number")return parseInt(e,10);var t=e.split("_"),n=t[0],a=t[1];if(n==null||a==null)return null;var i=yield E(n,a);return parseInt(i,10)}),y.apply(this,arguments)}function C(){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){T(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_UNLOCK_TRY_COUNT);var e=r("WAWebUserPrefsStore").getUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_UNLOCK_TRY_COUNT);if(e==null)return 0;if(typeof e=="number")return parseInt(e,10);var t=e.split("_"),n=t[0],a=t[1],i=yield E(n,a);return parseInt(i,10)}),b.apply(this,arguments)}function v(e,t){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=I(),a=yield R(String(e),n);t.aborted||r("WAWebUserPrefsStore").setUser(o("WAWebUserPrefsKeys").MD_KEYS.SCREEN_UNLOCK_TRY_COUNT,a+"_"+n)}),S.apply(this,arguments)}function R(e,t){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new Uint8Array(o("WABase64").decodeB64(t)),r=o("WAWebDbEncryptionKey").DbEncKeyStore.getEncKeys()[0],a=yield self.crypto.subtle.encrypt({iv:n,name:"AES-CBC"},r.key,o("WAArrayBufferUtils").stringToArrayBuffer(e));return o("WABase64").encodeB64(a)}),L.apply(this,arguments)}function E(e,t){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new Uint8Array(o("WABase64").decodeB64(t));yield o("WAWebDbEncryptionKey").DbEncKeyStore.waitForInit();var r=o("WAWebDbEncryptionKey").DbEncKeyStore.getEncKeys()[0],a=yield self.crypto.subtle.decrypt({iv:n,name:"AES-CBC"},r.key,o("WABase64").decodeB64(e));return o("WAWebDirectConnectionX509").arrayBufferToString(a)}),k.apply(this,arguments)}function I(){var e=new Uint8Array(16);self.crypto.getRandomValues(e);var t=new(o("WABinary")).Binary(e).readByteArrayView(16);return o("WABase64").encodeB64(t)}function T(e,t){var n=r("WAWebUserPrefsStore").get(e);if(n!=null){var o=t!=null?{shouldWriteToIdb:t}:null;r("WAWebUserPrefsStore").setUser(e,n,o!=null?o:{}),r("WAWebPermanentStorage").removeItem(e)}}l.getScreenLockEnabled=e,l.getScreenLockDurationForLogging=s,l.getScreenLockDurationInSeconds=u,l.setScreenLockDurationInSeconds=c,l.setScreenLockIvString=d,l.getScreenLockIvString=m,l.setScreenLockSalt=p,l.getScreenLockSalt=_,l.setScreenLockIterations=f,l.getScreenLockIterations=h,l.getScreenUnlockTryCount=C,l.setScreenUnlockTryCount=v}),98);
__d("WAWebUserPrefsInfoStore",["Promise","WAArrayBufferUtils","WABase64","WABinary","WALogger","WAWebBackendApi","WAWebBackendEventBus","WAWebCryptoCurve25519","WAWebDbEncryptionKey","WAWebLogoutReasonConstants","WAWebSocketConstants","WAWebSocketLogoutJob","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_=128,f="AES-GCM",g="PBKDF2",h=r("gkx")("26256")?1e4:6e5,y=(function(){function t(){this.cachedPasscodeDerivedKey=null}var r=t.prototype;return r.resetCachedPasscodeDerivedKey=function(){this.cachedPasscodeDerivedKey=null},r.getCertficateChain=function(n){var t=o("WAArrayBufferUtils").arrayBufferToString(n);try{var r=JSON.parse(t),a=r.intermediate,i=r.leaf;return{intermediate:{key:o("WABase64").decodeB64(a.key),notAfter:Number(a.notAfter),notBefore:Number(a.notBefore)},leaf:{key:o("WABase64").decodeB64(i.key),notAfter:Number(i.notAfter),notBefore:Number(i.notBefore)}}}catch(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Error parsing certificate chain: ",""])),t),null}},r.get=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WAWebUserPrefsMultiDevice").getNoiseInfo();if(!e)return null;var t=this.$1();if(!t)return null;if(e=yield this.$2(e,t),o("WAWebUserPrefsScreenLock").getScreenLockEnabled()){o("WAWebBackendEventBus").BackendEventBus.triggerSetSocketState(o("WAWebSocketConstants").SOCKET_STATE.SCREEN_LOCKED);var n=yield this.passcodeUnlockNoiseInfo(e);n&&(e=n)}var r=yield this.$3(e);return r?e:(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Decrypted noise key was invalid."]))).tags("info-store"),null)});function t(){return e.apply(this,arguments)}return t})(),r.setCertificateChain=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield this.get();if(t)try{var n=babelHelpers.extends({},e.intermediate,{key:o("WABase64").encodeB64(e.intermediate.key)}),r=babelHelpers.extends({},e.leaf,{key:o("WABase64").encodeB64(e.leaf.key)}),a=JSON.stringify({intermediate:n,leaf:r});return t.certificateChainBuffer=o("WAArrayBufferUtils").stringToArrayBuffer(a),this.set(t)}catch(e){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Error serializing certificate chain: ",""])),e).sendLogs("handshake-serialization-failed")}});function t(t){return e.apply(this,arguments)}return t})(),r.set=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this,r=e;if(this.cachedPasscodeDerivedKey!=null){var a=this.cachedPasscodeDerivedKey,i=r,l=i.certificateChainBuffer,s=i.recoveryToken,u=i.staticKeyPair,c=u.privKey,d=u.pubKey;try{var m=yield(p||(p=n("Promise"))).all([s,d,c,l].map(function(e){return t.encryptNoiseWithPasscodeDerivedKey(e,a)}));m[0]&&m[1]&&m[2]&&(r={recoveryToken:m[0],staticKeyPair:{pubKey:m[1],privKey:m[2]},certificateChainBuffer:m[3]})}catch(e){}}var _=new Uint8Array(64);self.crypto.getRandomValues(_);var f=this.$4(_);yield this.$5(f);var g=yield(p||(p=n("Promise"))).all([this.$6(r.recoveryToken,f[0]),this.$6(r.staticKeyPair.pubKey,f[1]),this.$6(r.staticKeyPair.privKey,f[2]),r.certificateChainBuffer?this.$6(r.certificateChainBuffer,f[3]):(p||(p=n("Promise"))).resolve(void 0)]),h=g[0],y=g[1],C=g[2],b=g[3];return r.recoveryToken=h,r.staticKeyPair.pubKey=y,r.staticKeyPair.privKey=C,r.certificateChainBuffer=b,o("WAWebUserPrefsMultiDevice").setNoiseInfo(r)});function t(t){return e.apply(this,arguments)}return t})(),r.$5=function(t){return o("WAWebUserPrefsMultiDevice").setNoiseInfoIv(t.map(o("WABase64").encodeB64))},r.$1=function(){var e=o("WAWebUserPrefsMultiDevice").getNoiseInfoIv();return e?e.map(function(e){return new Uint8Array(o("WABase64").decodeB64(e))}):null},r.$4=function(t){var e=new(o("WABinary")).Binary(t);return[e.readByteArrayView(16),e.readByteArrayView(16),e.readByteArrayView(16),e.readByteArrayView(16)]},r.$6=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAWebDbEncryptionKey").DbEncKeyStore.getEncKeys()[0],r=yield self.crypto.subtle.encrypt({iv:t,name:"AES-CBC"},n.key,e);return r});function t(t,n){return e.apply(this,arguments)}return t})(),r.$2=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=yield(p||(p=n("Promise"))).all([this.$7(e.recoveryToken,t[0]),this.$7(e.staticKeyPair.pubKey,t[1]),this.$7(e.staticKeyPair.privKey,t[2]),e.certificateChainBuffer!=null?this.$7(e.certificateChainBuffer,t[3]):(p||(p=n("Promise"))).resolve(void 0)]),o=r[0],a=r[1],i=r[2],l=r[3];return e.certificateChainBuffer=l,e.recoveryToken=o,e.staticKeyPair.pubKey=a,e.staticKeyPair.privKey=i,e});function t(t,n){return e.apply(this,arguments)}return t})(),r.$7=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAWebDbEncryptionKey").DbEncKeyStore.getEncKeys()[0],r=yield self.crypto.subtle.decrypt({iv:t,name:"AES-CBC"},n.key,e);return r});function t(t,n){return e.apply(this,arguments)}return t})(),r.$3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=!0;try{for(var n=yield o("WAWebCryptoCurve25519").keyPair(e.staticKeyPair.privKey),r=n.pubKey,a=new Uint8Array(r),i=new Uint8Array(e.staticKeyPair.pubKey),l=0;l<a.length;l++)if(a[l]!==i[l]){t=!1;break}}catch(e){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Decrypted noise key failed validation."]))).tags("info-store"),t=!1}return t});function t(t){return e.apply(this,arguments)}return t})(),r.lockNoiseInfo=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield this.deriveKeyFromPasscode(e);this.createScreenLockIv();var n=yield this.get();if(!n||!n.staticKeyPair)return!1;try{return this.cachedPasscodeDerivedKey=t,yield this.set(n),!0}catch(e){this.cachedPasscodeDerivedKey=null}return!1});function t(t){return e.apply(this,arguments)}return t})(),r.passcodeUnlockNoiseInfo=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){t===void 0&&(t=!1);var n;if(this.cachedPasscodeDerivedKey==null){var r;t?r=yield o("WAWebBackendApi").frontendSendAndReceive("waitForPasscodeAfterIncorrectAttempt",void 0):r=yield o("WAWebBackendApi").frontendSendAndReceive("waitForPasscode",void 0),n=yield this.deriveKeyFromPasscode(r)}else n=this.cachedPasscodeDerivedKey;var a=yield this.getUnlockedNoiseInfo(e,n);return!a||!(yield this.$3(a))?(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Decrypted noise key was invalid."]))).tags("info-store"),this.passcodeUnlockNoiseInfo(e,!0)):(yield o("WAWebBackendApi").frontendSendAndReceive("correctPasscodeEntered",{key:n}),o("WAWebBackendEventBus").BackendEventBus.triggerSetSocketState(o("WAWebSocketConstants").SOCKET_STATE.OPENING),a)});function t(t,n){return e.apply(this,arguments)}return t})(),r.getUnlockedNoiseInfo=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var r=this,o=e.certificateChainBuffer,a=e.recoveryToken,i=e.staticKeyPair,l=i.privKey,s=i.pubKey;try{var u=yield(p||(p=n("Promise"))).all([a,s,l,o].map(function(e){return r.decryptNoiseWithPasscodeDerivedKey(e,t)}));if(u[0]&&u[1]&&u[2])return this.cachedPasscodeDerivedKey=t,{recoveryToken:u[0],staticKeyPair:{pubKey:u[1],privKey:u[2]},certificateChainBuffer:u[3]}}catch(e){return null}});function t(t,n){return e.apply(this,arguments)}return t})(),r.removeLockOnNoiseInfo=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebUserPrefsMultiDevice").getNoiseInfo();if(!t)return!1;var n=this.$1();if(!n)return!1;t=yield this.$2(t,n);var r=yield this.deriveKeyFromPasscode(e),a=yield this.getUnlockedNoiseInfo(t,r);if(a!=null){var i=yield this.$3(a);return i?(this.cachedPasscodeDerivedKey=null,yield this.set(a),o("WAWebUserPrefsScreenLock").setScreenLockSalt(null),o("WAWebUserPrefsScreenLock").setScreenLockIvString(""),yield o("WAWebUserPrefsScreenLock").setScreenLockIterations(null),!0):(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Decrypted noise key was invalid."]))).tags("info-store"),!1)}return!1});function t(t){return e.apply(this,arguments)}return t})(),r.deriveKeyFromPasscode=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=new TextEncoder().encode(e),n=yield self.crypto.subtle.importKey("raw",t,{name:g},!1,["deriveKey"]),r=yield this.getOrGenScreenLockSalt(),o=yield self.crypto.subtle.deriveKey({name:g,hash:"SHA-256",salt:r,iterations:yield this.getScreenLockIterationCount()},n,{name:f,length:_},!1,["encrypt","decrypt"]);return o});function t(t){return e.apply(this,arguments)}return t})(),r.getOrGenScreenLockSalt=function(){var e=null;return o("WAWebUserPrefsScreenLock").getScreenLockEnabled()||(e=new Uint8Array(_),self.crypto.getRandomValues(e),e=btoa(String.fromCharCode.apply(String,Array.from(new Uint8Array(e)))),o("WAWebUserPrefsScreenLock").setScreenLockSalt(e)),e=o("WAWebUserPrefsScreenLock").getScreenLockSalt(),e==null&&o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.MissingScreenLockSalt),e=Uint8Array.from(atob(e),function(e){return e.charCodeAt(0)}),(p||(p=n("Promise"))).resolve(e)},r.createScreenLockIv=function(){var e=new Uint8Array(16);self.crypto.getRandomValues(e);var t=new(o("WABinary")).Binary(e).readByteArrayView(16);o("WAWebUserPrefsScreenLock").setScreenLockIvString(o("WABase64").encodeB64(t))},r.getScreenLockIvArray=function(){var e=o("WAWebUserPrefsScreenLock").getScreenLockIvString();return e?new Uint8Array(o("WABase64").decodeB64(e)):null},r.encryptNoiseWithPasscodeDerivedKey=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e==null)return null;var n=this.getScreenLockIvArray();if(!n)return null;var r=yield self.crypto.subtle.encrypt({iv:n,name:f},t,e);return r});function t(t,n){return e.apply(this,arguments)}return t})(),r.decryptNoiseWithPasscodeDerivedKey=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e==null)return null;var n=this.getScreenLockIvArray();if(!n)return null;var r=yield self.crypto.subtle.decrypt({iv:n,name:f},t,e);return r});function t(t,n){return e.apply(this,arguments)}return t})(),r.calculatePBKDF2Iterations=function(){var e=navigator.hardwareConcurrency;return h*Math.max(1,Number.isNaN(e)?1:e)},r.getScreenLockIterationCount=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebUserPrefsScreenLock").getScreenLockIterations();return(!o("WAWebUserPrefsScreenLock").getScreenLockEnabled()||e==null)&&(e=this.calculatePBKDF2Iterations(),yield o("WAWebUserPrefsScreenLock").setScreenLockIterations(e)),e});function t(){return e.apply(this,arguments)}return t})(),t})(),C=new y;l.waNoiseInfo=C}),98);
__d("WAWebAltDeviceLinkingApi",["invariant","$InternalEnum","Promise","WABase64","WAByteArray","WACryptoUtils","WAJids","WALogger","WAQplTypes","WATimeUtils","WAWebAdvSignatureApi","WAWebAltDeviceLinkingAlgorithm","WAWebAltDeviceLinkingIq","WAWebBackendApi","WAWebQplFlowWrapper","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime","err","gkx","qpl"],(function(t,n,r,o,a,i,l,s){var e,u,c,d,m,p,_,f,g,h,y,C=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="MissingCachedRefError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),b=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="NoiseInfoIsNullError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),v=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="InvalidRefError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),S=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="OldCodeError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),R=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.name="MaxPrimaryHelloError",babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),L=n("$InternalEnum").Mirrored(["QR_CODE","ALT_DEVICE_LINKING"]),E=n("$InternalEnum").Mirrored(["NotStarted","Initialized","AfterSendCompanionHello","AfterSendCompanionFinish"]),k=r("qpl")._(891429758,"3258"),I=(function(){function e(){this.clear()}var t=e.prototype;return t.clear=function(){this.helloCached=null,this.ref=null,this.phone=null,this.stage=E.NotStarted,this.codeGenerationTs=null,this.primaryHelloAttemptCount=0,this.marker!=null&&(this.marker.end(o("WAQplTypes").QuickLogActionType.ABORTED),this.marker=null),this.newMarker!=null&&(this.newMarker.end(105),this.newMarker=null)},e})(),T=180,D=3,x=new I,$=L.QR_CODE;function P(){return $}function N(e){$=e}function M(){return x.ref}function w(){return x.helloCached}function A(e){var t,n;(t=x.marker)==null||t.addPoint(e),(n=x.newMarker)==null||n.addPoint(e)}function F(){var e,t;(e=x.marker)==null||e.end(o("WAQplTypes").QuickLogActionType.SUCCESS),(t=x.newMarker)==null||t.end(2),x.marker=null,x.newMarker=null}function O(){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: initialize alt linking"]))),x.clear(),o("WAWebQplQuickPerformanceLoggerModule").isQplMigrationEnabled()?x.newMarker=o("WAWebQplFlowWrapper").QPL.markerStart(k):x.marker=o("WAWebQplQuickPerformanceLoggerModule").QPL.markerStart(o("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.ALTERNATIVE_DEVICE_LINKING),yield o("WAWebUserPrefsMultiDevice").setADVSecretKey(),x.stage=E.Initialized,N(L.ALT_DEVICE_LINKING)}),B.apply(this,arguments)}function W(){return q.apply(this,arguments)}function q(){return q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: initialize QR linking"]))),P()===L.ALT_DEVICE_LINKING&&A("switch_to_qr"),x.clear(),yield o("WAWebAdvSignatureApi").generateADVSecretKey(),x.stage=E.NotStarted,N(L.QR_CODE)}),q.apply(this,arguments)}function U(e,t){return V.apply(this,arguments)}function V(){return V=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: start linking flow"])));var n=yield o("WAWebUserPrefsInfoStore").waNoiseInfo.get();if(n==null)throw new b("alt pairing: noise info is null");return x.phone=e,x.codeGenerationTs=o("WATimeUtils").unixTime(),H(x,n,t)}),V.apply(this,arguments)}function H(e,t,n){return G.apply(this,arguments)}function G(){return G=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(!r("gkx")("26258")){var a,i;(a=x.marker)==null||a.annotate({string:{phone:e.phone}}),(i=x.newMarker)==null||i.annotate({string:{phone:e.phone}})}e.stage===E.Initialized||s(0,75727,e.stage),A("generate_code_start");var l=yield o("WAWebAltDeviceLinkingAlgorithm").companionHello();if(e.helloCached=l,A("generate_code_end"),o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: completed companion hello generation"]))),A("send_companion_hello_start"),e.phone!=null||s(0,67482),e.ref=yield o("WAWebAltDeviceLinkingIq").sendCompanionHello(o("WAJids").toPhoneUserJid(e.phone),l.linkCodePairingWrappedCompanionEphemeralPub,t.staticKeyPair.pubKey,n),A("send_companion_hello_end"),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: sent companion hello"]))),e.ref==null)throw new C("alt pairing:could not get ref from companion hello");return r("gkx")("26258")||o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: companion hello ref received: ",""])),e.ref),e.stage=E.AfterSendCompanionHello,l.linkCodePairingSecret}),G.apply(this,arguments)}function z(e){return j.apply(this,arguments)}function j(){return j=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: handling primary hello"]))),o("WAWebBackendApi").frontendFireAndForget("primaryHelloReceivedAltLinking",{});try{return yield X(e,x,o("WATimeUtils").unixTime())}catch(e){return o("WAWebBackendApi").frontendFireAndForget("errorAltLinking",{}),(y||(y=n("Promise"))).reject(e)}}),j.apply(this,arguments)}function K(e){return Q.apply(this,arguments)}function Q(){return Q=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebAdvSignatureApi").generateADVSecretKey(),e.stage=E.AfterSendCompanionHello}),Q.apply(this,arguments)}function X(e,t,n){return Y.apply(this,arguments)}function Y(){return Y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(A("handle_primary_hello_start"),t.primaryHelloAttemptCount++,t.stage===E.AfterSendCompanionFinish)if(t.primaryHelloAttemptCount<=D)yield K(t);else throw new R("alt pairing: reached max allowed primary hello attempts per code");if(t.stage===E.AfterSendCompanionHello||s(0,75728,t.stage),r("gkx")("26258")||o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: cached companion hello ref: ",""])),t.ref),t.ref==null)throw new C("alt pairing:could not get ref from companion hello");if(!o("WACryptoUtils").uint8ArraysEqual(t.ref,e.linkCodeCompanionRegLinkCodePairingRefElementValue))throw new v("alt pairing: handle primary hello: received unexpected ref");if(t.helloCached==null)throw r("err")("alt pairing: cannot find cached hello data");if(t.codeGenerationTs==null)throw r("err")("alt pairing: cannot find codeGenerationTs");if(n-t.codeGenerationTs>T)throw new S("alt pairing: cannot process primaryHello for an old code");var a=t.helloCached,i=yield o("WAWebAltDeviceLinkingAlgorithm").companionFinish(o("WAByteArray").uint8ArrayToBuffer(e.linkCodeCompanionRegLinkCodePairingWrappedPrimaryEphemeralPubElementValue),o("WAByteArray").uint8ArrayToBuffer(e.linkCodeCompanionRegPrimaryIdentityPubElementValue),a.linkCodeKey,a.linkCodePairingCompanionADVEphemeralKeyPair);o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: completed companion finish local algorithm"]))),yield o("WAWebUserPrefsMultiDevice").setADVSecretKey(o("WABase64").encodeB64(i.advSecret));var l=t.ref;if(l==null)throw new C("alt pairing: cannot find cached ref");var u=t.phone;if(u==null)throw new C("alt pairing: phone is empty");yield o("WAWebAltDeviceLinkingIq").sendCompanionFinish(i.linkCodePairingWrappedKeyBundle,i.companionIdentityPublic,l,o("WAJids").toPhoneUserJid(u)),o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["alt pairing: sent companion finish to server"]))),t.stage=E.AfterSendCompanionFinish,A("handle_primary_hello_end")}),Y.apply(this,arguments)}l.InvalidRefError=v,l.OldCodeError=S,l.MaxPrimaryHelloError=R,l.PairingType=L,l.AltPairingStage=E,l.PairingState=I,l.getPairingType=P,l.setPairingType=N,l.getCurrentRef=M,l.getCurrentHelloCached=w,l.addPointToCurrentMarker=A,l.endCurrentMarkerSuccess=F,l.initializeAltDeviceLinking=O,l.initializeQRLinking=W,l.startAltLinkingFlow=U,l.handlePrimaryHello=z,l.handlePrimaryHelloInternal=X}),98);
__d("WAWebWamEnumClientMessageSendStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({CLIENT_RENDERED:1,CLIENT_SAVED:2,CLIENT_WRITTEN_WIRE:3,CLIENT_QUEUED:4,CLIENT_WAITING_TO_ENCRYPT:5,CLIENT_READY_TO_SEND:6,CLIENT_ENCRYPT:7,CLIENT_PREKEYS_FETCH:8});i.CLIENT_MESSAGE_SEND_STAGE=e}),66);
__d("WAWebWamEnumMessageSendResultType",[],(function(t,n,r,o,a,i){var e=Object.freeze({OK:1,ERROR_UNKNOWN:3,ERROR_NETWORK:4,ERROR_EXPIRED:5,ERROR_CANCELLED:6,ERROR_UPLOAD:7,ERROR_BACKFILL_USYNC_FAILED:8,ERROR_PAYLOAD_TOO_BIG:9,ERROR_LOCATION:10,ERROR_INVALID_MESSAGE:11,ERROR_E2EE:12,ERROR_INVALID_PROTOBUF:13,SERVER_ERROR:14,EPHEMERALLY_EXPIRED:15,MEDIA_UPLOAD_FAILED:16,ERROR_CLIENT_OUT_OF_MEMORY:17,ERROR_UPLOAD_CANCELLED_MANUALLY:18,ERROR_UPLOAD_CANCELLED_AUTOMATIC:19});i.MESSAGE_SEND_RESULT_TYPE=e}),66);
__d("WAWebAndroidMessageSendPerfWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumClientGroupSizeBucket","WAWebWamEnumClientMessageSendStage","WAWebWamEnumEditType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageSendResultType","WAWebWamEnumMessageType","WAWebWamEnumSizeBucket","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({AndroidMessageSendPerf:[1994,{agentEngagementType:[47,o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],appRestart:[16,e.TYPES.BOOLEAN],botType:[48,o("WAWebWamEnumBotType").BOT_TYPE],bucketedSenderKeyDistributionCountPercentage:[32,e.TYPES.INTEGER],bucketedSenderKeyDistributionHashTime:[35,e.TYPES.INTEGER],deviceCount:[36,e.TYPES.INTEGER],deviceSizeBucket:[26,o("WAWebWamEnumSizeBucket").SIZE_BUCKET],durationAbs:[11,e.TYPES.TIMER],durationRelative:[12,e.TYPES.TIMER],durationT:[1,e.TYPES.TIMER],editType:[42,o("WAWebWamEnumEditType").EDIT_TYPE],fetchPrekeys:[15,e.TYPES.BOOLEAN],fetchPrekeysPercentage:[21,e.TYPES.INTEGER],groupSizeBucket:[17,o("WAWebWamEnumClientGroupSizeBucket").CLIENT_GROUP_SIZE_BUCKET],invisibleMessageCategory:[45,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isDirectedMessage:[33,e.TYPES.BOOLEAN],isE2eBackfill:[27,e.TYPES.BOOLEAN],isLid:[41,e.TYPES.BOOLEAN],isMessageFanout:[9,e.TYPES.BOOLEAN],isMessageForward:[8,e.TYPES.BOOLEAN],isPq:[49,e.TYPES.BOOLEAN],isRevokeMessage:[24,e.TYPES.BOOLEAN],isViewOnce:[29,e.TYPES.BOOLEAN],jobsInQueue:[18,e.TYPES.INTEGER],mediaType:[3,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageIsFirstUserMessage:[30,e.TYPES.BOOLEAN],messageIsInvisible:[31,e.TYPES.BOOLEAN],messageSendResult:[50,o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE],messageType:[4,o("WAWebWamEnumMessageType").MESSAGE_TYPE],networkWasDisconnected:[14,e.TYPES.BOOLEAN],participantCount:[37,e.TYPES.INTEGER],phoneCores:[34,e.TYPES.INTEGER],prekeysEligibleForPrallelProcessing:[28,e.TYPES.BOOLEAN],receiverDeviceCount:[39,e.TYPES.INTEGER],runningTasks:[44,e.TYPES.STRING],sendCount:[13,e.TYPES.INTEGER],sendRetryCount:[10,e.TYPES.INTEGER],sendStage:[2,o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE],senderDeviceCount:[40,e.TYPES.INTEGER],senderKeyDistributionCountPercentage:[23,e.TYPES.INTEGER],sessionsMissingWhenComposing:[25,e.TYPES.BOOLEAN],targetDeviceGroupSizeBucket:[20,o("WAWebWamEnumClientGroupSizeBucket").CLIENT_GROUP_SIZE_BUCKET],threadsInExecution:[19,e.TYPES.INTEGER],typeOfGroup:[38,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM],userToDeviceSizeBucket:[46,e.TYPES.STRING]},[1,1,2e3],"regular"]},{AndroidMessageSendPerf:[]});l.AndroidMessageSendPerfWamEvent=s}),98);
__d("WAWebApiBusinessProfile",["invariant","Promise","WALogger","WAWebBizGatingUtils","WAWebBotTypes","WAWebLidMigrationUtils","WAWebSchemaBusinessProfile","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){var e,u,c,d,m;function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebSchemaBusinessProfile").getBusinessProfileTable().get(e)}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebWidFactory").createWid(e);t.isLid()||s(0,86986);var n=yield p(e);if(n==null){var r=o("WAWebLidMigrationUtils").toPn(t);if(r!=null){var a=r.toString(),i=yield p(a);if(i!=null)return babelHelpers.extends({},i,{id:e})}}return n}),g.apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebWidFactory").createWid(e),n=o("WAWebLidMigrationUtils").toLid(t);if(n!=null){var r=yield p(n.toString());if(r!=null)return babelHelpers.extends({},r,{id:e})}return p(e)}),y.apply(this,arguments)}function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebBizGatingUtils").isLidMigrationForBusinessProfileEnabled()?o("WAWebWidFactory").createWid(e).isLid()?f(e):h(e):p(e)}),b.apply(this,arguments)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield p(e);return t?N(t):null}),S.apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield v(e);if(t==null){var n=o("WAWebWidFactory").createWid(e),r=o("WAWebLidMigrationUtils").toPn(n);if(r!=null){var a=yield v(r.toString());if(a!=null)return babelHelpers.extends({},a,{id:n})}}return t}),L.apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebWidFactory").createWid(e),n=o("WAWebLidMigrationUtils").toLid(t);if(n!=null){var r=yield v(n.toString());if(r!=null)return babelHelpers.extends({},r,{id:t})}return v(e)}),k.apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!o("WAWebBizGatingUtils").isLidMigrationForBusinessProfileEnabled())return v(e);var t=o("WAWebWidFactory").createWid(e);return t.isLid()?R(e):E(e)}),T.apply(this,arguments)}function D(e){return x.apply(this,arguments)}function x(){return x=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=M(e);yield o("WAWebSchemaBusinessProfile").getBusinessProfileTable().createOrMerge(t.id,t)}),x.apply(this,arguments)}function $(e){return P.apply(this,arguments)}function P(){return P=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.id,r=o("WAWebBizGatingUtils").isLidMigrationForBusinessProfileEnabled()?o("WAWebLidMigrationUtils").getPnAndLidToUpdate(t):[t];return(m||(m=n("Promise"))).all(r.map(function(t){return D(babelHelpers.extends({},e,{id:t}))}))}),P.apply(this,arguments)}function N(t){var n=t.commandsDescription,r=o("WAWebWidFactory").createWid(t.id),a=o("WAWebBotTypes").BizBotAutomatedType.cast(t.automatedType),i=o("WAWebBotTypes").BotWelcomeMsgProtocolModeType.cast(t.welcomeMsgProtocolMode),l;if(t.prompts!=null)try{l=JSON.parse(t.prompts),Array.isArray(l)||(l=null,o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["businessProfileFromDbRow: prompts are not an array"]))).sendLogs("businessProfileFromDbRow: prompts are not an array"))}catch(e){o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["businessProfileFromDbRow: prompts parsing failed"]))).sendLogs("businessProfileFromDbRow: prompts parsing failed")}var s;if(t.commands!=null)try{s=JSON.parse(t.commands),Array.isArray(s)||(s=null,o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["businessProfileFromDbRow: commands are not an array"]))).sendLogs("businessProfileFromDbRow: commands are not an array"))}catch(e){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["businessProfileFromDbRow: commands parsing failed"]))).sendLogs("businessProfileFromDbRow: commands parsing failed")}return{id:r,automatedType:a,welcomeMsgProtocolMode:i,prompts:l,commands:s,commandsDescription:n}}function M(e){var t=e.commandsDescription,n=e.id.toString(),r;e.automatedType&&(r=e.automatedType);var o;e.welcomeMsgProtocolMode&&(o=e.welcomeMsgProtocolMode);var a=e.prompts?JSON.stringify(e.prompts):void 0,i=e.commands?JSON.stringify(e.commands):void 0;return{id:n,automatedType:r,welcomeMsgProtocolMode:o,prompts:a,commandsDescription:t,commands:i}}l.getBusinessProfileRow=p,l.getBusinessProfileRowLidAware=C,l.getBusinessProfileRecord=v,l.getBusinessProfileRecordLidAware=I,l.createOrMergeBusinessProfileRecordLidAware=$,l.businessProfileFromDbRow=N}),98);
__d("WAWebWorkerStorageUtils",["invariant","Promise","WAWebIdb","WAWebStorage","err"],(function(t,n,r,o,a,i,l,s){var e,u="worker-storage",c=null;function d(){var e=new(r("WAWebIdb"))(u);c=new(o("WAWebStorage")).Storage(e)}function m(){return c!=null||s(0,56324),c}function p(){return c==null?(e||(e=n("Promise"))).reject(r("err")("[worker-storage] Storage should be created first before being destroyed")):c.purge().then(function(){c=null}).catch(function(e){throw c=null,e})}l.DATABASE_NAME=u,l.createStorage=d,l.getStorage=m,l.destroyStorage=p}),98);
__d("WAWebWorkerStorageVersions",["WAWebWorkerStorageUtils"],(function(t,n,r,o,a,i,l){function e(){return o("WAWebWorkerStorageUtils").getStorage().versions.version(0)}function s(){return o("WAWebWorkerStorageUtils").getStorage().versions.version(1)}l.localStorageCreateTable=e,l.deferredMessagesStorageCreateTable=s}),98);
__d("WAWebSchemaDeferredMessagesStorage",["WAWebStorageMutationBuilder","WAWebStorageSchema","WAWebWorkerStorageUtils","WAWebWorkerStorageVersions"],(function(t,n,r,o,a,i,l){var e=o("WAWebStorageMutationBuilder").columnBuilder(),s=e.addColumn,u=e.addEncryptedColumn,c=e.addUserDefinedPrimaryKey;function d(){o("WAWebWorkerStorageUtils").getStorage().add("deferred_messages").version(o("WAWebWorkerStorageVersions").deferredMessagesStorageCreateTable(),[c("id"),s("type"),u("plaintext",o("WAWebStorageSchema").EncryptedValueType.ARRAY_BUFFER),s("info"),s("paymentInfo"),s("bizInfo")]).view(function(e){return{id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo}}).useDbMsgEncKeyForEncryptedCol(!0)}function m(){return o("WAWebWorkerStorageUtils").getStorage().table("deferred_messages")}l.addTable=d,l.getTable=m}),98);
__d("WAWebApiDeferredMessagesStorage",["WAWebSchemaDeferredMessagesStorage","WAWebWorkerStorageUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(){return o("WAWebSchemaDeferredMessagesStorage").getTable().all().then(function(e){return e.map(function(e){return{id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo}})})}function s(e){var t=e.map(function(e){return{id:e.id,type:e.type,plaintext:e.plaintext,info:e.info,paymentInfo:e.paymentInfo,bizInfo:e.bizInfo}});return o("WAWebWorkerStorageUtils").getStorage().lock(["deferred_messages"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=e[0];yield n.bulkCreateOrReplace(t)});return function(t){return e.apply(this,arguments)}})())}function u(e){return o("WAWebSchemaDeferredMessagesStorage").getTable().remove(e)}function c(){return o("WAWebSchemaDeferredMessagesStorage").getTable().clear()}var d={getDeferredMessages:e,updateDeferredMessages:s,deleteDeferredMessage:u,clearDeferredMessages:c};l.default=d}),98);
__d("WAWebSchemaLocalStorage",["WAWebStorageMutationBuilder","WAWebWorkerStorageUtils","WAWebWorkerStorageVersions"],(function(t,n,r,o,a,i,l){var e=o("WAWebStorageMutationBuilder").columnBuilder(),s=e.addColumn,u=e.addUserDefinedPrimaryKey;function c(){o("WAWebWorkerStorageUtils").getStorage().add("local_storage").version(o("WAWebWorkerStorageVersions").localStorageCreateTable(),[u("key"),s("value")]).view(function(e){return{key:e.key,value:e.value}})}function d(){return o("WAWebWorkerStorageUtils").getStorage().table("local_storage")}l.addTable=c,l.getTable=d}),98);
__d("WAWebApiLocalStorage",["WAWebSchemaLocalStorage","WAWebWorkerStorageUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return o("WAWebSchemaLocalStorage").getTable().get(e).then(function(e){return e==null?void 0:e.value})}function s(e){var t=e.map(function(e){return{key:e.key,value:e.value}});return o("WAWebWorkerStorageUtils").getStorage().lock(["local_storage"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=e[0];yield n.clear(),yield n.bulkCreateOrReplace(t)});return function(t){return e.apply(this,arguments)}})())}function u(){return o("WAWebSchemaLocalStorage").getTable().clear()}l.getLocalStorageValue=e,l.updateLocalStorage=s,l.clearLocalStorage=u}),98);
__d("WAWebApiOrphanTcToken",["Promise","WAWebLidMigrationUtils","WAWebSchemaOrphanTcToken","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){if(t.isUser()){var r=o("WAWebSchemaOrphanTcToken").getOrphanTcTokenTable(),a=o("WAWebLidMigrationUtils").toPn(t),i=o("WAWebLidMigrationUtils").toLid(t),l=[];a!=null&&l.push(r.remove(a.toString())),i!=null&&l.push(r.remove(i.toString())),yield(e||(e=n("Promise"))).all(l)}}),u.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,a;if(!t.isUser())return null;var i=o("WAWebSchemaOrphanTcToken").getOrphanTcTokenTable(),l=o("WAWebLidMigrationUtils").toPn(t),s=o("WAWebLidMigrationUtils").toLid(t),u=[];l!=null&&u.push(i.get(l.toString())),s!=null&&u.push(i.get(s.toString()));var c=yield(e||(e=n("Promise"))).all(u),d=c[0],m=c[1],p=(r=d==null?void 0:d.tcTokenTimestamp)!=null?r:0,_=(a=m==null?void 0:m.tcTokenTimestamp)!=null?a:0;return p>_||m==null?d:m}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n;if(e.isUser()){var r=(n=o("WAWebLidMigrationUtils").toLid(e))!=null?n:e,a=r.toString();return o("WAWebSchemaOrphanTcToken").getOrphanTcTokenTable().createOrMerge(a,babelHelpers.extends({chatId:a},t))}}),p.apply(this,arguments)}l.removeOrphanTcToken=s,l.getOrphanTcToken=c,l.createOrUpdateOrphanTcToken=m}),98);
__d("WAWebApiPeerMessageStore",["WAWebMsgKey","WAWebSchemaPeerMessage","WAWebUserPrefsMeUser"],(function(t,n,r,o,a,i,l){var e=["kind"];function s(t){var n=t.map(function(t){var n=t.kind,r=babelHelpers.objectWithoutPropertiesLoose(t,e);return babelHelpers.extends({},r,{id:String(t.id),to:String(t.to),subtype:String(t.subtype)})});return o("WAWebSchemaPeerMessage").getPeerMessageTable().bulkCreate(n)}function u(e){var t=o("WAWebSchemaPeerMessage").getPeerMessageTable(),n=new(r("WAWebMsgKey"))({fromMe:!0,remote:o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),id:e});return t.remove(n.toString())}l.storePeerMessages=s,l.deletePeerMessage=u}),98);
__d("WAWebAutoLogoutGating",["WAWebEnvironment","WAWebUA"],(function(t,n,r,o,a,i,l){function e(){var e=s();return e}function s(){return r("WAWebEnvironment").isWindows?!1:o("WAWebUA").UA.hasCredentiallessIframeSupport&&!o("WAWebUA").UA.isOculusBroswer}function u(){var e=self.location!==self.parent.location;if(!e)return!1;var t=new URLSearchParams(window.location.search),n=t.get("autologout");return n==="1"}function c(){var e=new URL(window.location.href);return e.searchParams.set("autologout","1"),e.toString()}l.isAutoLogoutEnabled=e,l.isRunningInAutoLogoutIframe=u,l.getAutoLogoutIframeUrl=c}),98);
__d("WAWebArkoseExpUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({NONE:-1,CONTROL:0,TEST:1,DEV:2});function s(){if(!r("justknobx")._("5007"))return u();if(o("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var t=window.parent.arkoseVariant,n=e.cast(t);return n!=null?n:u()}var a=u();return window.arkoseVariant=a,a}function u(){return r("gkx")("26256")||!r("gkx")("18518")?e.NONE:r("gkx")("26258")?r("gkx")("19648")?e.TEST:e.CONTROL:r("gkx")("7634")?e.DEV:e.NONE}function c(){return s()===e.TEST||s()===e.DEV}l.ArkoseVariantType=e,l.getArkoseVariant=s,l.isArkoseAllowedToRun=c}),98);
__d("WAWebArrowForwardIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="arrow-forward";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=30,R=30;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 30 30",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 30 30",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{fill:"currentColor",d:"M15,7l-1.4,1.4l5.6,5.6H7v2h12.2l-5.6,5.6L15,23l8-8L15,7z"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.ArrowForwardIcon=m}),98);
__d("WAWebAssetLoaderDpiChangeDispatch",[],(function(t,n,r,o,a,i){var e={LOW:"low",HIGH:"high"},l=window.matchMedia("\n    only screen and (-webkit-min-device-pixel-ratio: 2),\n    only screen and (min-device-pixel-ratio: 2),\n    only screen and (min-resolution: 2dppx)\n"),s={RES:e,currentRes:l.matches?e.HIGH:e.LOW},u=function(n){var t=n.matches?e.HIGH:e.LOW;if(t!==s.currentRes){s.currentRes=t;var r=document.createEvent("Event");r.initEvent("dpichange",!0,!0),window.dispatchEvent(r)}};l.addListener(u);var c=s;i.default=c}),66);
__d("WAWebAssetLoaderDynamicStyle",["WACamelCase","lodash","uniqueID"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.rules={},this.styleSheet=this.createStyleSheet(e)}var t=e.prototype;return t.createStyleSheet=function(t){var e=t||r("uniqueID")("dynamic-style-"),n=document.createElement("style");return n.id=e,n.type="text/css",document.head&&document.head.appendChild(n),n=n.sheet,n},t.addRule=function(t,n){var e=this.styleSheet.cssRules.length,r=Object.entries(n).map(function(e){var t=e[0],n=e[1];return t+": "+n+";"}).join(" ");return this.styleSheet.insertRule(t+" { "+r+" }",e),this.rules[t]=this.styleSheet.cssRules[e],this.rules[t]},t.updateRule=function(t,n){var e=this.rules[t];return r("lodash").forOwn(n,function(t,n){e.style[r("WACamelCase")(n)]=t}),e},t.setRule=function(t,n){var e=this.rules[t];return e?this.updateRule(t,n):this.addRule(t,n)},e})();l.default=e}),98);
__d("WAWebAssetToLoad",[],(function(t,n,r,o,a,i){var e=(function(){function e(e,t,n){this.retryCount=0,this.asset=e,this.resolution=t,this.priority=n}var t=e.prototype;return t.getLoadUrlPromise=function(){return this.$3},t.setLoadUrlPromise=function(t,n){this.$3=t,this.$5=n},t.abortLoadUrlPromise=function(){var e;(e=this.$5)==null||e.abort()},t.getConsumerPromise=function(){return this.$1},t.setConsumerPromise=function(t){this.$1=t},t.getConsumerPromiseResolve=function(){return this.$2},t.setConsumerPromiseResolve=function(t,n){this.$2=t,this.$4=n},t.abortConsumerPromise=function(){var e;(e=this.$4)==null||e.abort()},e})();i.default=e}),66);
__d("distinctArray",[],(function(t,n,r,o,a,i){function e(e){if(e==null)return[];if(Array.isArray(e)){var t=e.length;if(t<=200){for(var n=[],r=0;r<t;r++){var o=e[r];n.indexOf(o)===-1&&n.push(o)}return n}}return Array.from(new Set(e).values())}i.default=e}),66);
__d("WAWebEmojiAssetLoader",["WAWebEmoji","WAWebEmojiConst","WAWebMobilePlatforms","distinctArray","lodash"],(function(t,n,r,o,a,i,l){var e,s=r("lodash").memoize(function(t,n){for(var a=new Map,i=u(t),l=n[i],s=l.SELECTOR,c=Math.ceil((e||(e=r("distinctArray")))(r("lodash").values(l.UNICODE_TO_EMOJI)).length/o("WAWebEmojiConst").BUCKET_SIZE),d=0;d<c;d+=1){var m,p="emoji-"+s+"-b"+d,_=40;a.set(p,{id:p,selectors:[".emoji."+s+".b"+d,".emojik."+s+".b"+d],low:{webp:(m=o("WAWebEmoji")).EmojiUtil.getSpritesPath(i,d,_,"webp"),default:m.EmojiUtil.getSpritesPath(i,d,40,"png")},high:{default:m.EmojiUtil.getSpritesPath(i,d,64,"png"),webp:m.EmojiUtil.getSpritesPath(i,d,64,"webp")}})}return a});function u(e){switch(e){case o("WAWebMobilePlatforms").PLATFORMS.IPHONE:case o("WAWebMobilePlatforms").PLATFORMS.SMBI:case o("WAWebMobilePlatforms").PLATFORMS.IPAD:return o("WAWebEmojiConst").EMOJI_TYPE.APPLE;default:return o("WAWebEmojiConst").EMOJI_TYPE.WHATSAPP}}function c(e){return function(t){return s(t,e)}}l.getEmojiTypeFromPlatform=u,l.emojiAssetMapCreator=c}),98);
__d("WAWebPonyfillsMediaError",[],(function(t,n,r,o,a,i){var e=window.MediaError||{MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4},l=e;i.default=l}),66);
__d("WAWebWamEnumWebcMediaLoadResultCode",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUCCESS:0,SILENCE:1,ZEROWIDTH:2});i.WEBC_MEDIA_LOAD_RESULT_CODE=e}),66);
__d("WAWebWebcMediaLoadWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcMediaLoadResultCode"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({WebcMediaLoad:[1202,{webcMediaLoadResult:[2,o("WAWebWamEnumWebcMediaLoadResultCode").WEBC_MEDIA_LOAD_RESULT_CODE],webcMediaLoadT:[1,o("WAWebWamCodegenUtils").TYPES.TIMER]},[1,1,1],"regular"]},{WebcMediaLoad:[]});l.WebcMediaLoadWamEvent=e}),98);
__d("WAWebMediaLoad",["Promise","WACustomError","WAFilteredCatch","WALogger","WAOpusRecorderPlayer","WAPromiseDelays","WAPromiseTimeout","WAWebMimeTypes","WAWebMiscErrors","WAWebNoop","WAWebPonyfillsMediaError","WAWebUA","WAWebWamEnumWebcMediaLoadResultCode","WAWebWebcMediaLoadWamEvent","err","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y=6e5,C=new Audio().canPlayType("audio/ogg"),b=0,v=(h||(h=n("Promise"))).resolve();function S(e){var t;if(!e||!e.error)return null;var n=e.error,o=Object.keys(r("WAWebPonyfillsMediaError")),a=(t=o.find(function(e){return r("WAWebPonyfillsMediaError")[e]===n.code}))!=null?t:"UNKNOWN CODE "+n.code,i=n.message,l=i!=null&&~i.indexOf(":")?i.split(":")[0]:"";return l?a+": "+l:a}function R(e,t){t===void 0&&(t=!0);var a;return new(h||(h=n("Promise")))(function(n,i){a=new Image;var l=/^(?:data|blob):/.test(e);t&&!l&&a.setAttribute("crossOrigin","anonymous"),a.onload=n,a.onabort=function(){i(r("err")("loadImage onabort"))},a.onerror=function(e){i(new(o("WAWebMiscErrors")).InvalidImageFileType("Image tag load error"))},a.src=e}).then(function(){return a})}function L(e){return R(e).then(function(e){if(e&&e.naturalWidth>0)return{img:e,fullWidth:e.naturalWidth,fullHeight:e.naturalHeight};throw new(o("WAWebMiscErrors")).MediaLoadError("image loaded with zero width")}).catch(function(){throw new(o("WAWebMiscErrors")).MediaLoadError("unable to render image")})}function E(e){var t=v.then(function(){return k(e)});return v=o("WAPromiseTimeout").promiseTimeout(t,1e3).then(r("WAWebNoop"),r("WAWebNoop")),t}function k(t){var r=new(o("WAWebWebcMediaLoadWamEvent")).WebcMediaLoadWamEvent,a=null,i,l,f=++b;function g(){i&&a&&(document.body&&document.body.removeChild(a),a=null)}var y=!0,C=new(h||(h=n("Promise")))(function(n,r){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video called (#",")"])),f);var d=!1,m=!1;i=document.createElement("video"),i.setAttribute("crossOrigin","anonymous"),i.volume=0,i.muted=!0,i.playsinline=!0;var p=function(){m&&d&&n()};if(i.onloadedmetadata=function(){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video.onloadedmetadata #",". Video ready: ",". Video width: ",""])),f,m,i.videoWidth),i.onloadedmetadata=null,d=!0,p()},i.oncanplaythrough=function(){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video.oncanplaythrough #",". Metadata loaded: ",". Video width: ",""])),f,d,i.videoWidth),i.oncanplaythrough=null,i.onseeked=function(){m=!0,i.onseeked=null,p()},i.currentTime=0},i.onerror=function(){var e=i.error?i.error.message:"no error message";o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video.onerror #",": ","\n Blob info -> size:",", type: ",""],["MediaLoad:video.onerror #",": ","\\n Blob info -> size:",", type: ",""])),f,String(e),t.size,t.type);var n=S(i);r(new(o("WAWebMiscErrors")).UnableToPlayVideoError(n))},i.src=l=window.URL.createObjectURL(t),o("WAWebUA").UA.isSafari){a=document.createElement("div");var _=a;_.style="opacity: 0.004",_.appendChild(i),document.body&&document.body.appendChild(_)}i.load(),i.currentTime=1}).finally(function(){y=!1});self.setTimeout(function(){g(),y&&(o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["unable to load video #"," ("," bytes)"])),f,t.size),new(o("WAWebWebcMediaLoadWamEvent")).WebcMediaLoadWamEvent({webcMediaLoadResult:o("WAWebWamEnumWebcMediaLoadResultCode").WEBC_MEDIA_LOAD_RESULT_CODE.SILENCE}).commit())},8e3);var v=2e4,R=10,L=o("WAPromiseTimeout").promiseTimeout(C,v).then(function(){return o("WAPromiseDelays").delayMs(R)}).then(function(){if(r.markWebcMediaLoadT(),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video #"," successful"])),f),i.pause(),i.videoWidth>0)return r.webcMediaLoadResult=o("WAWebWamEnumWebcMediaLoadResultCode").WEBC_MEDIA_LOAD_RESULT_CODE.SUCCESS,r.commit(),{video:i,fullWidth:i.videoWidth,fullHeight:i.videoHeight,duration:i.duration};throw i.duration>0?(o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video #"," dimensions are not defined. Video readyState: ",". Video width: ",""])),f,i.readyState,i.videoWidth),new(o("WAWebMiscErrors")).MediaUnsupportedError("video loaded with duration but no dims")):(r.webcMediaLoadResult=o("WAWebWamEnumWebcMediaLoadResultCode").WEBC_MEDIA_LOAD_RESULT_CODE.ZEROWIDTH,r.commit(),new(o("WAWebMiscErrors")).MediaLoadError("video loaded with zero width"))}).catch(o("WAFilteredCatch").filteredCatch(o("WACustomError").TimeoutError,function(e){throw o("WALogger").ERROR(_||(_=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:video load error, currentTime=",". duration=",""])),i.currentTime,i.duration).sendLogs("video-load-timeout",{sampling:.01}),e})).finally(function(){g(),i&&(i.onloadedmetadata=null,i.onloadeddata=null,i.oncanplaythrough=null,i.ontimeupdate=null,i.onerror=null),l&&window.URL.revokeObjectURL(l)});return L.catch(function(){T(i)}),L}function I(e){return E(e).then(function(e){var t=e.duration,n=e.fullHeight,r=e.fullWidth,o=e.video;return T(o),{width:r,height:n,duration:t}})}function T(e){try{e.pause(),e.src="",e.load()}catch(e){o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Error"]))).catching(r("getErrorSafe")(e)).sendLogs("dispose-video-error")}}function D(e,t){var a=t||e.type;if(o("WAWebMimeTypes").isOpus(a)&&!C){if(e.size<=y){var i=new(r("WAOpusRecorderPlayer"))(e);return i.generateBlob()}return o("WALogger").WARN(g||(g=babelHelpers.taggedTemplateLiteralLoose(["MediaLoad:transcode TranscodeBlobTooLargeError blob too large = ",""])),e.size),(h||(h=n("Promise"))).reject(new(o("WAWebMiscErrors")).TranscodeBlobTooLargeError)}return(h||(h=n("Promise"))).resolve(e)}l.canPlayOgg=C,l.loadImage=R,l.image=L,l.loadVideo=E,l.videoWidthHeightDuration=I,l.disposeVideo=T,l.transcode=D}),98);
__d("WAWebFeatureDetectionDetectWebpSupport",["Promise","WAPromiseTimeout","WAWebBoolFunc","WAWebMediaLoad","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",u=o("WAPromiseTimeout").promiseTimeout(new(e||(e=n("Promise")))(function(e){o("WAWebMediaLoad").loadImage(s).then(function(t){return e(t.height===2)})}),5e3).catch(o("WAWebBoolFunc").returnFalse),c=null;function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(c!=null)return(e||(e=n("Promise"))).resolve(c);var t=yield u;return c=t,t}),m.apply(this,arguments)}function p(){return c}l.detectWebpSupport=d,l.getCachedWebpSupport=p}),98);
__d("WAWebLoadAssetUrl",["WACustomError","WANullthrows","WAWebFeatureDetectionDetectWebpSupport","WAWebHttpExtendedFetch","WAWebNetworkStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e={DEFAULT:"default",WEBP:"webp"},s=(function(e){function t(t,n,r){var o;return o=e.call(this,"Failed to load url. StatusCode: "+n+". Duration: "+r+" ms")||this,o.name="LoadUrlError",o.url=t,o.statusCode=n,o}return babelHelpers.inheritsLoose(t,e),t})(o("WACustomError").CustomError);function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("WAWebFeatureDetectionDetectWebpSupport").detectWebpSupport(),a=t.asset,i=t.resolution,l=n&&a[i][e.WEBP]?e.WEBP:e.DEFAULT;return r("WANullthrows")(a[i][l])}),c.apply(this,arguments)}function d(e){var t=new AbortController,a=u(e).then((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){yield r("WAWebNetworkStatus").waitIfOffline();var a=Date.now(),i=yield o("WAWebHttpExtendedFetch").extendedFetch(n,{signal:t.signal}),l=e.getConsumerPromiseResolve();if(i.ok&&l)l(n);else throw new s(n,i.status,Date.now()-a)});return function(e){return a.apply(this,arguments)}})());return e.setLoadUrlPromise(a,t),a}l.LoadUrlError=s,l.getSupportedImageFormatUrl=u,l.loadUrl=d}),98);
__d("WAWebWamEnumWebcAssetCacheTypeCode",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNCACHED:0,IDB:1,SW:2});i.WEBC_ASSET_CACHE_TYPE_CODE=e}),66);
__d("WAWebWebcAssetLoadWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcAssetCacheTypeCode"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({WebcAssetLoad:[1358,{webcAssetCacheType:[4,o("WAWebWamEnumWebcAssetCacheTypeCode").WEBC_ASSET_CACHE_TYPE_CODE],webcAssetFromCache:[2,e.TYPES.BOOLEAN],webcAssetLoadT:[3,e.TYPES.TIMER],webcAssetName:[1,e.TYPES.STRING],webcAssetSize:[5,e.TYPES.NUMBER]},[1,1,1],"regular"]},{WebcAssetLoad:[]});l.WebcAssetLoadWamEvent=s}),98);
__d("WAWebAssetLoader",["invariant","Promise","WAAbortError","WABackoffUtils","WALogger","WANullthrows","WAPriorityQueue","WAPromiseRaceAbort","WAWebAssetLoaderDpiChangeDispatch","WAWebAssetLoaderDynamicStyle","WAWebAssetToLoad","WAWebEmoji","WAWebEmojiAssetLoader","WAWebEmojiConst","WAWebLoadAssetUrl","WAWebNoop","WAWebWamEnumWebcAssetCacheTypeCode","WAWebWebcAssetLoadWamEvent","asyncToGeneratorRuntime","cr:5624","err","gkx","lodash"],(function(t,n,r,o,a,i,l,s){var e,u,c,d,m,p,_,f,g,h,y={INITIAL_EMOJI_LOAD:1,INITIAL_ASSET_LOAD:2,THEME_ASSET_LOAD:2,HELP_ANIMATED_DOODLE:2,LAZY_LOAD_EMOJI:2,NOTIFICATION_ICON:2},C=(function(){function t(e){var t=this;e===void 0&&(e=90),this._assetStyle=new(r("WAWebAssetLoaderDynamicStyle"))("asset-style"),this._requestedAssets={},this._loadingDataMap={},this._getEmojiForPlatform=null,this._currentResolution=r("WAWebAssetLoaderDpiChangeDispatch").currentRes,this._currentlyLoadingCount=0,this._queue=new(r("WAPriorityQueue"))(function(e){return-e.priority}),this._hasLoggedDecrementBelowZero=!1,this.loadAssetsForCurrentDpi=function(){var e=r("WAWebAssetLoaderDpiChangeDispatch").currentRes,n=t._currentResolution;e!==n&&(t._currentResolution=e,Object.keys(t._requestedAssets).forEach(function(e){t._cancelLoad(e,n)}),t._loadAssets(r("lodash").values(t._requestedAssets),y.INITIAL_EMOJI_LOAD,{forceCheck:!1}).catch(o("WAAbortError").catchAbort(r("WAWebNoop"))))},this._maxConcurrentRequests=e}var a=t.prototype;return a.initEmojiAsset=function(t){this._getEmojiForPlatform=t},a.loadInitialAssets=function(n){var t=new(o("WAWebWebcAssetLoadWamEvent")).WebcAssetLoadWamEvent({webcAssetName:"initial-assets",webcAssetFromCache:!1,webcAssetCacheType:o("WAWebWamEnumWebcAssetCacheTypeCode").WEBC_ASSET_CACHE_TYPE_CODE.UNCACHED});this._loadAssets(n,y.INITIAL_ASSET_LOAD,{estimateStorage:!0}).then(function(){t.markWebcAssetLoadT(),t.commit();var n=t.webcAssetLoadT;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["AssetLoader:loadInitialAssets complete in ","ms"])),n)}).catch(o("WAAbortError").catchAbort(function(){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["AssetLoader:loadInitialAssets cancelled by more recent request."])))}))},a.loadEmoji=function(t,a){if(this._getEmojiForPlatform&&this._currentPlatform){var e=this._getEmojiForPlatform(this._currentPlatform),i=o("WAWebEmoji").EmojiUtil.getBucket(t),l=this._getEmojiPrefix(),s=e.get(l+"b"+i),u=this._currentResolution;return s?this.loadAsset(s,a,!1).catch(o("WAAbortError").catchAbort(function(){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["AssetLoader: loadEmoji Cancelled by more recent request: ","-",""])),s.id,u)})):(h||(h=n("Promise"))).reject(r("err")("The given emoji glyph id was not found"))}return(h||(h=n("Promise"))).reject(r("err")("emojiForPlatform or currentPlatform are not set"))},a.loadEmojis=function(){var e=r("WANullthrows")(this._currentPlatform);this._getEmojiForPlatform!=null||s(0,56365);var t=Array.from(this._getEmojiForPlatform(e).values()),n=new(o("WAWebWebcAssetLoadWamEvent")).WebcAssetLoadWamEvent({webcAssetName:"emojis",webcAssetFromCache:!1,webcAssetCacheType:o("WAWebWamEnumWebcAssetCacheTypeCode").WEBC_ASSET_CACHE_TYPE_CODE.UNCACHED});this._loadAssets(t,y.INITIAL_EMOJI_LOAD,{estimateStorage:!0}).then(function(){n.markWebcAssetLoadT(),n.commit();var e=n.webcAssetLoadT;o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["AssetLoader:loadEmojis complete in ","ms"])),e)}).catch(o("WAAbortError").catchAbort(function(){o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["AssetLoader:loadEmojis cancelled by more recent request."])))}))},a.loadAsset=function(t,a,i){var e=this;i===void 0&&(i=!0);var l=t.id,s=r("WAWebAssetLoaderDpiChangeDispatch").currentRes,u=this._requestedAssets[l];if(u&&!r("lodash").isEqual(t,u)){var c=["Attempted to load an asset using an already used ID"];return(h||(h=n("Promise"))).reject(r("err")(c.join("\n")))}this._requestedAssets[l]=t,this._loadingDataMap[l]=this._loadingDataMap[l]||{};var d=s==="high"?"low":"high";this._cancelLoad(l,d);var m=this._loadingDataMap[l][s];if(m&&!i)return m.promise;var _=new(r("WAWebAssetToLoad"))(t,s,a),f=new AbortController,g=f.signal,y=this._buildPromise(_,f).then(function(n){if(g.aborted)throw new(o("WAAbortError")).AbortError;var r=t.selectors;return r&&e._assetStyle.setRule(""+r.join(", "),{"background-image":"url('"+n+"')"}),n}).catch(function(t){var n=e._loadingDataMap[l][s],r=C!==n;if(r||(e._loadingDataMap[l][s]=null),t.name===o("WAAbortError").ABORT_ERROR&&(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Asset load cancelled by more recent request: ","-",""])),l,s),r&&n))return n.promise;throw t});_.setConsumerPromise(y);var C={promise:y,abort:function(n){e._abortUrlPromise(_,n)}};return this._loadingDataMap[l][s]=C,m&&m.abort(!1),this._startLoad(),y},a._buildPromise=function(t,o){var e=this,a=new(h||(h=n("Promise")))(function(n){t.setConsumerPromiseResolve(n,o),e._queue.push(t)});return r("WAPromiseRaceAbort")(a,o.signal)},a._startLoad=function(){var e=this;if(!(this._currentlyLoadingCount>=this._maxConcurrentRequests)){for(var t=function(){var t=e._queue.pull();if(!t)return{v:void 0};e._currentlyLoadingCount+=1,o("WAWebLoadAssetUrl").loadUrl(t).then(function(){e._decrementCurrentlyLoadingCount(),e._startLoad()}).catch(o("WAAbortError").catchAbort(function(){e._decrementCurrentlyLoadingCount(),e._startLoad()})).catch(function(n){if(e._decrementCurrentlyLoadingCount(),!r("gkx")("26258")&&n instanceof o("WAWebLoadAssetUrl").LoadUrlError&&(n.statusCode===404||n.statusCode===429)){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Dev-only: Failed to load asset "," with status ",". This might cause emojis to not show, this likely happens because emoji hashes changed. Rebuilding should fix the issue"])),n.url,n.statusCode);return}t.retryCount+=1;var a=o("WABackoffUtils").expBackoff(t.retryCount,12e4,1e3,.1);self.setTimeout(function(){e._queue.push(t),e._startLoad()},a),e._startLoad(),o("WAWebLoadAssetUrl").getSupportedImageFormatUrl(t).then(function(e){var t=e.split("/");o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Asset: "," failed. Retrying... ",""])),t[t.length-1],n.toString())})})},n,a=0;a<this._maxConcurrentRequests-this._currentlyLoadingCount;a++)if(n=t(),n)return n.v}},a._abortUrlPromise=function(t,n){n===void 0&&(n=!0);var e=t.getLoadUrlPromise();if(e){t.abortLoadUrlPromise();var r=t.getConsumerPromise();n&&r&&t.abortConsumerPromise()}this._startLoad()},a._cancelLoad=function(t,n){var e,r=(e=this._loadingDataMap[t])==null?void 0:e[n];r&&(this._loadingDataMap[t][n]=null,r.abort(!0))},a.setPlatform=function(t){var e=this,n=this._currentPlatform;if(t!==n){this._currentPlatform=t;var r=o("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(t),a=r===o("WAWebEmojiConst").EMOJI_TYPE.APPLE?o("WAWebEmojiConst").EMOJI_TYPE.WHATSAPP:o("WAWebEmojiConst").EMOJI_TYPE.APPLE,i=a===o("WAWebEmojiConst").EMOJI_TYPE.APPLE?"emoji-apple-":"emoji-wa-";if(Object.keys(this._requestedAssets).forEach(function(t){t.startsWith(i)&&(e._cancelLoad(t,"high"),e._cancelLoad(t,"low"))}),this._getEmojiForPlatform!=null){var l=Array.from(this._getEmojiForPlatform(t).values());this._loadAssets(l,y.INITIAL_EMOJI_LOAD,{forceCheck:!1})}}},a.isAssetLoaded=function(t){return this._requestedAssets[t]!=null},a._getEmojiPrefix=function(){var e=o("WAWebEmojiAssetLoader").getEmojiTypeFromPlatform(this._currentPlatform);return e===o("WAWebEmojiConst").EMOJI_TYPE.APPLE?"emoji-apple-":"emoji-wa-"},a._loadAssets=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,o){var a=this,i=(o==null?void 0:o.forceCheck)!==!1,l=(o==null?void 0:o.estimateStorage)===!0,s=yield(h||(h=n("Promise"))).all(e.map(function(e){return a.loadAsset(e,t,i)}));return n("cr:5624")&&n("cr:5624")({keep:r("lodash").values(this._requestedAssets),estimateStorage:l}),s});function t(t,n,r){return e.apply(this,arguments)}return t})(),a._decrementCurrentlyLoadingCount=function(){this._currentlyLoadingCount<=0&&!this._hasLoggedDecrementBelowZero&&(this._hasLoggedDecrementBelowZero=!0,o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).sendLogs("Tried to decrease _loadingCount below zero, would have been negative.")),this._currentlyLoadingCount=Math.max(0,this._currentlyLoadingCount-1)},t})();l.LOAD_PRIORITY=y,l.AssetLoaderImpl=C}),98);
__d("WAWebAssetLoaderSingleton",["WAWebAssetLoader","gkx"],(function(t,n,r,o,a,i,l){var e=new(o("WAWebAssetLoader")).AssetLoaderImpl;window.addEventListener("dpichange",function(){e.loadAssetsForCurrentDpi()}),r("gkx")("26258")||(window.AssetLoader=e),l.AssetLoader=e}),98);
__d("WAWebAuraGatingUtils",["WAWebABProps","WAWebMobilePlatforms","WAWebStickerPremiumStatus","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("WAWebMobilePlatforms").isSMB()?!1:r("gkx")("20621")}function s(){return e()?o("WAWebABProps").getABPropConfigValue("aura_pinned_chats_enabled"):!1}function u(){return s()?o("WAWebABProps").getABPropConfigValue("aura_pinned_chats_benefit_active"):!1}function c(){return e()?o("WAWebABProps").getABPropConfigValue("aura_stickers_enabled"):!1}function d(){return c()?o("WAWebABProps").getABPropConfigValue("aura_stickers_benefit_active"):!1}function m(e){return e==null||e===o("WAWebStickerPremiumStatus").StickerPremiumStatus.NONE?!0:e===o("WAWebStickerPremiumStatus").StickerPremiumStatus.PREMIUM?d():(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}l.isAuraEnabled=e,l.isAuraPinnedChatsEnabled=s,l.isAuraPinnedChatsBenefitActive=u,l.isAuraStickersEnabled=c,l.isAuraStickersBenefitActive=d,l.canUsePremiumSticker=m}),98);
__d("WAWebBizCoexOfflineICDCHandledCache",["WAWebBackendEventBus"],(function(t,n,r,o,a,i,l){var e=new Set;function s(t){e.add(t)}function u(t){e.delete(t)}function c(t){return e.has(t)}o("WAWebBackendEventBus").BackendEventBus.onOfflineDeliveryEnd(function(){e.clear()}),l.addToOfflineBizHostedSenderICDCProcessedCache=s,l.removeFromOfflineBizHostedSenderICDCProcessedCache=u,l.hasOfflineBizHostedSenderICDCProcessedForSender=c}),98);
__d("WAWebHandleUsernameSync",["WALogger","WAWebSetUsernameJob","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.error.username;if(n){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleUsernameUsync: error ",": ",""])),n.errorCode,n.errorText);return}var r=t.list,a=r.reduce(function(e,t){var n;if(t.username!=null)return e.push({userId:t.id,username:t.username}),e;var r=((n=t.contact)==null?void 0:n.type)==="out";return r||e.push({userId:t.id,deleteUsername:!0}),e},[]);yield o("WAWebSetUsernameJob").setUsernamesJob(a)}),u.apply(this,arguments)}l.handleUsernameSync=s}),98);
__d("WAWebMexUsersGetUsername",["WAWebMexUsync","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebMexUsync").mexUsyncQuery({users:e.map(function(e){return{jid:e.toJid()}}),telemetry:{context:"INTERACTIVE"},fetch:{username:!0}}),n=t.response;if(n!=null)return n.map(function(e){var t;return e.username_info==null?{error:!0,username:null}:{username:(t=e.username_info)==null?void 0:t.username}})}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield e([t]);return n==null?void 0:n[0].username}),c.apply(this,arguments)}l.getMexUserUsername=u}),98);
__d("WAWebQueryExistsJob",["WALogger","WAPhoneFindCC","WAWebApiContact","WAWebBackendErrors","WAWebContactSyncLogger","WAWebDBCreateLidPnMappings","WAWebHandleUsernameSync","WAWebMexUsersGetUsername","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebUsernameTypes","WAWebUsync","WAWebUsyncUser","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e,t){return e.isLid()?d({type:"lid",wid:e},t):d({type:"phone",phone:"+"+e.toString()},t)}function c(e,t){return d({type:"phone",phone:e},t)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAWebUsernameGatingUtils").usernameContactUsyncLidBased(),a=new(o("WAWebUsyncUser")).USyncUser,i=new(o("WAWebUsync")).USyncQuery;if(e.type==="phone"?(i.withContactProtocol(n?o("WAWebUsync").USYNC_ADDRESSING_MODE.LID:o("WAWebUsync").USYNC_ADDRESSING_MODE.PN),a.withPhone(e.phone)):a.withId(e.wid),!n&&(i.withLidProtocol(),e.type==="phone")){var l=o("WAPhoneFindCC").extractDigits(e.phone)+"@c.us";if(r("WAWebWid").isWid(l)){var s=o("WAWebApiContact").getCurrentLid(o("WAWebWidFactory").createUserWidOrThrow(l));s&&a.withLid(s)}}i.withUser(a),i.withBusinessProtocol(),i.withDisappearingModeProtocol(),i.withUsernameProtocol();var u=o("WAWebContactSyncLogger").contactSyncLogger.createEventContext({syncType:o("WAWebContactSyncLogger").getSyncTypeString("interactive","query"),requestOrigin:t!=null?t:o("WAWebContactSyncLogger").SYNC_REQUEST_ORIGIN.UNKNOWN,requestedCount:1,protocols:i.protocols}),c=yield o("WAWebContactSyncLogger").contactSyncLogger.executeWithLogging(u,function(){return i.execute()}),d=c.error.all||c.error.contact;if(d)throw o("WAWebContactSyncLogger").contactSyncLogger.logFailure(u,d.errorCode,c),new(o("WAWebBackendErrors")).ServerStatusCodeError(d.errorCode,d.errorText);var m=c.list;if(m.length!==1)return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(u,c),null;var p=m[0],_=p.business,f=p.contact,g=p.id,h=p.lid,y=p.pn,C=p.username,b=m[0].disappearingMode;if(e.type==="phone"&&(f==null?void 0:f.type)!=="in")return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(u,c),null;var v={wid:g,biz:_!=null,bizInfo:_,isUsernameSearch:e.type==="phone"?!1:void 0};o("WAWebUsernameGatingUtils").usernameSearchEnabled()&&C!=null&&(v.username=C),b&&(v.disappearingMode={duration:b.duration,settingTimestamp:b.t},b.ephemeralityDisabled&&(v.disappearingMode.isEphemeralityDisabled=!0));var S=null,R=null;return g.isLid()?(S=y,R=g):(S=g,h!=null&&(R=o("WAWebWidFactory").createUserWidOrThrow(h,"lid"))),S!=null&&R!=null&&(yield o("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{pn:S,lid:R}],flushImmediately:!0,learningSource:"usync"}),!g.isLid()&&o("WAWebUsernameGatingUtils").onlyShowLidContacts()&&(v.wid=R)),yield o("WAWebHandleUsernameSync").handleUsernameSync(c),o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(u,c),v}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[usync] querying contact: "," for username info"])),t);var r=new(o("WAWebUsyncUser")).USyncUser,a=new(o("WAWebUsync")).USyncQuery;r.withId(t),a.withUser(r),a.withUsernameProtocol();var i=o("WAWebContactSyncLogger").contactSyncLogger.createEventContext({syncType:o("WAWebContactSyncLogger").getSyncTypeString("interactive","query"),requestOrigin:n!=null?n:o("WAWebContactSyncLogger").SYNC_REQUEST_ORIGIN.UNKNOWN,requestedCount:1,protocols:a.protocols}),l=yield o("WAWebContactSyncLogger").contactSyncLogger.executeWithLogging(i,function(){return a.execute()}),u=l.error.all||l.error.contact;if(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[usync] username info response"]))),u)throw o("WAWebContactSyncLogger").contactSyncLogger.logFailure(i,u.errorCode,l),new(o("WAWebBackendErrors")).ServerStatusCodeError(u.errorCode,u.errorText);var c=l.list;if(c.length!==1)return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(i,l),null;var d=c[0];if(d.id!=null)return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(i,l),{id:d.id,username:d.username,shouldDelete:!Object.prototype.hasOwnProperty.call(d,"username")};o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(i,l)}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e.isLid()){var t,n,r;if(o("WAWebUsernameGatingUtils").mexUsyncUsernameQueryEnabled()){var a=o("WAWebWidFactory").createUserWidOrThrow(e.toString()),i=yield o("WAWebMexUsersGetUsername").getMexUserUsername(a);n=a,i!=null?t=i:r=!0}else{var l=yield p(e);l!=null&&(t=l.username,n=l.id,r=l.shouldDelete)}if(n!=null){var s=!1,u;if(t!=null){var c=yield o("WAWebSetUsernameJob").setUsernamesJob([{userId:n,username:t}]),d=c.get(n.toString());s=(d==null?void 0:d.wasUpdated)===!0,u=d==null?void 0:d.oldUsername}else if(r===!0){var m=yield o("WAWebSetUsernameJob").setUsernamesJob([{userId:n,deleteUsername:!0}]),_=m.get(n.toString());s=(_==null?void 0:_.wasUpdated)===!0,u=_==null?void 0:_.oldUsername}return{username:t,wasUpdated:s,oldUsername:u}}}}),g.apply(this,arguments)}function h(e,t,n){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(e.length<o("WAWebUsernameTypes").USERNAME_MIN_LENGTH||e.length>o("WAWebUsernameTypes").USERNAME_MAX_LENGTH)return null;var r=o("WAWebUsernameGatingUtils").usernameContactUsyncLidBased(),a=new(o("WAWebUsyncUser")).USyncUser,i=new(o("WAWebUsync")).USyncQuery;i.withUser(a),i.withContactProtocol(r?o("WAWebUsync").USYNC_ADDRESSING_MODE.LID:o("WAWebUsync").USYNC_ADDRESSING_MODE.PN),i.withBusinessProtocol(),a.withUsername(e),t!=null&&a.withUsernameKey(t);var l=o("WAWebContactSyncLogger").contactSyncLogger.createEventContext({syncType:o("WAWebContactSyncLogger").getSyncTypeString("interactive","query"),requestOrigin:n!=null?n:o("WAWebContactSyncLogger").SYNC_REQUEST_ORIGIN.UNKNOWN,requestedCount:1,protocols:i.protocols}),s=yield o("WAWebContactSyncLogger").contactSyncLogger.executeWithLogging(l,function(){return i.execute()}),u=s.error.all||s.error.contact;if(u)throw o("WAWebContactSyncLogger").contactSyncLogger.logFailure(l,u.errorCode,s),new(o("WAWebBackendErrors")).ServerStatusCodeError(u.errorCode,u.errorText);var c=s.list;if(c.length!==1)return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(l,s),null;var d=c[0],m=d.business,p=d.contact,_=d.id,f=p.type,g=p.username;if(f==="out")return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(l,s),null;if(_!=null){var h=!1;if(g!=null){var y=yield o("WAWebSetUsernameJob").setUsernamesJob([{userId:_,username:g}]),C=y.get(_.toString());h=(C==null?void 0:C.wasUpdated)===!0}else{var b=yield o("WAWebSetUsernameJob").setUsernamesJob([{userId:_,deleteUsername:!0}]),v=b.get(_.toString());h=(v==null?void 0:v.wasUpdated)===!0}return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(l,s),{wid:_,biz:m!=null,bizInfo:m,wasUpdated:h,isUsernameSearch:!0}}return o("WAWebContactSyncLogger").contactSyncLogger.logSuccess(l,s),{keyRequired:!0,isUsernameSearch:!0}}),y.apply(this,arguments)}l.queryWidExists=u,l.queryPhoneExists=c,l.queryExist=d,l.queryWidUsernameExists=f,l.queryUsernameExists=h}),98);
__d("WAWebBizUpdateVerifiedInfoAction",["WAWebApiVerifiedBusinessName","WAWebBackendApi","WAWebHandlePrivacyModeUpdateMsgAction","WAWebQueryExistsJob","WAWebWidToJid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.isApi,r=t.isSmb,a=t.level,i=t.name,l=t.privacyMode,s=t.serial;l!=null&&(yield o("WAWebHandlePrivacyModeUpdateMsgAction").handlePrivacyModeTransition(e,l,{bypassVerifiedNameUpdate:!0})),o("WAWebBackendApi").frontendFireAndForget("updateContactWithVerifiedName",{contactId:o("WAWebWidToJid").widToUserJid(e),verifiedNameInfo:{name:i,level:a,isApi:n,isSmb:r,privacyMode:l}}),yield o("WAWebApiVerifiedBusinessName").createOrUpdateVerifiedBusinessNameLidAware(e,{level:a,serial:s,name:i,isApi:n,isSmb:r,privacyMode:l?{actualActors:l.actualActors,hostStorage:l.hostStorage,privacyModeTs:l.privacyModeTs}:null})}),s.apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var r=yield o("WAWebQueryExistsJob").queryWidExists(t,n);if(r!=null){var a=r.bizInfo;a&&(yield e(t,a.verifiedName))}}),c.apply(this,arguments)}l.updateVerifiedInfo=e,l.queryAndUpdateContactPropertiesOnNewChat=u}),98);
__d("WAWebWaitForInitialChatsSynced",["Promise","WAWebBackendEventBus","WAWebEventsWaitForBbEvent"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=n("Promise"))).resolve();function u(){s=r("WAWebEventsWaitForBbEvent")(o("WAWebBackendEventBus").BackendEventBus,o("WAWebBackendEventBus").BackendEvent.ON_INITIAL_CHAT_SYNCED)}function c(){return s}l.initWaitForInitialChatsSynced=u,l.waitForInitialChatsSynced=c}),98);
__d("WAWebMessageQueue",["WACustomError","WALogger","WAPromiseQueue","WAPromiseTimeout","WAWebABProps","WAWebApiContact","WAWebEventsWaitForOfflineDeliveryEnd","WAWebEventsWaitForReadyForOffline","WAWebHandleMsgCommon","WAWebOfflineHandler","WAWebPromiseQueue","WAWebWaitForInitialChatsSynced","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u=2e4,c={allChatQueue:new(o("WAWebPromiseQueue")).PromiseQueue,chatQueue:new(o("WAPromiseQueue")).PromiseQueueMap},d={allChatQueue:new(o("WAWebPromiseQueue")).PromiseQueue,chatQueue:new(o("WAPromiseQueue")).PromiseQueueMap};function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=t.action,a=t.chatWid,i=t.isOffline,l=t.msgCategory,m=a.isRegularUser()&&!a.isLid()?o("WAWebApiContact").getCurrentLid(a):null,p=(m!=null?m:a).toString();return l!==o("WAWebHandleMsgCommon").MSG_CATEGORY.peer&&o("WAWebABProps").getABPropConfigValue("web_fix_duplicated_lids_history_sync")&&(yield o("WAWebWaitForInitialChatsSynced").waitForInitialChatsSynced()),i&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()?d.allChatQueue.enqueue(function(){return d.chatQueue.enqueue(p,n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield o("WAWebEventsWaitForReadyForOffline").waitForOfflineProcessReady(),o("WAPromiseTimeout").promiseTimeout(r(),u).catch(function(t){if(t instanceof o("WACustomError").TimeoutError)return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Offline chat queue MAX_MESSAGE_DELAY exceeded"]))).tags("messaging"),null;throw t})}))}):(yield o("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd(),c.allChatQueue.enqueue(function(){return c.chatQueue.enqueue(p,function(){return o("WAPromiseTimeout").promiseTimeout(r(),u).catch(function(e){if(e instanceof o("WACustomError").TimeoutError)return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Online chat queue MAX_MESSAGE_DELAY exceeded"]))).tags("messaging"),null;throw e})})}))}),p.apply(this,arguments)}function _(){return d.allChatQueue.wait()}function f(){return c.allChatQueue.wait()}l.onMessageQueue=m,l.waitForOfflineMessageQueue=_,l.waitForOnlineMessageQueue=f}),98);
__d("WAWebOfflineResumeConst",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["INIT","RESUME_ON_RESTART","RESUME_WITH_OPEN_TAB","COMPLETE"]),l=2e4,s=100,u=2e3,c=6e4,d=1e3,m=1e3;i.ResumeStatus=e,i.OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS=l,i.OFFLINE_STANZA_COUNT_LIMIT=s,i.OFFLINE_DEVICE_SYNC_DELAY=u,i.OFFLINE_STANZA_TIMEOUT_MS=c,i.OFFLINE_PREVIEW_PERIOD_MS=d,i.UI_UPDATE_TIME_MS=m}),66);
__d("WAWebOfflineResumeTypes.flow",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({Toastbar:"toastbar",ButterBar:"butterbar",None:"none"}),l=n("$InternalEnum").Mirrored(["Blocking","NonBlocking","Worker"]);i.ResumeUIProgressBarType=e,i.ResumeType=l}),66);
__d("WAWebBlockingOfflineResumeManager",["WALogger","WAShiftTimer","WAWebABProps","WAWebApiPendingDeviceSync","WAWebAppTracker","WAWebBackendApi","WAWebBackendEventBus","WAWebBrokerGlobalAppState","WAWebChatThreadLogging","WAWebEnvironment","WAWebHandleMsgTypes.flow","WAWebJSHaltDetector","WAWebMessageQueue","WAWebOfflineResumeConst","WAWebOfflineResumeTypes.flow","WAWebOfflineResumeUtils","WAWebPageLoadLogging","WAWebSignalProtocolStore","WAWebUserPrefsGeneral","WAWebWamEnumWebcScenarioType","WAWebWamMemoryStat","WAWebWamOfflineResumeReporter","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T;function D(){return T==null&&(T=new $),T}function x(){T=null}var $=(function(){function t(){var e=this;this.$7=null,this.$8=new(o("WAShiftTimer")).ShiftTimer(function(){o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),e.$8.onOrAfter(o("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS)}),this.resumeType=o("WAWebOfflineResumeTypes.flow").ResumeType.Blocking,this.$10()}var a=t.prototype;return a.$10=function(){this.offlineMessagePreviewCounter=-1,this.$2=0,this.$3=0,this.$4=!1,this.$5=null,this.$1=o("WAWebOfflineResumeConst").ResumeStatus.INIT},a.$11=function(n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] offline resume stage: "," -> ",""])),this.$1,n),this.$1=n},a.setStatus_TESTONLY=function(t){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] offline resume stage: "," -> ",""])),this.$1,t),this.$1=t},a.processOfflinePreview=function(t){if(o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreviewT(),this.isResumeFromRestartComplete())o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Offline session is complete when receiving offline preview ib."]))),o("WAWebOfflineResumeUtils").exceedResumeWithOpenTabLimit(t.message,t.receipt)&&(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] restart client due to exceed the LIMIT, message: ",", receipt: ",""])),t.message,t.receipt),o("WAWebOfflineResumeUtils").refreshWindow()),o("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$11(o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB),o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!1}),self.setTimeout(function(){o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},7e3);else if(this.$1===o("WAWebOfflineResumeConst").ResumeStatus.INIT)o("WAWebAppTracker").AppTracker.start(o("WAWebAppTracker").AppTrackerType.BlockingOR),r("WAWebBrokerGlobalAppState").initOrUpdateTracking(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(t),this.$5=t.message>0,this.$4=t.message===0,this.offlineMessagePreviewCounter=t.message,this.$2=0,this.$9=Date.now(),o("WAWebSignalProtocolStore").enableMemSignalStore(),o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),o("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$11(o("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART),this.$12(t.message,t.receipt),this.$8.onOrAfter(o("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineProcessReady(),o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] start handling offline stanza"])));else{var e=this.$9;if(e!=null){var n=Date.now()-e;n<o("WAWebOfflineResumeConst").OFFLINE_PREVIEW_PERIOD_MS?(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Accept multiple offline preview ibs during offline resume, delay ","."])),n),this.offlineMessagePreviewCounter+=t.message,this.$5=this.offlineMessagePreviewCounter>0,this.$4=this.offlineMessagePreviewCounter===0,o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(t),o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{})):r("gkx")("26258")?o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Reject multiple offline preview ib during offline resume, delay ","."])),n):o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] Reject multiple offline preview ibs during offline resume, delay ",""])),n).sendLogs("offline-multiple-preview")}this.$13()}},a.getOfflineDeliveryProgress=function(){return this.$4?100:this.offlineMessagePreviewCounter===-1?0:this.offlineMessagePreviewCounter===0?100:Math.min(Math.ceil(100*this.$2/this.offlineMessagePreviewCounter),100)},a.processOfflineSessionComplete=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=this,r=e;if(self.setTimeout(function(){o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},3e3),(t=this.$7)==null||t.cancel(),this.$7=null,o("WAWebBackendEventBus").BackendEventBus.triggerOfflineProcessReady(),o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] start handling offline stanza"]))),this.$1===o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit();return}else if(this.$1===o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB){yield o("WAWebMessageQueue").waitForOnlineMessageQueue(),yield o("WAWebApiPendingDeviceSync").doPendingDeviceSync(),this.$11(o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineDeliveryEnd(),o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0});return}return this.$5=r>0,this.$4=r===0,this.$6=0,self.setTimeout(function(){n.$6>o("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_LIMIT&&(o("WALogger").WARN(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] "," received after offline completion marker. Refreshing window due to potential server issue."])),n.$6),o("WAWebOfflineResumeUtils").refreshWindow())},o("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS),o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),this.$11(o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE),this.$14()});function t(t){return e.apply(this,arguments)}return t})(),a.isResumeFromRestartComplete=function(){return this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART&&this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.INIT},a.isResumeOnSocketDisconnectInProgress=function(){return this.$1===o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB},a.isResumeFromRestartInProgress=function(){return this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.INIT&&!o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd},a.isResumeComplete=function(){return this.$1===o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE},a.getHasMessagesToDownload=function(){return this.$5},a.getFinishedDownloading=function(){return this.getOfflineDeliveryProgress()===100},a.shouldUseOfflineResumeScreen=function(){return this.offlineMessagePreviewCounter>this.$2},a.processDecryptResult=function(t){this.$13(),this.$2+=1,t===o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY&&(this.$3+=1)},a.offlineStanzaReceivedAfterComplete=function(){this.isResumeFromRestartComplete()&&(this.$6+=1)},a.newOfflineStanza=function(t,n){this.$13(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logAddOfflineSizeBytes(n),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOldestStanzaTime(t)},a.getResumeUIProgressBarType=function(){return o("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.None},a.$13=function(){this.$7&&this.$7.onOrAfter(o("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)},a.$12=function(t,n){var e,r=this;(e=this.$7)==null||e.cancel(),this.$7=new(o("WAShiftTimer")).ShiftTimer(function(){r.$1!==o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE&&(o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking]: offline session completed by timeout"]))),o("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking]offline resume finished by timeout"]))).sendLogs("blocking-offline-resume-timeout",{sampling:.01}),r.processOfflineSessionComplete(t+n).catch(function(e){o("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] processOfflineSessionComplete failed in timeout handler: ",""])),e).sendLogs("blocking-offline-resume-timeout-handler",{sampling:.01})}),r.$7=null,o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logMissedOfflineComplete())}),this.$7.onOrAfter(o("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)},a.$14=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WAWebPageLoadLogging").startPageLoadQplMeasure("waitForOfflineMessageQueue"),yield o("WAWebMessageQueue").waitForOfflineMessageQueue(),o("WAWebPageLoadLogging").endPageLoadQplMeasure("waitForOfflineMessageQueue"),this.$4=!0,o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineDecryptionErrorCount(this.$3),o("WALogger").LOG(b||(b=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] _onOfflineComplete: waitForOfflineMsgThread done, total decryption error: ",""])),this.$3),this.$3=0,o("WAWebPageLoadLogging").startPageLoadQplMeasure("clearOfflineSnapShot"),yield o("WAWebOfflineResumeUtils").clearOfflineSnapShot(),o("WAWebPageLoadLogging").endPageLoadQplMeasure("clearOfflineSnapShot"),o("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] _onOfflineComplete: clearOfflineSnapShot done."]))),o("WAWebSignalProtocolStore").enablePersistSignalStore(),o("WAWebOfflineResumeUtils").runReceiptCleanUpLoop().catch(function(e){o("WALogger").ERROR(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] runReceiptCleanUpLoop failed: ",""])),e).sendLogs("blocking-offline-resume-receipt-cleanup",{sampling:.01})}),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),o("WAWebPageLoadLogging").startPageLoadQplMeasure("loadMainScreen"),yield o("WAWebOfflineResumeUtils").loadMainScreen({shouldUpdateReceipts:!0}),o("WAWebPageLoadLogging").endPageLoadQplMeasure("loadMainScreen"),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineDeliveryEnd(),o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.BlockingOR),o("WAWebUserPrefsGeneral").setOfflinePushCount(0).catch(function(e){o("WALogger").ERROR(R||(R=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] setOfflinePushCount failed: ",""])),e).sendLogs("blocking-offline-resume-push-count",{sampling:.01})}),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit().catch(function(e){o("WALogger").ERROR(L||(L=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] OfflineResumeReporter.commit failed: ",""])),e).sendLogs("blocking-offline-resume-reporter-commit",{sampling:.01})}),o("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("processAllOrphanPaymentNotifications"),o("WAWebChatThreadLogging").uploadChatThreadLoggingEvents().catch(function(e){o("WALogger").ERROR(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] uploadChatThreadLoggingEvents failed: ",""])),e).sendLogs("blocking-offline-resume-upload-ctl",{sampling:.01})}),r("WAWebBrokerGlobalAppState").initOrUpdateTracking(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),o("WAWebWamMemoryStat").setCurrentMemoryScenario(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),self.setTimeout(function(){o("WAWebApiPendingDeviceSync").doPendingDeviceSync().catch(function(e){o("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] doPendingDeviceSync failed: ",""])),e).sendLogs("blocking-offline-resume-device-sync",{sampling:.01})})},o("WAWebOfflineResumeConst").OFFLINE_DEVICE_SYNC_DELAY),(r("WAWebEnvironment").isWindows||o("WAWebABProps").getABPropConfigValue("wa_web_resume_timer_fix_enabled"))&&(o("WALogger").LOG(I||(I=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][blocking] cancel progress bar timer"]))),this.$8.forceRunNow(),this.$8.cancel())});function t(){return e.apply(this,arguments)}return t})(),t})();l.getOrCreateInstance=D,l.clearInstance=x,l.OfflineBlockingResumeStageManager=$}),98);
__d("WAWebBotDeviceCapabilities",["WASyncdConst","WAWebProtobufSyncAction.pb","WAWebProtobufsDeviceCapabilities.pb","WAWebSyncdDb","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","decodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield u();return e===o("WAWebProtobufsDeviceCapabilities.pb").DeviceCapabilities$AiThread$SupportLevel.INFRA||e===o("WAWebProtobufsDeviceCapabilities.pb").DeviceCapabilities$AiThread$SupportLevel.FULL}),s.apply(this,arguments)}function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e,t,n='["'+o("WASyncdConst").Actions.DeviceCapabilities+'","'+o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().user+':0@s.whatsapp.net"]',r=yield o("WAWebSyncdDb").getSyncAction(n);if((r==null?void 0:r.binarySyncData)==null)return o("WAWebProtobufsDeviceCapabilities.pb").DeviceCapabilities$AiThread$SupportLevel.NONE;var a=(e=(t=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufSyncAction.pb").SyncActionDataSpec,r.binarySyncData).value)==null||(t=t.deviceCapabilities)==null||(t=t.aiThread)==null?void 0:t.supportLevel)!=null?e:o("WAWebProtobufsDeviceCapabilities.pb").DeviceCapabilities$AiThread$SupportLevel.NONE;return a}),c.apply(this,arguments)}l.primaryHasAiThreadSupport=e}),98);
__d("WAWebBotIncomingInvokeSystemMsg",["WAWebBackendApi","WAWebBackendEventBus","WAWebBotSystemMsg","WAWebSchemaChat","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.id.remote,n=e.t;if((yield u(t))!==!0&&!t.isBot()){var r=o("WAWebBotSystemMsg").createBotInvokeSystemMsg(t,n);return r}return null}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=null;if(o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd){var n=yield o("WAWebBackendApi").frontendSendAndReceive("getChat",{chatId:e});return n&&(t=n.hasCreatedBotInvokeSystemMsg),t}var r=yield o("WAWebSchemaChat").getChatTable().get(e.toString());return t=r==null?void 0:r.hasCreatedBotInvokeSystemMsg,t}),c.apply(this,arguments)}l.createSysMsgForIncomingBotInvoke=e}),98);
__d("WAWebBotMessageSecret",["WABinary","WACryptoAesGcm","WACryptoHkdf","WALogger","WANullthrows","WAWebBotGroupGatingUtils","WAWebBotTypes","WAWebDBMessageSerialization","WAWebLidMigrationUtils","WAWebMsgKey","WAWebMsmsgMsgSecretCache","WAWebProtobufsE2E.pb","WAWebSchemaMessage","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime","decodeProtobuf"],(function(t,n,r,o,a,i,l){var e,s,u,c=32,d="Bot Message";function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=new(o("WABinary")).Binary(e).readByteArrayView(),n=yield o("WACryptoHkdf").extractAndExpand(new Uint8Array(t),d,c);return n}),p.apply(this,arguments)}function _(e,t){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return t.msgInfo.author.isFbidBot()?y(e,t):g(e,t)}),f.apply(this,arguments)}function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){var a,i,l=n.msgInfo,s=n.msgMeta,u=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsE2E.pb").MessageSecretMessageSpec,t),c=s.targetSenderJid?o("WAWebUserPrefsMeUser").isMeAccount(s.targetSenderJid):!0,d={fromMe:c,remote:(a=s.targetChatJid)!=null?a:l.chat,id:r("WANullthrows")(s.targetId,"decryptMsmsgBotMessage: targetId")};l.chat.isGroup()&&(d.participant=s.targetSenderJid);var m=yield b(d),p=o("WAWebWidToJid").widToUserJid((i=s.targetSenderJid)!=null?i:o("WAWebUserPrefsMeUser").getMePnUserOrThrow()),_=o("WAWebWidToJid").widToUserJid(r("WANullthrows")(l.author,"decryptMsmsgBotMessage: author")),f=null,g=r("WANullthrows")(u.encIv,"decryptMsmsgBotMessage: encIv"),h=r("WANullthrows")(u.encPayload,"decryptMsmsgBotMessage: encPayload");try{var y=l.externalId,C=yield S(y,p,_,m);f=yield o("WACryptoAesGcm").gcmDecrypt(C,g,h,y+"\0"+_)}catch(t){var v;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["decryptMsmsgBotMessage: fallback to botEditTargetId: ",""])),t);var R=r("WANullthrows")((v=n.msgBotInfo)==null?void 0:v.botEditTargetId,"decryptMsmsgBotMessage: botEditTargetId"),L=yield S(R,p,_,m);f=yield o("WACryptoAesGcm").gcmDecrypt(L,g,h,R+"\0"+_)}return f}),h.apply(this,arguments)}function y(e,t){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,a=t.msgBotInfo,i=t.msgInfo,l=t.msgMeta,u=o("WAWebUserPrefsMeUser").getMeLidUserOrThrow(),c=(n=l.targetSenderJid)!=null?n:u,d={fromMe:o("WAWebUserPrefsMeUser").isMeAccount(c),remote:i.chat,id:r("WANullthrows")(l.targetId,"decryptMsmsgFbidBotMessage: targetId")};if(i.chat.isGroup()){var m;d.participant=(m=o("WAWebLidMigrationUtils").toPn(c))!=null?m:c}var p=yield b(d),_=i.externalId;((a==null?void 0:a.botEditType)===o("WAWebBotTypes").BotMsgEditType.INNER||(a==null?void 0:a.botEditType)===o("WAWebBotTypes").BotMsgEditType.LAST)&&((a==null?void 0:a.botEditTargetId)!=null?_=a==null?void 0:a.botEditTargetId:o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[decryptMsmsgFbidBotMessage] fallback\u2192externalId edit=",""])),a==null?void 0:a.botEditType));var f=o("WAWebWidToJid").widToUserJid(r("WANullthrows")(i.author,"decryptMsmsgFbidBotMessage: author")),g=yield S(_,o("WAWebWidToJid").widToUserJid(c),f,p),h=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsE2E.pb").MessageSecretMessageSpec,e),y=h.encIv,C=h.encPayload,v=yield o("WACryptoAesGcm").gcmDecrypt(g,r("WANullthrows")(y,"decryptMsmsgFbidBotMessage: encIv"),r("WANullthrows")(C,"decryptMsmsgFbidBotMessage: encPayload"),_+"\0"+f);return v}),C.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=new(r("WAWebMsgKey"))(e),a=n.toString(),i=(t=o("WAWebLidMigrationUtils").getAlternateMsgKey(n))==null?void 0:t.toString(),l=o("WAWebMsmsgMsgSecretCache").msmsgMsgSecretCache.getMsmsgMsgSecretFromCache(a);if(l==null&&i!=null&&(l=o("WAWebMsmsgMsgSecretCache").msmsgMsgSecretCache.getMsmsgMsgSecretFromCache(i)),l==null){var s=yield o("WAWebSchemaMessage").getMessageTable().bulkGet([a,i].filter(Boolean)),c=s[0],d=s[1];c==null&&d==null&&o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[getDecryptSecretForMsg] targetMsg null chat="," key="," alt=",""])),e.remote,a,i);var p=o("WAWebDBMessageSerialization").messageFromDbRow(r("WANullthrows")(c!=null?c:d,"decryptMsmsgBotMessage: targetMsg"));if(l=p==null?void 0:p.messageSecret,o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()||o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled()){var _=p==null?void 0:p.botGroupParticipant;_!=null&&o("WAWebMsmsgMsgSecretCache").msmsgBotGroupGossipDataCache.addMsmsgBotGroupGossipDataToCache(a,_)}}return m(r("WANullthrows")(l,"decryptMsmsgBotMessage: decryptSecretBase"))}),v.apply(this,arguments)}function S(e,t,n,r){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=o("WABinary").Binary.build(e,t,n).readBuffer(),i=yield o("WACryptoHkdf").extractAndExpand(new Uint8Array(r),a,c);return i}),R.apply(this,arguments)}l.genBotMsgSecretFromMsgSecret=m,l.decryptMsmsgBotMessage=_}),98);
__d("WAWebFlexStyles",[],(function(t,n,r,o,a,i,l){var e={displayFlex:{display:"x78zum5",$$css:!0},displayInlineFlex:{display:"x3nfvp2",$$css:!0}},s={nowrap:{flexWrap:"xozqiw3",$$css:!0},wrap:{flexWrap:"x1a02dak",$$css:!0},wrapReverse:{flexWrap:"x8hhl5t",$$css:!0}},u={auto:{alignSelf:"x1oa3qoh",$$css:!0},start:{alignSelf:"xqcrz7y",$$css:!0},center:{alignSelf:"xamitd3",$$css:!0},end:{alignSelf:"xpvyfi4",$$css:!0},stretch:{alignSelf:"xkh2ocl",$$css:!0},baseline:{alignSelf:"xoi2r2e",$$css:!0}},c={auto:{justifySelf:"x12fk4p8",$$css:!0},start:{justifySelf:"xwldb3t",$$css:!0},center:{justifySelf:"x7v7x1q",$$css:!0},end:{justifySelf:"x15bdqvn",$$css:!0},stretch:{justifySelf:"xuy72oy",$$css:!0}},d={start:{justifyContent:"x1nhvcw1",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},all:{justifyContent:"x1qughib",$$css:!0},around:{justifyContent:"x1l1ennw",$$css:!0},evenly:{justifyContent:"xaw8158",$$css:!0},stretch:{justifyContent:"x1szn6h9",$$css:!0}},m={horizontal:{flexDirection:"x1q0g3np",$$css:!0},vertical:{flexDirection:"xdt5ytf",$$css:!0},horizontalReverse:{flexDirection:"x15zctf7",$$css:!0},verticalReverse:{flexDirection:"x3ieub6",$$css:!0}},p={center:{alignItems:"x6s0dn4",$$css:!0},start:{alignItems:"x1cy8zhl",$$css:!0},end:{alignItems:"xuk3077",$$css:!0},stretch:{alignItems:"x1qjc9v5",$$css:!0},baseline:{alignItems:"x1pha0wt",$$css:!0}};function _(t){var n=t.basis,r=t.grow,o=t.order,a=t.shrink;return{xstyle:[t.flex===!0&&e.displayFlex,t.inline===!0&&e.displayInlineFlex,t.wrap!=null&&s[t.wrap],t.alignSelf!=null&&u[t.alignSelf],t.justifySelf!=null&&c[t.justifySelf],t.flex===!0&&[t.align!=null&&p[t.align],t.justify!=null&&d[t.justify],t.direction!=null&&m[t.direction]]],inline:{flexBasis:typeof n=="string"||n==null?n:n+"px",flexGrow:r,flexShrink:a,order:o}}}l.getFlexStyles=_}),98);
__d("useWAWebHandlerProps",["WAWebKeyboardIsKeyActivation"],(function(t,n,r,o,a,i,l){function e(e){var t={onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter};if(typeof e.role=="string"){var n,o;t.role=e.role,e.disabled!==!0&&(t.onClick=e.onClick,t.onBlur=e.onBlur,t.onFocus=e.onFocus,t.onClick!=null&&(t.onKeyPress=function(e){r("WAWebKeyboardIsKeyActivation")(e)&&(e.stopPropagation(),e.preventDefault(),e.currentTarget.click())})),t.tabIndex=(n=e.tabIndex)!=null?n:0,t.disabled=(o=e.disabled)!=null?o:void 0,t["aria-disabled"]=t.disabled}return t}l.useHandlerProps=e}),98);
__d("WAWebBox.react",["WAWebFlexStyles","WAWebStructureStyles","react","stylex","useWAWebHandlerProps"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c=s||(s=r("react")),d={ellipsis:{overflowX:"x6ikm8r",overflowY:"x10wlt62",whiteSpace:"xuxw1ft",textOverflow:"xlyipyv",$$css:!0},nowrap:{whiteSpace:"xuxw1ft",$$css:!0},wrap:{whiteSpace:"x126k92a",$$css:!0},initial:{whiteSpace:"xti2ec1",$$css:!0}};function m(e){return{"aria-label":e.ariaLabel,"aria-pressed":e.ariaPressed,"aria-checked":e.ariaChecked}}function p(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.as,l=i===void 0?"div":i,s=a.children,p=a.dir,_=a.labelFor,f=a.style,g=a.testid,h=a.textWrap,y=a.title,C=a.xstyle,b=o("WAWebFlexStyles").getFlexStyles(a),v=o("WAWebStructureStyles").getStructureStyles(a),S=o("useWAWebHandlerProps").useHandlerProps(a),R=m(a),L;return l==="label"&&(L=_),c.jsx(l,babelHelpers.extends({ref:n,className:(u||(u=r("stylex")))([b.xstyle,v,h!=null&&d[h],C]),style:babelHelpers.extends({},f,b.inline),dir:p,title:y,"data-testid":void 0,htmlFor:L},R,S,{children:s}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WAWebBridgeInitialization",["WADynamicRouterAsync"],(function(t,n,r,o,a,i,l){function e(){return new(o("WADynamicRouterAsync")).DynamicRouter}l.makeBridge=e}),98);
__d("WAWebBroadcastKeyDistribution",[],(function(t,n,r,o,a,i){function e(e){var t=new Map;return e.forEach(function(e){var n,r=e.server,o=e.user;t.has(r)||t.set(r,new Set),(n=t.get(r))==null||n.add(o)}),{recipientsByServer:t}}function l(e,t){var n,r=e.server,o=e.user,a=t.recipientsByServer.get(r);return(n=a==null?void 0:a.has(o))!=null?n:!1}function s(t,n){var r=t.filter(function(e){return!e.isHosted()}),o=e(n);return r.filter(function(e){return l(e,o)})}function u(e,t,n){var r=s(e,t);return{rotateKey:n.rotateKey,skDistribList:r,participantList:[]}}function c(t,n,r){var o=[],a=[],i=0,s=t.filter(function(e){return!e.isHosted()}),u=e(n);return s.forEach(function(e){var t=l(e,u);if(t){var n=String(e),s=r.senderKey.has(n);s?(o.push(e),i++):a.push(e)}}),{participantList:o,skDistribList:a,senderKeyHitCount:i}}function d(e,t,n,r){if(n>=r)return null;var o=s(e,t);return{rotateKey:!0,skDistribList:o,participantList:[]}}i.filterRecipientDevices=s,i.handleFullDistribution=u,i.handlePartialDistribution=c,i.checkAndHandleSecurityRotation=d}),66);
__d("WAWebBroadcastSenderKeyManager",["WALogger","WAWebBroadcastKeyDistribution","WAWebModelStorageUtils","WAWebSchemaBroadcastMetadata","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d;function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r=yield o("WAWebSchemaBroadcastMetadata").getBroadcastMetadataTable().get(e);return{rotateKey:(t=r==null?void 0:r.senderKeyRotate)!=null?t:!1,senderKey:new Set((n=r==null?void 0:r.senderKeyDevices)!=null?n:[])}}),p.apply(this,arguments)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){a===void 0&&(a=[]),!(!r&&a.length===0)&&(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG] updateBroadcastSenderKeyState: broadcastListId=",", isRotation=",", devices=",""])),t,String(r),a.length),yield o("WAWebModelStorageUtils").getStorage().lock(["broadcast-metadata"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n,i,l=e[0],u=yield l.get(t);if(!(r&&u!=null&&u.senderKeyRotate)){var c;if(r)c=[];else{var d,m=u!=null&&u.senderKeyRotate?new Set:new Set((d=u==null?void 0:u.senderKeyDevices)!=null?d:[]);a.forEach(function(e){return m.add(e.toString())}),c=Array.from(m)}yield l.createOrReplace({id:t,recipients:(n=u==null?void 0:u.recipients)!=null?n:[],labels:(i=u==null?void 0:u.labels)!=null?i:[],senderKeyDevices:c,senderKeyRotate:r}),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG] updateBroadcastSenderKeyState: ",""])),r?"marked for rotation":"updated "+a.length+" devices, total="+c.length)}});return function(t){return e.apply(this,arguments)}})()))}),f.apply(this,arguments)}function g(e,t){try{var n=o("WAWebWidFactory").createWid(e);return n.isSameAccountAndAddressingMode(t)}catch(e){return!1}}function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebWidFactory").asUserWidOrThrow(e);yield o("WAWebModelStorageUtils").getStorage().lock(["broadcast-metadata"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=e[0],r=yield n.all(),a=r.filter(function(e){var n;if(e.senderKeyRotate)return!1;var r=(n=e.senderKeyDevices)!=null?n:[];return r.some(function(e){return g(e,t)})});a.length!==0&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG] markBroadcastSenderKeyRotateForUser: marking "," broadcast lists for rotation due to identity change of ",""])),a.length,t.toString()),yield n.bulkCreateOrReplace(a.map(function(e){return{id:e.id,recipients:e.recipients,labels:e.labels,senderKeyDevices:[],senderKeyRotate:!0}})))});return function(t){return e.apply(this,arguments)}})())}),y.apply(this,arguments)}function C(e,t){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){yield _(t,!1,e)}),b.apply(this,arguments)}function v(e,t,n,r){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG] getBroadcastSkDistribList: broadcastListId=",", recipients=",", devices=",""])),n,t.length,e.length);var a=[].concat(t,[r]),i=yield m(n);if(i.rotateKey||i.senderKey.size===0)return o("WAWebBroadcastKeyDistribution").handleFullDistribution(e,a,i);var l=o("WAWebBroadcastKeyDistribution").handlePartialDistribution(e,a,i),s=l.participantList,u=l.senderKeyHitCount,p=l.skDistribList,f=o("WAWebBroadcastKeyDistribution").checkAndHandleSecurityRotation(e,a,u,i.senderKey.size);return f!=null?(yield _(n,!0),f):(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[DEBUG] getBroadcastSkDistribList: distributing to "," devices, "," already have keys"])),p.length,s.length),{rotateKey:i.rotateKey,skDistribList:p,participantList:s})}),S.apply(this,arguments)}l.getBroadcastSenderKeyMap=m,l.markBroadcastHasSenderKey=C,l.markBroadcastSenderKeyRotateForUser=h,l.getBroadcastSkDistribList=v}),98);
__d("WAWebBrokerConnectionManager",["invariant","WANullthrows","WAPromiseTimeout","WAResolvable","err"],(function(t,n,r,o,a,i,l,s){var e=5e3,u=(function(){function t(){}var n=t.prototype;return n.init=function(){return this.$1=null,this.$2=new(o("WAResolvable")).Resolvable,o("WAPromiseTimeout").promiseTimeout(this.$2.promise,e)},n.isConnected=function(){return this.$1!=null},n.getPort=function(){return this.$1},n.waitForConnection=function(){var e;return r("WANullthrows")((e=this.$2)==null?void 0:e.promise,"ConnectionManager Initialization Promise")},n.connectVia=function(t){if(!this.isConnected())this.$2||s(0,56329),this.$1=t,this.$2.resolve();else throw r("err")("Connection already established")},t})(),c=new u;l.default=c}),98);
__d("WAWebBrokerProtocolTypes.flow",[],(function(t,n,r,o,a,i){var e="@@handshake",l="@@invoke",s="@@response";i.HANDSHAKE_COMMAND=e,i.INVOCATION_COMMAND=l,i.RESPONSE_COMMAND=s}),66);
__d("WAWebBrokerProtocolHandshake",["invariant","WAWebBrokerProtocolTypes.flow"],(function(t,n,r,o,a,i,l,s){function e(e){return{__command:o("WAWebBrokerProtocolTypes.flow").HANDSHAKE_COMMAND,__port:e}}function u(e){if(e!=null&&e.__command!=null&&e.__command===o("WAWebBrokerProtocolTypes.flow").HANDSHAKE_COMMAND&&e.__port!=null){e.__port instanceof MessagePort||s(0,56355);var t=e.__port;return t}}l.buildHandshakePayload=e,l.extractPortFromHandshakePayload=u}),98);
__d("WAWebInvocationId",[],(function(t,n,r,o,a,i){var e=1;function l(){return e++}function s(e){if(e!=null&&typeof e=="number")return e}i.genInvocationId=l,i.extractInvocationId=s}),66);
__d("WAWebBrokerProtocolInvocation",["invariant","WAWebBrokerProtocolTypes.flow","WAWebInvocationId"],(function(t,n,r,o,a,i,l,s){function e(e){var t=e.args,n=e.invocationId,r=e.method;return{__id:n,__command:o("WAWebBrokerProtocolTypes.flow").INVOCATION_COMMAND,__method:r,__args:t}}function u(e){if(e!=null&&e.__command===o("WAWebBrokerProtocolTypes.flow").INVOCATION_COMMAND){e.__id||s(0,56278);var t=o("WAWebInvocationId").extractInvocationId(e.__id);t!=null&&e.__method&&typeof e.__method=="string"&&e.__id&&e.__args&&Array.isArray(e.__args)||s(0,56275);var n=e,r=n.__method,a=n.__args;return{method:r,args:a,invocationId:t}}}l.buildInvocationPayload=e,l.unwrapInvocationPayload=u}),98);
__d("WAWebBrokerProtocolResponse",["invariant","WAWebBrokerProtocolTypes.flow","WAWebInvocationId"],(function(t,n,r,o,a,i,l,s){function e(e,t){return{__id:e,__command:o("WAWebBrokerProtocolTypes.flow").RESPONSE_COMMAND,__result:t}}function u(e){if(e!=null&&e.__command===o("WAWebBrokerProtocolTypes.flow").RESPONSE_COMMAND){e.__id!=null||s(0,56278);var t=o("WAWebInvocationId").extractInvocationId(e.__id);t!=null&&Object.prototype.hasOwnProperty.call(e,"__result")||s(0,56331);var n=e,r=n.__result;return{result:r,invocationId:t}}}l.buildResponsePayload=e,l.unwrapResponsePayload=u}),98);
__d("WAWebBuildAiThreadUpdateHelper",["WANullthrows","WAWebAiThreadCreationUtils","WAWebAiThreadTypeUtils","WAWebBotDeviceCapabilities","WAWebBotGating","WAWebBotUtils","WAWebDBMessageSerialization","WAWebSchemaMessage","WAWebThreadMsgUtils","asyncToGeneratorRuntime","compactMap"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.filter(function(e){return o("WAWebBotUtils").isMetaAiBot(e.id.remote)});if(t.length===0)return null;var n=yield o("WAWebBotDeviceCapabilities").primaryHasAiThreadSupport();if(!n||!o("WAWebBotGating").isAiChatThreadsInfraEnabled())return null;var r=t.filter(function(e){return!o("WAWebThreadMsgUtils").msgHasAiThread(e)});if(r.length===0)return null;var a={threadId:o("WAWebAiThreadCreationUtils").getHistoricalMetaAiThreadId(),aiThreadInfo:{aiThreadType:o("WAWebAiThreadTypeUtils").AiThreadType.Default}},i=u(r);if(i.length===0)return{targetMsgThreadMap:new Map,defaultThreadAttributes:a};var l=yield c(i,e);return{targetMsgThreadMap:l,defaultThreadAttributes:a}}),s.apply(this,arguments)}function u(e){return r("compactMap")(e,o("WAWebBotUtils").getBotResponseTargetMsgKey)}function c(e,t){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new Map,r=f(t),o=e.reduce(function(e,t){var o=t.toString(),a=r.get(o);return a==null?e.push(t):_(a,n),e},[]);return o.length===0||(yield m(o,n)),n}),d.apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.map(function(e){return e.toString()}),r=yield o("WAWebSchemaMessage").getMessageTable().bulkGet(n,!1),a=r.filter(Boolean).map(function(e){return o("WAWebDBMessageSerialization").messageFromDbRow(e)});a.forEach(function(e){return _(e,t)})}),p.apply(this,arguments)}function _(e,t){if(o("WAWebThreadMsgUtils").msgHasAiThread(e)){var n=r("WANullthrows")(o("WAWebThreadMsgUtils").getMsgAiThread(e)),a=o("WAWebAiThreadTypeUtils").getAiThreadInfoFromType(void 0,o("WAWebAiThreadTypeUtils").AiThreadType.Default);t.set(e.id.toString(),{threadId:n,aiThreadInfo:a})}}function f(e){var t=new Map;for(var n of e)t.set(n.id.toString(),n);return t}l.buildAiThreadUpdateHelpers=e}),98);
__d("WAWebBuildType",["$InternalEnum","WAWebEnvironment","WAWebUserPrefsGeneral","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({RELEASE:0,BETA:1,ALPHA:2,DEBUG:3});function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb(),n=r("WAWebEnvironment").getEnvironment();return(function(t){if(Array.isArray(t)&&t.length===2&&t[0]==="prod"&&t[1]===!0)return e.BETA;if(Array.isArray(t)&&t.length===2&&t[0]==="prod"&&t[1]===!1)return e.RELEASE;if(Array.isArray(t)&&t.length===2&&t[0]==="intern"&&t[1]===!0)return e.DEBUG;if(Array.isArray(t)&&t.length===2&&t[0]==="intern"&&t[1]===!1||Array.isArray(t)&&t.length===2&&t[0]==="dev"&&t[1]===!0)return e.BETA;if(Array.isArray(t)&&t.length===2&&t[0]==="dev"&&t[1]===!1)return e.DEBUG;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})([n,t])}),u.apply(this,arguments)}l.BuildType=e,l.getBuildType=s}),98);
__d("WAWebSpinner.react",["VisualCompletionAttributes","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c=s||(s=r("react")),d="xnrop4s-B",m="xoslcoy-B",p={accent:{stroke:"x94ds6z",$$css:!0},container:{animationName:"x1e112to",animationDuration:"x1c74tu6",animationTimingFunction:"x1esw782",animationIterationCount:"xa4qsjk",zIndex:"xhtitgo",$$css:!0},default:{stroke:"xsg6dc1",$$css:!0},wdsSecondaryLighter:{stroke:"xsg6dc1",$$css:!0},highlight:{stroke:"x94ds6z",$$css:!0},progress:{stroke:"x9ss0fe",$$css:!0},in:{stroke:"x1yzj2yw",$$css:!0},noop:{visibility:"xnpuxes",$$css:!0},out:{stroke:"x14t83b7",$$css:!0},rounded:{strokeLinecap:"x1owpc8m",$$css:!0},square:{strokeLinecap:"x37uqsb",$$css:!0},path:{animationName:"xu41xpa",animationDuration:"xmg6eyc",animationTimingFunction:"x4hg4is",animationIterationCount:"xa4qsjk",strokeDasharray:"xbla1kb",strokeDashoffset:"x1b0o3cz",$$css:!0},solidwhite:{stroke:"xaccaqi",$$css:!0},white:{stroke:"x12iiw5v",$$css:!0},rotate:{transform:"x9tu13d",transformOrigin:"x1bndym7",$$css:!0},transparent:{stroke:"xmy28x3",$$css:!0},incoming:{stroke:"x1xg270d",$$css:!0},outgoing:{stroke:"xxcrxs2",$$css:!0}},_=20;function f(e){if(e==null)return null;var t=Math.ceil(2*_*Math.PI);return{strokeDasharray:t+" "+t,strokeDashoffset:t-e/100*t}}function g(e,t){if(e==null)return null;var n=Math.max(Math.min(e,t),0);return n*100/t}function h(e){var t=e.color,n=e.outgoingMsg,o=e.progress,a=e.stroke,i=e.strokeLinecap,l=i===void 0?"round":i,s=e.viewBoxSide;return c.jsx("circle",{style:f(o),className:(u||(u=r("stylex")))(l==="round"&&p.rounded,l==="square"&&p.square,o==null&&p.path,typeof t!="string"?t:p[t],n===!1&&p.in,n===!0&&p.out),cx:s/2,cy:s/2,r:_,fill:"none",strokeWidth:a})}h.displayName=h.name+" [from "+i.id+"]";function y(t){var n=t.ref,o=babelHelpers.objectWithoutPropertiesLoose(t,e),a=o.color,i=a===void 0?"default":a,l=o.max,s=l===void 0?100:l,d=o.outgoingMsg,m=o.progressContainerColor,f=m===void 0?"default":m,y=o.size,C=y===void 0?65:y,b=o.stroke,v=b===void 0?4:b,S=o.strokeLinecap,R=S===void 0?"round":S,L=o.testid,E=L===void 0?"loading-spinner":L,k=o.value,I=o.xstyle,T=g(k,s),D=2*_+v,x="0 0 "+D+" "+D;return c.jsx("span",babelHelpers.extends({ref:n,"data-testid":void 0},r("VisualCompletionAttributes").LOADING_STATE,{children:c.jsxs("svg",babelHelpers.extends({},(u||(u=r("stylex"))).props(T==null&&p.container||p.rotate,I),{width:C,height:C,viewBox:x,role:"status",children:[T!=null?c.jsx(h,{viewBoxSide:D,stroke:v,strokeLinecap:R,outgoingMsg:d,color:f,progress:100}):null,c.jsx(h,{progress:T,viewBoxSide:D,stroke:v,strokeLinecap:R,outgoingMsg:d,color:i})]}))}))}y.displayName=y.name+" [from "+i.id+"]",l.RADIUS=_,l.Spinner=y}),98);
__d("WAWebButton.react",["fbt","WAWebABProps","WAWebFlex.react","WAWebFlexItem.react","WAWebFlexStyles","WAWebSpinner.react","WAWebUISpacing","WDSButton.react","react","stylex","useMergeRefs","useWAWebFocusState"],(function(t,n,r,o,a,i,l,s){var e=["ref","themeStyles","ariaLabel","ariaRoleDescription","borderStyles","buttonType","children","disabled","icon","iconXstyle","nowrap","onClick","paddingStyles","shadowOnHover","spinner","stretch","testid","width"],u=["ref"],c=["ref"],d=["ref"],m=["ref"],p=["ref"],_=["ref"],f=["direction"],g,h,y=g||(g=r("react"));function C(e){switch(e){case"primary":case"strong-primary":return E;case"secondary":return D;case"plain-white":return $;case"solid-warning":return F;case"warning":case"warning-secondary":return B;case"simplified":case"strong":return w;case"negative-destructive":return q}}var b={button:{position:"x1n2onr6",display:"x1rg5ohu",fontWeight:"xk50ysn",fontSize:"x1f6kntn",lineHeight:"xyesn5m",whiteSpace:"x126k92a",borderStartStartRadius:"x1g83kfv",borderStartEndRadius:"x3qq2k7",borderEndEndRadius:"x2x8art",borderEndStartRadius:"x1qor8vf",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",outlineOffset:"x1hl8ikr",transitionProperty:"xfagghw",transitionDuration:"x9dyr19",transitionTimingFunction:"x9lcvmn",$$css:!0},hover:{":hover_boxShadow":"xv52azi",$$css:!0},disabled:{cursor:"x1h6gzvc",boxShadow:"x1gnnqk1",":hover_cursor":"xercxcz",":hover_boxShadow":"x1wtrbu5",$$css:!0},focused:{outline:"x12zc9zx",$$css:!0},nowrap:{whiteSpace:"xuxw1ft",$$css:!0},stretch:{display:"x1lliihq",width:"xh8yej3",$$css:!0}};function v(t){var n=t.ref,a=t.themeStyles,i=t.ariaLabel,l=t.ariaRoleDescription,s=t.borderStyles,u=t.buttonType,c=t.children,d=t.disabled,m=t.icon,p=t.iconXstyle,_=t.nowrap,f=_===void 0?!0:_,g=t.onClick,C=t.paddingStyles,v=t.shadowOnHover,S=v===void 0?!0:v,R=t.spinner,L=t.stretch,E=t.testid,k=t.width,I=babelHelpers.objectWithoutPropertiesLoose(t,e),T=r("useWAWebFocusState")(),D=T[0],x=T[1],$=r("useMergeRefs")(n,D),P=o("WAWebFlexStyles").getFlexStyles(I);return y.jsx("button",{disabled:d,"aria-disabled":d,"data-testid":void 0,onClick:g,className:(h||(h=r("stylex")))([o("WAWebUISpacing").uiPadding.vert10,o("WAWebUISpacing").uiPadding.horiz24,[b.button,a.button,a.buttonRefreshed],P.xstyle,x===!0&&[b.focused,a.focused],d===!0&&b.disabled,f===!0&&b.nowrap,L===!0&&b.stretch,S===!0&&b.hover,s,C]),ref:$,style:babelHelpers.extends({},P.inline,{width:k}),type:u,"aria-label":i,"aria-roledescription":l,children:y.jsxs(o("WAWebFlex.react").FlexRow,{align:"center",justify:"center",children:[y.jsxs(o("WAWebFlex.react").FlexRow,{testid:void 0,justify:"center",align:"center",gap:8,grow:1,children:[m!=null&&y.jsx(m,{height:16,iconXstyle:p}),c]}),R===!0&&y.jsx(r("WAWebFlexItem.react"),{testid:void 0,xstyle:o("WAWebUISpacing").uiPadding.start8,children:y.jsx(o("WAWebSpinner.react").Spinner,{color:d===!0?"default":a.spinner,size:16})})]})})}v.displayName=v.name+" [from "+i.id+"]";function S(e,t,n){if(o("WAWebABProps").getABPropConfigValue("wds_web_button")!==!0)return null;var r=n.ariaLabel,a=n.ariaRoleDescription,i=n.borderStyles,l=n.buttonType,u=n.children,c=n.disabled,d=n.flex,m=n.icon,p=n.iconXstyle,_=n.nowrap,f=n.onClick,g=n.shadowOnHover,h=n.spinner,y=n.stretch,C=n.testid,b=n.width,v=u;if(v!=null&&!(typeof v=="string"||s.isFbtInstance(v)))return null;var S=f?function(e){return void f(e)}:null,R=y===!0?"flexible":"fit",L={size:e,type:t,loading:h,disabled:c,widthMode:R,testid:C==null?void 0:C,onPress:S==null?void 0:S};if(m!=null&&v!=null)return babelHelpers.extends({},L,{Icon:m,label:v});if(v!=null)return babelHelpers.extends({},L,{label:v});if(m!=null)return babelHelpers.extends({},L,{Icon:m})}function R(e){function t(t){var n=t.ref,r=babelHelpers.objectWithoutPropertiesLoose(t,u);return y.jsx(v,babelHelpers.extends({},r,{ref:n,themeStyles:e}))}return t.displayName=t.name+" [from "+i.id+"]",t}var L={button:{color:"x1pse0pq x1f47i5p",backgroundColor:"xfn3atn x1npidv xgm1il4",$$css:!0},buttonRefreshed:{color:"x1pse0pq x1f47i5p",backgroundColor:"xfn3atn x1npidv x9qntcr",$$css:!0},spinner:{stroke:"x1upul9f",$$css:!0}};function E(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,c),o=S("medium","default",n);return o?y.jsx(r("WDSButton.react"),babelHelpers.extends({variant:"filled",ref:t},o)):y.jsx(v,babelHelpers.extends({},n,{ref:t,themeStyles:L}))}E.displayName=E.name+" [from "+i.id+"]";var k={button:{color:"x1pse0pq x1f47i5p",backgroundColor:"xfn3atn x1npidv xgm1il4",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingTop:"xm7lytj",paddingBottom:"x1ykpatu",$$css:!0},buttonRefreshed:{color:"x1pse0pq x1f47i5p",backgroundColor:"xfn3atn x1npidv x9qntcr",$$css:!0},spinner:{stroke:"x1upul9f",$$css:!0}},I=R(k),T={button:{color:"xo1mcw5",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",backgroundColor:"xlwc9sh",":hover_color":"xfrlarv",":disabled_color":"x1f47i5p",":disabled_borderTopColor":"xnk0c1z",":disabled_borderInlineEndColor":"x1s31tdy",":disabled_borderBottomColor":"x1ao7u56",":disabled_borderInlineStartColor":"xz3waxf",":disabled_backgroundColor":"x1npidv",$$css:!0},spinner:{stroke:"x94ds6z",$$css:!0}};function D(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,d),o=S("medium","default",n);return o?y.jsx(r("WDSButton.react"),babelHelpers.extends({variant:"outline",ref:t},o)):y.jsx(v,babelHelpers.extends({},n,{ref:t,themeStyles:T}))}D.displayName=D.name+" [from "+i.id+"]";var x={button:{color:"xhslqc4",backgroundColor:"x1h3rtpe",":hover_color":"xxxijta",":hover_backgroundColor":"xsqkqsz",":disabled_color":"x1f47i5p",":disabled_backgroundColor":"x182k0kv",$$css:!0},spinner:{stroke:"x94ds6z",$$css:!0}},$=R(x),P={button:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",width:"x1exxlbk",fontSize:"x6prxxf",lineHeight:"x1o2sk6j",backgroundColor:"xep993w",color:"xhslqc4",fontWeight:"xo1l8bm",":hover_backgroundColor":"x1ubxc9n",":hover_boxShadow":"x1wtrbu5",":disabled_color":"x1f47i5p",$$css:!0},spinner:{stroke:"x94ds6z",$$css:!0}},N=R(P),M={button:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",color:"xo1mcw5",":hover_color":"xfrlarv",":hover_boxShadow":"x1wtrbu5",":disabled_color":"x1f47i5p",$$css:!0},spinner:{stroke:"x94ds6z",$$css:!0}};function w(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,m),o=S("medium","default",n);return o?y.jsx(r("WDSButton.react"),babelHelpers.extends({variant:"borderless",ref:t},o)):y.jsx(v,babelHelpers.extends({},n,{ref:t,themeStyles:M}))}w.displayName=w.name+" [from "+i.id+"]";var A={button:{color:"xowaa7l",backgroundColor:"xk0ssx3",":hover_backgroundColor":"x17dtpw8",":disabled_color":"x1f47i5p",":disabled_backgroundColor":"x1npidv",$$css:!0},focused:{outlineColor:"x10322wi",$$css:!0},spinner:{stroke:"x1ukulop",$$css:!0}};function F(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,p),o=S("medium","destructive",n);return o?y.jsx(r("WDSButton.react"),babelHelpers.extends({variant:"filled",ref:t},o)):y.jsx(v,babelHelpers.extends({},n,{ref:t,themeStyles:A}))}F.displayName=F.name+" [from "+i.id+"]";var O={button:{color:"x30a034",borderTopColor:"xnj1f2r",borderInlineEndColor:"x2uibgs",borderBottomColor:"xkveyfu",borderInlineStartColor:"x12llq9",backgroundColor:"xlwc9sh",":hover_color":"x1pfmjgd",":disabled_color":"x1f47i5p",":disabled_borderTopColor":"xnk0c1z",":disabled_borderInlineEndColor":"x1s31tdy",":disabled_borderBottomColor":"x1ao7u56",":disabled_borderInlineStartColor":"xz3waxf",":disabled_backgroundColor":"x1npidv",$$css:!0},focused:{outlineColor:"x10322wi",$$css:!0},spinner:{stroke:"x17alv2p",$$css:!0}};function B(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,_),o=S("medium","destructive",n);return o?y.jsx(r("WDSButton.react"),babelHelpers.extends({variant:"outline",ref:t},o)):y.jsx(v,babelHelpers.extends({},n,{ref:t,themeStyles:O}))}B.displayName=B.name+" [from "+i.id+"]";var W={button:{color:"xowaa7l",backgroundColor:"x1b0f5k1",":disabled_color":"x1f47i5p",":disabled_backgroundColor":"x1npidv",$$css:!0}},q=R(W),U={horizontal:{columnGap:"xs2akgl",$$css:!0},vertical:{rowGap:"x1f0uite",$$css:!0}};function V(e){var t=e.direction,n=babelHelpers.objectWithoutPropertiesLoose(e,f),r;switch(t){case"horizontal":case"horizontalReverse":r=U.horizontal;break;case"vertical":case"verticalReverse":r=U.vertical;break}return y.jsx(o("WAWebFlex.react").FlexContainer,babelHelpers.extends({xstyle:r,direction:t},n))}V.displayName=V.name+" [from "+i.id+"]";function H(e){var t=e.buttonType,n=e.children,r=e.disabled,o=e.nowrap,a=e.onClick,i=e.ref,l=e.spinner,s=e.stretch,u=e.testid,c=e.type,d=c===void 0?"primary":c,m=C(d);return y.jsx(m,{ref:i,testid:void 0,children:n,disabled:r,onClick:a,nowrap:o,spinner:l,stretch:s,buttonType:t})}H.displayName=H.name+" [from "+i.id+"]",l.WAWebButtonPrimary=E,l.WAWebButtonPrimaryCompact=I,l.WAWebButtonSecondary=D,l.WAWebButtonPlainWhite=$,l.WAWebButtonOnAccent=N,l.WAWebButtonSimplified=w,l.WAWebButtonPrimaryDestructive=F,l.WAWebButtonSecondaryDestructive=B,l.WAWebButtonNegativeDestructive=q,l.ButtonGroup=V,l.Button=H}),98);
__d("WAWebCRUDOperationsNewsletterMyVotes",["Promise","WALogger","WAWebModelStorageUtils","WAWebNewsletterDBUtils","WAWebSchemaNewsletterMyVotes","WAWebWid","asyncToGeneratorRuntime","compactMap"],(function(t,n,r,o,a,i,l){var e,s;function u(t){return o("WAWebModelStorageUtils").getStorage().lock(["newsletter-my-votes"],(function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var a=n[0];if(!r("WAWebWid").isNewsletter(t.chatJid)){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[createOrUpdateMyVote] Invalid newsletter jid ",""])),t.chatJid);return}var i=yield p(t.chatJid,t.msgServerId);i!=null&&i.serverTimestampMs>t.serverTimestampMs||(yield a.createOrReplace(t))});return function(e){return a.apply(this,arguments)}})())}function c(e){return o("WAWebModelStorageUtils").getStorage().lock(["newsletter-my-votes"],(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t[0],o=new Map,a=r("compactMap")(e,function(e){if(r("WAWebWid").isNewsletter(e.chatJid))return o.set(e.chatJid+"-"+e.msgServerId,e),[e.chatJid,e.msgServerId]}),i=yield n.anyOf(["chatJid","msgServerId"],a);i.forEach(function(e){var t=e.chatJid+"-"+e.msgServerId,n=o.get(t);n!=null&&n.serverTimestampMs<e.serverTimestampMs&&o.delete(t)}),yield n.bulkCreateOrReplace(Array.from(o.values()))});return function(e){return t.apply(this,arguments)}})())}function d(e,t){return o("WAWebSchemaNewsletterMyVotes").getTable().remove([e,t])}var m=100;function p(e,t){return!Number.isSafeInteger(t)||t<m||t>=o("WAWebNewsletterDBUtils").TEMPORARY_SERVER_ID_LOWER_BOUND?(s||(s=n("Promise"))).resolve(null):o("WAWebSchemaNewsletterMyVotes").getTable().get([e,t])}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield p(e.chatJid,e.msgServerId);t!=null&&(yield u(babelHelpers.extends({},t,e)))}),f.apply(this,arguments)}l.createOrUpdateMyVote=u,l.bulkCreateOrUpdateMyVotes=c,l.deleteMyVote=d,l.getMyVote=p,l.updateMyVote=_}),98);
__d("WAWebChatEphemeralExemptionCache",[],(function(t,n,r,o,a,i){var e=(function(){function e(){this.chatEphemeralExemptionMap=new Map}var t=e.prototype;return t.has=function(t){return this.chatEphemeralExemptionMap.has(t)},t.get=function(t){var e;return(e=this.chatEphemeralExemptionMap.get(t))!=null?e:null},t.add=function(t,n){this.chatEphemeralExemptionMap.set(t,n)},t.clear=function(){this.chatEphemeralExemptionMap.clear()},e})(),l=new e;i.default=l}),66);
__d("WAWebWamEnumActionConducted",[],(function(t,n,r,o,a,i){var e=Object.freeze({MUTE:1,UNMUTE:2,EXPIRE:3});i.ACTION_CONDUCTED=e}),66);
__d("WAWebWamEnumChatMuteNotificationChoice",[],(function(t,n,r,o,a,i){var e=Object.freeze({NO_NOTIFICATIONS_WHEN_MUTED:1,YES_NOTIFICATIONS_WHEN_MUTED:2});i.CHAT_MUTE_NOTIFICATION_CHOICE=e}),66);
__d("WAWebWamEnumMuteChatType",[],(function(t,n,r,o,a,i){var e=Object.freeze({ONE_ON_ONE:1,GROUP:2,CHANNEL:3,INTEROP:4,INORGANIC_NOTIFICATION:5});i.MUTE_CHAT_TYPE=e}),66);
__d("WAWebWamEnumMuteEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHAT_LIST_SCREEN:1,CONTACT_INFO:2,CONVERSATION_SCREEN:3,CHAT_MORE_OPTIONS:4,CHAT_LONG_PRESS_OPTIONS:5,INORGANIC_NOTIFICATION:6,LIST_BASED_MUTE:7});i.MUTE_ENTRY_POINT=e}),66);
__d("WAWebWamEnumWaOfficialAccountName",[],(function(t,n,r,o,a,i){var e=Object.freeze({WHATSAPP_CHATPSA:1});i.WA_OFFICIAL_ACCOUNT_NAME=e}),66);
__d("WAWebChatMuteWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumActionConducted","WAWebWamEnumChatMuteNotificationChoice","WAWebWamEnumMuteChatType","WAWebWamEnumMuteEntryPoint","WAWebWamEnumWaOfficialAccountName"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({ChatMute:[2280,{actionConducted:[3,o("WAWebWamEnumActionConducted").ACTION_CONDUCTED],chatMuteNotificationChoice:[5,o("WAWebWamEnumChatMuteNotificationChoice").CHAT_MUTE_NOTIFICATION_CHOICE],muteChatType:[4,o("WAWebWamEnumMuteChatType").MUTE_CHAT_TYPE],muteDuration:[1,o("WAWebWamCodegenUtils").TYPES.TIMER],muteEntryPoint:[6,o("WAWebWamEnumMuteEntryPoint").MUTE_ENTRY_POINT],muteGroupSize:[2,o("WAWebWamCodegenUtils").TYPES.INTEGER],waOfficialAccountName:[7,o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME]},[1,1,1],"regular"]},{ChatMute:[]});l.ChatMuteWamEvent=e}),98);
__d("WAWebChatOriginTypes",[],(function(t,n,r,o,a,i){var e=new Set(["createChat","createChatOnNewMsg","debugOpenChatFlow","debugConvertToLidChat","debugCreateChat","jest","updateDeviceTableApi","fixturesChatFactory","securityCodeApi","restoreMessagesForChat","processUnreadMessage","loadLastMessagesFromDb","processPreviewMessageInChat","historyMsgHandlerAction","updateMessageUIAction","msgCollectionFindQuery","msgCollectionGetStarred","msgCollectionGetEvents","msgCollectionGetGroupMemberUpdates","msgCollectionGetVoipCallLogs","msgCollectionGetMessagesById","msgCollectionQueryVCard","msgCollectionIncrementalStarredUpdate","msgCollectionQueryMedia","msgCollectionSearch","msgCollectionGetContext","username_change_notification","username_contactless_search","voipCallLog"]),l=new Set(["username_change_notification","username_contactless_search"]);i.VALID_LID_ORIGINS=e,i.VALID_USERNAME_ORIGINS=l}),66);
__d("WAWebWamEnumPsaMessageActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SAVE:1,FORWARD:2,REACT:3,LINK_CLICK:4,MEDIA_PLAY:5,DELETE:6,PUSH_NOTIFICATION_CLICK:7,PUSH_NOTIFICATION_RENDER:8});i.PSA_MESSAGE_ACTION_TYPE=e}),66);
__d("WAWebChatPsaActionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumPsaMessageActionType"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({ChatPsaAction:[3572,{messageMediaType:[1,o("WAWebWamEnumMediaType").MEDIA_TYPE],psaCampaignId:[4,o("WAWebWamCodegenUtils").TYPES.STRING],psaMessageActionType:[2,o("WAWebWamEnumPsaMessageActionType").PSA_MESSAGE_ACTION_TYPE],psaMsgId:[5,o("WAWebWamCodegenUtils").TYPES.STRING]},[1,1,1],"regular"]},{ChatPsaAction:[]});l.ChatPsaActionWamEvent=e}),98);
__d("WAWebWamEnumReadEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHAT_LIST:1,CHAT:2});i.READ_ENTRY_POINT=e}),66);
__d("WAWebChatPsaReadWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumReadEntryPoint"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({ChatPsaRead:[3574,{messageMediaType:[1,o("WAWebWamEnumMediaType").MEDIA_TYPE],psaCampaignId:[4,o("WAWebWamCodegenUtils").TYPES.STRING],psaMsgId:[5,o("WAWebWamCodegenUtils").TYPES.STRING],readEntryPoint:[3,o("WAWebWamEnumReadEntryPoint").READ_ENTRY_POINT]},[1,1,1],"regular"]},{ChatPsaRead:[]});l.ChatPsaReadWamEvent=e}),98);
__d("WAWebWamEnumPsaBlockReason",[],(function(t,n,r,o,a,i){var e=Object.freeze({OTHER:0,MESSAGES_ARENT_HELPFUL:1,TOO_MANY_MESSAGES:2,IT_LOOKS_SUSPICIOUS:3});i.PSA_BLOCK_REASON=e}),66);
__d("WAWebWamEnumPsaMessageRemoveAction",[],(function(t,n,r,o,a,i){var e=Object.freeze({BLOCK:1,UNBLOCK:2,ARCHIVE:3,UNARCHIVE:4,CLEAR:5,DELETE_ALL:6});i.PSA_MESSAGE_REMOVE_ACTION=e}),66);
__d("WAWebWamEnumPsaMessageRemoveEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({BLOCK_FROM_CONTACT_INFO:1,BLOCK_FROM_CHAT:2,UNBLOCK_FROM_CONTACT_INFO:3,UNBLOCK_FROM_CHAT:4,UNBLOCK_FROM_PRIVACY_SETTINGS:5,ARCHIVE_FROM_CHAT_LIST:6,ARCHIVE_FROM_DELETE_OPTION:7,UNARCHIVE_FROM_ARCHIVED_CHAT_LIST:8,CLEAR_FROM_CONTACT_INFO:9,CLEAR_FROM_CHAT_LIST:10,DELETE_ALL_FROM_CHAT_LIST:11,DELETE_ALL_FROM_CONTACT_INFO:12,DELETE_ALL_FROM_CONVERSATION:13,CLEAR_FROM_CONVERSATION:14,BLOCK_FROM_CONSENT_MODAL:15});i.PSA_MESSAGE_REMOVE_ENTRY_POINT=e}),66);
__d("WAWebChatPsaRemoveWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumPsaBlockReason","WAWebWamEnumPsaMessageRemoveAction","WAWebWamEnumPsaMessageRemoveEntryPoint","WAWebWamEnumWaOfficialAccountName"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({ChatPsaRemove:[3582,{lastReceivedMediaType:[2,o("WAWebWamEnumMediaType").MEDIA_TYPE],lastReceivedMessageTs:[4,e.TYPES.TIMER],lastReceivedMsgId:[8,e.TYPES.STRING],psaBlockReason:[10,o("WAWebWamEnumPsaBlockReason").PSA_BLOCK_REASON],psaCampaignId:[9,e.TYPES.STRING],psaMessageRemoveAction:[5,o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION],psaMessageRemoveEntryPoint:[6,o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT],waOfficialAccountName:[7,o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME]},[1,1,1],"regular"]},{ChatPsaRemove:[]});l.ChatPsaRemoveWamEvent=s}),98);
__d("WAWebStopEvent",[],(function(t,n,r,o,a,i){function e(e){e&&(e.preventDefault(),e.stopPropagation())}function l(e){e&&e.stopPropagation()}function s(e){e&&e.preventDefault()}i.stopEvent=e,i.stopPropagation=l,i.preventDefault=s}),66);
__d("WDSIconIcCheck.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","viewBox","width"],s,u,c=s||(s=r("react")),d="ic-check";function m(t){var n=t.height,o=t.iconXstyle,a=t.viewBox,i=t.width,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(a){var m=a.height,p=m===void 0?0:m,_=a.width,f=_===void 0?0:_,g=a.x,h=g===void 0?0:g,y=a.y,C=y===void 0?0:y;s=[h,C,f,p].join(" ")}var b=24,v=24;return(n!=null||i!=null)&&(b=n,v=i),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(o),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M9.55002 15.15L18.025 6.675C18.225 6.475 18.4625 6.375 18.7375 6.375C19.0125 6.375 19.25 6.475 19.45 6.675C19.65 6.875 19.75 7.1125 19.75 7.3875C19.75 7.6625 19.65 7.9 19.45 8.1L10.25 17.3C10.05 17.5 9.81669 17.6 9.55002 17.6C9.28336 17.6 9.05002 17.5 8.85002 17.3L4.55002 13C4.35002 12.8 4.25419 12.5625 4.26252 12.2875C4.27086 12.0125 4.37502 11.775 4.57502 11.575C4.77502 11.375 5.01252 11.275 5.28752 11.275C5.56252 11.275 5.80002 11.375 6.00002 11.575L9.55002 15.15Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WDSBaseCheckbox.react",["BaseCheckbox.react","BaseView.react","WDSHoverStateStyles","WDSIconIcCheck.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["appearsOnMedia","children","disabled","id","onChange","onKeyDown","platform","shape","tabIndex","testid","value"],s,u=s||(s=o("react")),c=s.useState,d="xuza879-B",m={root:{height:"xxk0z11",width:"xvy4d1p",display:"x3nfvp2",alignItems:"x6s0dn4",justifyContent:"xl56j7k",boxSizing:"x9f619",paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",position:"x1n2onr6",$$css:!0},checkboxBorder:{boxSizing:"x9f619",flexShrink:"x2lah0s",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",alignItems:"x6s0dn4",justifyContent:"xl56j7k",display:"x3nfvp2",$$css:!0},checkboxBorderUnselected:{borderTopColor:"x1pyc6se",borderInlineEndColor:"x1mlb2bo",borderBottomColor:"x16pkwpw",borderInlineStartColor:"xqe4bef",$$css:!0},checkboxBorderSelected:{borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",backgroundColor:"xfn3atn",$$css:!0},checkboxBorderCircle:{borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",$$css:!0},disabledCheckbox:{opacity:"x1lxidc1",filter:"x4dje6k",$$css:!0},mediaCheckboxUnselected:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},mediaCheckboxSelected:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",backgroundColor:"x1p8t8ri",$$css:!0},checkmarkWrapper:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},checkedCheckmark:{opacity:"x1hc1fzr",animationName:"x1oyg3g3",animationTimingFunction:"xa3vuyk",animationFillMode:"x10e4vud",animationDuration:"x1shwlz2",$$css:!0},uncheckedCheckmark:{opacity:"xg01cxk",$$css:!0}},p={checkboxBorder:{height:"xmix8c7",width:"x1xp8n7a",borderStartStartRadius:"xbrszos",borderStartEndRadius:"xea3l6g",borderEndEndRadius:"x18isctg",borderEndStartRadius:"x2q3nzr",$$css:!0}},_={checkboxBorder:{height:"x17rw0jw",width:"x17z2i9w",borderStartStartRadius:"xt8t1vi",borderStartEndRadius:"x1xc408v",borderEndEndRadius:"x129tdwq",borderEndStartRadius:"x15urzxu",$$css:!0}};function f(t){var n=t.appearsOnMedia,a=n===void 0?!1:n,i=t.children,l=t.disabled,s=l===void 0?!1:l,d=t.id,f=t.onChange,g=t.onKeyDown,h=t.platform,y=t.shape,C=y===void 0?"square":y,b=t.tabIndex,v=t.testid,S=t.value,R=S===void 0?!1:S,L=babelHelpers.objectWithoutPropertiesLoose(t,e),E=h==="iOS",k=c(!1),I=k[0],T=k[1];function D(e){var t=e.key==="Enter"||e.key===" ";t&&(e.preventDefault(),f==null||f(null)),g==null||g(e)}var x=R===!0||R==="indeterminate",$=R==="indeterminate",P=x||$===!0,N=[],M=[P?m.mediaCheckboxSelected:m.mediaCheckboxUnselected],w=[m.checkboxBorderCircle];return I&&(w.push(o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxCircle),P?(N.push(o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxSelected),M.push(o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxMediaSelected)):(N.push(o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxUnselected),M.push(o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxMediaUnselected))),u.jsx(r("BaseCheckbox.react"),babelHelpers.extends({},L,{checked:x,disabled:s,id:d,onClick:f,onKeyDown:D,onMouseEnter:function(){return T(!0)},onMouseLeave:function(){return T(!1)},suppressFocusRing:!0,testid:void 0,xstyle:m.root,tabIndex:b,children:u.jsxs(r("BaseView.react"),{"aria-hidden":!0,tabIndex:-1,testid:void 0,xstyle:[m.checkboxBorder,E?_.checkboxBorder:p.checkboxBorder,P?m.checkboxBorderSelected:m.checkboxBorderUnselected,s&&m.disabledCheckbox,I&&o("WDSHoverStateStyles").WDSComponentHoverStateStyles.WDSCheckboxBase].concat(a?M:N,C==="circle"||E?w:[]),children:[$===!0?u.jsx("div",babelHelpers.extends({},{0:{className:"x36qwtl x1fsd2vl xt8t1vi x1xc408v x129tdwq x15urzxu xep993w x1hc1fzr x1oyg3g3 xa3vuyk x10e4vud x1shwlz2"},1:{className:"x36qwtl x1fsd2vl xt8t1vi x1xc408v x129tdwq x15urzxu x1hc1fzr x1oyg3g3 xa3vuyk x10e4vud x1shwlz2 x1e6sl3u"}}[!!a<<0])):u.jsx(r("WDSIconIcCheck.react"),{width:18,height:18,xstyle:m.checkmarkWrapper,colorName:a?"persistentAlwaysBlack":"contentOnAccent",iconXstyle:[x?m.checkedCheckmark:m.uncheckedCheckmark]}),i]})}))}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebCheckBox.react",["$InternalEnum","WAWebABProps","WAWebKeyboardHotKeys.react","WAWebStopEvent","WDSBaseCheckbox.react","WDSFocusStateStyles","react","stylex","useMergeRefs","useWAWebFocusState"],(function(t,n,r,o,a,i,l){var e,s,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useRef,m=5,p=10,_=4,f=8,g="xh7cyri-B",h="xwetn48-B",y={checkboxContainer:{position:"x1n2onr6",display:"x1rg5ohu",width:"x1xp8n7a",height:"xmix8c7",verticalAlign:"xxymvpz",cursor:"x1ypdohk",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",transform:"x17dzmu4",$$css:!0},roundedCheckboxContainer:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",$$css:!0},disabledCheckboxContainer:{cursor:"xt0e3qv",$$css:!0},checkbox:{position:"x1n2onr6",boxSizing:"x9f619",height:"x5yr21d",pointerEvents:"x47corl",backgroundColor:"xjbqb8w",borderTopWidth:"x1ktv7sr",borderInlineEndWidth:"x142x0oa",borderBottomWidth:"xv7zg05",borderInlineStartWidth:"x12dgle5",borderTopColor:"x1hj3nd5",borderInlineEndColor:"xjjclns",borderBottomColor:"x1ywb9b",borderInlineStartColor:"x1212ok9",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",transitionProperty:"xts7igz",transitionDuration:"xv1tzdm",$$css:!0},pollsCheckboxReceiver:{borderTopColor:"x1128f5s",borderInlineEndColor:"x13kd0oy",borderBottomColor:"x1jdxhwu",borderInlineStartColor:"xj1yhid",$$css:!0},pollsCheckboxSender:{borderTopColor:"xknwhpl",borderInlineEndColor:"x1g0ajyl",borderBottomColor:"x1xx3qdw",borderInlineStartColor:"xtiunav",$$css:!0},roundedCheckbox:{borderStartStartRadius:"xvs2etk",borderStartEndRadius:"xg3wpu6",borderEndEndRadius:"x1jwbhkm",borderEndStartRadius:"xgg4q86",$$css:!0},checkedCheckbox:{backgroundColor:"xfn3atn",borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",$$css:!0},pollsCheckedCheckboxReceiver:{backgroundColor:"xfn3atn",borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",$$css:!0},pollsCheckedCheckboxSender:{backgroundColor:"xfn3atn",borderTopColor:"xlze6vy",borderInlineEndColor:"x47fsot",borderBottomColor:"x1rrvw3c",borderInlineStartColor:"x18djku1",$$css:!0},autoLogoutCheckedCheckboxSender:{backgroundColor:"xy7xkci",borderTopColor:"x1xtg2tb",borderInlineEndColor:"x1acu24o",borderBottomColor:"x1muebr1",borderInlineStartColor:"x19e1r83",$$css:!0},disabledCheckbox:{backgroundColor:"x3qdkio",borderTopColor:"x1wpzk8y",borderInlineEndColor:"xts9ub1",borderBottomColor:"xhl97hz",borderInlineStartColor:"x16gmtct",$$css:!0},disabledCheckboxOutline:{backgroundColor:"xjbqb8w",$$css:!0},pollsDisabledCheckedCheckboxReceiver:{backgroundColor:"x1wqby5h",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},pollsDisabledUncheckedCheckboxReceiver:{borderTopColor:"x1sa7cev",borderInlineEndColor:"xmo3yxm",borderBottomColor:"xzim36q",borderInlineStartColor:"x1656ei8",backgroundColor:null,$$css:!0},pollsDisabledCheckedCheckboxSender:{backgroundColor:"xpzuy9b",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",$$css:!0},pollsDisabledUncheckedCheckboxSender:{borderTopColor:"x7s9935",borderInlineEndColor:"x1i8jwm6",borderBottomColor:"xymrcl3",borderInlineStartColor:"xv5he41",backgroundColor:null,$$css:!0},checkmark:{position:"x10l6tqk",top:"x1pdr0v7",left:"xcqyyxr",width:"x1ftt334",height:"x170jfvy",borderTop:"x76ihet",borderRight:"x1u9eeiz",borderBottom:"x13couss",borderLeft:"xcym7qx",transform:"x1158fpu",direction:"xzt5al7",$$css:!0},roundedCheckmark:{width:"x51ohtg",height:"xdk7pt",$$css:!0},checkedCheckmark:{opacity:"x1hc1fzr",animationName:"xnlt6tn",animationTimingFunction:"xa3vuyk",animationFillMode:"x10e4vud",animationDuration:"x1shwlz2",$$css:!0},roundedCheckedCheckmark:{animationName:"xwigvol",$$css:!0},uncheckedCheckmark:{opacity:"xg01cxk",$$css:!0},partialCheckmark:{position:"x10l6tqk",width:"x1ftt334",height:"x170jfvy",borderTop:"x76ihet",borderRight:"x1u9eeiz",borderBottom:"x112ta8",borderLeft:"xcym7qx",transform:"x1iffjtl",$$css:!0},outlineWhite:{borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},outlineWhiteChecked:{backgroundColor:"x1p8t8ri",borderTopColor:"x1zfx7y",borderInlineEndColor:"x1gj3efs",borderBottomColor:"x151wx5t",borderInlineStartColor:"xea0m3l",$$css:!0},outlinedWhiteCheckmark:{borderInlineEndColor:"x7nxbsa",borderBottomColor:"x126uxjm",$$css:!0},whiteCheckmark:{borderTopStyle:"x1ejq31n",borderInlineEndWidth:"x142x0oa",borderInlineEndStyle:"x18b5jzi",borderInlineEndColor:"x1gj3efs",borderBottomWidth:"xv7zg05",borderBottomStyle:"x1q0q8m5",borderBottomColor:"x151wx5t",borderInlineStartStyle:"xstzfhl",$$css:!0}},C=n("$InternalEnum").Mirrored(["PARTIAL","OUTLINE","POLLS_RECEIVER","POLLS_SENDER","AUTO_LOGOUT","OUTLINE_WHITE"]);function b(e){var t=e.ariaLabel,n=e.checked,a=e.disabled,i=a===void 0?!1:a,l=e.id,u=e.onArrowKeyLeftRight,m=e.onChange,p=e.tabIndex,_=e.testid,f=e.theme,g=d(null),h=n&&f===C.PARTIAL,b=r("useWAWebFocusState")(),v=b[0],S=b[1],R=r("useMergeRefs")(g,v);function L(e){e.stopPropagation();var t=g.current;t!=null&&t.focus(),m(e)}function E(e){var t;e.preventDefault(),(t=g.current)==null||t.click()}var k=function(t){if(o("WAWebKeyboardHotKeys.react").SpecialKeyMap.space===t.keyCode||o("WAWebKeyboardHotKeys.react").SpecialKeyMap.enter===t.keyCode){var e;t.preventDefault(),(e=g.current)==null||e.click(),m()}(o("WAWebKeyboardHotKeys.react").SpecialKeyMap.right===t.keyCode||o("WAWebKeyboardHotKeys.react").SpecialKeyMap.left===t.keyCode)&&(u==null||u(t.keyCode))},I=f===C.POLLS_RECEIVER||f===C.POLLS_SENDER,T=o("WAWebABProps").getABPropConfigValue("wds_web_checkbox");return T?c.jsx(r("WDSBaseCheckbox.react"),{tabIndex:p!=null?p:void 0,value:h?"indeterminate":n,disabled:i,id:l,onChange:function(t){t&&m(t)},onKeyDown:k,testid:void 0,"aria-label":t,appearsOnMedia:f===C.OUTLINE_WHITE,shape:I?"circle":"square"}):c.jsxs(c.Fragment,{children:[c.jsx("input",{ref:R,className:"x10l6tqk x1i1rx1s xjm9jq1 x6ikm8r x10wlt62 xeh89do x1hyvwdk xuxw1ft",checked:n,disabled:i?!0:void 0,indeterminate:h?!0:void 0,"aria-label":t,onClick:o("WAWebStopEvent").stopPropagation,onChange:L,onKeyDown:k,type:"checkbox",id:l,tabIndex:p!=null?p:0,"data-testid":void 0}),c.jsx("div",babelHelpers.extends({onClick:E},(s||(s=r("stylex"))).props(y.checkboxContainer,i&&y.disabledCheckboxContainer,S&&o("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent,I&&y.roundedCheckboxContainer),{tabIndex:-1,"aria-hidden":"true","data-testid":void 0,children:c.jsx("div",babelHelpers.extends({},s.props(y.checkbox,n&&y.checkedCheckbox,i&&y.disabledCheckbox,i&&!n&&(f===C.OUTLINE||C.OUTLINE_WHITE)&&y.disabledCheckboxOutline,!n&&f===C.OUTLINE_WHITE&&y.outlineWhite,n&&f===C.OUTLINE_WHITE&&y.outlineWhiteChecked,f===C.POLLS_RECEIVER&&y.pollsCheckboxReceiver,f===C.POLLS_SENDER&&y.pollsCheckboxSender,I&&y.roundedCheckbox,n&&f===C.POLLS_RECEIVER&&y.pollsCheckedCheckboxReceiver,n&&f===C.POLLS_SENDER&&y.pollsCheckedCheckboxSender,n&&f===C.AUTO_LOGOUT&&y.autoLogoutCheckedCheckboxSender,i&&f===C.POLLS_RECEIVER&&(n?y.pollsDisabledCheckedCheckboxReceiver:y.pollsDisabledUncheckedCheckboxReceiver),i&&f===C.POLLS_SENDER&&(n?y.pollsDisabledCheckedCheckboxSender:y.pollsDisabledUncheckedCheckboxSender)),{children:c.jsx("div",babelHelpers.extends({},s.props(y.checkmark,n&&f!==C.PARTIAL&&y.checkedCheckmark,n&&I&&y.roundedCheckedCheckmark,!n&&y.uncheckedCheckmark,h&&y.partialCheckmark,I&&y.roundedCheckmark,n&&f===C.OUTLINE_WHITE&&y.outlinedWhiteCheckmark,n&&f===C.AUTO_LOGOUT&&y.whiteCheckmark)))}))}))]})}b.displayName=b.name+" [from "+i.id+"]",l.CheckboxTheme=C,l.CheckBox=b}),98);
__d("WAWebEphemeralityResolver",["WALogger","WATimeUtils","WAWebEphemeralityTypes"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(t){if(!t)return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getDisappearingModeSettingForUser: empty contact"]))),null;var n=t.disappearingModeDuration,r=t.disappearingModeSettingTimestamp;return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getDisappearingModeSettingForUser: disappearing mode setting fetched for ",": duration="," settingTimestamp=",""])),t.id.toString(),n,r).tags("DM","DDM"),n==null||n===0?null:{duration:n,settingTimestamp:r!=null?r:0}}function m(e){var t=d(e);return t!=null?t.duration:null}function p(e){return e!=null?e:0}function _(e){return e!=null?e:o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat}function f(e){return e!=null?e:o("WATimeUtils").unixTime()}function g(e){return e!=null?e:o("WAWebEphemeralityTypes").DisappearingModeTrigger.ChatSettings}function h(e,t){var n=t===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe;return e!=null?e:n}function y(e){return e==null||e.duration==null&&e.settingTimestamp==null&&e.initiator==null?null:{duration:p(e.duration),settingTimestamp:f(e.settingTimestamp),initiator:_(e.initiator),disappearingModeTrigger:g(e.disappearingModeTrigger),initiatedByMe:h(e.initiatedByMe,e.initiator)}}function C(e,t){return(e==null?void 0:e.duration)===(t==null?void 0:t.duration)&&(e==null?void 0:e.settingTimestamp)===(t==null?void 0:t.settingTimestamp)&&(e==null?void 0:e.initiator)===(t==null?void 0:t.initiator)}function b(e,t){var n=m(e),r=m(t);if(n==null&&r==null)return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[DMResolve] DM setting for chat is null"]))).tags("DM","DDM"),null;var a;n!=null&&(a={duration:n,settingTimestamp:o("WATimeUtils").unixTime(),initiator:o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe,disappearingModeTrigger:o("WAWebEphemeralityTypes").DisappearingModeTrigger.AccountSettings,initiatedByMe:!0});var i;return r!=null&&(i={duration:r,settingTimestamp:o("WATimeUtils").unixTime(),initiator:o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByOther,disappearingModeTrigger:o("WAWebEphemeralityTypes").DisappearingModeTrigger.AccountSettings,initiatedByMe:!1}),a!=null&&i!=null?i.duration<a.duration?i:a:a!=null?a:i}function v(e,t){var n=y(e);if(n==null&&t==null)return null;if(n!=null&&t==null)return{duration:n.duration,settingTimestamp:n.settingTimestamp,initiator:n.initiator===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe?o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat:n.initiator,disappearingModeTrigger:o("WAWebEphemeralityTypes").DisappearingModeTrigger.ChatSettings,initiatedByMe:n.initiator===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe};if(n==null&&t!=null)return{duration:t.duration,settingTimestamp:f(t.settingTimestamp),initiator:_(t.initiator),disappearingModeTrigger:g(t.disappearingModeTrigger),initiatedByMe:t.initiatedByMe};if(n!=null&&t!=null){var r,a;return n.settingTimestamp>((r=t.settingTimestamp)!=null?r:0)?babelHelpers.extends({},n):n.settingTimestamp<((a=t.settingTimestamp)!=null?a:0)?{duration:t.duration,settingTimestamp:f(t.settingTimestamp),initiator:_(t.initiator),disappearingModeTrigger:g(t.disappearingModeTrigger),initiatedByMe:t.initiatedByMe}:babelHelpers.extends({},n,{initiator:t.initiator===o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat?o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat:n.initiator})}}function S(e,t){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[DMResolve] resolving new incoming chat DM settings"])));var n=y(e),r=p(t);if(n==null&&r===0)return null;if(n!=null&&r===0)return{duration:n.duration,settingTimestamp:n.settingTimestamp,initiator:n.initiator===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe?o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat:n.initiator,disappearingModeTrigger:n.disappearingModeTrigger,initiatedByMe:n.initiatedByMe};if(n==null&&r>0)return{duration:r,settingTimestamp:o("WATimeUtils").unixTime(),initiator:o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe,disappearingModeTrigger:o("WAWebEphemeralityTypes").DisappearingModeTrigger.AccountSettings,initiatedByMe:!0};if(n!=null&&r>0){if(n.initiator===o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat||n.duration>0&&n.duration<r){var a=n.initiator,i=n.initiatedByMe;return a===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe&&(a=o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat,i=!0),{initiator:a,settingTimestamp:n.settingTimestamp,duration:n.duration,disappearingModeTrigger:n.disappearingModeTrigger,initiatedByMe:i}}return r<n.duration?{duration:r,settingTimestamp:o("WATimeUtils").unixTime(),initiator:o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe,disappearingModeTrigger:o("WAWebEphemeralityTypes").DisappearingModeTrigger.AccountSettings,initiatedByMe:!0}:babelHelpers.extends({},n)}}l.getDisappearingModeSettingForUser=d,l.getEphemeralDurationForUser=m,l.resolveEphermalityDuration=p,l.resolveDisappearingModeInitiator=_,l.resolveSettingTimestamp=f,l.resolveDisappearingModeTrigger=g,l.resolveDisappearingModeInitiatedByMe=h,l.compareEphemeralityFields=C,l.resolveNewChatDMSettings=b,l.resolveExistingChatDMSettings=v,l.resolveNewIncomingChatDMSettings=S}),98);
__d("WAWebGetCTWAEligibilityFromConversion",["WAArrayBufferUtils"],(function(t,n,r,o,a,i,l){var e="FB_Ads";function s(t){var n=t.conversionData,r=t.conversionSource;if(n==null||r!==e)return null;try{var a=o("WAArrayBufferUtils").arrayBufferToString(n);return{data:a,source:e}}catch(e){return null}}l.SMB_DATA_SHARING_ALLOWED_SOURCE=e,l.getCTWAEligibilityFromConversion=s}),98);
__d("WAWebPrivacyModeSystemMsg",["$InternalEnum","WAWebHandleMsgTypes.flow"],(function(t,n,r,o,a,i,l){var e=n("$InternalEnum").Mirrored(["E2EE","BSP","FB","HOSTED_GROUP"]);function s(t){return t==null||t.actualActors===o("WAWebHandleMsgTypes.flow").ActualActorsEnumType.Self&&t.hostStorage===o("WAWebHandleMsgTypes.flow").HostStorageEnumType.OnPremise?e.E2EE:t.actualActors===o("WAWebHandleMsgTypes.flow").ActualActorsEnumType.Capi?e.HOSTED_GROUP:t.hostStorage===o("WAWebHandleMsgTypes.flow").HostStorageEnumType.Facebook?e.FB:e.BSP}function u(e,t){return e==null?t:t==null||e.privacyModeTs>t.privacyModeTs?e:t}function c(e,t){return e==null&&t==null?0:t==null?1:e==null?-1:e.privacyModeTs-t.privacyModeTs}function d(e){var t,n=(t=e.bizInfo)==null?void 0:t.verifiedName;return n==null?null:e.biz&&n.isApi===!0?n.privacyMode:null}l.ReducedPrivacyMode=e,l.getReducedPrivacyMode=s,l.getLatestPrivacyMode=u,l.comparePrivacyMode=c,l.getPrivacyModeFromQueryExistResponse=d}),98);
__d("WAWebInitialSystemMsg",["WANullthrows","WAWebABProps","WAWebAdvHostedAccountTypeSystemMsg","WAWebApiDeviceList","WAWebBizCoexGatingUtils","WAWebBizCoexUtils","WAWebBotSystemMsg","WAWebBotTos","WAWebBotTypes","WAWebContactSystemMsg","WAWebMobilePlatforms","WAWebPrivacyModeSystemMsg","WAWebProtobufsAdv.pb","WAWebUserPrefsMultiDevice","WAWebWid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&o("WAWebMobilePlatforms").isSMB()){var t=yield o("WAWebUserPrefsMultiDevice").getIsHostedMeAccount();if(t===!0)return[o("WAWebContactSystemMsg").genNonE2ENotificationMsg(e,"biz_privacy_mode_init_fb")]}return[o("WAWebContactSystemMsg").genEncryptNotificationMsg(e)]}),s.apply(this,arguments)}function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a){if(r("WAWebWid").isPSA(t))return[o("WAWebContactSystemMsg").genEncryptNotificationMsg(t,"chat_psa")];if(t.isBot())return[o("WAWebBotSystemMsg").genBotInitSystemMsg(t)];if(r("WAWebWid").isBroadcast(t))return e(t);if(r("WAWebWid").isCAPISupportAccount(t))return o("WAWebABProps").getABPropConfigValue("support_use_dedicated_system_event")?[o("WAWebContactSystemMsg").genNonE2ENotificationMsg(t,"support_system_message")]:[o("WAWebContactSystemMsg").genNonE2ENotificationMsg(t,"biz_privacy_mode_init_fb")];if(a===o("WAWebBotTypes").BizBotAutomatedType.FULL_3P)return[o("WAWebBotSystemMsg").genBizBot3pDisclosureMessage(t)];if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&t.isUser()){if(o("WAWebMobilePlatforms").isSMB()&&(yield o("WAWebUserPrefsMultiDevice").getIsHostedMeAccount())===!0)return[r("WANullthrows")(o("WAWebAdvHostedAccountTypeSystemMsg").genAdvMeAccountIsHostedNotificationMsg(t,t))];var i=o("WAWebUserPrefsMultiDevice").getHaveProcessedCoexAdv();if(i&&t.isUser()){var l=yield o("WAWebApiDeviceList").getDeviceRecord(t);if((l==null?void 0:l.advAccountType)===o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED||(l==null?void 0:l.deletedChangedToHost)===!0)return o("WAWebBizCoexUtils").shouldDedupInitialHostedSystemMsg(t)?[]:[r("WANullthrows")(o("WAWebAdvHostedAccountTypeSystemMsg").genAdvAccountTypeInitialSysMsg(t,t))]}}var s=[],u=o("WAWebPrivacyModeSystemMsg").getReducedPrivacyMode(n);e:{if(u===o("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.E2EE){s.push(o("WAWebContactSystemMsg").genEncryptNotificationMsg(t));break e}if(u===o("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.BSP){s.push(o("WAWebContactSystemMsg").genNonE2ENotificationMsg(t,"biz_privacy_mode_init_bsp"));break e}if(u===o("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.FB){s.push(o("WAWebContactSystemMsg").genNonE2ENotificationMsg(t,"biz_privacy_mode_init_fb"));break e}if(u===o("WAWebPrivacyModeSystemMsg").ReducedPrivacyMode.HOSTED_GROUP){s.push(o("WAWebContactSystemMsg").genNonE2ENotificationMsg(t,"is_capi_hosted_group"));break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+u)}return a===o("WAWebBotTypes").BizBotAutomatedType.PARTIAL_1P&&o("WAWebBotTos").hasAcceptedBizBotTos()&&s.push(o("WAWebBotSystemMsg").genBizBot1pDisclosureMessage(t)),s}),c.apply(this,arguments)}l.default=u}),98);
__d("WAWebMsgEphemerality",["WAWebEphemeralityTypes","WAWebMsgType"],(function(t,n,r,o,a,i,l){var e;function s(e){var t;if(e.ephemeralDuration==null&&e.ephemeralSettingTimestamp==null&&e.disappearingModeInitiator==null)return null;var n=(t=e.ephemeralDuration)!=null?t:0,r=e.ephemeralSettingTimestamp,a=e.disappearingModeInitiator,i=e.disappearingModeTrigger,l=e.disappearingModeInitiatedByMe;return e.subtype==="ephemeral_setting"&&(r=e.t,a=o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat),{duration:n,settingTimestamp:r,initiator:a,disappearingModeTrigger:i,initiatedByMe:l}}var u=[(e=o("WAWebMsgType")).MSG_TYPE.CHAT,e.MSG_TYPE.IMAGE,e.MSG_TYPE.VIDEO,e.MSG_TYPE.AUDIO,e.MSG_TYPE.PTT,e.MSG_TYPE.DOCUMENT,e.MSG_TYPE.PRODUCT,e.MSG_TYPE.STICKER,e.MSG_TYPE.POLL_CREATION,e.MSG_TYPE.POLL_RESULT_SNAPSHOT,e.MSG_TYPE.NEWSLETTER_ADMIN_INVITE,e.MSG_TYPE.GROUPS_V4_INVITE,e.MSG_TYPE.CALL_LOG];function c(e){return!!u.includes(e)}l.getMsgEphemeralitySettings=s,l.ephemeralMessageTypes=u,l.messageSupportsEphemerality=c}),98);
__d("WAWebWamEnumFmxEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({FMX_CARD:0,SAFETY_TOOLS:1});i.FMX_ENTRY_POINT=e}),66);
__d("WAWebWamEnumFmxEvent",[],(function(t,n,r,o,a,i){var e=Object.freeze({BLOCK:0,ADD_CONTACT:1,REPORT:2,SAFETY_TOOLS:3,COMMON_GROUPS:4,CONTACT_INFO:5,FMX_CARD_INSERTED:6,FMX_CARD_VIEWED:7,LEARN_MORE:8,HIGHLIGHT_GROUP_NAME:9,FMX_CARD_TRUST_SIGNALS_FB_IG_VIEWED:10,STOP_MARKETING_MSG_OFFERS:11,MESSAGE_PREFERENCES:12,FMX_CARD_FIRST_VIEW_IN_CHAT_OPEN:13});i.FMX_EVENT=e}),66);
__d("WAWebWamEnumHighlightGroupType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,SINGLE:1,CREATOR:2,ADMIN:3,SAVED_CONTACTS:4,PARTICIPANTS:5,MORE:6});i.HIGHLIGHT_GROUP_TYPE=e}),66);
__d("WAWebPsFmxActionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumFmxEntryPoint","WAWebWamEnumFmxEvent","WAWebWamEnumHighlightGroupType"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({PsFmxAction:[7054,{commonGroupNum:[1,e.TYPES.INTEGER],countryShown:[2,e.TYPES.BOOLEAN],fmxEntryPoint:[3,o("WAWebWamEnumFmxEntryPoint").FMX_ENTRY_POINT],fmxEvent:[4,o("WAWebWamEnumFmxEvent").FMX_EVENT],highlightGroupType:[5,o("WAWebWamEnumHighlightGroupType").HIGHLIGHT_GROUP_TYPE],isSenderSmb:[6,e.TYPES.BOOLEAN],notAContactShown:[7,e.TYPES.BOOLEAN]},[1,1,1],"private",113760892]},{PsFmxAction:[]});l.PsFmxActionWamEvent=s}),98);
__d("WAWebSagaSystemMsg",["WAWebContactSystemMsg","WAWebMsgType"],(function(t,n,r,o,a,i,l){function e(e){return o("WAWebContactSystemMsg").genNotificationMsg(e,{type:"notification_template",kind:o("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"saga_init",templateParams:[]})}l.genSagaInitSystemMsg=e}),98);
__d("WAWebCreateChat",["Promise","WALogger","WANullthrows","WAWebABPropsSaga","WAWebApiBusinessProfile","WAWebApiChat","WAWebApiContact","WAWebApiContactUsernameFields","WAWebApiOrphanTcToken","WAWebApiVerifiedBusinessName","WAWebBackendApi","WAWebBizGatingUtils","WAWebBotTypes","WAWebChatOriginTypes","WAWebContactSystemMsg","WAWebCtwaAGMUtils","WAWebEphemeralityResolver","WAWebEphemeralityTypes","WAWebEphemeralityUtils","WAWebFMXGatingUtils","WAWebGetCTWAEligibilityFromConversion","WAWebGetMessageCache","WAWebHandleMsgTypes.flow","WAWebHandleSingleMsg","WAWebInitialSystemMsg","WAWebLid1X1MigrationGating","WAWebLidAwareContactsDB","WAWebLidMigrationUtils","WAWebMsgEphemerality","WAWebPrivacyModeSystemMsg","WAWebPsFmxActionWamEvent","WAWebQueryBusinessProfile","WAWebSagaSystemMsg","WAWebUpdateLidMetadataJob","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWamEnumFmxEntryPoint","WAWebWamEnumFmxEvent","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","lodash"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C;function b(e,t,n,r){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=a!=null?a:{},l=i.createdOffline,h=l===void 0?!1:l,y=i.firstIncomingMsg,C=i.forceUsync,b=C===void 0?!1:C,v=i.nextPrivacyMode;o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["createChat: ",""])),t);var R=e.chatId,k=R;if(R.isLid()){r("WANullthrows")(n==null?void 0:n.lidOriginType,"Origin type is missing when creating LID chat");var T=o("WAWebApiContact").getPhoneNumber(R),D=!o("WAWebChatOriginTypes").VALID_LID_ORIGINS.has(t),x=o("WAWebChatOriginTypes").VALID_USERNAME_ORIGINS.has(t)&&T!=null;x&&!o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()?(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["createChat: "," trying to create new username chat when phone number is known."])),t).sendLogs("unexpected-username-lid-chat"),T!=null&&(k=T)):D&&!o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["lid: ",", origin type: ",""])),e.chatId.toLogString(),n==null?void 0:n.lidOriginType),o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["createChat: "," unexpected lid chat created"])),t).sendLogs("unexpected-lid-chat"));var $=yield o("WAWebApiContact").getContactRecord(o("WAWebUserPrefsMeUser").getMePnUserOrThrow());t==="username_contactless_search"&&($==null?void 0:$.username)==null&&(yield o("WAWebUpdateLidMetadataJob").updateLidMetadataJob([{lid:R,data:{shareOwnPn:!0}}]))}var P=k.isUser()&&b?yield o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getOrQueryUsyncInfo",{wid:k,forceUsync:!0}):null,N=P==null?k:P.wid;if(!k.equals(N)){var M=yield o("WAWebApiChat").getChatRecord(N);if(M!=null)return}var w=!1,A=!1,F=null;if((P==null?void 0:P.bizInfo)!=null){var O,B;w=(O=P.bizInfo)==null?void 0:O.verifiedName.isApi,A=(B=P.bizInfo)==null?void 0:B.verifiedName.isSmb,F=o("WAWebPrivacyModeSystemMsg").getPrivacyModeFromQueryExistResponse(P)}else if(P==null){var W=yield o("WAWebApiVerifiedBusinessName").getVerifiedBusinessNameRecordLidAware(N);W!=null&&(A=W.isSmb,w=W.isApi,F=W.privacyMode!=null?o("WAWebApiVerifiedBusinessName").convertPrivacyModeFromStorageType(W.privacyMode):null)}var q=n!=null?babelHelpers.extends({},n,{id:N}):{id:N};if(o("WAWebLidMigrationUtils").shouldHaveAccountLid(N)){var U,V,H;q.accountLid=r("WANullthrows")(e.accountLid,"account lid not provided for one on one chat creation"),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["createChat: creating new chat with chat_id="," account_lid: ",", pn: ",""])),N.toLogString(),(U=q.accountLid)==null?void 0:U.toLogString(),(V=(H=o("WAWebLidMigrationUtils").toPn(N))==null?void 0:H.toLogString())!=null?V:"n/a")}var G=N.isUser()&&!N.isBot()?yield E(N,w,y):null;G!=null&&(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[DMResolve] DM settings found for new chat"]))),q.ephemeralDuration=G.duration,q.ephemeralSettingTimestamp=G.settingTimestamp,q.disappearingModeInitiator=G.initiator,q.disappearingModeTrigger=G.disappearingModeTrigger,q.disappearingModeInitiatedByMe=G.initiatedByMe);var z=o("WAWebPrivacyModeSystemMsg").getLatestPrivacyMode(v,F);N.isUser()&&o("WAWebBackendApi").frontendFireAndForget("updateBusinessInfo",{contactId:N,businessInfo:{privacyMode:z}});var j;(y==null?void 0:y.subtype)!=="ephemeral_setting"&&(j=L(N,G==null?void 0:G.duration,G==null?void 0:G.initiator));var K;N.isCAPISupportAccount()&&o("WAWebABPropsSaga").getIsSagaV1Enabled()&&!o("WAWebABPropsSaga").getIsSagaProtobufSystemMessageEnabled()&&(K=o("WAWebSagaSystemMsg").genSagaInitSystemMsg(N));var Q=o("WAWebBizGatingUtils").getFmxAgmEnabled(),X=(y==null?void 0:y.ctwaContext)!=null&&o("WAWebGetCTWAEligibilityFromConversion").getCTWAEligibilityFromConversion({conversionData:y.ctwaContext.conversionData,conversionSource:y.ctwaContext.conversionSource}),Y=y==null?void 0:y.ctwaContext,J=(Y==null?void 0:Y.sourceApp)!==o("WAWebCtwaAGMUtils").AGM_SOURCE_APP.WHATSAPP||o("WAWebBizGatingUtils").getWamoAgmEnabled(),Z=yield o("WAWebContactSystemMsg").genContactInfoCardMsg(N,{isSmb:A,isEnterprise:w||(y==null?void 0:y.senderOrRecipientAccountTypeHosted)===!0,iAmStartingChat:y==null||y.id.fromMe,isWASupportStartingChat:y!=null&&N.isCAPISupportAccount(),isFromCTWA:Y!=null&&X!=null,isFMXCtWA:Y!=null&&J&&o("WAWebBizGatingUtils").getFmxAgmEnabled()});Z!=null&&o("WAWebFMXGatingUtils").fmxLoggingEnabled()&&new(o("WAWebPsFmxActionWamEvent")).PsFmxActionWamEvent({fmxEntryPoint:o("WAWebWamEnumFmxEntryPoint").FMX_ENTRY_POINT.FMX_CARD,fmxEvent:o("WAWebWamEnumFmxEvent").FMX_EVENT.FMX_CARD_INSERTED,isSenderSmb:A}).commit();var ee;(A||w)&&(ee=yield I(N));var te=yield r("WAWebInitialSystemMsg")(N,z,ee);te.some(function(e){return e.subtype==="biz_bot_3p_disclosure"})?q.bizBotSystemMsgType=o("WAWebBotTypes").BizBotType.BIZ_3P:te.some(function(e){return e.subtype==="biz_bot_1p_disclosure"})&&(q.bizBotSystemMsgType=o("WAWebBotTypes").BizBotType.BIZ_1P);var ne=yield o("WAWebApiOrphanTcToken").getOrphanTcToken(N);if(ne){var re,oe;o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["createChat: found orphan tc token for ",""])),N.toLogString()),q.tcToken=(re=ne.tcToken)!=null?re:null,q.tcTokenTimestamp=(oe=ne.tcTokenTimestamp)!=null?oe:null,yield o("WAWebApiOrphanTcToken").removeOrphanTcToken(N)}try{if(!o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&q.id.isRegularUserPn()){var ae=o("WAWebApiContact").getCurrentLid(q.id);ae!=null&&(q.originalLid=ae)}}catch(e){o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["createChat: failed to get lid for ",", ",", ",""])),q.id.toLogString(),e.message,e.stack).sendLogs("createChat-lid-offline-resume-workaround-failed-chat")}yield o("WAWebBackendApi").frontendFireAndForget("chatCollectionGadd",{chat:q}),yield o("WAWebApiChat").createChatRecord(N,S(q));var ie=o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE,le=!1,se=Q?[].concat(te,[Z,j,K]).filter(Boolean):[Z].concat(te,[j,K]).filter(Boolean);if(h)o("WAWebGetMessageCache").getMessageCache().addMessages(se.map(function(e){return{msg:e}}),!1);else{o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["createChat: will add "," messages to chat ",""])),se.length,N.toLogString());for(var ue of se)yield o("WAWebHandleSingleMsg").handleSingleMsg({chatId:N,newMsg:ue,handleSingleMsgOrigin:"createChat",messageOverwriteOption:ie,preserveOrder:le})}if(e.chatId.isUser()){var ce=o("WAWebWidFactory").createUserWidOrThrow(e.chatId.toString()),de=ce.toJid(),me=o("WAWebApiContact").getContactHash(de),pe={id:de,contactHash:me},_e;o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&(_e=yield o("WAWebApiContactUsernameFields").getOrFetchContactUsernameCountryCode(N),_e!=null&&(pe.usernameCountryCode=_e)),yield r("WAWebLidAwareContactsDB").createOrMerge(de,pe)}}),v.apply(this,arguments)}function S(t){var n,r,a,i,l,s,u,c={id:t.id.toString(),accountLid:(n=t.accountLid)==null?void 0:n.toString(),t:t.t,isAutoMuted:!1,unreadCount:(r=t.unreadCount)!=null?r:0,notSpam:t.notSpam,ephemeralDuration:t.ephemeralDuration,ephemeralSettingTimestamp:t.ephemeralSettingTimestamp,disappearingModeInitiator:(t.disappearingModeInitiator!=null,t.disappearingModeInitiator),tcToken:(a=t.tcToken)!=null?a:void 0,tcTokenTimestamp:(i=t.tcTokenTimestamp)!=null?i:void 0,tcTokenSenderTimestamp:(l=t.tcTokenSenderTimestamp)!=null?l:void 0,bizBotSystemMsgType:t.bizBotSystemMsgType,lidOriginType:t.lidOriginType,createdLocally:(s=t.createdLocally)!=null?s:!1};c.disappearingModeTrigger=(t.disappearingModeTrigger!=null,t.disappearingModeTrigger),c.disappearingModeInitiatedByMe=(u=t.disappearingModeInitiatedByMe)!=null?u:void 0,t.name!=null&&(c.name=t.name),t.isReadOnly!=null&&(c.isReadOnly=t.isReadOnly),t.muteExpiration!=null&&(c.muteExpiration=t.muteExpiration);try{var d=t;d.originalLid!=null&&(c.originalLid=d.originalLid.toString())}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["createChatObjectForStorage: failed: ",", ",""])),t.message,t.stack).sendLogs("createChat-lid-offline-resume-workaround-failed-conversion")}return c}function R(e){var t=S(e);return r("lodash").pickBy(t,function(e){return e!=null})}function L(e,t,n){var r=null;return t!=null&&(n===o("WAWebEphemeralityTypes").DisappearingModeInitiator.ChangedInChat?r=o("WAWebContactSystemMsg").genDisappearingModeUpdateSystemMsg(e,t,null):r=o("WAWebContactSystemMsg").genDefaultDisappearingModeSystemMsg(e,t,n===o("WAWebEphemeralityTypes").DisappearingModeInitiator.InitiatedByMe)),r}function E(e,t,n){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getDisappearingModeSettingForNewChat"])));var a=yield(C||(C=n("Promise"))).all([o("WAWebApiContact").getContactRecord(o("WAWebUserPrefsMeUser").getMePnUserOrThrow()),o("WAWebApiContact").getContactRecord(e)]),i=a[0],l=a[1];if(l&&o("WAWebEphemeralityUtils").isEphemeralityDisabledForMessagingWithContact(l))return o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["getDisappearingModeSettingForNewChat: ephemerality disabled for messaging with contact"]))),null;if(!t&&e.isUser()&&!e.isPSA()){var s=r==null||r.id.fromMe;if(s)return o("WAWebEphemeralityResolver").resolveNewChatDMSettings(i,l);var u=o("WAWebEphemeralityResolver").getEphemeralDurationForUser(i);return o("WAWebEphemeralityResolver").resolveNewIncomingChatDMSettings(r?o("WAWebMsgEphemerality").getMsgEphemeralitySettings(r):null,u)}}),k.apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=yield o("WAWebApiBusinessProfile").getBusinessProfileRow(e.toString());if(n)return o("WAWebBotTypes").BizBotAutomatedType.cast(n.automatedType);var r=yield o("WAWebQueryBusinessProfile").queryBusinessProfile([{wid:e}]);return(t=r[0])==null||(t=t.profile)==null?void 0:t.automated_type}),T.apply(this,arguments)}l.createChat=b,l.createNewsletterObjectForStorage=R}),98);
__d("WAWebMessageLidOriginType",["WAWebUserPrefsPhoneNumberHidingThreadPromotionMigration","WAWebUsernameTypes"],(function(t,n,r,o,a,i,l){function e(e,t){if(e.isLid())return(t==null?void 0:t.origin)!=null?(t.origin,o("WAWebUserPrefsPhoneNumberHidingThreadPromotionMigration").hasPhoneNumberHidingThreadPromotionMigrationStarted()?o("WAWebUsernameTypes").LidOriginType.GENERAL:o("WAWebUsernameTypes").LidOriginType.cast(t.origin)):o("WAWebUsernameTypes").LidOriginType.GENERAL}l.determineLidOriginTypeForIncomingMessage=e}),98);
__d("WAWebCheckChatExistsOrCreate",["WALogger","WAWebApiChat","WAWebApiHydrateWidsUtil","WAWebBackendApi","WAWebCreateChat","WAWebCurrentUser","WAWebLid1X1MigrationGating","WAWebMessageLidOriginType","WAWebRuntimeEnvironmentUtils","WAWebUsernameTypes","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p;function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebRuntimeEnvironmentUtils").isWorker()?(yield o("WAWebApiChat").getChatRecord(e))!=null:o("WAWebBackendApi").frontendSendAndReceive("hasChat",{chatId:e})}),f.apply(this,arguments)}var g=new Map;function h(e){var t=e.chatOriginType,n=e.destinationChat,r=e.initialProps,a=e.msgMeta,i=e.options,l=n.chatId,s=l.isRegularUser()?o("WAWebMessageLidOriginType").determineLidOriginTypeForIncomingMessage(o("WAWebWidFactory").asUserWidOrThrow(l),a):null;return o("WAWebCreateChat").createChat(n,t,babelHelpers.extends({createdLocally:!1,lidOriginType:s},r),i)}function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r,a=t.destinationChat,i=a.chatId,l=i.toString();if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate called with chatWid=",", accountLid=",""])),i.toLogString(),(r=a.accountLid)==null?void 0:r.toLogString()),o("WAWebCurrentUser").isEmployee()){var f,y;o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate: first message id: ",""])),(f=(y=t.options.firstIncomingMsg)==null?void 0:y.id.toString())!=null?f:"not-passed")}var C=g.get(l);C!=null&&(yield C);var b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield _(i);if(e!==!0){var n,r;if(i.isLid()&&!o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&(t==null||(n=t.initialProps)==null?void 0:n.lidOriginType)!==o("WAWebUsernameTypes").LidOriginType.PNH_CTWA&&((r=t.msgMeta)==null?void 0:r.origin)!=="ctwa"){var a,s;o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate: chat origin: ",". lid origin ",", ",""])),t.chatOriginType,(a=t.msgMeta)==null?void 0:a.origin,t==null||(s=t.initialProps)==null?void 0:s.lidOriginType),o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate: asked to create Lid chat ",", "," but is not migrated"])),i.toLogString(),t.chatOriginType).sendLogs("checkChatExistsOrCreate: asked to create Lid chat but is not migrated")}try{var f;o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate: chat does not exist, creating chat ",", ",""])),i.toLogString(),t==null||(f=t.initialProps)==null?void 0:f.lidOriginType),yield h(t)}catch(e){if(!o("WAWebRuntimeEnvironmentUtils").isWorker()&&e instanceof o("WAWebApiChat").CreateChatDuplicateError){var y=yield o("WAWebApiChat").getChatRecord(i);if(y!=null){yield o("WAWebBackendApi").frontendFireAndForget("chatCollectionGadd",{chat:babelHelpers.extends({},o("WAWebApiHydrateWidsUtil").hydrateWids(y),{id:i})});var C=yield _(i);return C||o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate for ",", unable to restore chat from DB"])),i.toLogString()).tags("messaging").sendLogs("checkChatExistsOrCreate failed to restore chat",{sampling:.01}),C}}o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["checkChatExistsOrCreate for ",", failed with error: ",", stack: ",""])),i.toLogString(),e,e.stack).tags("messaging").sendLogs("checkChatExistsOrCreate failed",{sampling:.01})}}return g.delete(l),e})();return g.set(l,b),b}),C.apply(this,arguments)}l.doesChatExist=_,l.checkChatExistsOrCreate=y}),98);
__d("WAWebCheckmarkIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="checkmark";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=24,R=24;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 24 24",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{fill:"currentColor",d:"M9,17.2l-4-4l-1.4,1.3L9,19.9L20.4,8.5L19,7.1L9,17.2z"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.CheckmarkIcon=m}),98);
__d("useWAWebStaticButtonA11y",["WAWebKeyboardIsKeyActivation","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useRef;function u(e){}function c(e,t){var n,o,a=s(),i=function(t){a.current=t},l=function(t){if(r("WAWebKeyboardIsKeyActivation")(t)){var e;t.stopPropagation(),t.preventDefault(),(e=a.current)==null||e.click()}},c=(t==null?void 0:t.disabled)===!0,d=c?u:e;return[i,{"aria-disabled":(n=t==null?void 0:t.disabled)!=null?n:void 0,onClick:d,onKeyPress:l,role:"button",tabIndex:c?-1:(o=t==null?void 0:t.tabIndex)!=null?o:0}]}l.default=c}),98);
__d("WAWebClickableLink.react",["WAWebClassnames","WAWebExternalLink.react","asyncToGeneratorRuntime","react","stylex","useWAWebStaticButtonA11y"],(function(t,n,r,o,a,i,l){var e,s,u=e||(e=r("react"));function c(e){var t,a=e.ariaLabel,i=e.children,l=e.className,c=e.href,d=e.onClick,m=e.tabIndex,p=e.title,_=e.xstyle,f=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){c!=null&&(e.metaKey||e.altKey)||(e.preventDefault(),yield d(e))});return function(n){return e.apply(this,arguments)}})(),g=r("useWAWebStaticButtonA11y")(d),h=g[0],y=g[1];return u.jsx(o("WAWebExternalLink.react").ExternalLinkEl,babelHelpers.extends({},y,{ref:h,"data-testid":void 0,className:o("WAWebClassnames").classnamesConvertMeToStylexPlease(l,"x1xlr1w8 xt0b8zv xbvygy2 x17f7hit xp30eni xhmieyt",(s||(s=r("stylex")))(_)),href:c!=null?c:void 0,onClick:f,role:"button",title:p,tabIndex:m!=null?m:void 0,"data-tab":e["data-tab"],"aria-label":a,children:i}))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("WAWebProtobufsWa6.pb",["$InternalEnum","WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s,u=(s=n("$InternalEnum"))({OFF:0,STANDARD:1}),c=s({DEFAULT:0,GUEST:1}),d=s({WHATSAPP:0,MESSENGER:1,INTEROP:2,INTEROP_MSGR:3,WHATSAPP_LID:4}),m=s({SYSTEM:0,GOOGLE:1,HARDCODED:2,OVERRIDE:3,FALLBACK:4,MNS:5,MNS_SECONDARY:6,SOCKS_PROXY:7}),p=s({CELLULAR_UNKNOWN:0,WIFI_UNKNOWN:1,CELLULAR_EDGE:100,CELLULAR_IDEN:101,CELLULAR_UMTS:102,CELLULAR_EVDO:103,CELLULAR_GPRS:104,CELLULAR_HSDPA:105,CELLULAR_HSUPA:106,CELLULAR_HSPA:107,CELLULAR_CDMA:108,CELLULAR_1XRTT:109,CELLULAR_EHRPD:110,CELLULAR_LTE:111,CELLULAR_HSPAP:112}),_=s({PUSH:0,USER_ACTIVATED:1,SCHEDULED:2,ERROR_RECONNECT:3,NETWORK_SWITCH:4,PING_RECONNECT:5,UNKNOWN:6}),f=s({SHARE_EXTENSION:0,SERVICE_EXTENSION:1,INTENTS_EXTENSION:2}),g=s({WEB_BROWSER:0,APP_STORE:1,WIN_STORE:2,DARWIN:3,WIN32:4,WIN_HYBRID:5}),h=s({PHONE:0,TABLET:1,DESKTOP:2,WEARABLE:3,VR:4}),y=s({RELEASE:0,BETA:1,ALPHA:2,DEBUG:3}),C=s({ANDROID:0,IOS:1,WINDOWS_PHONE:2,BLACKBERRY:3,BLACKBERRYX:4,S40:5,S60:6,PYTHON_CLIENT:7,TIZEN:8,ENTERPRISE:9,SMB_ANDROID:10,KAIOS:11,SMB_IOS:12,WINDOWS:13,WEB:14,PORTAL:15,GREEN_ANDROID:16,GREEN_IPHONE:17,BLUE_ANDROID:18,BLUE_IPHONE:19,FBLITE_ANDROID:20,MLITE_ANDROID:21,IGLITE_ANDROID:22,PAGE:23,MACOS:24,OCULUS_MSG:25,OCULUS_CALL:26,MILAN:27,CAPI:28,WEAROS:29,ARDEVICE:30,VRDEVICE:31,BLUE_WEB:32,IPAD:33,TEST:34,SMART_GLASSES:35,BLUE_VR:36,AR_WRIST:37}),b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={};b.name="HandshakeMessage",b.internalSpec={clientHello:[2,(e=o("WAProtoConst")).TYPES.MESSAGE,R],serverHello:[3,e.TYPES.MESSAGE,S],clientFinish:[4,e.TYPES.MESSAGE,v]},v.name="HandshakeMessage$ClientFinish",v.internalSpec={static:[1,e.TYPES.BYTES],payload:[2,e.TYPES.BYTES],extendedCiphertext:[3,e.TYPES.BYTES]},S.name="HandshakeMessage$ServerHello",S.internalSpec={ephemeral:[1,e.TYPES.BYTES],static:[2,e.TYPES.BYTES],payload:[3,e.TYPES.BYTES],extendedStatic:[4,e.TYPES.BYTES]},R.name="HandshakeMessage$ClientHello",R.internalSpec={ephemeral:[1,e.TYPES.BYTES],static:[2,e.TYPES.BYTES],payload:[3,e.TYPES.BYTES],useExtended:[4,e.TYPES.BOOL],extendedCiphertext:[5,e.TYPES.BYTES]},L.name="ClientPayload",L.internalSpec={username:[1,e.TYPES.UINT64],passive:[3,e.TYPES.BOOL],userAgent:[5,e.TYPES.MESSAGE,x],webInfo:[6,e.TYPES.MESSAGE,T],pushName:[7,e.TYPES.STRING],sessionId:[9,e.TYPES.SFIXED32],shortConnect:[10,e.TYPES.BOOL],connectType:[12,e.TYPES.ENUM,p],connectReason:[13,e.TYPES.ENUM,_],shards:[14,e.FLAGS.REPEATED|e.TYPES.INT32],dnsSource:[15,e.TYPES.MESSAGE,I],connectAttemptCount:[16,e.TYPES.UINT32],device:[18,e.TYPES.UINT32],devicePairingData:[19,e.TYPES.MESSAGE,k],product:[20,e.TYPES.ENUM,d],fbCat:[21,e.TYPES.BYTES],fbUserAgent:[22,e.TYPES.BYTES],oc:[23,e.TYPES.BOOL],lc:[24,e.TYPES.INT32],iosAppExtension:[30,e.TYPES.ENUM,f],fbAppId:[31,e.TYPES.UINT64],fbDeviceId:[32,e.TYPES.BYTES],pull:[33,e.TYPES.BOOL],paddingBytes:[34,e.TYPES.BYTES],yearClass:[36,e.TYPES.INT32],memClass:[37,e.TYPES.INT32],interopData:[38,e.TYPES.MESSAGE,E],trafficAnonymization:[40,e.TYPES.ENUM,u],lidDbMigrated:[41,e.TYPES.BOOL],accountType:[42,e.TYPES.ENUM,c],connectionSequenceInfo:[43,e.TYPES.SFIXED32],paaLink:[44,e.TYPES.BOOL],preacksCount:[45,e.TYPES.INT32],processingQueueSize:[46,e.TYPES.INT32]},E.name="ClientPayload$InteropData",E.internalSpec={accountId:[1,e.TYPES.UINT64],token:[2,e.TYPES.BYTES],enableReadReceipts:[3,e.TYPES.BOOL]},k.name="ClientPayload$DevicePairingRegistrationData",k.internalSpec={eRegid:[1,e.TYPES.BYTES],eKeytype:[2,e.TYPES.BYTES],eIdent:[3,e.TYPES.BYTES],eSkeyId:[4,e.TYPES.BYTES],eSkeyVal:[5,e.TYPES.BYTES],eSkeySig:[6,e.TYPES.BYTES],buildHash:[7,e.TYPES.BYTES],deviceProps:[8,e.TYPES.BYTES]},I.name="ClientPayload$DNSSource",I.internalSpec={dnsMethod:[15,e.TYPES.ENUM,m],appCached:[16,e.TYPES.BOOL]},T.name="ClientPayload$WebInfo",T.internalSpec={refToken:[1,e.TYPES.STRING],version:[2,e.TYPES.STRING],webdPayload:[3,e.TYPES.MESSAGE,D],webSubPlatform:[4,e.TYPES.ENUM,g],browser:[5,e.TYPES.STRING],browserVersion:[6,e.TYPES.STRING]},D.name="ClientPayload$WebInfo$WebdPayload",D.internalSpec={usesParticipantInKey:[1,e.TYPES.BOOL],supportsStarredMessages:[2,e.TYPES.BOOL],supportsDocumentMessages:[3,e.TYPES.BOOL],supportsUrlMessages:[4,e.TYPES.BOOL],supportsMediaRetry:[5,e.TYPES.BOOL],supportsE2EImage:[6,e.TYPES.BOOL],supportsE2EVideo:[7,e.TYPES.BOOL],supportsE2EAudio:[8,e.TYPES.BOOL],supportsE2EDocument:[9,e.TYPES.BOOL],documentTypes:[10,e.TYPES.STRING],features:[11,e.TYPES.BYTES]},x.name="ClientPayload$UserAgent",x.internalSpec={platform:[1,e.TYPES.ENUM,C],appVersion:[2,e.TYPES.MESSAGE,$],mcc:[3,e.TYPES.STRING],mnc:[4,e.TYPES.STRING],osVersion:[5,e.TYPES.STRING],manufacturer:[6,e.TYPES.STRING],device:[7,e.TYPES.STRING],osBuildNumber:[8,e.TYPES.STRING],phoneId:[9,e.TYPES.STRING],releaseChannel:[10,e.TYPES.ENUM,y],localeLanguageIso6391:[11,e.TYPES.STRING],localeCountryIso31661Alpha2:[12,e.TYPES.STRING],deviceBoard:[13,e.TYPES.STRING],deviceExpId:[14,e.TYPES.STRING],deviceType:[15,e.TYPES.ENUM,h],deviceModelType:[16,e.TYPES.STRING]},$.name="ClientPayload$UserAgent$AppVersion",$.internalSpec={primary:[1,e.TYPES.UINT32],secondary:[2,e.TYPES.UINT32],tertiary:[3,e.TYPES.UINT32],quaternary:[4,e.TYPES.UINT32],quinary:[5,e.TYPES.UINT32]},l.ClientPayload$TrafficAnonymization=u,l.ClientPayload$AccountType=c,l.ClientPayload$Product=d,l.ClientPayload$DNSSource$DNSResolutionMethod=m,l.ClientPayload$ConnectType=p,l.ClientPayload$ConnectReason=_,l.ClientPayload$IOSAppExtension=f,l.ClientPayload$WebInfo$WebSubPlatform=g,l.ClientPayload$UserAgent$DeviceType=h,l.ClientPayload$UserAgent$ReleaseChannel=y,l.ClientPayload$UserAgent$Platform=C,l.HandshakeMessageSpec=b,l.HandshakeMessage$ClientFinishSpec=v,l.HandshakeMessage$ServerHelloSpec=S,l.HandshakeMessage$ClientHelloSpec=R,l.ClientPayloadSpec=L,l.ClientPayload$InteropDataSpec=E,l.ClientPayload$DevicePairingRegistrationDataSpec=k,l.ClientPayload$DNSSourceSpec=I,l.ClientPayload$WebInfoSpec=T,l.ClientPayload$WebInfo$WebdPayloadSpec=D,l.ClientPayload$UserAgentSpec=x,l.ClientPayload$UserAgent$AppVersionSpec=$}),98);
__d("WAWebClientPayloadReleaseChannel",["WALogger","WAWebBuildType","WAWebProtobufsWa6.pb","asyncToGeneratorRuntime","cr:9565"],(function(t,n,r,o,a,i,l){var e,s,u,c=(e=n("cr:9565"))!=null?e:{},d=c.getWindowsBuildType;function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;d!=null?e=d():e=yield o("WAWebBuildType").getBuildType();var t;e:{if(e===o("WAWebBuildType").BuildType.RELEASE){t=o("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.RELEASE;break e}if(e===o("WAWebBuildType").BuildType.BETA){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[Web] Enabling BETA features"]))),t=o("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.BETA;break e}if(e===o("WAWebBuildType").BuildType.ALPHA){t=o("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.ALPHA;break e}if(e===o("WAWebBuildType").BuildType.DEBUG){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[Web]: Enabling DEBUG features"]))),t=o("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$ReleaseChannel.DEBUG;break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)}return t}),p.apply(this,arguments)}l.getReleaseChannel=m}),98);
__d("WAWebSyncdMdSession",["WABinary","WACryptoSha256","WANullthrows","WAWebCryptoCurve25519","WAWebSignalCommonUtils","WAWebSignalProtocolStore","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WAWebSignalCommonUtils").createSignalAddress(o("WAWebUserPrefsMeUser").getMePnUserOrThrow()).toString(),t=r("WANullthrows")(yield o("WAWebSignalProtocolStore").getPersistSignalProtocolStore().loadIdentityKey(e)),n=o("WAWebCryptoCurve25519").toCurveKeyPubKey(o("WAWebSignalCommonUtils").strToBuffer(t)),a=r("WANullthrows")(yield o("WAWebSignalProtocolStore").getPersistSignalProtocolStore().getIdentityKeyPair()),i=o("WAWebCryptoCurve25519").toCurveKeyPubKey(a.pubKey);return u(n,i)}),s.apply(this,arguments)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e.byteLength!==32)throw r("err")("genSessionId: primary identity public key is "+e.byteLength+" bytes, should be 32!");if(t.byteLength!==32)throw r("err")("genSessionId: companion identity public key is "+e.byteLength+" bytes, should be 32!");var n=new(o("WABinary")).Binary;n.writeBuffer(e),n.write(95),n.writeBuffer(t);var a=n.readByteArrayView(),i=yield o("WACryptoSha256").sha256Base64(a);return i}),c.apply(this,arguments)}l.genCurrentSessionId=e,l.genSessionId=u}),98);
__d("WAWebSyncdMdSyncFieldstatMeta",["Promise","WAStorageEstimator","WAWebSyncdMdSession","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=-2,u=-1,c=(function(){function t(){this.$1={mdStorageQuotaBytes:-2,mdStorageQuotaUsedBytes:-2},this.$2=null}var r=t.prototype;return r.getStorageEstimation=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$1.mdStorageQuotaBytes!==s)return(e||(e=n("Promise"))).resolve(this.$1);var t=yield o("WAStorageEstimator").estimateStorage();return this.$1={mdStorageQuotaBytes:t.success?t.value.quota:u,mdStorageQuotaUsedBytes:t.success?t.value.usage:u},this.$1});function r(){return t.apply(this,arguments)}return r})(),r.getMdSessionId=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return this.$2!=null?this.$2:(this.$2=yield o("WAWebSyncdMdSession").genCurrentSessionId(),this.$2)});function t(){return e.apply(this,arguments)}return t})(),t})(),d=new c;l.STORAGE_QUOTA_UNAVAILABLE=u,l.MdSyncFieldStatsMeta=d}),98);
__d("WAWebWamPlatform",["WAWebEnvironment","WAWebPwaDocumentMetadataUtils"],(function(t,n,r,o,a,i,l){function e(){return r("WAWebEnvironment").isWindows===!0?"WIN_HYBRID":o("WAWebPwaDocumentMetadataUtils").isCurrentWebSessionInsidePwa()?"PWA":"WEB"}l.getWamPlatform=e}),98);
__d("WAWebClientPayload",["WABase64","WAByteArray","WAMd5","WAWebBackendApi","WAWebBuildConstants","WAWebClientFeatureFlags","WAWebClientPayloadReleaseChannel","WAWebEnvironment","WAWebLid1X1MigrationGating","WAWebMiscBrowserUtils","WAWebProtobufsCompanionReg.pb","WAWebProtobufsWa6.pb","WAWebSyncdMdSyncFieldstatMeta","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWamPlatform","asyncToGeneratorRuntime","encodeProtobuf","gkx","justknobx"],(function(t,n,r,o,a,i,l){var e=null;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow(),r=babelHelpers.extends({},yield m(t),{username:parseInt(n.user,10),device:n.device!=null?n.device:0,lc:o("WAWebUserPrefsGeneral").getLoginCounter(),lidDbMigrated:o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()},e);return o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").ClientPayloadSpec,r).readByteArrayView()}),u.apply(this,arguments)}function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=_(),a=yield f(),i=babelHelpers.extends({},yield m(n),{devicePairingData:{buildHash:r,deviceProps:a,eRegid:o("WAByteArray").intToBytes(4,e.registrationId),eKeytype:o("WAByteArray").intToBytes(1,5),eIdent:e.identityKeyPair.pubKey,eSkeyId:o("WAByteArray").intToBytes(3,t.keyId),eSkeyVal:t.keyPair.pubKey,eSkeySig:t.signature}});return o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").ClientPayloadSpec,i).readByteArrayView()}),d.apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n;return{passive:(t=e==null?void 0:e.passive)!=null?t:!1,pull:(n=e==null?void 0:e.pull)!=null?n:!1,connectType:o("WAWebProtobufsWa6.pb").ClientPayload$ConnectType.WIFI_UNKNOWN,connectReason:o("WAWebProtobufsWa6.pb").ClientPayload$ConnectReason.USER_ACTIVATED,userAgent:yield y(),webInfo:{webSubPlatform:v()}}}),p.apply(this,arguments)}function _(){var e=o("WABase64").decodeB64(o("WAMd5").md5(o("WAWebBuildConstants").VERSION_BASE)),t=new Uint8Array(e);return t}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=r("WAWebMiscBrowserUtils").info(),t;if(e.version&&e.version!==""){var n=e.version.split(".");n.length>0&&e.version&&/^[0-9\.]+$/.test(e.version)&&(t={primary:parseInt(n[0],10),secondary:n.length>1?parseInt(n[1],10):void 0,tertiary:n.length>2?parseInt(n[2],10):void 0})}var a={inlineInitialPayloadInE2EeMsg:!0,supportBotUserAgentChatHistory:!0,supportCagReactionsAndPolls:!0,supportRecentSyncChunkMessageCountTuning:!0,supportHostedGroupMsg:!0,supportBizHostedMsg:!0,supportFbidBotChatHistory:!0,supportMessageAssociation:!0,supportCallLogHistory:r("WAWebEnvironment").isWindows,supportGroupHistory:r("gkx")("15338"),thumbnailSyncDaysLimit:r("justknobx")._("4736"),supportManusHistory:r("justknobx")._("2304")},i=o("WAWebClientFeatureFlags").isFeatureEnabled("debug_1_year_history_sync");if(i)a=babelHelpers.extends({},a,{fullSyncDaysLimit:365});else{var l=yield o("WAWebSyncdMdSyncFieldstatMeta").MdSyncFieldStatsMeta.getStorageEstimation();l.mdStorageQuotaBytes!==o("WAWebSyncdMdSyncFieldstatMeta").STORAGE_QUOTA_UNAVAILABLE&&(a=babelHelpers.extends({},a,{storageQuotaMb:Math.trunc(l.mdStorageQuotaBytes/1024/1024)}))}var s=r("WAWebEnvironment").isWindows&&!r("justknobx")._("1836");s&&(a.onDemandReady=!0,a.completeOnDemandReady=!0);var u=r("WAWebEnvironment").isWindows?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.UWP:b(e.name),c={os:e.os,version:t,platformType:u,requireFullSync:i,historySyncConfig:a},d=o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsCompanionReg.pb").DevicePropsSpec,c).readByteArrayView();return d}),g.apply(this,arguments)}function h(t){e=t}function y(){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebBackendApi").frontendSendAndReceive("getDeviceInfo",void 0),t={appVersion:{primary:Number(o("WAWebBuildConstants").VERSION_PRIMARY),secondary:Number(o("WAWebBuildConstants").VERSION_SECONDARY),tertiary:Number(o("WAWebBuildConstants").VERSION_TERTIARY)},platform:o("WAWebProtobufsWa6.pb").ClientPayload$UserAgent$Platform.WEB,releaseChannel:yield o("WAWebClientPayloadReleaseChannel").getReleaseChannel(),mcc:e.mcc,mnc:e.mnc,osVersion:e.osVersion,manufacturer:e.manufacturer,device:e.device,osBuildNumber:e.osBuild,localeLanguageIso6391:e.lg,localeCountryIso31661Alpha2:e.lc};if(r("WAWebEnvironment").isWindows){var n;t.appVersion={primary:Number((n=o("WAWebBuildConstants")).VERSION_PRIMARY),secondary:Number(n.VERSION_SECONDARY),tertiary:Number(n.VERSION_TERTIARY),quaternary:Number(n.WINDOWS_BUILD)},(o("WAWebBuildConstants").WINDOWS_BUILD==null?void 0:o("WAWebBuildConstants").WINDOWS_BUILD.length)===6&&(t.mcc=o("WAWebBuildConstants").WINDOWS_BUILD.substr(0,3),t.mnc=o("WAWebBuildConstants").WINDOWS_BUILD.substr(3,3))}return t}),C.apply(this,arguments)}function b(e){return e==="Chrome"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.CHROME:e==="Firefox"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.FIREFOX:e==="IE"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.IE:e==="Opera"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.OPERA:e==="Safari"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.SAFARI:e==="Edge"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.EDGE:e==="electron"||e==="Desktop"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.DESKTOP:e==="ipad"||e==="iPad"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.IPAD:e==="tablet"||e==="Android tablet"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.ANDROID_TABLET:e==="Ohana"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.OHANA:e==="Aloha"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.ALOHA:e==="Catalina"?o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.CATALINA:o("WAWebProtobufsCompanionReg.pb").DeviceProps$PlatformType.UNKNOWN}function v(){return(function(e){if(e==="WEB"||e==="PWA")return o("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.WEB_BROWSER;if(e==="DARWIN"||e==="DARWIN_BETA")return o("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.DARWIN;if(e==="MACSTORE")return o("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.APP_STORE;if(e==="WIN_HYBRID")return o("WAWebProtobufsWa6.pb").ClientPayload$WebInfo$WebSubPlatform.WIN_HYBRID;throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})(o("WAWebWamPlatform").getWamPlatform())}l.getClientPayloadForLogin=s,l.getClientPayloadForRegistration=c,l.setClientPayloadOverride=h}),98);
__d("WAWebClockSkewDifferenceTWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({ClockSkewDifferenceT:[3178,{clockSkewHourly:[1,o("WAWebWamCodegenUtils").TYPES.INTEGER]},[1,1e3,1e4],"private",37887164]},{ClockSkewDifferenceT:[]});l.ClockSkewDifferenceTWamEvent=e}),98);
__d("WAWebCommonSocketPlatformDetails",["WALogger","WAVerifyChainCertificateWA6","WAWapDict","WAWebProtobufsWa6.pb","asyncToGeneratorRuntime","decodeProtobuf","encodeProtobuf","err"],(function(t,n,r,o,a,i,l){var e,s=new Uint8Array([87,65,6,o("WAWapDict").DICT_VERSION]);function u(e){return o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,{clientHello:e}).readByteArrayView()}function c(e){return o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,{clientFinish:e}).readByteArrayView()}function d(e){return o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,e).serverHello}function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.certificate,a=t.serverStatic;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processCertificate start"])));var i=yield o("WAVerifyChainCertificateWA6").verifyChainCertificateWA6(n,a);if(!i.success)throw r("err")("verifyCertificateWA6 - "+i.error)}),p.apply(this,arguments)}function _(){return null}function f(e){if(e==null)return null;var t=e!=null?e:{},n=t.intermediate,r=t.leaf;return r&&n?r.key:null}l.WA_WEB_PROTO_HEADER=s,l.encodeHandshakeHello=u,l.encodeHandshakeFinish=c,l.decodeServerHello=d,l.processCertificate=m,l.serverInfoIfKnown=_,l.makeServerInfoIfKnown=f}),98);
__d("WAWebCommsProcessAck",["WALogger","WAWebActiveMessageRanges","WAWebDBMessageUtils","WAWebMsgKey","WAWebMsgType","WAWebSchemaMessage","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","cr:634"],(function(t,n,r,o,a,i,l){var e,s,u=(e=n("cr:634"))!=null?e:{},c=u.MsgCollection;function d(e){var t=e.attrs,n=t.from,r=t.id,a=t.t;if(e.attrs.class==="message"){var i=o("WAWebWidFactory").createWid(String(n)),l=m(e);f(String(r),i,parseInt(a,10),l),_(l,String(r),i)}}function m(e){var t,n,r=e.content;if(!Array.isArray(r)||((t=r[0])==null?void 0:t.tag)!=="rcat")return null;var o=(n=r[0])==null?void 0:n.content;return Array.isArray(o)?null:o}function p(e,t){return t.isGroup()?new(r("WAWebMsgKey"))({fromMe:!0,remote:t,id:e,participant:o("WAWebUserPrefsMeUser").getMePnUserOrThrow()}):new(r("WAWebMsgKey"))({fromMe:!0,remote:t,id:e})}function _(e,t,n){if(e!=null){var r=c==null?void 0:c.get(p(t,n));r!=null&&(r.rcat=e)}}function f(e,t,n,r){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=p(e,t),i=String(a);try{var l=yield o("WAWebSchemaMessage").getMessageTable().get(i);if((l==null?void 0:l.type)===o("WAWebMsgType").MSG_TYPE.REACTION)return;var u=o("WAWebDBMessageUtils").MessagePropertyType.cast(l==null?void 0:l.messageRangeIndex.split("_")[1]);o("WAWebSchemaMessage").getMessageTable().merge(i,{messageRangeIndex:o("WAWebDBMessageUtils").craftMessageRangeIndex(t.toString(),!1,u===o("WAWebDBMessageUtils").MessagePropertyType.SystemMessage,n),rcat:r})}catch(e){throw o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["processAckForOutgoingMessage: failed to update in storage"]))).verbose().sendLogs("message processAckForOutgoingMessage failed"),e}o("WAWebActiveMessageRanges").checkAndRemoveActiveMessageRanges(a,n)}),g.apply(this,arguments)}l.default=d}),98);
__d("WAWebPassiveModeManager",["Promise","WAAbortError","WALogger","WAPromiseQueue","WAPromiseRaceAbort","WAResolvable","WASendPassiveModeProtocol","WAWebBackendEventBus","WAWebHandleOfflineAbProps","WAWebPageLoadLogging","WAWebQplQuickPerformanceLoggerMarkerIds","WAWebQplQuickPerformanceLoggerModule","WAWebWamOfflineResumeReporter"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E=6e4,k=(function(){function t(){var t=this;this.$1=new AbortController,this.$2=new(o("WAResolvable")).Resolvable,this.$3=!1,this.$4=[],this.$5=[],this.$7=E,this.$8=new(o("WAPromiseQueue")).PromiseQueue,o("WAWebBackendEventBus").BackendEventBus.onSocketStreamDisconnected(function(){var n;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: trying to abort passive mode because of disconnect"]))),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: "," tasks from current or last run: ",""])),t.$5.length,t.$5.map(function(e){return e.name}).join(", ")),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: processing tasks finished: ",""])),t.$2.resolveWasCalled()),(n=t.$1)==null||n.abort(),t.resetState()})}var a=t.prototype;return a.passiveTimeoutTimer_TESTONLY=function(){return this.$6},a.resetState=function(){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: reset status"]))),this.$5=[],this.$6&&(self.clearTimeout(this.$6),this.$6=null),this.$3=!1,this.$2.resolveWasCalled()||this.$2.resolve(),this.$2=new(o("WAResolvable")).Resolvable,this.$1=new AbortController},a.registerPassiveTask=function(t,n){this.$4.find(function(e){return e.name===t})?o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: passive task "," already registered"])),t):(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: register passive task ",""])),t),this.$4.push({name:t,task:n}))},a.enableDebugPassiveMode=function(){},a.executePassiveTasks=function(){var e=this;if(!this.shouldConnectAsPassiveMode()){this.$2.resolve();return}var t=[].concat(this.$4);this.$4=[],this.$8.enqueue(function(){e.$5=t,o("WAWebPageLoadLogging").startPageLoadQplMeasure("passive_tasks"),o("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(o("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"PassiveTasks_start"),o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: start to execute "," passive tasks: ",""])),t.length,t.map(function(e){return e.name}).join(", "));var a=r("WAPromiseRaceAbort")((L||(L=n("Promise"))).all(t.map(function(t){var n=t.task;return n(e.$1.signal).catch(function(e){if(e.name===o("WAAbortError").ABORT_ERROR)throw e;o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: failed for single task with ",""])),e)})})),e.$1.signal).then(function(){o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: complete all tasks"]))),e.$9()}).catch(o("WAAbortError").catchAbort(function(){o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: abort by disconnect, skip send active"]))),e.$2.resolve()})).catch(function(t){o("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: end with error ",""])),t),e.$9()}).finally(function(){o("WAWebPageLoadLogging").endPageLoadQplMeasure("passive_tasks"),o("WAWebQplQuickPerformanceLoggerModule").QPL.markerPoint(o("WAWebQplQuickPerformanceLoggerMarkerIds").QuickLogMarkerId.OFFLINE_RESUME,"PassiveTasks_end"),o("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: done"]))),e.resetState()}),i=new L(function(t){e.$6=self.setTimeout(function(){var n=o("WALogger").ERROR(b||(b=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: executePassiveTasks: passive mode end with timeout"])));o("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(n=n.tags("offline-resume-experimental")),n.sendLogs("passive-timeout"),e.$9(),e.resetState(),t()},e.$7)});return L.race([a,i])})},a.$9=function(){o("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: _endPassiveMode"]))),this.$2.resolve(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePassiveT(),this.$3||(o("WALogger").LOG(S||(S=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: send passive active iq"]))),o("WASendPassiveModeProtocol").sendPassiveModeProtocol("active"))},a.waitForPassiveTaskEnd=function(){return this.$2.promise},a.shouldConnectAsPassiveMode=function(){return this.$3||this.$4.length>0},a.setPassiveModeTimeout=function(t){o("WALogger").LOG(R||(R=babelHelpers.taggedTemplateLiteralLoose(["PassiveModeManager: setPassiveModeTimeout: config timeout to be ",""])),t),this.$7=t},t})(),I=new k;l.DEFAULT_MAX_PASSIVE_MODE_TIME_MS=E,l.PassiveTaskManager=I}),98);
__d("WAWebOnlineDanglingReceipts",["Promise","WALogger","WATimeUtils","WAWebABProps","WAWebCommsSendPing","WAWebNetworkStatus","WAWebSchemaDanglingReceipt","WAWebSendReceiptJobCommon","WAWebWamOfflineResumeReporter","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y=new Map,C=null,b=120*1e3;function v(t,n,r){var a;y.has(t)||y.set(t,new Map);var i=y.get(t);i!=null&&i.has(n)||i==null||i.set(n,[]),i==null||(a=i.get(n))==null||a.push(r),C||(C=self.setTimeout(function(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clear online dangling receipts due to timeout"]))),I(),C=null},b))}function S(){return y.size>0}function R(){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=String(o("WATimeUtils").unixTime()),t=0,r=[],a=Array.from(y.keys()).map(function(n){var a=y.get(n);if(a)return a.forEach(function(e){t+=e.length}),r.length<3&&r.push(a.size),o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:n,type:o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.DELIVERY,t:e,groupedReceipt:a})});r.length>0&&o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: sending online dangling grouped receipts for "," chats => ",""])),y.size,r),yield(h||(h=n("Promise"))).all(a),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreackCount(t,!0),E()}),L.apply(this,arguments)}function E(){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(y.size!==0){if(!r("WAWebNetworkStatus").online){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: skip due to offline"])));return}o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: sending ping"])));var e=yield o("WAWebCommsSendPing").blockSendPing();(e||!o("WAWebABProps").getABPropConfigValue("web_offline_resume_wait_for_ping_response_enabled"))&&(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOnlineDanglingReceiptsAfterSending: clearing receipts"]))),y.clear())}}),k.apply(this,arguments)}function I(){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(y.size!==0){if(!r("WAWebNetworkStatus").online)return D();try{o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: sending ping"])));var e=yield o("WAWebCommsSendPing").blockSendPing();(e||!o("WAWebABProps").getABPropConfigValue("web_offline_resume_wait_for_ping_response_enabled"))&&(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: clearing receipts"]))),y.clear())}catch(e){o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks] clearOrFlushOnlineDanglingReceipts: failed to clear receipts: ",""])),e),D()}}}),T.apply(this,arguments)}function D(){return x.apply(this,arguments)}function x(){return x=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!(!S()||!o("WAWebABProps").getABPropConfigValue("web_pre_acks_m3_enabled"))){o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush due to offline."])));var e=[];y.forEach(function(t,n){t.forEach(function(t,r){t.forEach(function(t){e.push({from:String(n),author:String(r),externalId:t})})})}),e.length>0&&(o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[online-preacks]: clearOrFlushOnlineDanglingReceipts: flush "," receipts"])),e.length),yield o("WAWebSchemaDanglingReceipt").getTable().create({receipts:e,acks:[]}),y.clear())}}),x.apply(this,arguments)}l.addOnlineDanglingReceipts=v,l.hasOnlineDanglingReceipts=S,l.sendAndClearOnlineDanglingReceipts=R}),98);
__d("WAWebUploadPrekeysForRegTask",["Promise","WAComms","WADeprecatedSendIq","WALogger","WAWap","WAWebConstantsDeprecated","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebSignalUtilsApi","WAWebUploadPreKeysJob","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g=(function(){function t(){}var a=t.prototype;return a.startKeyGenerationStage=function(){return this.$1||(this.$1=this.$3()),this.$1},a.startKeyUploadStage=function(){return this.$2||(this.$2=this.$4()),this.$2},a.$3=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: start key generation"])));var t=yield(f||(f=n("Promise"))).all([o("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),o("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()]),a=t[0],i=t[1];if(!a||!i)throw r("err")("No signal info is available");var l=yield o("WAWebSignalStoreApi").waSignalStore.getOrGenPreKeys(o("WAWebUploadPreKeysJob").UPLOAD_KEYS_COUNT,o("WAWebSignalKeyApi").generatePreKeyPair);return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: successfully generated "," keys"])),l.length),{regInfo:a,signedPreKey:i,prekeys:l}});function a(){return t.apply(this,arguments)}return a})(),a.$4=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this.$1||this.startKeyGenerationStage(),t=yield e,n=t.prekeys,a=t.regInfo,i=t.signedPreKey;o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PrekeyUploadForRegistrationTask: start key upload"])));var l=n.length;if(l===0)throw r("err")("No preKey is available");var s=n[n.length-1].keyId,f=a.identityKeyPair,g=a.registrationId,h=o("WAWap").wap("iq",{id:o("WAWap").generateId(),xmlns:"encrypt",type:"set",to:o("WAWap").S_WHATSAPP_NET},o("WAWap").wap("registration",null,o("WAWap").BIG_ENDIAN_CONTENT(g)),o("WAWap").wap("type",null,r("WAWebConstantsDeprecated").KEY_BUNDLE_TYPE),o("WAWap").wap("identity",null,f.pubKey),o("WAWap").wap("list",null,n.map(o("WAWebSignalUtilsApi").xmppPreKey)),o("WAWebSignalUtilsApi").xmppSignedPreKey(i));try{yield o("WAComms").waitForConnection(),yield o("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(s);var y=yield o("WADeprecatedSendIq").deprecatedSendIqWithoutRetry(h,o("WAWebUploadPreKeysJob").uploadPreKeyResParser);if(y.success)return o("WAWebSignalStoreApi").waSignalStore.setServerHasPreKeys(!0),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: "," keys uploaded, raw stanza size: ","b"])),n.length,h.toString().length),{success:!0};var C=y.errorCode;return C>=500?o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: server requested backoff "," (count: ",", size: ","b)"])),C,l,h.toString().length):C===406?o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: uploaded invalid keys (count: ",", size: ","b)"])),l,h.toString().length):o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: unrecognized error "," (count: ",", size: ","b)"])),C,l,h.toString().length),{errorCode:y.errorCode,errorText:y.errorText}}catch(e){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["_uploadPreKeys: disconnected, unclear if on server: "," (count: ",", size: ","b)"])),e,l,h.toString().length);return}});function t(){return e.apply(this,arguments)}return t})(),t})();function h(){return new g}l.default=h}),98);
__d("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:1,TEST_BANNER_SLIM:2,TEST_BANNER_LARGE:3,CONTROL:4});i.WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP=e}),66);
__d("WAWebDesktopUpsellQRCodeBannerExperiment",["WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup"],(function(t,n,r,o,a,i,l){function e(){return o("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_SLIM}l.getWAWebDesktopUpsellQRCodeBannerExperiment=e}),98);
__d("WAWebDeviceFeatures",["WAWebSessionStorage"],(function(t,n,r,o,a,i,l){"use strict";function e(){return navigator.platform}function s(){return navigator.deviceMemory===void 0?"undefined":""+navigator.deviceMemory}function u(){var e=window.devicePixelRatio;return e==null||e===void 0?"undefined":e*window.outerWidth+"x"+e*window.outerHeight}function c(){var e,t;return(e=(t=navigator)==null||(t=t.connection)==null?void 0:t.rtt)!=null?e:-1}function d(){var e;return(e=r("WAWebSessionStorage")==null?void 0:r("WAWebSessionStorage").length)!=null?e:-1}function m(){return"ontouchstart"in window&&"TouchEvent"in window}function p(){return{cpuPlatform:e(),deviceMemory:s(),screenResolution:u(),connectionRoundTripTime:c(),sessionStorageLength:d(),touchPresence:m()}}l.default=p}),98);
__d("isWAWebFeatureDetectionAppleTouchscreen",["WAWebMiscBrowserUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("WAWebMiscBrowserUtils").info();return e.os.toLowerCase()!=="mac os"?!1:!!navigator.maxTouchPoints&&navigator.maxTouchPoints>2}l.default=e}),98);
__d("WAWebLinkDeviceScreenGatedUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","isWAWebFeatureDetectionAppleTouchscreen","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({M1_WINNER:1});function s(){if(!r("justknobx")._("5007"))return u();if(o("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var t=window.parent.linkDeviceVariant,n=e.cast(t);return n!=null?n:u()}var a=u();return window.linkDeviceVariant=a,a}function u(){return e.M1_WINNER}function c(){return r("gkx")("16993")?r("gkx")("18089")?"test":"control":"none"}function d(){return r("isWAWebFeatureDetectionAppleTouchscreen")()&&r("gkx")("20339")}function m(){return r("gkx")("20730")?r("gkx")("20731")?"test":"control":"none"}l.LinkDeviceScreenVariantType=e,l.getLinkDeviceScreenVariant=s,l.getOptimizedRegFromWebVariant=c,l.isAppleTouchscreenOverlayEnabled=d,l.getSimplifiedPairingInstructionsVariant=m}),98);
__d("WAWebNativeCameraQRLinkedDeviceUtils",["$InternalEnum","WAWebAutoLogoutGating","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum")({NONE:-1,CONTROL:0,TEST:1});function s(){if(!r("justknobx")._("5007"))return u();if(o("WAWebAutoLogoutGating").isRunningInAutoLogoutIframe()){var t=window.parent.nativeCameraVariant,n=e.cast(t);return n!=null?n:u()}var a=u();return window.nativeCameraVariant=a,a}function u(){return!r("gkx")("14464")||r("gkx")("26256")?e.NONE:r("gkx")("15235")?e.TEST:e.CONTROL}function c(){return s()===e.TEST}l.NativeCameraQRLinkedDeviceVariantType=e,l.getNativeCameraQRLinkedDeviceVariant=s,l.isNativeCameraQRLinkedDeviceTest=c}),98);
__d("WAWebLinkDeviceExperience",["WABitArray","WAWebArkoseExpUtils","WAWebAutoLogoutGating","WAWebDesktopUpsellQRCodeBannerExperiment","WAWebDeviceFeatures","WAWebLinkDeviceScreenGatedUtils","WAWebNativeCameraQRLinkedDeviceUtils","WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.flag=e}var t=e.prototype;return t.getIndex=function(){return u()-1-this.flag},e})(),s={ScreenRefreshFlag:new e(0),AutoLogoutFlag:new e(1),DesktopUpsellBannerControlFlag:new e(2),DesktopUpsellBannerTestSlimBannerFlag:new e(3),DesktopUpsellBannerTestLargeBannerFlag:new e(4),PairingScreenRefreshVariant1Flag:new e(6),LinkDeviceScreenControl:new e(8),LinkDeviceScreenTest:new e(9),OptimizedRegistrationControl:new e(10),OptimizedRegistrationTest:new e(11),ArkoseControl:new e(12),ArkoseTest:new e(13),SimplifiedPairingInstructionsControl:new e(14),SimplifiedPairingInstructionsTest:new e(15),TouchPresence:new e(16),AppleTouchscreenOverlay:new e(17)};function u(){return Math.max.apply(Math,Object.values(s).map(function(e){return e.flag}))+1}function c(e){var t=new(r("WABitArray"))(u());t.set(s.ScreenRefreshFlag.getIndex()),o("WAWebAutoLogoutGating").isAutoLogoutEnabled()&&t.set(s.AutoLogoutFlag.getIndex());var n=o("WAWebDesktopUpsellQRCodeBannerExperiment").getWAWebDesktopUpsellQRCodeBannerExperiment();e:{if(n===o("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.NONE)break e;if(n===o("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.CONTROL){t.set(s.DesktopUpsellBannerControlFlag.getIndex());break e}if(n===o("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_SLIM){t.set(s.DesktopUpsellBannerTestSlimBannerFlag.getIndex());break e}if(n===o("WAWebWamEnumWebcNativeUpsellCtaQrScreenExperimentGroup").WEBC_NATIVE_UPSELL_CTA_QR_SCREEN_EXPERIMENT_GROUP.TEST_BANNER_LARGE){t.set(s.DesktopUpsellBannerTestLargeBannerFlag.getIndex());break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+n)}var a=o("WAWebLinkDeviceScreenGatedUtils").getLinkDeviceScreenVariant();switch(a){case o("WAWebLinkDeviceScreenGatedUtils").LinkDeviceScreenVariantType.M1_WINNER:t.set(s.PairingScreenRefreshVariant1Flag.getIndex());break}var i=o("WAWebNativeCameraQRLinkedDeviceUtils").getNativeCameraQRLinkedDeviceVariant();switch(i){case o("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.NONE:break;case o("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.CONTROL:t.set(s.LinkDeviceScreenControl.getIndex());break;case o("WAWebNativeCameraQRLinkedDeviceUtils").NativeCameraQRLinkedDeviceVariantType.TEST:t.set(s.LinkDeviceScreenTest.getIndex());break}var l=o("WAWebLinkDeviceScreenGatedUtils").getOptimizedRegFromWebVariant(),c=(e==null?void 0:e.resultType)==="WEB_REGISTRATION_CAMPAIGN"||l==="test";c?t.set(s.OptimizedRegistrationTest.getIndex()):l==="control"&&t.set(s.OptimizedRegistrationControl.getIndex());var d=o("WAWebArkoseExpUtils").getArkoseVariant();switch(d){case o("WAWebArkoseExpUtils").ArkoseVariantType.CONTROL:t.set(s.ArkoseControl.getIndex());break;case o("WAWebArkoseExpUtils").ArkoseVariantType.TEST:t.set(s.ArkoseTest.getIndex());break;default:break}r("WAWebDeviceFeatures")().touchPresence&&t.set(s.TouchPresence.getIndex()),o("WAWebLinkDeviceScreenGatedUtils").isAppleTouchscreenOverlayEnabled()&&t.set(s.AppleTouchscreenOverlay.getIndex());var m=o("WAWebLinkDeviceScreenGatedUtils").getSimplifiedPairingInstructionsVariant();switch(m){case"control":t.set(s.SimplifiedPairingInstructionsControl.getIndex());break;case"test":t.set(s.SimplifiedPairingInstructionsTest.getIndex());break}return t.toNumber()}l.getWebCompanionLinkDeviceExperienceId=c}),98);
__d("WAWebWamEnumApplicationState",[],(function(t,n,r,o,a,i){var e=Object.freeze({FOREGROUND:1,BACKGROUND:2});i.APPLICATION_STATE=e}),66);
__d("WAWebWamEnumMdLinkDeviceCompanionStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({PAIR_SUCCESS_RECEIVED:1,PAIR_DEVICE_SIGN_SENT:2,FIRST_CONNECT:3,UPLOAD_PREKEYS:4,COMPLETE:5,GENERATE_PREKEYS:6,SENT_PREKEYS:7});i.MD_LINK_DEVICE_COMPANION_STAGE=e}),66);
__d("WAWebMdLinkDeviceCompanionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumMdLinkDeviceCompanionStage"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({MdLinkDeviceCompanion:[2576,{appContext:[13,e.TYPES.STRING],appContextBitfield:[14,e.TYPES.INTEGER],applicationState:[12,o("WAWebWamEnumApplicationState").APPLICATION_STATE],mdCompanionRefHash:[10,e.TYPES.STRING],mdDurationS:[8,e.TYPES.INTEGER],mdLinkDeviceCompanionErrorCode:[6,e.TYPES.INTEGER],mdLinkDeviceCompanionStage:[4,o("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE],mdLinkDeviceExperienceId:[11,e.TYPES.INTEGER],mdRegAttemptId:[9,e.TYPES.STRING],mdSessionId:[1,e.TYPES.STRING],mdTimestampS:[7,e.TYPES.INTEGER],mdWasUpgraded:[5,e.TYPES.BOOLEAN],userLocale:[15,e.TYPES.STRING]},[1,1,1],"regular"]},{MdLinkDeviceCompanion:[]});l.MdLinkDeviceCompanionWamEvent=s}),98);
__d("WAWebWamDeviceLinkReporter",["WABase64","WABinary","WACryptoSha256","WAResolvable","WATimeUtils","WAWebAppTracker","WAWebLinkDeviceExperience","WAWebLocalStorage","WAWebMdLinkDeviceCompanionWamEvent","WAWebWamEnumMdLinkDeviceCompanionStage","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=null,s=null,u=null,c=null,d="deviceLinkWamState";function m(){s!=null&&(r("WAWebLocalStorage")==null||r("WAWebLocalStorage").setItem(d,JSON.stringify(s)))}function p(){r("WAWebLocalStorage")==null||r("WAWebLocalStorage").removeItem(d)}function _(){try{var e=r("WAWebLocalStorage")==null?void 0:r("WAWebLocalStorage").getItem(d);if(e!=null)return p(),JSON.parse(e)}catch(e){}return null}function f(e,t,n){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){p(),e=new(o("WAWebMdLinkDeviceCompanionWamEvent")).MdLinkDeviceCompanionWamEvent;var a=yield C(t,n);return s={regStartTime:r,sessionId:a},a}),g.apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n;if(!e){var r=_();if(r==null)return;s=r,e=new(o("WAWebMdLinkDeviceCompanionWamEvent")).MdLinkDeviceCompanionWamEvent}yield(n=c)==null?void 0:n.promise,c=new(o("WAResolvable")).Resolvable,u=t,yield v(),m()}),y.apply(this,arguments)}function C(e,t){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=new(o("WABinary")).Binary;n.writeBuffer(e),n.write(95),n.writeBuffer(t);var r=n.readByteArrayView(),a=yield o("WACryptoSha256").sha256(r);return o("WABase64").encodeB64(a)}),b.apply(this,arguments)}function v(t){var n;if(!(!e||!s)){var r=s,a=o("WATimeUtils").unixTimeWithoutClockSkewCorrection()-r.regStartTime;if(u!=null){var i=u;e=new(o("WAWebMdLinkDeviceCompanionWamEvent")).MdLinkDeviceCompanionWamEvent({mdDurationS:a,mdSessionId:r.sessionId,mdTimestampS:r.regStartTime,mdLinkDeviceCompanionErrorCode:t==null?0:t,mdLinkDeviceCompanionStage:i,mdLinkDeviceExperienceId:o("WAWebLinkDeviceExperience").getWebCompanionLinkDeviceExperienceId()});var l=e;o("WAWebAppTracker").attachWAMAppContext(l,a*1e3),l.commitAndWaitForFlush(!0),(n=c)==null||n.resolve(),(t!=null||l.mdLinkDeviceCompanionStage===o("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.COMPLETE)&&(e=null,s=null,u=null,p())}}}l.initDeviceLinkEvent=f,l.setDeviceLinkPairStage=h,l.commitDeviceLinkEvent=v}),98);
__d("WAWebRegisterPassiveTasks",["WAAbortError","WACustomError","WALogger","WAPromiseLoop","WAPromiseTimeout","WAWebABPropsLocalStorage","WAWebABPropsWamGlobals","WAWebAbPropsSyncJob","WAWebClearDanglingReceipts","WAWebGetMessageCache","WAWebHandleOfflineAbProps","WAWebOnlineDanglingReceipts","WAWebPassiveModeManager","WAWebSchemaDanglingReceipt","WAWebSignalStoreApi","WAWebUploadPrekeysForRegTask","WAWebUserPrefsGeneral","WAWebWamDeviceLinkReporter","WAWebWamEnumMdLinkDeviceCompanionStage","asyncToGeneratorRuntime","cr:10195","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L=4,E=60*1e3;function k(){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield o("WAWebSignalStoreApi").waSignalStore.getServerHasPreKeys();if(!t){yield o("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(o("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.UPLOAD_PREKEYS);var a=r("WAWebUploadPrekeysForRegTask")();a.startKeyGenerationStage(),o("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask("KeyUpload",function(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[passive] start key upload"]))),a.startKeyUploadStage().then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[passive] key upload complete"]))),yield o("WAWebWamDeviceLinkReporter").setDeviceLinkPairStage(o("WAWebWamEnumMdLinkDeviceCompanionStage").MD_LINK_DEVICE_COMPANION_STAGE.COMPLETE),yield o("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent()})).catch((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["error while uploading prekeys, ",""])),e).verbose().sendLogs("error while uploading prekeys"),yield o("WAWebWamDeviceLinkReporter").commitDeviceLinkEvent(-1)});return function(t){return e.apply(this,arguments)}})())})}(r("gkx")("17264")||r("gkx")("26259")||!o("WAWebABPropsLocalStorage").isABPropsAfterFirstSync()||(yield o("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaDirtyBitIdb()))&&(yield o("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask("SyncABProps",function(e){return o("WAWebAbPropsSyncJob").syncABPropsTask().catch(function(e){o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["error while sync ab props prekeys, ",""])),e).verbose()})}),o("WAWebUserPrefsGeneral").setWhatsAppWebExternalBetaDirtyBitIdb(!1),o("WAWebABPropsWamGlobals").setAbPropDependingGlobalWamAttributes())}),I.apply(this,arguments)}function T(){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WAWebOnlineDanglingReceipts").hasOnlineDanglingReceipts()&&o("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask("SendOnlineDanglingReceipts",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[passive] start sending online dangling receipts"]))),yield o("WAWebOnlineDanglingReceipts").sendAndClearOnlineDanglingReceipts(),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending online dangling receipts complete"])))}catch(e){o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["error while sending online dangling receipts, ",""])),e).verbose().sendLogs("send-online-dangling-receipts-failed")}}));var e=yield o("WAWebSchemaDanglingReceipt").getTable().all(),t=e.length>0,a=o("WAWebGetMessageCache").getMessageCache().size()>0||o("WAWebGetMessageCache").getMessageCache().checkpointQueue.size()>0;(t||a)&&o("WAWebPassiveModeManager").PassiveTaskManager.registerPassiveTask("SendDanglingReceipts",(function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){if(t)try{o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts"]))),yield o("WAWebClearDanglingReceipts").sendAndClearDanglingReceipts(e,n),o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts: done"])))}catch(e){if(r("getErrorSafe")(e).name===o("WAAbortError").ABORT_ERROR)throw e;o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[passive] sending dangling receipts failed: ",""])),e).verbose().sendLogs("send-and-clear-dangling-receipts-failed")}a&&(yield $())});return function(e){return i.apply(this,arguments)}})())}),D.apply(this,arguments)}var x=null;function $(){return P.apply(this,arguments)}function P(){return P=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(x)return o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: skip"]))),x;try{o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache"])));var e=o("WAPromiseLoop").promiseLoop((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: size: ",", queue size: ",", generation: ",""])),o("WAWebGetMessageCache").getMessageCache().size(),o("WAWebGetMessageCache").getMessageCache().checkpointQueue.size(),n),o("WAWebGetMessageCache").getMessageCache().size()>0&&o("WAWebGetMessageCache").getMessageCache().createSnapshot(),yield o("WAWebGetMessageCache").getMessageCache().checkpointQueue.wait(),o("WAWebGetMessageCache").getMessageCache().size()===0&&o("WAWebGetMessageCache").getMessageCache().checkpointQueue.size()===0?e():n+1>=L&&(o("WALogger").WARN(b||(b=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: stop after "," attempts"])),L),e())});return function(t,n,r){return e.apply(this,arguments)}})());x=o("WAPromiseTimeout").promiseTimeout(e,E),yield x,o("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: done"])))}catch(e){if(e instanceof o("WACustomError").TimeoutError){var t=o("WALogger").ERROR(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache: timeout"])));o("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(t=t.tags("offline-resume-experimental")),t.sendLogs("passive-flush-message-cache-timeout",{sampling:.01})}else o("WALogger").ERROR(R||(R=babelHelpers.taggedTemplateLiteralLoose(["[passive] flush message cache failed: ",""])),e).verbose().sendLogs("passive-flush-message-cache-failed",{sampling:.01})}finally{x=null}}),P.apply(this,arguments)}l.registerPassiveTaskForStartUp=k,l.registerPassiveTasksForConnect=T}),98);
__d("WAWebGetClientPayloadForLogin",["WALogger","WAWebClientPayload","WAWebPassiveModeManager","WAWebRegisterPassiveTasks","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t||{passive:!1,pull:!0},r=self.performance.now();yield o("WAWebRegisterPassiveTasks").registerPassiveTasksForConnect(),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForLogin registered passive tasks in ","ms"])),Math.ceil(self.performance.now()-r)).tags("launch-socket-chat"),n.passive=o("WAWebPassiveModeManager").PassiveTaskManager.shouldConnectAsPassiveMode();var a=self.performance.now(),i=yield o("WAWebClientPayload").getClientPayloadForLogin(n);return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForLogin generated payload in ","ms"])),Math.ceil(self.performance.now()-a)).tags("launch-socket-chat"),i}),c.apply(this,arguments)}l.getClientPayloadForLogin=u}),98);
__d("WAWebGetClientPayloadForRegistration",["Promise","WALogger","WAWebClientPayload","WAWebSignalStoreApi","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=self.performance.now(),i=yield(u||(u=n("Promise"))).all([o("WAWebSignalStoreApi").waSignalStore.getRegistrationInfo(),o("WAWebSignalStoreApi").waSignalStore.getSignedPreKey()]),l=i[0],c=i[1];if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForRegistration fetched signalInfo in ","ms"])),Math.ceil(self.performance.now()-a)).tags("launch-socket-chat"),!c||!l)throw r("err")("Invalid signal credentials");var d=self.performance.now(),m=yield o("WAWebClientPayload").getClientPayloadForRegistration(l,c,t);return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[comms] getClientPayloadForRegistration generated payload in ","ms"])),Math.ceil(self.performance.now()-d)).tags("launch-socket-chat"),m}),d.apply(this,arguments)}l.getClientPayloadForRegistration=c}),98);
__d("WAWebEventsWaitForEvent",["Promise","WAAbortError","WAWebBoolFunc"],(function(t,n,r,o,a,i,l){var e;function s(t,r,a,i){return a===void 0&&(a=o("WAWebBoolFunc").returnTrue),i!=null&&i.aborted?(e||(e=n("Promise"))).reject(new(o("WAAbortError")).AbortError):new(e||(e=n("Promise")))(function(e,n){var l=function(){a.apply(this,arguments)&&(u==null||u(),e.apply(this,arguments))},s=function(){u==null||u(),n(new(o("WAAbortError")).AbortError)},u=function(){t.removeEventListener(r,l),i==null||i.removeEventListener("abort",s),u=null};i==null||i.addEventListener("abort",s),t.addEventListener(r,l)})}l.default=s}),98);
__d("WAWebEventsWaitForOffline",["WAWebEventsWaitForEvent"],(function(t,n,r,o,a,i,l){function e(e){return r("WAWebEventsWaitForEvent")(window,"offline",void 0,e)}l.default=e}),98);
__d("WAWebWatchedSocket",["WAAbortError","WABinary","WASocketTransport","WAWebEventsWaitForOffline","WAWebNoop"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.dataToSend=new(o("WABinary")).Binary,n.wsUrl=t.url,n.$WatchedSocket$p_2=new AbortController,n.$WatchedSocket$p_1=r("WAWebEventsWaitForOffline")(n.$WatchedSocket$p_2.signal).then(function(){return n.close()}).catch(o("WAAbortError").catchAbort(r("WAWebNoop"))),n}return babelHelpers.inheritsLoose(t,e),t})(o("WASocketTransport").WebSocketTransport);l.WatchedSocket=e}),98);
__d("WAWebOpenSocket",["Promise","WAAbortError","WALogger","WANullthrows","WAPromiseRetryLoop","WAWebCookieDomain","WAWebLocalStorage","WAWebMiscErrors","WAWebWatchedSocket","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g=["wss://web.whatsapp.com/ws/chat","wss://web.whatsapp.com:5222/ws/chat"];function h(){if(!r("gkx")("26258")){var e,t=(e=r("WANullthrows")(r("WAWebLocalStorage")).getItem("wdev-pinning-cookie-value"))!=null?e:"";document.cookie=["sticky_routing="+t.replace(/\"/g,""),"path=/","domain="+o("WAWebCookieDomain").COOKIE_DOMAIN,"secure"].join(";")}}function y(t){t.code!==1e3&&o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[socket] Immediate socket closure: closed: "," ",""])),t.code,t.reason).tags("socket")}function C(e,t){var n=e!=null?"[socket] "+e+" closed. code: "+t.code:"[socket] closed connection during initialization. Code: "+t.code;e:{if(t.code===1e3||t.code===1001){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),n).tags("socket");break e}if(t.code===1006){e!=null&&o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),n).tags("socket"),o("WALogger").COUNT(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),n).tags("socket");break e}if(t.code===1002||t.code===1003||t.code===1007||t.code===1008||t.code===1009||t.code===1010||t.code===1011||t.code===1015){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",""])),n).tags("socket");break e}{o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[socket] ",". Reason: ",", clean: ",""])),n,t.reason,t.wasClean).tags("socket");break e}}}function b(e){var t=new AbortController;return new(f||(f=n("Promise")))(function(n,r){var a=!1,i=[];e.forEach(function(l){v(l,t.signal,y,C).then(function(e){a?(t.abort(),e.close(1e3,"loser socket")):(a=!0,o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently opened socket with "," ws."])),l).tags("socket"),n(e))}).catch(function(t){t.name!=="AbortError"&&(o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[socket] openWebSocketsConcurrently socket with "," failed: ",""])),l,t).tags("socket"),i.push(t),i.length===e.length&&r(t))})})})}function v(e,t,r,a){var i=new WebSocket(e);return i.binaryType="arraybuffer",new(f||(f=n("Promise")))(function(e,n){i.onopen=e,i.onclose=function(e){if(t!=null&&t.aborted){n(new(o("WAAbortError")).AbortError);return}r==null||r(e),a==null||a(null,e),n(new(o("WAWebMiscErrors")).SocketError(e))}}).then(function(){return i})}function S(){return{jitter:.1,max:1e4,algo:{type:"fibonacci",first:1e3,second:1e3},relativeDelay:!0}}function R(){return self.navigator!=null?self.navigator.onLine:!0}function L(e){var t=g.map(function(t){return e!=null?t+"?ED="+e:t}),n=!0;h();var r=function(){R()&&n===!1&&(n=!0,a.reset())},a=new(o("WAPromiseRetryLoop")).PromiseRetryLoop({name:"socketOpener",timer:S(),code:function(r){return b(t).then(function(e){r(new(o("WAWebWatchedSocket")).WatchedSocket(e))}).catch(function(){n=R()})}});return self.addEventListener("online",r),a.start(),a.promise().finally(function(){self.removeEventListener("online",r)})}l.openWebSocket=L}),98);
__d("WAWebProcessCertificate",["WALogger","WAVerifyChainCertificateWA6","WAWebDbEncryptionKey","WAWebUserPrefsInfoStore","WAWebUserPrefsScreenLock","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d;function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.certificate,a=t.isRegistered,i=t.serverStatic;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate start"]))).tags("handshake");var l=o("WAVerifyChainCertificateWA6").verifyChainCertificateWA6(n,i);if(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate finished with success: ",""])),l.success).tags("handshake"),!l.success)throw r("err")("[socket] processCertificate error: "+l.error);if(a&&!o("WAWebUserPrefsScreenLock").getScreenLockEnabled()){var m=l.value,p=m.intermediate,_=m.leaf;_&&p&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[socket] persisting cert chain start"]))).tags("handshake"),o("WAWebDbEncryptionKey").DbEncKeyStore.waitForInit().then(function(){o("WAWebUserPrefsInfoStore").waNoiseInfo.setCertificateChain({intermediate:{key:p.key,notAfter:Number(p.notAfter),notBefore:Number(p.notBefore)},leaf:{key:_.key,notAfter:Number(_.notAfter),notBefore:Number(_.notBefore)}}).then(function(){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[socket] persisting cert chain finished"]))).tags("handshake")}).catch(function(e){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[socket] processCertificate: failed to set cert chain: ",""])),e).sendLogs("handhshake-set-cert-chain",{sampling:.01})})}))}}),p.apply(this,arguments)}l.verifyAndProcessCertificate=m}),98);
__d("WAWebWamEnumWebcSocketConnectReasonType",[],(function(t,n,r,o,a,i){var e=Object.freeze({PAGE_LOAD:0,RECONNECT:1});i.WEBC_SOCKET_CONNECT_REASON_TYPE=e}),66);
__d("WAWebWebcSocketConnectWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumWebcSocketConnectReasonType"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({WebcSocketConnect:[5450,{webcAuthHandshakeDuration:[1,e.TYPES.TIMER],webcSocketConnectDuration:[2,e.TYPES.TIMER],webcSocketConnectReason:[3,o("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE],webcSocketHostname:[4,e.TYPES.STRING]},[1,1,1],"regular"]},{WebcSocketConnect:[]});l.WebcSocketConnectWamEvent=s}),98);
__d("WAWebOpenChatSocket",["Promise","WABase64","WABinary","WAFrameSocket","WALogger","WANoiseHandshake","WANullthrows","WAResultOrError","WAWapDict","WAWebCommonSocketPlatformDetails","WAWebCryptoCurve25519","WAWebGetClientPayloadForLogin","WAWebGetClientPayloadForRegistration","WAWebOpenSocket","WAWebPageLoadLogging","WAWebProcessCertificate","WAWebProtobufsWa6.pb","WAWebSocketLogoutJob","WAWebUserPrefsInfoStore","WAWebUserPrefsMultiDevice","WAWebUserPrefsScreenLock","WAWebWamEnumWebcSocketConnectReasonType","WAWebWebcSocketConnectWamEvent","asyncToGeneratorRuntime","cr:4533","decodeProtobuf","encodeProtobuf","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$=1,P=6,N=new Uint8Array([87,65,P,o("WAWapDict").DICT_VERSION]),M="Noise_XX_25519_AESGCM_SHA256\0\0\0\0",w="Noise_IK_25519_AESGCM_SHA256\0\0\0\0",A="Noise_XXfallback_25519_AESGCM_SHA256";function F(e){return o("WAWebOpenSocket").openWebSocket(e)}function O(e,t,n){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){var a=yield o("WAWebUserPrefsMultiDevice").getRoutingInfo(),i=a?a.edgeRouting:null,l=i?o("WABase64").encodeB64UrlSafe(i):null,s=yield o("WAWebCryptoCurve25519").keyPair();return o("WAWebPageLoadLogging").startPageLoadQplMeasure("socket_open"),F(l).then((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var a=void 0;if(o("WAWebPageLoadLogging").endPageLoadQplMeasure("socket_open"),t.markWebcSocketConnectDuration(),t.webcSocketConnectReason=o("WAWebPageLoadLogging").wasPageLoadQplLogged()?o("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE.RECONNECT:o("WAWebWamEnumWebcSocketConnectReasonType").WEBC_SOCKET_CONNECT_REASON_TYPE.PAGE_LOAD,i){var l=new(o("WABinary")).Binary;l.write("ED",0,1),l.writeUint8(i.byteLength>>16),l.writeUint16(i.byteLength&65535),l.writeBuffer(i),a=l.readByteArrayView()}var u=a?o("WABinary").Binary.build(a,N).readByteArrayView():N,c=new(o("WAFrameSocket")).FrameSocket(n,u),d=e?yield Q(K):null;if(o("WAWebPageLoadLogging").startPageLoadQplMeasure("auth_handshake"),t.startWebcAuthHandshakeDuration(),d!=null){var m=yield o("WAWebUserPrefsInfoStore").waNoiseInfo.get();return q(c,r,e,s,m==null?void 0:m.staticKeyPair,d)}return W(c,s,e,r)});return function(e){return a.apply(this,arguments)}})())}),B.apply(this,arguments)}function W(t,n,r,a){var i=new(o("WANoiseHandshake")).NoiseHandshake(t);i.start(M,N),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[socket] doFullHandshake: openChatSocket send hello"]))).tags("handshake"),i.authenticate(n.pubKey);var l={clientHello:{ephemeral:n.pubKey}};return i.sendAndReceive(o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,l).readByteArrayView()).then(function(e){return H(i,e,n,r,a)})}function q(e,t,a,i,l,v){if(l==null)return(x||(x=n("Promise"))).reject("resumeNoiseHandshake authKeyPair is null");var S=new(o("WANoiseHandshake")).NoiseHandshake(e);o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake started"]))).tags("handshake"),S.start(w,N),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake authenticate with server static key"]))).tags("handshake"),S.authenticate(v),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake authenticate with client ephemeral key"]))).tags("handshake"),S.authenticate(i.pubKey),o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake EC Agreement 1"]))).tags("handshake"),S.mixIntoKey(o("WAWebCryptoCurve25519").sharedSecret(v,i.privKey)),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake encrypt client static key"]))).tags("handshake");var R=S.encrypt((x||(x=n("Promise"))).resolve(l.pubKey)).catch(function(e){return o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["resumeNoiseHandshake failed to encrypt client static key: ",""])),e),(x||(x=n("Promise"))).reject(e)});o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake EC Agreement 2"]))).tags("handshake"),S.mixIntoKey(o("WAWebCryptoCurve25519").sharedSecret(v,l.privKey));var L=a?o("WAWebGetClientPayloadForLogin").getClientPayloadForLogin(t):o("WAWebGetClientPayloadForRegistration").getClientPayloadForRegistration(t),E=S.encrypt(x.resolve(L)).catch(function(e){return o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["resumeNoiseHandshake failed to encrypt client login props: ",""])),e),(x||(x=n("Promise"))).reject(e)});return x.all([i.pubKey,E,R]).then(function(n){var s=n[0],u=n[1],c=n[2];o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake send hello"]))).tags("handshake");var d={clientHello:{ephemeral:s,payload:u,static:c}};return S.sendAndReceive(o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,d).readByteArrayView()).then(function(n){o("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake rcv hello"]))).tags("handshake");var s=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,n),u=s.serverHello,c=u||{},d=c.ephemeral,m=c.payload,p=c.static;if(p==null){if(o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake continuing resume handshake"]))).tags("handshake"),!d)throw r("err")("serverHello missing serverEphemeral");if(!m)throw r("err")("serverHello missing certificateCiphertext");return S.authenticate(d),S.mixIntoKey(o("WAWebCryptoCurve25519").sharedSecret(d,i.privKey)),S.mixIntoKey(o("WAWebCryptoCurve25519").sharedSecret(d,l.privKey)),S.decrypt(m).then(function(){return o("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake deriving secrets"]))).tags("handshake"),S.finish()})}return o("WALogger").LOG(b||(b=babelHelpers.taggedTemplateLiteralLoose(["[socket] resumeNoiseHandshake failed: serverStaticCiphertext not null"]))),U(e,t,a,i,n)})})}function U(e,t,n,r,o){return V.apply(this,arguments)}function V(){return V=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){var i=new(o("WANoiseHandshake")).NoiseHandshake(e);return i.start(A,N),i.authenticate(r.pubKey),o("WALogger").LOG(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[socket] doFallbackHandshake continuing handshake with given server hello"]))),H(i,a,r,n,t)}),V.apply(this,arguments)}function H(e,t,a,i,l){o("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[socket] openChatSocket rcv hello"])));var s=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,t),u=s.serverHello;if(!u)throw r("err")("ServerHello payload error");var c=u.ephemeral,d=u.payload,m=u.static;if(c==null||m==null||d==null)throw r("err")("Missing server Ephemeral");e.authenticate(c),e.mixIntoKey(o("WAWebCryptoCurve25519").sharedSecret(c,a.privKey));var p=e.decrypt(m),_=p.then(function(e){return o("WAWebCryptoCurve25519").sharedSecret(e,a.privKey)});return e.mixIntoKey(_),(x||(x=n("Promise"))).all([p,e.decrypt(d),c]).then(function(t){var n=t[0],r=t[1],o=t[2];return G(e,n,r,o,i,l)})}function G(e,t,n,r,o,a){return z.apply(this,arguments)}function z(){return z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i,l,s){yield o("WAWebProcessCertificate").verifyAndProcessCertificate({certificate:a,serverStatic:t,isRegistered:l}),yield i;var u=l?o("WAWebGetClientPayloadForLogin").getClientPayloadForLogin(s):o("WAWebGetClientPayloadForRegistration").getClientPayloadForRegistration(s),c=yield o("WAWebUserPrefsInfoStore").waNoiseInfo.get();c==null&&(o("WALogger").LOG(R||(R=babelHelpers.taggedTemplateLiteralLoose(["[socket] Unable to decrypt noise data"]))).tags("launch-socket-chat","handshake"),yield o("WAWebSocketLogoutJob").socketLogout(),r("WANullthrows")(c));var d=r("WANullthrows")(c).staticKeyPair;return(x||(x=n("Promise"))).all([j(d,e,i),e.encrypt(x.resolve(u))]).then(function(t){var n=t[0],r=t[1],a={clientFinish:{static:n,payload:r}};return o("WALogger").LOG(L||(L=babelHelpers.taggedTemplateLiteralLoose(["[socket] continueFullHandshakeCore client finish and deriving secrets"]))),e.send(o("encodeProtobuf").encodeProtobuf(o("WAWebProtobufsWa6.pb").HandshakeMessageSpec,a).readByteArrayView()),e.finish()})}),z.apply(this,arguments)}function j(e,t,a){var i=(x||(x=n("Promise"))).resolve(e.pubKey),l=t.encrypt(i);if(!a)return(x||(x=n("Promise"))).reject(r("err")("staticAgreement called before serverKeys"));var s=o("WAWebCryptoCurve25519").sharedSecret(a,e.privKey);return t.mixIntoKey(s),l}var K=0;function Q(e){return X.apply(this,arguments)}function X(){return X=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(o("WAWebUserPrefsScreenLock").getScreenLockEnabled())return null;if(e>=$)return o("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] getCertficateChain handshake previously failed "," times. Falling back to full handshake"])),e).tags("handshake"),null;try{var t=yield o("WAWebUserPrefsInfoStore").waNoiseInfo.get();if(t==null)return o("WALogger").LOG(k||(k=babelHelpers.taggedTemplateLiteralLoose(["Unable to decrypt noise data for resume handshake"]))).tags("launch-socket-chat"),null;var n=t.certificateChainBuffer?o("WAWebUserPrefsInfoStore").waNoiseInfo.getCertficateChain(t.certificateChainBuffer):null;return o("WAWebCommonSocketPlatformDetails").makeServerInfoIfKnown(n)}catch(e){return o("WALogger").ERROR(I||(I=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] getCertficateChain error: ",", msg: ",", stack: ",""])),e.name,e.message,e.stack).tags("handshake"),null}}),X.apply(this,arguments)}function Y(e,t){return J.apply(this,arguments)}function J(){return J=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){try{var n=e||{passive:!1,pull:!0},r=new(o("WAWebWebcSocketConnectWamEvent")).WebcSocketConnectWamEvent,a=yield O(t,r,n);return o("WAWebPageLoadLogging").endPageLoadQplMeasure("auth_handshake"),r.markWebcAuthHandshakeDuration(),r.commit(),K=0,o("WAResultOrError").makeResult(a)}catch(e){o("WAWebPageLoadLogging").incrementPageLoadQplSocketError();var i=Z();return o("WALogger").LOG(T||(T=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] handshake failed with ",", msg: ",", network: ",""])),e.name,e.message,i).tags("handshake"),i&&(K++,o("WALogger").ERROR(D||(D=babelHelpers.taggedTemplateLiteralLoose(["[socket][unified] handshake failed. Retry count: ",""])),K).tags("handshake").sendLogs("handshake-error",{sampling:.01})),o("WAResultOrError").makeError("disconnected")}}),J.apply(this,arguments)}function Z(){return self.navigator!=null?self.navigator.onLine:!0}function ee(e){return te.apply(this,arguments)}function te(){return te=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebUserPrefsMultiDevice").isRegistered();return Y(e,t)}),te.apply(this,arguments)}l.default=ee}),98);
__d("WAWebStanzaValidation",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){u(e)}function u(t){t.tag!=="receipt"||t.attrs.type!=="sender"||t.attrs.recipient==null&&t.attrs.participant==null&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[stanza-validation] sender receipt without recipient nor participant"]))).sendLogs("sender-receipt-without-participant-nor-recipient-validation")}l.validateSentStanza=s}),98);
__d("WAWebCommsConfig",["WALogger","WANullthrows","WAWapJid","WAWebABProps","WAWebBackendEventBus","WAWebCommsProcessAck","WAWebCommsSendPing","WAWebEnvironment","WAWebNoop","WAWebOfflineResumePreAckHandler","WAWebOpenChatSocket","WAWebSocketConstants","WAWebStanzaValidation","WAWebUserPrefsMultiDevice","cr:7907","gkx"],(function(t,n,r,o,a,i,l){var e,s=9e5;function u(){return{jitter:.1,max:s,algo:{type:"fibonacci",first:1e3,second:1e3},relativeDelay:!1}}function c(t){var a=t||{passive:!1,pull:!1};return{maxRetries:Number.MAX_SAFE_INTEGER,openChatSocket:function(t,n){return o("WAWebABProps").getABPropConfigValue("web_comms_socket_reconnect_enabled")?a.signal=r("WANullthrows")(n):a.signal=new AbortController().signal,r("WAWebOpenChatSocket")(a).then(function(e){return t(),a.passive=!1,e})},healthCheckInterval:15,deadSocketTime:2e4,maxSocketLoopWaitTime:s,shouldCloseStaleSocket:!0,socketReconnectBackoffAlgo:u(),shouldBlockReceivingUntilSuccess:!0,handlers:{onConnect:function(){o("WAWebUserPrefsMultiDevice").isRegistered()&&(o("WAWebBackendEventBus").BackendEventBus.triggerSetSocketState(o("WAWebSocketConstants").SOCKET_STATE.CONNECTED),o("WAWebBackendEventBus").BackendEventBus.triggerOpenSocketStream())},onDisconnect:function(){o("WAWebBackendEventBus").BackendEventBus.triggerSocketStreamDisconnected()},onSocketOpen:function(){o("WAWebBackendEventBus").BackendEventBus.triggerSetSocketState(o("WAWebSocketConstants").SOCKET_STATE.PAIRING)},onSocketLoopIteration:function(t){o("WAWebBackendEventBus").BackendEventBus.triggerSetSocketState(o("WAWebSocketConstants").SOCKET_STATE.OPENING)},onConnectionChange:r("WAWebNoop"),onOptimisticConnectionChange:r("WAWebNoop"),onBeforeCastStanzaForE2E:function(t,n){t.tag==="ack"&&!(n!=null&&n.preAck)&&!o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd&&o("WAWebOfflineResumePreAckHandler").parseAndSerializeOfflinePreAck(t)},onCastStanza:function(a){r("gkx")("26259")&&a.tag==="ack"&&!(a.attrs.to instanceof o("WAWapJid").WapJid)&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["ack.to is a "," not a WapJid: ",""])),typeof a.attrs.to,a).sendLogs("send-string-jid"),r("gkx")("26258")||n("cr:7907")==null||n("cr:7907").sendNewStanzaToDevTool(a,!0),o("WAWebStanzaValidation").validateSentStanza(a)},onHandleAck:function(t){r("WAWebCommsProcessAck")(t)},onHandleStanza:function(t){r("gkx")("26258")||n("cr:7907")==null||n("cr:7907").sendNewStanzaToDevTool(t,!1)},onSendIq:o("WAWebStanzaValidation").validateSentStanza,onClockSkewUpdate:function(t){o("WAWebCommsSendPing").updateClockSkew(t)}},isPauseEnabled:r("WAWebEnvironment").isWindows}}l.getCommsConfig=c}),98);
__d("WAWebCommsHandleStanzaUtils",["WAJids","WALogger","WAParsableWapNode","WAWeb-dexie","WAWebCreateNackFromStanza","WAWebPostIncomingMessageDropMetric","WAWebPostUnknownStanzaMetric"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(t,n){if(n instanceof o("WAParsableWapNode").XmppParsingFailure)return o("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(t),o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(t),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message: ",""])),n).tags("messaging").sendLogs("failedParsingMessageStanza",{sampling:.01}),o("WAWebCreateNackFromStanza").createNackFromStanza(t,o("WAWebCreateNackFromStanza").NackReason.ParsingError);if(n instanceof r("WAWeb-dexie").DexieError){o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropDBOperationFailed(t),o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: drop incoming message due to an internal error: ",", message: ",", stack: ",""])),n.name,n.message,n.stack).sendLogs("incoming-message-drop-db-operation-failed",{sampling:.01});return}return o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: drop incoming message due to an internal error: node: ",""])),o("WAJids").maybeSanitizeLogLineText(t.toString())).verbose(),o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: drop incoming message due to an internal error: ",", message: ",", stack: ",""])),n.name,n.message,n.stack).sendLogs("incoming-message-drop-internal-error",{sampling:.01}),o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInternalError(t),o("WAWebCreateNackFromStanza").createNackFromStanza(t,o("WAWebCreateNackFromStanza").NackReason.UnhandledError)}function m(e){if(Array.isArray(e.content)&&e.content.length>0){var t=e.content[0].tag;return t==="offer"||t==="accept"||t==="reject"}return!1}l.handleMessageParsingFailure=d,l.isCallReceipt=m}),98);
__d("WAWebHandlePaymentAmountUtils",["WALogger","err"],(function(t,n,r,o,a,i,l){var e,s=1e3;function u(e){e.assertTag("money");var t=parseFloat(e.attrString("value")),n=e.attrString("currency"),r=e.maybeAttrInt("offset"),o=r!=null&&r!==0?r:s,a=t*s/o;return{currency:n,amount1000:a}}function c(t){if(t.hasChild("amount")){var n=t.child("amount");return u(n.child("money"))}else if(t.hasAttr("amount")){var a=parseFloat(t.attrString("amount"));return{amount1000:a*s,currency:t.attrString("currency")}}throw o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Amount missing in pay or transaction node"]))),r("err")("Amount missing in pay or transaction node")}function d(e){return c(e)}l.getAmount1000AndCurrency=d}),98);
__d("WAWebPaymentStatusUtils",["$InternalEnum","WALogger","WAWebProtobufsWeb.pb"],(function(t,n,r,o,a,i,l){var e,s=n("$InternalEnum")({TYPE_UNSET:0,TYPE_P2P_SENT:1,TYPE_P2P_RCVD:2,TYPE_P2P_GRP:3,TYPE_P2P_NO_INFO:4,TYPE_FUTURE:5,TYPE_P2P_REQ_SENT:10,TYPE_P2P_REQ_RCVD:20,TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:21,TYPE_P2P_REQ_GRP:30,TYPE_P2M_SENT:100,TYPE_P2M_RCVD:200,TYPE_P2M_PAYOUT:300,TYPE_MISSING_DETAILS:400,TYPE_DEPOSIT:500,TYPE_REFUND:600,TYPE_WITHDRAWAL:700}),u=n("$InternalEnum")({STATUS_UNSET:0,REQUEST_PAY_INIT:11,REQUEST_PAY_SUCCESS:12,REQUEST_PAY_FAILED:13,REQUEST_PAY_FAILED_RISK:14,REQUEST_PAY_REJECTED:15,REQUEST_PAY_EXPIRED:16,REQUEST_PAY_FULFILLED:17,REQUEST_PAY_CANCELLED:18,REQUEST_PAY_CANCELLING:19,REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS:20,RECV_PAY_INIT:101,RECV_PAY_PENDING_SETUP:102,RECV_PAY_PENDING:103,RECV_PAY_RETRY_ON_FAILURE:104,RECV_PAY_FAILURE:105,RECV_PAY_SUCCESS:106,RECV_PAY_EXPIRED:107,RECV_PAY_FAILURE_RISK:108,RECV_PAY_WITHDRAWAL_PROCESSING:109,RECV_PAY_WITHDRAWAL_FAILURE:110,RECV_PAY_WITHDRAWAL_PERMANENT_FAILED:111,RECV_PAY_SENDER_CANCELED:112,SEND_PAY_INIT:401,SEND_PAY_PENDING_RECEIVER:402,SEND_PAY_PENDING:403,SEND_PAY_REFUND_PENDING:404,SEND_PAY_SUCCESS:405,SEND_PAY_FAILURE:406,SEND_PAY_FAILURE_RISK:407,SEND_PAY_REFUNDED:408,SEND_PAY_REFUND_FAILED:409,SEND_PAY_FAILURE_RECEIVER:410,SEND_PAY_REFUND_FAILED_PROCESSING:411,SEND_PAY_PENDING_REFUND:412,SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:413,SEND_PAY_AUTH_CANCEL_FAILED:414,SEND_PAY_AUTH_CANCELED:415,SEND_PAY_EXPIRED:416,SEND_PAY_AUTH_SUCCESS:417,SEND_PAY_AUTH_SUCCESS_CANCELING:418,SEND_PAY_IN_REVIEW:419,SEND_PAY_PENDING_PROCESSING:420,SEND_PAY_USER_CANCELED:421,WITHDRAWAL_INIT:601,WITHDRAWAL_PENDING:602,WITHDRAWAL_IN_REVIEW:603,WITHDRAWAL_SUCCESS:604,WITHDRAWAL_FAILED:605,WITHDRAWAL_USER_CANCELED:606,WITHDRAWAL_EXPIRED:607,WITHDRAWAL_ACTIVE:608}),c={TYPE_P2P:"p2p",TYPE_P2M:"p2m",TYPE_P2M_PAYOUT:"payout",TYPE_WITHDRAWAL:"withdrawal",TYPE_DEPOSIT:"deposit",TYPE_REFUND:"refund"},d={PENDING_RECEIVER_SETUP:"PENDING_RECEIVER_SETUP",PENDING_SETUP:"PENDING_SETUP",PENDING:"PENDING",INITIAL:"INITIAL",SUCCESS:"SUCCESS",COMPLETED:"COMPLETED",IN_REVIEW:"IN_REVIEW",FAILED:"FAILED",DECLINED:"DECLINED",FAILURE:"FAILURE",FAILED_RISK:"FAILED_RISK",FAILED_PROCESSING:"FAILED_PROCESSING",FAILED_RECEIVER_PROCESSING:"FAILED_RECEIVER_PROCESSING",REFUND_FAILED_PROCESSING:"REFUND_FAILED_PROCESSING",REFUNDED:"REFUNDED",REFUND_FAILED:"REFUND_FAILED",EXPIRED:"EXPIRED",CANCELED:"CANCELLED",AUTH_SUCCESS:"AUTH_SUCCESS",AUTH_CANCELED:"AUTH_CANCELED",AUTH_CANCEL_FAILED_PROCESSING:"AUTH_CANCEL_FAILED_PROCESSING",AUTH_CANCEL_FAILED:"AUTH_CANCEL_FAILED",COLLECT_SUCCESS:"COLLECT_SUCCESS",COLLECT_FAILED:"COLLECT_FAILED",COLLECT_REJECTED:"COLLECT_REJECTED",COLLECT_EXPIRED:"COLLECT_EXPIRED",COLLECT_CANCELED:"COLLECT_CANCELED",FAILED_DA:"FAILED_DA",FAILED_DA_FINAL:"FAILED_DA_FINAL",REFUND_FAILED_DA:"REFUND_FAILED_DA",COLLECT_FAILED_RISK:"COLLECT_FAILED_RISK",WITHDRAWAL_PROCESSING:"WITHDRAWAL_PROCESSING",WITHDRAWAL_FAILURE:"WITHDRAWAL_FAILURE",WITHDRAWAL_PERMANENT_FAILED:"WITHDRAWAL_PERMANENT_FAILED",WITHDRAWAL_ACTIVE:"WITHDRAWAL_ACTIVE"};function m(e,t){if(e==null)return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;switch(e){case u.SEND_PAY_INIT:case u.SEND_PAY_PENDING:case u.RECV_PAY_INIT:case u.RECV_PAY_PENDING:case u.RECV_PAY_RETRY_ON_FAILURE:case u.REQUEST_PAY_INIT:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.PROCESSING;case u.SEND_PAY_PENDING_RECEIVER:case u.SEND_PAY_FAILURE_RECEIVER:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.SENT;case u.REQUEST_PAY_SUCCESS:return t===s.TYPE_P2P_REQ_SENT?o("WAWebProtobufsWeb.pb").PaymentInfo$Status.WAITING_FOR_PAYER:o("WAWebProtobufsWeb.pb").PaymentInfo$Status.WAITING;case u.RECV_PAY_PENDING_SETUP:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.NEED_TO_ACCEPT;case u.SEND_PAY_SUCCESS:case u.RECV_PAY_SUCCESS:case u.REQUEST_PAY_FULFILLED:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.COMPLETE;case u.SEND_PAY_FAILURE:case u.SEND_PAY_FAILURE_RISK:case u.SEND_PAY_PENDING_REFUND:case u.SEND_PAY_REFUND_PENDING:case u.SEND_PAY_REFUND_FAILED:case u.SEND_PAY_REFUND_FAILED_PROCESSING:case u.RECV_PAY_FAILURE:case u.REQUEST_PAY_FAILED:case u.REQUEST_PAY_FAILED_RISK:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.COULD_NOT_COMPLETE;case u.SEND_PAY_REFUNDED:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.REFUNDED;case u.RECV_PAY_EXPIRED:case u.REQUEST_PAY_EXPIRED:case u.SEND_PAY_AUTH_CANCELED:case u.SEND_PAY_AUTH_CANCEL_FAILED:case u.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.EXPIRED;case u.REQUEST_PAY_REJECTED:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.REJECTED;case u.REQUEST_PAY_CANCELLED:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.CANCELLED;case u.STATUS_UNSET:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;case u.REQUEST_PAY_CANCELLING:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS;default:return o("WAWebProtobufsWeb.pb").PaymentInfo$Status.UNKNOWN_STATUS}}function p(e,t){if(!t)return u.STATUS_UNSET;var n=t.toUpperCase();switch(e){case s.TYPE_P2P_SENT:case s.TYPE_P2M_SENT:case s.TYPE_DEPOSIT:switch(n){case d.PENDING_RECEIVER_SETUP:return u.SEND_PAY_PENDING_RECEIVER;case d.FAILED_DA:return u.SEND_PAY_PENDING;case d.REFUND_FAILED_DA:return u.SEND_PAY_REFUND_PENDING;case d.FAILED_RISK:return u.SEND_PAY_FAILURE_RISK;case d.INITIAL:return u.SEND_PAY_INIT;case d.SUCCESS:case d.COMPLETED:return u.SEND_PAY_SUCCESS;case d.FAILURE:case d.FAILED:return u.SEND_PAY_FAILURE;case d.REFUNDED:return u.SEND_PAY_REFUNDED;case d.REFUND_FAILED:return u.SEND_PAY_REFUND_FAILED;case d.FAILED_RECEIVER_PROCESSING:return u.SEND_PAY_FAILURE_RECEIVER;case d.REFUND_FAILED_PROCESSING:return u.SEND_PAY_REFUND_FAILED_PROCESSING;case d.FAILED_DA_FINAL:return u.SEND_PAY_PENDING_REFUND;case d.AUTH_CANCEL_FAILED_PROCESSING:return u.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING;case d.AUTH_CANCEL_FAILED:return u.SEND_PAY_AUTH_CANCEL_FAILED;case d.AUTH_CANCELED:return u.SEND_PAY_AUTH_CANCELED;case d.EXPIRED:return u.SEND_PAY_EXPIRED;case d.IN_REVIEW:return u.SEND_PAY_IN_REVIEW;case d.PENDING:return u.SEND_PAY_PENDING_PROCESSING;case d.CANCELED:return u.SEND_PAY_USER_CANCELED}break;case s.TYPE_P2P_RCVD:case s.TYPE_P2M_RCVD:switch(n){case d.PENDING_SETUP:return u.RECV_PAY_PENDING_SETUP;case d.FAILED_DA:return u.RECV_PAY_PENDING;case d.FAILED_PROCESSING:return u.RECV_PAY_RETRY_ON_FAILURE;case d.SUCCESS:case d.COMPLETED:return u.RECV_PAY_SUCCESS;case d.FAILURE:case d.FAILED:return u.RECV_PAY_FAILURE;case d.EXPIRED:return u.RECV_PAY_EXPIRED;case d.FAILED_RISK:return u.RECV_PAY_FAILURE_RISK;case d.WITHDRAWAL_PROCESSING:return u.RECV_PAY_WITHDRAWAL_PROCESSING;case d.WITHDRAWAL_FAILURE:return u.RECV_PAY_WITHDRAWAL_FAILURE;case d.WITHDRAWAL_PERMANENT_FAILED:return u.RECV_PAY_WITHDRAWAL_PERMANENT_FAILED;case d.CANCELED:return u.RECV_PAY_SENDER_CANCELED}break;case s.TYPE_P2P_REQ_SENT:case s.TYPE_P2P_REQ_RCVD:switch(n){case d.COLLECT_SUCCESS:return u.REQUEST_PAY_SUCCESS;case d.COLLECT_FAILED:return u.REQUEST_PAY_FAILED;case d.COLLECT_FAILED_RISK:return u.REQUEST_PAY_FAILED_RISK;case d.COLLECT_REJECTED:return u.REQUEST_PAY_REJECTED;case d.COLLECT_EXPIRED:return u.REQUEST_PAY_EXPIRED;case d.COLLECT_CANCELED:return u.REQUEST_PAY_CANCELLED}break;case s.TYPE_P2P_REQ_SCHEDULED_PAYMENT_RCVD:switch(n){case d.COLLECT_SUCCESS:return u.REQUEST_PAY_SCHEDULED_PAYMENT_SUCCESS;case d.AUTH_SUCCESS:return u.SEND_PAY_AUTH_SUCCESS}break;case s.TYPE_REFUND:switch(n){case d.SUCCESS:case d.COMPLETED:return u.RECV_PAY_SUCCESS}break;case s.TYPE_WITHDRAWAL:switch(n){case d.PENDING:return u.WITHDRAWAL_PENDING;case d.IN_REVIEW:return u.WITHDRAWAL_IN_REVIEW;case d.SUCCESS:case d.COMPLETED:return u.WITHDRAWAL_SUCCESS;case d.FAILED:case d.DECLINED:return u.WITHDRAWAL_FAILED;case d.CANCELED:return u.WITHDRAWAL_USER_CANCELED;case d.EXPIRED:return u.WITHDRAWAL_EXPIRED;case d.WITHDRAWAL_ACTIVE:return u.WITHDRAWAL_ACTIVE}break;default:return u.STATUS_UNSET}return u.STATUS_UNSET}function _(e){if(e==null)return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN;switch(e){case u.RECV_PAY_EXPIRED:case u.SEND_PAY_EXPIRED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.EXPIRED_TXN;case u.RECV_PAY_FAILURE:case u.SEND_PAY_FAILURE:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED;case u.RECV_PAY_INIT:case u.SEND_PAY_INIT:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.INIT;case u.RECV_PAY_PENDING_SETUP:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.PENDING_SETUP;case u.RECV_PAY_PENDING:case u.SEND_PAY_PENDING:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_DA;case u.RECV_PAY_RETRY_ON_FAILURE:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_PROCESSING;case u.RECV_PAY_SUCCESS:case u.SEND_PAY_SUCCESS:case u.REQUEST_PAY_FULFILLED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.SUCCESS;case u.REQUEST_PAY_CANCELLED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_CANCELED;case u.REQUEST_PAY_CANCELLING:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_CANCELLING;case u.REQUEST_PAY_EXPIRED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_EXPIRED;case u.REQUEST_PAY_FAILED_RISK:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_FAILED_RISK;case u.REQUEST_PAY_FAILED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_FAILED;case u.REQUEST_PAY_INIT:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_INIT;case u.REQUEST_PAY_REJECTED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_REJECTED;case u.REQUEST_PAY_SUCCESS:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_SUCCESS;case u.SEND_PAY_AUTH_CANCELED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCELED;case u.SEND_PAY_AUTH_CANCEL_FAILED_PROCESSING:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED_PROCESSING;case u.SEND_PAY_AUTH_CANCEL_FAILED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.AUTH_CANCEL_FAILED;case u.SEND_PAY_FAILURE_RECEIVER:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_RECEIVER_PROCESSING;case u.SEND_PAY_FAILURE_RISK:case u.RECV_PAY_FAILURE_RISK:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_RISK;case u.SEND_PAY_PENDING_RECEIVER:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.PENDING_RECEIVER_SETUP;case u.SEND_PAY_PENDING_REFUND:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.FAILED_DA_FINAL;case u.SEND_PAY_REFUNDED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUNDED_TXN;case u.SEND_PAY_REFUND_FAILED_PROCESSING:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED_PROCESSING;case u.SEND_PAY_REFUND_FAILED:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED;case u.SEND_PAY_REFUND_PENDING:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.REFUND_FAILED_DA;case u.SEND_PAY_IN_REVIEW:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.IN_REVIEW;case u.STATUS_UNSET:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN;default:return o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.UNKNOWN}}function f(t,n){if(t){var r=t.toLowerCase();switch(r){case c.TYPE_P2P:return n?s.TYPE_P2P_SENT:s.TYPE_P2P_RCVD;case c.TYPE_P2M:return n?s.TYPE_P2M_SENT:s.TYPE_P2M_RCVD;case c.TYPE_P2M_PAYOUT:return s.TYPE_P2M_PAYOUT;case c.TYPE_DEPOSIT:return s.TYPE_DEPOSIT;case c.TYPE_REFUND:return s.TYPE_REFUND;case c.TYPE_WITHDRAWAL:return s.TYPE_WITHDRAWAL;default:o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["parsePaymentTransactionType payment transaction string=",""])),r)}}return n?s.TYPE_P2P_SENT:s.TYPE_P2P_RCVD}function g(e){return e===o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COMPLETED||e===o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.SUCCESS}function h(e){return g(e)?e:o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.COLLECT_INIT}l.PaymentTransactionType=s,l.NotificationTransactionStatus=u,l.PaymentTransactionTypeServerString=c,l.PaymentTransactionStatusServerString=d,l.getPaymentWebStatus=m,l.getNotificationTransactionStatus=p,l.getPaymentTxnWebStatus=_,l.getPaymentTransactionType=f,l.determinePaymentRequestFulfilledStatus=h}),98);
__d("WAWebPaymentNotificationParser",["WADeprecatedWapParser","WALogger","WAWebHandlePaymentAmountUtils","WAWebJidToWid","WAWebMsgKey","WAWebPaymentStatusUtils","WAWebUserPrefsMeUser"],(function(t,n,r,o,a,i,l){var e;function s(e){return e&&e.hasAttr("service")?e.attrString("service").toUpperCase()==="NOVI":!1}var u=new(r("WADeprecatedWapParser"))("paymentNotificationParser",function(e){return e.assertTag("notification"),e.assertAttr("type","pay"),{stanzaId:e.attrString("id"),from:e.attrWapJid("from"),transaction:e.hasChild("transaction")?c(e.child("transaction")):null,invite:d(e)}});function c(t){if(s(t))return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Payment notification from Novi not supported."]))),null;var n=void 0,a=void 0,i=o("WAWebJidToWid").jidWithTypeToWid(t.attrJidWithType("sender")),l=o("WAWebJidToWid").jidWithTypeToWid(t.attrJidWithType("receiver")),u=o("WAWebUserPrefsMeUser").isMeAccount(i);t.hasAttr("group")?(n=o("WAWebJidToWid").jidWithTypeToWid(t.attrJidWithType("group")),a=o("WAWebJidToWid").jidWithTypeToWid(t.attrJidWithType("sender"))):u?n=l:n=i;var c=new(r("WAWebMsgKey"))({id:t.attrString("message-id"),fromMe:u,remote:n,participant:a}),d=o("WAWebPaymentStatusUtils").getPaymentTransactionType(t.attrString("transaction-type"),c.fromMe),m=o("WAWebHandlePaymentAmountUtils").getAmount1000AndCurrency(t),p=m.amount1000,_=m.currency;return{receiver:l,currency:_,amount1000:p,status:o("WAWebPaymentStatusUtils").getNotificationTransactionStatus(d,t.attrString("status")),ts:t.attrInt("ts"),type:d,msgKey:c}}function d(e){if(!e.hasChild("invite"))return null;var t=e.child("invite");return{type:t.maybeAttrString("type"),service:t.maybeAttrString("service"),inviteUsed:t.hasAttr("invite-used")?t.attrString("invite-used")==="1":null,from:o("WAWebJidToWid").chatJidToChatWid(e.attrChatJid("from")),timestamp:e.attrTime("t")}}l.isNoviTransaction=s,l.paymentNotificationParser=u,l.parseTransactionNode=c}),98);
__d("WAWebHandleMsgParser",["WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWebAck","WAWebBackendJobs.flow","WAWebBizCoexGatingUtils","WAWebBotTypes","WAWebCountriesUtils","WAWebCreateNackFromStanza","WAWebCurrentUser","WAWebHandleMsgCommon","WAWebHandleMsgTypes.flow","WAWebHandlePaymentAmountUtils","WAWebJidToWid","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebMessagingGatingUtils","WAWebPaymentNotificationParser","WAWebPaymentStatusUtils","WAWebProtobufsWeb.pb","WAWebSimpleSignalPNToFBIDMigration","WAWebStatusGatingUtils","WAWebUserPrefsMeUser","WAWebUserPrefsNotifications","WAWebUsernameGatingUtils","WAWebWidFactory","justknobx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h=new(r("WADeprecatedWapParser"))("incomingMsgParser",function(e){var t,n;e.assertTag("message"),e.hasAttr("to")&&e.assertAttr("to",o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var r=e.maybeChild("plaintext");r!=null&&r.throw("not to be present in e2ee messages");var a=e.mapChildrenWithTag("enc",function(e){var t;return{e2eType:e.attrEnumValues("type",o("WAWebBackendJobs.flow").CiphertextType.members()),encMediaType:o("WAWebBackendJobs.flow").EncMediaType.cast(e.maybeAttrString("mediatype")),ciphertext:e.contentBytes(),retryCount:(t=e.maybeAttrInt("count"))!=null?t:0,hideFail:e.maybeAttrString("decrypt-fail")==="hide"}}),i=e.maybeChild("device-identity"),l=i?i.contentBytes():null,s=b(e),u=C(e,a),c=y(e,a,s,u),d=v(e,c),m=R(e),p=S(e),_=k(e),f=(t=(n=e.maybeChild("rcat"))==null?void 0:n.contentBytes())!=null?t:null;return{encs:a,msgInfo:c,msgMeta:u,bizInfo:d,hsmInfo:p,paymentInfo:m,deviceIdentity:l,rcat:f,msgBotInfo:s,reportingTokenInfo:_}});function y(t,n,r,a){var i,l={externalId:t.attrString("id"),ts:t.attrTime("t"),edit:(i=t.maybeAttrInt("edit"))!=null?i:o("WAWebAck").EDIT_ATTR.NONE,isHsm:t.hasChild("hsm"),count:t.maybeAttrInt("count"),pushname:t.maybeAttrString("notify"),username:t.maybeAttrString("username"),displayName:t.maybeAttrString("display_name"),senderPn:t.hasAttr("sender_pn")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("sender_pn")):null,senderLid:t.hasAttr("sender_lid")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("sender_lid")):null,recipientLid:t.hasAttr("recipient_lid")?o("WAWebJidToWid").lidUserJidToUserLid(t.attrLidUserJid("recipient_lid")):null,recipientPn:t.hasAttr("recipient_pn")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("recipient_pn")):null,peerRecipientPn:t.hasAttr("peer_recipient_pn")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("peer_recipient_pn")):null,peerRecipientLid:t.hasAttr("peer_recipient_lid")?o("WAWebJidToWid").lidUserJidToUserLid(t.attrLidUserJid("peer_recipient_lid")):null,peerRecipientUsername:t.hasAttr("peer_recipient_username")?t.attrString("peer_recipient_username"):null,recipientLatestLid:t.hasAttr("recipient_latest_lid")?o("WAWebJidToWid").lidUserJidToUserLid(t.attrLidUserJid("recipient_latest_lid")):null,recipientUsername:t.hasAttr("recipient_username")?t.attrString("recipient_username"):null,participant:t.hasAttr("participant")?o("WAWebJidToWid").deviceJidToDeviceWid(t.attrDeviceJid("participant")):null,participantLid:t.hasAttr("participant_lid")?o("WAWebJidToWid").lidUserJidToUserLid(t.attrLidUserJid("participant_lid")):null,participantPn:t.hasAttr("participant_pn")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("participant_pn")):null,participantUsername:t.maybeAttrString("participant_username"),category:t.maybeAttrEnum("category",o("WAWebHandleMsgCommon").MSG_CATEGORY),offline:t.maybeAttrString("offline"),senderCountryCode:I(t.maybeChild("meta"))},_=o("WAWebJidToWid").jidWithTypeToWid(t.attrJidWithType("from"));_.isNewsletter()&&t.throw("unexpected `from` attribute with newsletter Jid");var f=t.hasAttr("participant")?o("WAWebJidToWid").deviceJidToDeviceWid(t.attrDeviceJid("participant")):null,g=t.hasAttr("recipient")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("recipient")):null;if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()){var h=!!(f!=null&&f.isHosted()&&(_.isStatus()||_.isGroup()||_.isBroadcast()));if(h)throw new(o("WAParsableWapNode")).XmppParsingFailure("incomingMsgParser",""+o("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza)}var y=n.every(function(e){return e.e2eType!==o("WAWebBackendJobs.flow").CiphertextType.Skmsg}),C=n.some(function(e){return e.retryCount>0}),b=_.isGroup()||_.isBroadcast()?f:_;if(g!=null&&b!=null&&!o("WAWebUserPrefsMeUser").isMeAccount(b))return t.throw("Invalid recipient from non peer device");var v,S=t.maybeChild("participants");if(S){var R=[],L=0;S.forEachChildWithTag("to",function(e){var t=o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("jid")),n=e.maybeAttrString("eph_setting"),r=e.maybeAttrLidUserJid("peer_recipient_lid"),a=e.maybeAttrUserJid("peer_recipient_pn"),i=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()?e.maybeAttrString("peer_recipient_username"):null,l=e.maybeAttrLidUserJid("recipient_latest_lid"),s={wid:t};n!=null&&(s.ephSetting=n),r!=null&&(s.peerRecipientLid=o("WAWebJidToWid").lidUserJidToUserLid(r)),a!=null&&(s.peerRecipientPn=o("WAWebJidToWid").userJidToUserWid(a)),i!=null&&(s.peerRecipientUsername=i),l!=null&&(r==null&&a==null&&L++,s.recipientLatestLid=o("WAWebJidToWid").lidUserJidToUserLid(l)),R.push(s)}),L>0&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[broadcast] Received "," recipient_latest_lid without a peer_recipient_lid nor peer_recipient_pn, this should not happen"])),L),v=R}var E=a==null?void 0:a.targetChatJid;if(r&&_.isPnBot()&&E!=null){var k;return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},l,{chat:o("WAWebWidFactory").asUserWidOrThrow((k=a==null?void 0:a.targetChatJidLid)!=null?k:E),author:_,botParticipant:_})}else if(r&&_.isFbidBot()&&E!=null){var T=o("WAWebWidFactory").asUserWidOrThrow(E);return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},l,{chat:o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()?T:o("WAWebLidMigrationUtils").toPnOrThrow(T),author:_,botParticipant:_})}else if(_.isUser()){var D=_;if(g!=null){if(!o("WAWebUserPrefsMeUser").isMeAccount(_))return t.throw("recipient on non peer chat message");D=g}var x=null,$=o("WAWebSimpleSignalPNToFBIDMigration").getDeprecatedPnChatForFbidThread(D);return $!=null&&(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["parseMessageInfo: forwarding "," to ",""])),D.toLogString(),$.toLogString()),g!=null&&(x=g),D=$),babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT},l,{chat:o("WAWebWidFactory").asUserWidOrThrow(D),author:_,originalBotRecipient:x})}else if(_.isGroup()){var P;if(f==null)return t.throw("group message with no participant");var N=(P=t.maybeAttrEnum("addressing_mode",o("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE))!=null?P:o("WAWebHandleMsgCommon").STANZA_MSG_ADDRESSING_MODE.pn;try{!o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&f.isLid()&&l.participantPn==null&&l.displayName==null&&!o("WAWebUserPrefsMeUser").isMeAccount(f)&&(o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing participant_pn for Lid message. sw worker: ",""])),o("WAWebUserPrefsNotifications").getGlobalOfflineNotifications().toString()),o("WAWebCurrentUser").isEmployee()?(o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[lid group] chat id: "," participant lid: ",""])),_.toString(),f.toString()),o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in message parser for employee"]))).sendLogs("[lid group] missing group mapping in message parser for employee")):o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in message parser"]))).sendLogs("[lid group] missing group mapping in message parser"))}catch(e){o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[lid group] could not report missing lid in group message parser ",""])),e)}return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP},l,{chat:_,author:f,isDirect:y,addressingMode:N})}else if(_.isBroadcast()&&!_.isStatus()){if(f==null)return t.throw("broadcast message with no participant");if(o("WAWebUserPrefsMeUser").isMeAccount(f)){if(v==null){if(!C)return t.throw("peer broadcast message with no participants node");v=[]}return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST},l,{chat:_,author:f,isDirect:y,bclParticipants:v,bclHashValidated:!1})}return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST},l,{chat:_,author:f,isDirect:y,ephSetting:t.maybeAttrString("eph_setting")})}else if(_.isBroadcast()&&_.isStatus()){var M,w;if(f==null)return t.throw("status message with no participant");var A=(M=(w=t.maybeChild("meta"))==null?void 0:w.maybeAttrString("status_setting"))!=null?M:void 0;if(o("WAWebUserPrefsMeUser").isMeAccount(f)&&y){if(v==null)return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.DIRECT_PEER_STATUS},l,{chat:_,author:f,isDirect:y,statusSetting:A});var F=v.map(function(e){return e.wid});return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.DIRECT_PEER_STATUS},l,{chat:_,author:f,directPeerStatusBclParticipants:F,bclHashValidated:!1,statusSetting:A})}return babelHelpers.extends({type:o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS},l,{chat:_,author:f,isDirect:y,statusSetting:A})}return t.throw("Unrecognized message type")}function C(e,t){var n=o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("from")),a=e.hasAttr("participant")?o("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("participant")):null,i=n.isGroup()||n.isBroadcast()?a:n;if(i==null)return e.throw("incomingMsgParser: to have a sender");var l=e.hasChild("unavailable");!l&&t.length===0&&e.throw("incomingMsgParser: to have enc node children");var s=!1,u=!1;if(l){var c=e.maybeChild("unavailable");u=(c==null?void 0:c.maybeAttrString("hosted"))==="true",s=(c==null?void 0:c.maybeAttrString("type"))==="view_once"}var d=e.attrEnum("type",o("WAWebHandleMsgCommon").STANZA_MSG_TYPES),m=e.maybeChild("meta"),p=d===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.poll?m==null?void 0:m.attrEnumOrNullIfUnknown("polltype",o("WAWebHandleMsgCommon").POLL_TYPES):null,_;o("WAWebStatusGatingUtils").isStatusPrivateMentionsReceiveEnabled()&&(_=(m==null?void 0:m.maybeAttrString("status_mentioned"))==="true");var f={isUnavailable:l,isViewOnceUnavailable:s,isHostedMsgUnavailable:u,type:d,pollType:p,origin:m==null?void 0:m.maybeAttrEnum("origin",o("WAWebHandleMsgCommon").STANZA_MSG_ORIGIN),rawTs:e.attrString("t"),urlNumber:e.hasChild("url_number"),urlText:e.hasChild("url_text"),statusMentioned:_,appdata:m==null?void 0:m.maybeAttrEnum("appdata",o("WAWebHandleMsgCommon").APPDATA)};return m&&m.hasAttr(o("WAWebHandleMsgCommon").BIZ_SOURCE_ATTR)&&(f.bizSource=m.attrString(o("WAWebHandleMsgCommon").BIZ_SOURCE_ATTR)),m&&m.hasAttr("thread_msg_id")&&(f.threadMsgId=m.attrString("thread_msg_id")),m&&m.hasAttr("thread_msg_sender_jid")&&(f.threadMsgSenderJid=o("WAWebJidToWid").jidWithTypeToWid(m.attrJidWithType("thread_msg_sender_jid"))),m&&m.hasAttr("target_id")&&(f.targetId=m.attrString("target_id")),m&&m.hasAttr("target_sender_jid")&&(f.targetSenderJid=o("WAWebJidToWid").jidWithTypeToWid(m.attrJidWithType("target_sender_jid"))),m&&m.hasAttr("target_chat_jid")&&(f.targetChatJid=o("WAWebJidToWid").jidWithTypeToWid(m.attrJidWithType("target_chat_jid"))),m&&m.hasAttr("target_chat_jid_lid")&&(f.targetChatJidLid=o("WAWebJidToWid").jidWithTypeToWid(m.attrJidWithType("target_chat_jid_lid"))),m&&m.hasAttr("capi")&&m.attrString("capi")==="true"&&(f.capi=!0),d===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.event&&m&&m.hasAttr("event_type")&&(f.eventType=m.attrEnum("event_type",o("WAWebHandleMsgCommon").EVENT_TYPES)),m&&m.hasAttr("context_source")&&(f.context_source=m.attrString("context_source")),m&&m.hasAttr("read")&&r("justknobx")._("1799")&&(f.isReadByPeer=m.attrString("read")==="true"),f}function b(e){var t=e.maybeChild("bot");if(t){var n=t.maybeAttrString("sender_timestamp_ms"),r=t.maybeAttrString("edit_target_id"),a=o("WAWebBotTypes").BotMsgEditType.cast(t.maybeAttrString("edit")),i;t.hasAttr("biz_bot")&&(t.attrString("biz_bot")==="1"?i=o("WAWebBotTypes").BizBotType.BIZ_1P:t.attrString("biz_bot")==="3"&&(i=o("WAWebBotTypes").BizBotType.BIZ_3P));var l=o("WAWebBotTypes").BotMsgBodyType.cast(t.maybeAttrString("type")),s={botSenderTimestampMs:n,botEditTargetId:r,botEditType:a,botMsgBodyType:l,bizBotType:i};return s}}function v(e,t){var n,r,a,i,l=!!(!(t==null||(n=t.author)==null)&&n.isBot()),s=!!(!(t==null||(r=t.chat)==null)&&r.isBot()),u=!s&&l;if(u)return{verifiedNameSerial:null,verifiedLevel:null,verifiedNameCert:null,privacyMode:null,nativeFlowName:null,campaignId:null};var c=e.hasChild("verified_name")?e.child("verified_name").contentBytes():null,d=e.maybeAttrEnum("verified_level",o("WAWebHandleMsgCommon").MSG_VERIFIED_LEVEL),m=e.hasAttr("verified_name")?e.attrInt("verified_name"):-1,p=e.maybeChild("biz"),_=null;if(p!=null){var f=o("WAWebHandleMsgTypes.flow").ActualActorsEnumType.cast(p.maybeAttrInt("actual_actors")),g=o("WAWebHandleMsgTypes.flow").HostStorageEnumType.cast(p.maybeAttrInt("host_storage")),h=p.maybeAttrInt("privacy_mode_ts");f!=null&&g!=null&&h!=null&&!l&&(_={actualActors:f,hostStorage:g,privacyModeTs:h})}var y=(a=p==null||(i=p.maybeChild("interactive"))==null||(i=i.maybeChild("native_flow"))==null?void 0:i.maybeAttrString("name"))!=null?a:p==null?void 0:p.maybeAttrString("native_flow_name"),C=p==null?void 0:p.maybeAttrString("campaign_id");return babelHelpers.extends({verifiedNameCert:c,verifiedLevel:d,verifiedNameSerial:m,privacyMode:_,nativeFlowName:y,campaignId:C},p&&{verifiedButtonsEnvelope:p.hasChild("buttons"),verifiedListEnvelope:p.hasChild("list"),verifiedHsmEnvelope:e.hasChild("hsm")})}function S(e){var t=e.maybeChild("hsm");if(t!=null){var n=t.maybeAttrString("tag"),r=t.maybeAttrString("category");if(n!=null||r!=null)return{tag:n,category:r}}return null}function R(e){var t=null,n=e.hasChild("pay")?e.child("pay"):null,r=e.hasChild("transaction")?e.child("transaction"):null,a=o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("from")).isGroup(),i=e.hasAttr("participant")?o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("participant")):null;if(o("WAWebPaymentNotificationParser").isNoviTransaction(n)||o("WAWebPaymentNotificationParser").isNoviTransaction(r))t={futureproofed:!0};else if(r){var l=o("WAWebPaymentNotificationParser").parseTransactionNode(r);l&&(L(a,i,o("WAWebWidFactory").createWid(l.receiver.toString()))?t={receiverJid:l.receiver.toString(),currency:l.currency,amount1000:l.amount1000,transactionTimestamp:l.ts,txnStatus:o("WAWebPaymentStatusUtils").getPaymentTxnWebStatus(l.status)}:t={receiverJid:l.receiver.toString(),currency:l.currency,amount1000:l.amount1000,transactionTimestamp:l.ts})}else if(n){var s=n.attrEnum("type",o("WAWebHandleMsgCommon").PAY_NODE_TYPES);switch(s){case o("WAWebHandleMsgCommon").PAY_NODE_TYPES.send:{var u=o("WAWebHandlePaymentAmountUtils").getAmount1000AndCurrency(n),c=u.amount1000,d=u.currency,m=n.hasAttr("receiver")?n.attrString("receiver"):e.attrString("recipient");L(a,i,o("WAWebWidFactory").createWid(m))?t={receiverJid:m,currency:d,amount1000:c,transactionTimestamp:e.attrInt("t"),txnStatus:o("WAWebProtobufsWeb.pb").PaymentInfo$TxnStatus.INIT}:t={receiverJid:m,currency:d,amount1000:c,transactionTimestamp:e.attrInt("t")};break}case o("WAWebHandleMsgCommon").PAY_NODE_TYPES.request:break;case o("WAWebHandleMsgCommon").PAY_NODE_TYPES.invite:break;default:break}}return t}function L(e,t,n){return!(e&&t!=null&&n!=null&&!o("WAWebUserPrefsMeUser").isMeAccount(t)&&!o("WAWebUserPrefsMeUser").isMeAccount(n))}var E=new(r("WADeprecatedWapParser"))("incomingMsgParserForAckOnly",function(e){e.assertTag("message");var t=null;try{t=e.attrEnum("type",o("WAWebHandleMsgCommon").STANZA_MSG_TYPES)}catch(e){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["incomingMsgParserForAckOnly: failed to parse stanza type: ",""])),e)}var n=null;try{n=e.attrString("offline")!==""}catch(e){}var r=null;try{r=y(e,[],b(e))}catch(e){o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["incomingMsgParserForAckOnly: failed to parse msg info: ",""])),e)}return{type:t,externalId:e.attrString("id"),from:o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("from")),participant:e.hasAttr("participant")?o("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("participant")):null,msgInfo:r,offline:n}});function k(e){if(!o("WAWebMessagingGatingUtils").isReportingTokenReceivingEnabled())return null;var t=e.maybeChild("reporting");if(t==null)return null;var n={},r=t.maybeChild("reporting_token"),a=t.maybeChild("reporting_tag");return r!=null&&(n.reportingToken=r.contentBytes(),n.version=r.attrInt("v")),a!=null&&(n.reportingTag=a.contentBytes()),n}function I(e){var t=e==null?void 0:e.maybeAttrString("sender_country_code");if(t!=null)try{return o("WAWebCountriesUtils").asISOCountryCode(t)}catch(e){o("WAWebCurrentUser").isEmployee()&&o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Failed to parse sender country code: ",""])),t).sendLogs("failed-to-parse-sender-country-code",{sampling:.01})}}l.incomingMsgParser=h,l.incomingMsgParserForAckOnly=E}),98);
__d("WAWebHandleCloudApiThreadControlNotification",["WALogger","WAWebBackendApi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.consumerLid,r=t.consumerPhoneNumber,a=t.status;r==null&&n==null||(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[Biz AI] Received thread control notification, status: ",""])),a),o("WAWebBackendApi").frontendFireAndForget("updateChatCapiThreadControl",{consumerPhoneNumber:r,consumerLid:n,status:a}))}l.default=s}),98);
__d("WAWebIcdcHandlerApi",["Promise","WAJids","WALogger","WALongInt","WATimeUtils","WAWebAdvExpectedTsApi","WAWebApiDeviceList","WAWebApiPendingDeviceSync","WAWebBackendEventBus","WAWebBizCoexGatingUtils","WAWebBizCoexHostedAddVerification","WAWebBizCoexOfflineICDCHandledCache","WAWebHandleAdvForUsyncApi","WAWebIdentityUpdateDeviceTableApi","WAWebLastADVCheckTimeApi","WAWebPromiseQueue","WAWebProtobufsAdv.pb","WAWebSyncDeviceAdvDeviceListJob","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p=new(o("WAWebPromiseQueue")).PromiseQueue;function _(e,t,r){return r==null?(m||(m=n("Promise"))).resolve():p.enqueue(function(){return h(e,t,r)})}function f(e,t,n){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a,i,l={hostedBizEncMismatch:!1,senderOrRecipientAccountTypeHosted:!1};if(!o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()||o("WAWebUserPrefsMeUser").isMeAccount(t)||!t.isUser())return l;var c=r==null?void 0:r.deviceListMetadata;if(c==null)return l;var d=o("WAWebUserPrefsMeUser").isMeAccount(n),m=d?c.receiverAccountType:c.senderAccountType,p=d?t:n;if(m==null)return l;if(m===o("WAWebProtobufsAdv.pb").ADVEncryptionType.E2EE)return o("WAWebBizCoexOfflineICDCHandledCache").removeFromOfflineBizHostedSenderICDCProcessedCache(p),l;if(m!==o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED)return l;if(o("WAWebBizCoexOfflineICDCHandledCache").hasOfflineBizHostedSenderICDCProcessedForSender(p))return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleHostedIcdcMetadataInline: skip processing since already processed for current offline resume session for ",""])),p==null?void 0:p.toLogString()),{hostedBizEncMismatch:!1,senderOrRecipientAccountTypeHosted:!0};o("WAWebBizCoexOfflineICDCHandledCache").addToOfflineBizHostedSenderICDCProcessedCache(p),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleIcdcMetadataInline: add to coex cache for ",""])),p==null?void 0:p.toLogString()),o("WAWebBizCoexHostedAddVerification").addToCoexHostedVerificationCache(p);var _=yield o("WAWebApiDeviceList").getDeviceRecord(p),f=o("WALongInt").numberOrThrowIfTooLarge((a=c.senderTimestamp)!=null?a:0),g=(i=_==null?void 0:_.timestamp)!=null?i:0;if(f>=g){if((_==null?void 0:_.advAccountType)!==o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED){var h;return yield o("WAWebIdentityUpdateDeviceTableApi").clearDeviceRecord(p,(h=_==null?void 0:_.devices)!=null?h:[],!o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd,o("WAWebProtobufsAdv.pb").ADVEncryptionType.E2EE,o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED),o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd?o("WAWebSyncDeviceAdvDeviceListJob").syncDeviceListJob([p],null,null):yield o("WAWebApiPendingDeviceSync").addUserToPendingDeviceSync([p.toString()]),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleHostedIcdcMetadataInline: update ADV type for ",""])),p==null?void 0:p.toLogString()),{hostedBizEncMismatch:(_==null?void 0:_.advAccountType)===o("WAWebProtobufsAdv.pb").ADVEncryptionType.E2EE||(_==null?void 0:_.deletedChangedToHost)!==!0,senderOrRecipientAccountTypeHosted:!0}}return{hostedBizEncMismatch:!1,senderOrRecipientAccountTypeHosted:!0}}return l}),g.apply(this,arguments)}function h(e,t,n){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=n.deviceListMetadata;if(r==null){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["get empty device list metadata"]))).tags("handleICDCData");return}if((e.device==null||e.device===o("WAJids").DEFAULT_DEVICE_ID)&&r.senderTimestamp!=null&&r.senderKeyHash==null){var a=o("WALongInt").numberOrThrowIfTooLarge(r.senderTimestamp)+1,i=yield o("WAWebHandleAdvForUsyncApi").handleADVSyncResult(e,{deviceList:[{id:o("WAJids").DEFAULT_DEVICE_ID,keyIndex:0}],keyIndex:{ts:o("WATimeUtils").castToUnixTime(a),signedKeyIndexBytes:null}},null,null);(i==null?void 0:i.identityUpdatePromise)!=null&&(yield i.identityUpdatePromise);return}var l=[],s=e.user===o("WAWebUserPrefsMeUser").getMePnUserOrThrow().user;l.push({id:e,ts:r.senderTimestamp}),s&&t!=null&&l.push({id:t,ts:r.recipientTimestamp});var u=yield o("WAWebLastADVCheckTimeApi").getLastADVDeviceInfoCheckTime(),m=yield o("WAWebApiDeviceList").bulkGetDeviceRecord(l.map(function(e){return e.id})),p=[];if(m.forEach(function(e,t){var n=l[t].ts;if(!(e==null||e.deleted||n==null)){var r=o("WAWebAdvExpectedTsApi").computeExpectedTsForDeviceRecord(o("WALongInt").numberOrThrowIfTooLarge(n),e,u);(r.expectedTs!==e.expectedTs||r.expectedTsLastDeviceJobTs!==e.expectedTsLastDeviceJobTs||r.expectedTsUpdateTs!==e.expectedTsUpdateTs)&&p.push(babelHelpers.extends({},e,r))}}),p.length>0)return o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["handleICDCData: updated expected timestamp for "," records => ",""])),p.length,p.slice(0,3).map(function(e){return e.id})),o("WAWebApiDeviceList").bulkCreateOrReplaceDeviceRecord(p)}),y.apply(this,arguments)}l.handleICDCData=_,l.handleHostedIcdcMetadataInline=f}),98);
__d("WAWebHandleMsgProcessUtils",["WALogger","WAWebBackendApi","WAWebBizCoexGatingUtils","WAWebDBCreateOrUpdateReactions","WAWebDBPollsUpsertVotes","WAWebDBProcessEditProtocolMsgs","WAWebDBUpdateLastAddOnPreviewChat","WAWebGetMessageCache","WAWebHandleMsgCommon","WAWebHandleMsgError","WAWebHandleMsgValidate","WAWebIcdcHandlerApi","WAWebLastAddOnDBSerialization","WAWebOfflineDeviceCache","WAWebReactionDataUtils","WAWebShouldUpdateLastAddOnPreview","WAWebSyncDeviceAdvDeviceListJob","WAWebWidFactory","asyncToGeneratorRuntime","cr:10197"],(function(t,n,r,o,a,i,l){var e;function s(e,t){var n={msg:e,receiptInfo:{externalId:e.id.id,from:e.from,author:t.author}};o("WAWebGetMessageCache").getMessageCache().addMessages([n],!1)}function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(t.offline==null&&o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processDecryptedMessageProto: msgId::",", message decrypted: "])),t.externalId).tags("messaging"),!t.isHsm&&n.highlyStructuredMessage)throw new(o("WAWebHandleMsgCommon")).HsmMismatchError;var r=null;if(!(yield o("WAWebHandleMsgValidate").isFromKnownDevice(t.author))){var a=o("WAWebWidFactory").asUserWidOrThrow(t.author);throw t.offline==null?o("WAWebSyncDeviceAdvDeviceListJob").syncDeviceListJob([a],null,null):o("WAWebOfflineDeviceCache").OfflinePendingDeviceCache.addOfflinePendingDevice(String(a),null),new(o("WAWebHandleMsgError")).UnknownDeviceMessageError("[messaging] msgId::"+t.externalId+", processDecryptedMessageProto: reject message from unknown device")}return n.messageContextInfo&&(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&(r=t.chat.isUser()?yield o("WAWebIcdcHandlerApi").handleHostedIcdcMetadataInline(t.chat,t.author,n.messageContextInfo):null),o("WAWebIcdcHandlerApi").handleICDCData(t.author,t.chat.isUser()?t.chat:null,n.messageContextInfo)),r}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msg,n=e.msgInfo,r=e.reparsing;if(n.offline!=null&&!r)return s(t,n);yield o("WAWebBackendApi").frontendSendAndReceive("processEphemeralSyncResponse",{msg:t})}),m.apply(this,arguments)}function p(e,t,n){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(t.offline!=null&&!n)return s(e,t);yield o("WAWebBackendApi").frontendSendAndReceive("processKeepInChatMessage",{keepInChatMessage:e,allowNotification:!0})}),_.apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=e;if(t.offline!=null&&!n)return s(r,t);yield o("WAWebDBProcessEditProtocolMsgs").processEditProtocolMsgs([r],n)}),g.apply(this,arguments)}function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebDBPollsUpsertVotes").upsertVotesDb(e);o("WAWebBackendApi").frontendFireAndForget("upsertVotesModelCollection",{votes:t,votesToRemove:null,restoredFromDb:!0}),yield C(t.map(function(e){return o("WAWebLastAddOnDBSerialization").lastAddOnPreviewCandidateFromVoteData(e,!1)}))}),y.apply(this,arguments)}function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebShouldUpdateLastAddOnPreview").filterChatsWithAddOnPreviewUpdates(e);t.size>0&&(yield o("WAWebDBUpdateLastAddOnPreviewChat").updateDatabaseForLastAddOnPreview(t),o("WAWebBackendApi").frontendFireAndForget("updateChatLastAddOnPreview",{chatMap:t}))}),b.apply(this,arguments)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.map(function(e){return o("WAWebReactionDataUtils").webMsgInfoReactionTypeToReactionsRow(e)}),n="reaction received: "+t.map(function(e){return e.msgKey.toString()+" to "+e.parentMsgKey}).toString()+";",r=yield o("WAWebDBCreateOrUpdateReactions").createOrUpdateReactions(t);return r&&(yield C(r.map(function(e){return o("WAWebLastAddOnDBSerialization").lastAddOnPreviewCandidateFromReactionRowType(e)}))),r}),S.apply(this,arguments)}l.preProcessMsg=u,l.processEphemeralSyncResponseMsg=d,l.processKeepInChatMsg=p,l.processEditProtocolMsg=f,l.storePollVotesBulk=h,l.storeReactionMsgBulk=v}),98);
__d("WAWebWamEnumMigrationStageEnum",[],(function(t,n,r,o,a,i){var e=Object.freeze({GOT_ABPROP:1,PRIMARY_LOCAL_MIGRATION_STARTED:2,PRIMARY_LOCAL_MIGRATION_ENDED:3,PRIMARY_LOCAL_MIGRATION_FAILED:4,PRIMARY_SENT_PEER_MESSAGE:5,COMPANION_RECEIVED_PEER_MESSAGE:6,COMPANION_LOCAL_MIGRATION_STARTED:7,COMPANION_LOCAL_MIGRATION_ENDED:8,COMPANION_LOCAL_MIGRATION_FAILED:9,COMPANION_MIGRATED_ON_NEW_PAIRING:10,COMPANION_RECEIVED_DEVICE_CAPABILITY:11,COMPANION_EXTRACTED_AND_SAVED_PEER_MESSAGE:12});i.MIGRATION_STAGE_ENUM=e}),66);
__d("WAWebWamEnumStageFailureReasonEnum",[],(function(t,n,r,o,a,i){var e=Object.freeze({MALFORMED_PEER_MESSAGE:1,INITIATED_LOGOUT_BASED_ON_MAPPING:2,DID_NOT_GET_PEER_MESSAGE_ON_TIME:3,DID_NOT_COMPLETE_MIGRATION_ON_TIME:4,COMPANION_UNSUPPORTED_VERSION:5,INTERNAL_ERROR:6,COMPANION_TIMEOUT_BASED_ON_DEVICE_CAPABILITY:7});i.STAGE_FAILURE_REASON_ENUM=e}),66);
__d("WAWebLid11MigrationLifecycleWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMigrationStageEnum","WAWebWamEnumStageFailureReasonEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({Lid11MigrationLifecycle:[6154,{chatNotInMappingCount:[1,e.TYPES.INTEGER],companionHasADifferentMappingCount:[2,e.TYPES.INTEGER],currentLocalTimeSeconds:[10,e.TYPES.INTEGER],fakeLidCount:[3,e.TYPES.INTEGER],isLocally1x1MigratedFromDb:[14,e.TYPES.BOOLEAN],isStageInOfflineResume:[11,e.TYPES.BOOLEAN],isSyncdLidSession:[4,e.TYPES.BOOLEAN],latestMappingCount:[5,e.TYPES.INTEGER],mappingCount:[6,e.TYPES.INTEGER],migratedThreadCount:[7,e.TYPES.INTEGER],migrationStage:[8,o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM],peerMappingBytesLength:[12,e.TYPES.INTEGER],primaryMigrationTimeSeconds:[13,e.TYPES.INTEGER],stageFailureReason:[9,o("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM],webClientDidPairingStanzaIndicated1x1MigrationThisSession:[15,e.TYPES.BOOLEAN]},[1,1,1],"regular"]},{Lid11MigrationLifecycle:[]});l.Lid11MigrationLifecycleWamEvent=s}),98);
__d("WAWebLid1X1ThreadAccountMigrations.flow",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({WAITING_PROP:1,WAITING_MAPPINGS:2,READY:3,IN_PROGRESS:4,COMPLETE:5});i.LidThreadMigrationStatus=e}),66);
__d("WAWebProtobufLidMigrationSyncPayload.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={};s.name="LIDMigrationMapping",s.internalSpec={pn:[1,(e=o("WAProtoConst")).FLAGS.REQUIRED|e.TYPES.UINT64],assignedLid:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],latestLid:[3,e.TYPES.UINT64]},u.name="LIDMigrationMappingSyncPayload",u.internalSpec={pnToLidMappings:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,s],chatDbMigrationTimestamp:[2,e.TYPES.UINT64]},l.LIDMigrationMappingSpec=s,l.LIDMigrationMappingSyncPayloadSpec=u}),98);
__d("WAWebLid1x1MigrationMsgParser",["WABinary","WAGzip","WALogger","WAWebLogoutReasonConstants","WAWebProtobufLidMigrationSyncPayload.pb","WAWebSocketLogoutJob","WAWebWidFactory","asyncToGeneratorRuntime","decodeProtobuf"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p;function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: start handle peer mapping"])));var n=new(o("WABinary")).Binary(t);o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: after read binary"])));var r=yield o("WAGzip").inflate(n.readByteArrayView());o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: after decompress"])));var a=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufLidMigrationSyncPayload.pb").LIDMigrationMappingSyncPayloadSpec,r);if(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: decoded ("," entries)"])),a.pnToLidMappings.length),a==null||a.pnToLidMappings.length===0)return o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: no mapping in protobuf"]))),{mappings:[],primaryMigrationTsSec:null};var i=a.pnToLidMappings.map(function(e){var t,n=(t=o("WAWebWidFactory")).asUserWidOrThrow(t.createUserWidOrThrow(e.pn.toString())),r=t.asUserWidOrThrow(t.createWid(e.assignedLid.toString()+"@lid")),a=(e==null?void 0:e.latestLid)!=null?o("WAWebWidFactory").asUserWidOrThrow(o("WAWebWidFactory").createWid(e.latestLid.toString()+"@lid")):null;return{pnUser:n,assignedLid:r,latestLid:a}});return o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: completed successfully"]))),{mappings:i,primaryMigrationTsSec:a.chatDbMigrationTimestamp}}catch(e){o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["parseLidMigrationMappingSyncMsg: lid sync parse failed"]))).sendLogs("lid-migration-parse-mappings"),yield o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationFailedToParseMapping)}}),f.apply(this,arguments)}l.parseLidMigrationMappingSyncMsg=_}),98);
__d("WAWebLid1x1MigrationPrimaryCache",["Promise","WALogger","WAWebApiContact","WAWebDBCreateLidPnMappings","WAWebLid1x1MigrationMsgParser","WAWebUserPrefsIndexedDBStorage","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u=(function(){function t(){this.$1=0,this.$2=new Map,this.$3=new Map,this.$4=null;var t=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WALidThreadAccountMigrationStatus");t==null||t.lidMappingsFromPrimaryMigration==null||(this.$1=t.ts,this.$5(t.lidMappingsFromPrimaryMigration).catch(function(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[LID] Failed to populate lid mappings from primary device"]))).sendLogs(t)}))}var r=t.prototype;return r.getPrimaryMigrationTsSec=function(){return this.$4},r.getLidForPn=function(t){return this.$2.get(t)},r.updateCacheIfEmpty=function(t,r){return this.$2.size!==0?(s||(s=n("Promise"))).resolve():(this.clear(),this.$1=r,this.$5(t))},r.$5=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this;yield o("WAWebLid1x1MigrationMsgParser").parseLidMigrationMappingSyncMsg(e).then(function(e){var n;t.$4=e==null?void 0:e.primaryMigrationTsSec,e==null||(n=e.mappings)==null||n.forEach(function(e){t.$2.set(e.pnUser,e.assignedLid),e.latestLid!=null&&t.$3.set(e.pnUser,e.latestLid)})})});function t(t){return e.apply(this,arguments)}return t})(),r.getAllPnLidMappings=function(){var e=this;return Array.from(this.$2.entries(),function(t){var n=t[0],r=t[1],o=e.$3.get(n);return{primaryProvidedPn:n,primaryProvidedLid:r,primaryProvidedLatestLid:o}})},r.$6=function(t,n,r){var e=o("WAWebApiContact").lidPnCache.getCurrentLid(o("WAWebWidFactory").asUserWidOrThrow(t)),a=n.equals(e);if(!a){var i="migration-sync-latest",l=[{pn:o("WAWebWidFactory").asUserWidOrThrow(t),lid:o("WAWebWidFactory").asUserLidOrThrow(n)}];if(r==null)return{mappings:l,learningSource:i};var s=r.equals(e);if(s)i="migration-sync-old";else{var u={pn:o("WAWebWidFactory").asUserWidOrThrow(t),lid:o("WAWebWidFactory").asUserLidOrThrow(r)};l.push(u)}return{mappings:l,learningSource:i}}},r.learnMappingsInBulk=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=this,t=this.getAllPnLidMappings(),n=[],r=[];t.forEach(function(t){var o=t.primaryProvidedLatestLid,a=t.primaryProvidedLid,i=t.primaryProvidedPn,l=e.$6(i,a,o);if(l!=null){var s=l.learningSource,u=l.mappings;s==="migration-sync-latest"?r.push.apply(r,u):n.push.apply(n,u)}}),yield o("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:n,flushImmediately:!0,learningSource:"migration-sync-old"}),yield o("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:r,flushImmediately:!0,learningSource:"migration-sync-latest"})});function t(){return e.apply(this,arguments)}return t})(),r.clear=function(){this.$1=0,this.$2.clear(),this.$3.clear()},t})(),c=new u;l.lidPnMigrationPrimaryCache=c}),98);
__d("WAWebLid1X1ThreadAccountMigrations",["Promise","WAAsyncSleep","WAJobOrchestratorTypes","WALogger","WALongInt","WANullthrows","WATimeUtils","WAWebABProps","WAWebApiContact","WAWebCommonMsgSubtypeTypes","WAWebCurrentUser","WAWebDBChatValidation","WAWebDBMessageSerialization","WAWebDBMessageUtils","WAWebEphemeralityTypes","WAWebEventsWaitForOfflineDeliveryEnd","WAWebLid11MigrationLifecycleWamEvent","WAWebLid1X1MigrationGating","WAWebLid1X1ThreadAccountMigrations.flow","WAWebLid1x1MigrationPrimaryCache","WAWebLogoutReasonConstants","WAWebModelStorageUtils","WAWebMsgGetters","WAWebMsgType","WAWebOfflineResumeUtils","WAWebOrchestratorNonPersistedJob","WAWebRuntimeEnvironmentUtils","WAWebSocketLogoutJob","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsMultiDevice","WAWebUserPrefsTypes","WAWebUsernameTypes","WAWebWamEnumMigrationStageEnum","WAWebWamEnumStageFailureReasonEnum","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","sumBy"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M;function w(){var e=o("WAWebABProps").getABPropConfigValue("lid_one_on_one_migration_enabled"),t=G().state;if(e&&t===o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.WAITING_PROP)return V(o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.WAITING_MAPPINGS)}function A(e){return F.apply(this,arguments)}function F(){return F=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){try{var t;o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[LID] setLidMigrationMappings: received mappings. size: "," is offline: ",""])),(t=e==null?void 0:e.byteLength)!=null?t:0,o("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd());var n=o("WATimeUtils").unixTime();new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_RECEIVED_PEER_MESSAGE}).commit();var r=o("WATimeUtils").unixTime();if(o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[LID] after sending WAM. is offline: ",". duration: ",""])),o("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd(),r-n),e==null)return o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[LID] peer mapping is null"]))),yield new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_FAILED,stageFailureReason:o("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM.MALFORMED_PEER_MESSAGE}).commitAndWaitForFlush(!0),o("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[LID] setLidMigrationMappings: received empty mappings payload"]))).sendLogs("lid-migration-empty-mappings"),o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationPeerMappingsMalformed);var a=o("WATimeUtils").unixTime();o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[LID] before update state. is offline: ",""])),o("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()),yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WALidThreadAccountMigrationStatus",{state:o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.READY,ts:a,lidMappingsFromPrimaryMigration:e});var i=o("WATimeUtils").unixTime(),l=G().state;o("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[LID] after updating state. Current state: ",""])),l),o("WALogger").LOG(b||(b=babelHelpers.taggedTemplateLiteralLoose(["[LID] before update cache. is offline: ",". duration: ",""])),o("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd(),i-r),yield o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.updateCacheIfEmpty(e,a),o("WALogger").LOG(v||(v=babelHelpers.taggedTemplateLiteralLoose(["[LID] setLidMigrationMappings: saved updated mapping. is offline: ",""])),o("WAWebEventsWaitForOfflineDeliveryEnd").isOfflineDeliveryEnd()),z()}catch(e){throw o("WALogger").ERROR(S||(S=babelHelpers.taggedTemplateLiteralLoose(["[LID] setLidMigrationMappings: failed to save mappings"]))).catching(e).sendLogs("lid-migration-failed-to-save-mappings"),e}}),F.apply(this,arguments)}function O(){var e=G().state;return e===o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.READY||e===o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.IN_PROGRESS}function B(){return W.apply(this,arguments)}function W(){return W=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_STARTED,mappingCount:o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getAllPnLidMappings().length}).commit();try{if(!O()){o("WALogger").ERROR(R||(R=babelHelpers.taggedTemplateLiteralLoose(["[LID] migrate1x1Chats: migration is not ready"]))).sendLogs("lid-migration-not-ready");return}if(!o("WAWebABProps").getABPropConfigValue("lid_one_on_one_migration_compatible"))return yield new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_FAILED,stageFailureReason:o("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM.COMPANION_UNSUPPORTED_VERSION}).commitAndWaitForFlush(!0),o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationCompanionIncompatibleKillswitch);o("WALogger").LOG(L||(L=babelHelpers.taggedTemplateLiteralLoose(["[Lid] 1x1ThreadMigration started"]))),V(o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.IN_PROGRESS);var e=G(),t=r("WANullthrows")(e==null?void 0:e.lidMappingsFromPrimaryMigration,"got empty mappings while in lid thread migration"),a=r("WANullthrows")(e==null?void 0:e.ts,"received empty sync timestamp while in lid thread migration");yield o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.updateCacheIfEmpty(t,a);var i=[],l=0,s=0;o("WAWebCurrentUser").isEmployee()&&o("WALogger").LOG(E||(E=babelHelpers.taggedTemplateLiteralLoose(["[Lid] 1x1ThreadMigration Primary Mappings: ",""])),o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getAllPnLidMappings().map(function(e){var t,n;return e.primaryProvidedPn.toString()+":"+e.primaryProvidedLid.toString()+":"+((t=(n=e.primaryProvidedLatestLid)==null?void 0:n.toString())!=null?t:"")}).join(", "));var u=null;if(yield o("WAWebModelStorageUtils").getStorage().lock(["chat","message","user-prefs"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e[0],c=e[1],d=(yield t.all()).filter(function(e){var t=e.id,n=o("WAWebWidFactory").createWid(t);return n.isRegularUser()}),m=[],p=[],_=new Set(d.map(function(e){var t=e.id;return o("WAWebWidFactory").asUserWidOrThrow(o("WAWebWidFactory").createWid(t))})),f=0,g=d.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;if(u==null){var n=o("WAWebWidFactory").createWid(e.id),d=e.lidOriginType,g=o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getAllPnLidMappings().some(function(e){var t=e.primaryProvidedLatestLid;return r("WAWebWid").equals(t,n)}),h=d===o("WAWebUsernameTypes").LidOriginType.PNH_CTWA&&g;if(n.isLid()){i.push({id:e.id,accountLid:n.toString(),lidOriginType:h?o("WAWebUsernameTypes").LidOriginType.GENERAL:d});return}var y=o("WAWebApiContact").getCurrentLid(o("WAWebWidFactory").asUserWidOrThrow(n));y==null&&s++;var C=y!=null?_.has(y):!1,b=o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getLidForPn(n);r("WAWebWid").equals(y,b)||l++;var v=o("WALongInt").maybeNumber(o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getPrimaryMigrationTsSec());v==null&&f++;var S=yield q({mostRecentMsgTs:(t=e.t)!=null?t:0,isThreadExistsWithChatJid:C,primarySyncTs:v!=null?v:a,primaryProvidedLid:b,latestLocalLid:y,chat:e,MessageTable:c});if(S.deleteChat){m.push(e.id),p.push.apply(p,S.messagesToDelete);return}if(S.logoutReason!=null){u=S.logoutReason;return}i.push({id:e.id,accountLid:S.threadLid.toString(),lidOriginType:e.lidOriginType})}});return function(t){return e.apply(this,arguments)}})());yield(M||(M=n("Promise"))).all(g),f>0&&o("WALogger").ERROR(k||(k=babelHelpers.taggedTemplateLiteralLoose(["[LID] migrate1x1Chats: primaryMigrationTsSec is a too large number for "," chats"])),f).sendLogs("lid-migration-primary-ts-too-large"),u==null&&(o("WAWebDBChatValidation").validateAccountLidInChatRows(i,"lid1X1ThreadAccountMigration"),yield t.bulkCreateOrMerge(i),yield t.bulkRemove(m),yield c.bulkRemove(p),m.length>0&&o("WALogger").LOG(I||(I=babelHelpers.taggedTemplateLiteralLoose([""," chats deleted on migration instead of logging out"])),m.length).sendLogs("lid-migration-chats-deleted",{sampling:0}),V(o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.COMPLETE),o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.setIsLidMigrated(!0,o("WAWebUserPrefsTypes").LidMigrationSource.PEER,!1),o("WALogger").LOG(T||(T=babelHelpers.taggedTemplateLiteralLoose(["[Lid] 1x1ThreadMigration completed successfully"]))))});return function(t){return e.apply(this,arguments)}})()),u)return yield new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_FAILED,stageFailureReason:o("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM.INITIATED_LOGOUT_BASED_ON_MAPPING}).commitAndWaitForFlush(!0),o("WALogger").ERROR(D||(D=babelHelpers.taggedTemplateLiteralLoose(["[LID] Failed to migrate 1x1 chats with reason: ",". Logging out"])),u).sendLogs("lid-migration-failed"),yield o("WAAsyncSleep").asyncSleep(5e3),o("WAWebSocketLogoutJob").socketLogout(u);yield o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.learnMappingsInBulk();var c=r("sumBy")(o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getAllPnLidMappings(),function(e){return e.primaryProvidedLatestLid!=null?1:0});new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_ENDED,mappingCount:o("WAWebLid1x1MigrationPrimaryCache").lidPnMigrationPrimaryCache.getAllPnLidMappings().length,migratedThreadCount:i.length,companionHasADifferentMappingCount:l,chatNotInMappingCount:s,latestMappingCount:c}).commit()}catch(e){return yield new(o("WAWebLid11MigrationLifecycleWamEvent")).Lid11MigrationLifecycleWamEvent({migrationStage:o("WAWebWamEnumMigrationStageEnum").MIGRATION_STAGE_ENUM.COMPANION_LOCAL_MIGRATION_FAILED,stageFailureReason:o("WAWebWamEnumStageFailureReasonEnum").STAGE_FAILURE_REASON_ENUM.INTERNAL_ERROR}).commitAndWaitForFlush(!0),o("WALogger").ERROR(x||(x=babelHelpers.taggedTemplateLiteralLoose(["[LID] Failed to migrate 1x1 chats"]))).catching(e).sendLogs("lid-thread-migration"),o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationOneOnOneThreadMigrationInternalError)}}),W.apply(this,arguments)}function q(e){return U.apply(this,arguments)}function U(){return U=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.MessageTable,n=e.chat,r=e.isThreadExistsWithChatJid,a=e.latestLocalLid,i=e.mostRecentMsgTs,l=e.primaryProvidedLid,s=e.primarySyncTs;if(l==null){if(a==null){if(n){try{if(n.originalLid!=null)return{threadLid:o("WAWebWidFactory").createUserLidOrThrow(n.originalLid)}}catch(e){o("WALogger").ERROR($||($=babelHelpers.taggedTemplateLiteralLoose(["getResolvedThreadAccountLid: failed to get lid for ",""])),n.id).catching(e).sendLogs("createChat-lid-offline-resume-workaround-failed-migration")}var u=yield j(n,t);if(u.result)return o("WALogger").LOG(P||(P=babelHelpers.taggedTemplateLiteralLoose(["[LID] chat can be deleted, deleting chat ",""])),n.id),{deleteChat:!0,messagesToDelete:u.messages.map(function(e){return e.id})};Y(n,s,r,u.messages,u.reason)}return{logoutReason:o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationNoLidAvailiable}}return r?{logoutReason:o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationSplitThreadMismatch}:{threadLid:a}}var c=o("WAWebABProps").getABPropConfigValue("lid_one_on_one_migration_log_out_on_mismatch");return c?a==null||a.equals(l)?(a==null&&o("WALogger").WARN(N||(N=babelHelpers.taggedTemplateLiteralLoose(["[LID] getResolvedThreadAccountLid: latestLocalLid is null"]))),{threadLid:l}):i>=s?{logoutReason:o("WAWebLogoutReasonConstants").LogoutReason.LidMigrationPrimaryMappingsObsolete}:{threadLid:l}:{threadLid:l}}),U.apply(this,arguments)}function V(t){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[LID] setLidThreadMigrationProgress: ",""])),t);var n=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WALidThreadAccountMigrationStatus"),r=babelHelpers.extends({},n,{state:t,ts:o("WATimeUtils").unixTime()});o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WALidThreadAccountMigrationStatus",r)}function H(e,t){return e==null?"unknown":t<e?"true":"false"}function G(){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[LID] getLidThreadMigrationStatus, isWorker: ",""])),o("WAWebRuntimeEnvironmentUtils").isWorker());var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get("WALidThreadAccountMigrationStatus");if(e==null){var t={state:o("WAWebLid1X1ThreadAccountMigrations.flow").LidThreadMigrationStatus.WAITING_PROP,ts:o("WATimeUtils").unixTime()};return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[LID] no migration status, will use default"]))),o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set("WALidThreadAccountMigrationStatus",t).then(function(){return o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[LID] default migration status saved"])))}),t}return e}function z(){if(!O()){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[LID] scheduleLid1x1ThreadAccountMigrationJob: migration is not ready"])));return}o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("scheduleLid1x1ThreadAccountMigration",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[LID] refreshing the page to start 1x1 lid thread migration"]))),o("WAWebOfflineResumeUtils").refreshWindow()}),{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.BEST_EFFORT}).fireAndForget()}function j(e,t){return K.apply(this,arguments)}function K(){return K=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=o("WAWebWidFactory").createWid(e.id),r=yield t.between(["internalId"],o("WAWebDBMessageUtils").beginningOfChat(n),o("WAWebDBMessageUtils").endOfChat(n),{lowerInclusive:!0,upperInclusive:!0,shouldDecrypt:!1}),a=!1;return(te(r)||ne(r))&&H(o("WAWebUserPrefsMultiDevice").getPairingTimestamp(),J(r).oldestMessageTs)==="false"&&(a=!0),!a&&e.createdLocally!==!0?{result:!1,messages:r,reason:"not created locally"}:(e.ephemeralDuration!=null||e.ephemeralSettingTimestamp!=null)&&!re(e,r)?{result:!1,messages:r,reason:"ephemeral_duration"}:e.isLocked?{result:!1,messages:r,reason:"locked: "+String(e.isLocked)}:e.archive?{result:!1,messages:r,reason:"archived: "+String(e.archive)}:e.muteExpiration?{result:!1,messages:r,reason:"mute_expiration: "+String(e.muteExpiration)}:r.every(X)||ee(r)||a?{result:!0,messages:r}:{result:!1,messages:r,reason:"has messages"}}),K.apply(this,arguments)}function Q(e){var t=o("WAWebDBMessageSerialization").messageFromDbRow(e);return o("WAWebMsgGetters").getIsDisappearingModeSystemMessage(t)}function X(e){var t=o("WAWebDBMessageSerialization").messageFromDbRow(e);return o("WAWebMsgGetters").getIsDisappearingModeSystemMessage(t)||o("WAWebMsgGetters").getIsInitialE2ENotification(t)}function Y(e,t,n,r,a){var i=o("WAWebUserPrefsMultiDevice").getPairingTimestamp(),l=J(r),s=l.count,u=l.newestMessageTs,c=l.oldestMessageTs,d=H(i,c),m=e.t,_=Z(m),f=Z(t),g=Z(i),h=e.createdLocally===!0,y=Z(c),C=Z(u),b={reason:a,messagesCount:s,fromHistSync:d,primarySyncT:f,pairingT:g,oldestMessageT:y,newestMessageT:C,chatT:_,threadExist:n};r.length<=4&&(b.messages=r.map(function(e){return{type:e.type,subtype:e.subtype,ack:e.ack}}));var v=oe(h,r,a);o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[LID] no lid available for chat ",", ",""])),e.id,JSON.stringify(b)).sendLogs(v)}function J(e){var t=Math.min.apply(Math,e.map(function(e){return e.t})),n=Math.max.apply(Math,e.map(function(e){return e.t})),r=e.length;return{oldestMessageTs:t,newestMessageTs:n,count:r}}function Z(e){return e==null?null:o("WATimeUtils").toHttpHeaderDate(o("WATimeUtils").castToUnixTime(e))}function ee(e){return e.every(function(e){return X(e)||e.type===o("WAWebMsgType").MSG_TYPE.CALL_LOG})&&e.some(function(e){return e.type===o("WAWebMsgType").MSG_TYPE.CALL_LOG})}function te(e){return e.every(function(e){return X(e)||e.broadcast})&&e.some(function(e){return e.broadcast})}function ne(e){return e.every(function(e){return X(e)||e.subtype===o("WAWebCommonMsgSubtypeTypes").MsgSubtype.ContactInfoCard})&&e.some(function(e){return e.subtype===o("WAWebCommonMsgSubtypeTypes").MsgSubtype.ContactInfoCard})}function re(e,t){return!!(e.disappearingModeTrigger===o("WAWebEphemeralityTypes").DisappearingModeTrigger.AccountSettings&&t.some(Q))}function oe(e,t,n){return te(t)?"lid-migration-no-lid-available-broadcast-chat":ee(t)?"lid-migration-no-lid-available-call-chat":ne(t)?"lid-migration-no-lid-available-contact-info-chat":e?n==="has messages"?"lid-migration-no-lid-available-created-locally-has-messages":"lid-migration-no-lid-available-created-locally":"lid-migration-no-lid-available"}l.checkIfMigrationEnabled=w,l.setLidMigrationMappings=A,l.shouldMigrateNow=O,l.migrate1x1Chats=B,l.getResolvedThreadAccountLid=q,l.getLidThreadMigrationStatus=G}),98);
__d("WAWebLogMissingGroupParticipantMappings",["WALogger","WAWebApiContact","WAWebGroupsParticipantsApi","WAWebIsCagGroupCache","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i){if(!(!t.isGroup()||r("WAWebIsCagGroupCache").isCag(t)||n.isBot())){var l=o("WAWebWidFactory").asUserWidOrThrow(n);if(o("WAWebApiContact").getAlternateUserWid(l)==null){var s=yield o("WAWebGroupsParticipantsApi").getParticipants(t);s==null||s.participants.includes(l.toString())||o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["participant missing mapping, addressing mode mismatch = ",""])),String(i!==a)).sendLogs("GroupLidInfra/incoming_group_message_unknown",{sampling:.01})}}}),u.apply(this,arguments)}l.logMissingGroupParticipantMappings=s}),98);
__d("WAWebWamEnumChatGatedReason",[],(function(t,n,r,o,a,i){var e=Object.freeze({TOS3:1,COUNTRY:2});i.CHAT_GATED_REASON=e}),66);
__d("WAWebGatedMessageReceivedWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatGatedReason"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({GatedMessageReceived:[3152,{chatGatedReason:[1,o("WAWebWamEnumChatGatedReason").CHAT_GATED_REASON]},[1,1,1],"regular"]},{GatedMessageReceived:[]});l.GatedMessageReceivedWamEvent=e}),98);
__d("WAWebWamEnumPairedMediaType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SD_PHOTO:0,HD_PHOTO:1,SD_VIDEO:2,HD_VIDEO:3,MOTION_PHOTO_PARENT:4,MOTION_PHOTO_CHILD:5,HEVC_VIDEO_PARENT:6,HEVC_VIDEO_CHILD:7});i.PAIRED_MEDIA_TYPE=e}),66);
__d("WAWebWamEnumPrivateAiFeatureName",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUMMARIZATION:0,WRITE_WITH_AI:1,PSI:2,QUICK_RECAP:3,INCONGNITO:4,SIDE_CHAT:5,GROUP_AI:6,PSI_SEARCH:7});i.PRIVATE_AI_FEATURE_NAME=e}),66);
__d("WAWebWamEnumStickerMakerSourceType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CUTOUT_IMAGE:1,WEB_STICKER_MAKER:2,IOS_STICKER_MAKER:3,ANDROID_STICKER_MAKER:4,TRANSPARENT_IMAGE:5,GIF:6});i.STICKER_MAKER_SOURCE_TYPE=e}),66);
__d("WAWebMessageReceiveWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumChatOriginsType","WAWebWamEnumDisappearingChatInitiatorType","WAWebWamEnumEditType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumEphemeralityInitiatorType","WAWebWamEnumEphemeralityTriggerActionType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumOppositeVisibleIdentificationType","WAWebWamEnumPairedMediaType","WAWebWamEnumPrivateAiFeatureName","WAWebWamEnumRevokeType","WAWebWamEnumSizeBucket","WAWebWamEnumStickerMakerSourceType","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({MessageReceive:[450,{agentEngagementType:[28,o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],appContext:[43,e.TYPES.STRING],appContextBitfield:[44,e.TYPES.INTEGER],botType:[37,o("WAWebWamEnumBotType").BOT_TYPE],chatOrigins:[38,o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE],deviceCount:[16,e.TYPES.INTEGER],deviceSizeBucket:[10,o("WAWebWamEnumSizeBucket").SIZE_BUCKET],disappearingChatInitiator:[14,o("WAWebWamEnumDisappearingChatInitiatorType").DISAPPEARING_CHAT_INITIATOR_TYPE],editType:[25,o("WAWebWamEnumEditType").EDIT_TYPE],encryptionType:[54,o("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],ephemeralityDuration:[13,e.TYPES.INTEGER],ephemeralityInitiator:[26,o("WAWebWamEnumEphemeralityInitiatorType").EPHEMERALITY_INITIATOR_TYPE],ephemeralityTriggerAction:[27,o("WAWebWamEnumEphemeralityTriggerActionType").EPHEMERALITY_TRIGGER_ACTION_TYPE],hasUsername:[39,e.TYPES.BOOLEAN],hasUsernamePin:[45,e.TYPES.BOOLEAN],invisibleMessageCategory:[41,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isAComment:[36,e.TYPES.BOOLEAN],isAReply:[19,e.TYPES.BOOLEAN],isForwardedForward:[18,e.TYPES.BOOLEAN],isLid:[24,e.TYPES.BOOLEAN],isPq:[55,e.TYPES.BOOLEAN],isViewOnce:[9,e.TYPES.BOOLEAN],localAddressingMode:[33,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageAddressingMode:[34,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageIsInternational:[4,e.TYPES.BOOLEAN],messageIsInvisible:[23,e.TYPES.BOOLEAN],messageIsOffline:[5,e.TYPES.BOOLEAN],messageMediaType:[2,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageQueueTime:[15,e.TYPES.TIMER],messageReceiveT0:[6,e.TYPES.TIMER],messageReceiveT1:[7,e.TYPES.TIMER],messageReceiveT2:[49,e.TYPES.TIMER],messageType:[1,o("WAWebWamEnumMessageType").MESSAGE_TYPE],mutedGroupMessage:[8,e.TYPES.BOOLEAN],numOfWebUrlsInTextMessage:[3,e.TYPES.INTEGER],offlineCount:[30,e.TYPES.INTEGER],oppositeVisibleIdentification:[40,o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE],paddingBytesSize:[22,e.TYPES.INTEGER],pairedMediaType:[42,o("WAWebWamEnumPairedMediaType").PAIRED_MEDIA_TYPE],participantCount:[17,e.TYPES.INTEGER],privateAiFeatureName:[53,o("WAWebWamEnumPrivateAiFeatureName").PRIVATE_AI_FEATURE_NAME],processingDeferred:[47,e.TYPES.BOOLEAN],receivedPhoneNumberContactSize:[50,e.TYPES.INTEGER],receivedPhoneNumberWithUsernameContactSize:[51,e.TYPES.INTEGER],receivedUsernameContactSize:[52,e.TYPES.INTEGER],receiverDefaultDisappearingDuration:[12,e.TYPES.INTEGER],revokeType:[20,o("WAWebWamEnumRevokeType").REVOKE_TYPE],senderDefaultDisappearingDuration:[11,e.TYPES.INTEGER],serverAddressingMode:[35,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],stanzaProcessCount:[48,e.TYPES.INTEGER],stickerIsAi:[29,e.TYPES.BOOLEAN],stickerIsFromStickerMaker:[31,e.TYPES.BOOLEAN],stickerMakerSourceType:[32,o("WAWebWamEnumStickerMakerSourceType").STICKER_MAKER_SOURCE_TYPE],traceIdInt:[56,e.TYPES.INTEGER],typeOfGroup:[21,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM]},[1,1,5],"regular"]},{MessageReceive:[]});l.MessageReceiveWamEvent=s}),98);
__d("WAWebWamEnumChatsFolderType",[],(function(t,n,r,o,a,i){var e=Object.freeze({INBOX:1,ARCHIVED:2});i.CHATS_FOLDER_TYPE=e}),66);
__d("WAWebWamEnumContactType",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONSUMER:1,SMB:2,ENTERPRISE:3});i.CONTACT_TYPE=e}),66);
__d("WAWebWamEnumQbmFlag",[],(function(t,n,r,o,a,i){var e=Object.freeze({OTHER:0,TRANSACTIONAL:1,PROMOTIONAL:2,OTP:3,MARKETING_MESSAGE_SMB:4});i.QBM_FLAG=e}),66);
__d("WAWebWamEnumThreadCreationTime",[],(function(t,n,r,o,a,i){var e=Object.freeze({LESS_THAN_1_DAY_AGO:0,LESS_THAN_7_DAYS_AGO:1,LESS_THAN_30_DAYS_AGO:2,MORE_THAN_30_DAYS_AGO:3});i.THREAD_CREATION_TIME=e}),66);
__d("WAWebQbmIncomingMessageWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatsFolderType","WAWebWamEnumContactType","WAWebWamEnumQbmFlag","WAWebWamEnumThreadCreationTime"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({QbmIncomingMessage:[3790,{apiDailyThreadCount7d:[21,e.TYPES.INTEGER],apiMessageCount1d:[22,e.TYPES.INTEGER],apiMessageCount7d:[23,e.TYPES.INTEGER],apiTotalMessageCount:[26,e.TYPES.INTEGER],apiTotalNewThreadCount:[27,e.TYPES.INTEGER],apiUniqueThreadCount1d:[24,e.TYPES.INTEGER],apiUniqueThreadCount7d:[25,e.TYPES.INTEGER],bizTrustTier:[36,e.TYPES.STRING],bodyUrlCountInt:[52,e.TYPES.INTEGER],bodyUrlUniqueCountInt:[53,e.TYPES.INTEGER],buttonValueJsonArray:[45,e.TYPES.STRING],chatsFolderType:[1,o("WAWebWamEnumChatsFolderType").CHATS_FOLDER_TYPE],companionDevices:[10,e.TYPES.INTEGER],contactType:[2,o("WAWebWamEnumContactType").CONTACT_TYPE],ctaUrlUniqueCountInt:[54,e.TYPES.INTEGER],decisionId:[41,e.TYPES.STRING],entSourceSubplatform:[40,e.TYPES.STRING],fmxCardShown:[43,e.TYPES.BOOLEAN],gapRules:[58,e.TYPES.STRING],geEvaluationTimestamp:[59,e.TYPES.INTEGER],hsmTagStr:[14,e.TYPES.STRING],isBizIntent:[37,e.TYPES.BOOLEAN],isBroadcastMessage:[38,e.TYPES.BOOLEAN],isCoex:[56,e.TYPES.BOOLEAN],isFromAdsManagerMm:[15,e.TYPES.BOOLEAN],isFromCapi:[16,e.TYPES.BOOLEAN],isInsubContact:[39,e.TYPES.BOOLEAN],isMuted:[20,e.TYPES.BOOLEAN],isOba:[44,e.TYPES.BOOLEAN],isThroughDecisionService:[57,e.TYPES.BOOLEAN],keepChatsArchivedEnabled:[3,e.TYPES.BOOLEAN],lastOutgoingMessageDeltaTime:[11,e.TYPES.INTEGER],lastOutgoingMessageDeltaTimeReceived:[13,e.TYPES.INTEGER],messageFieldJsonArray:[46,e.TYPES.STRING],messageHasButton:[18,e.TYPES.BOOLEAN],messageHasUrl:[19,e.TYPES.BOOLEAN],messageIdHmac:[17,e.TYPES.STRING],messageTypeStr:[7,e.TYPES.STRING],muted:[4,e.TYPES.BOOLEAN],notificationEnabled:[5,e.TYPES.BOOLEAN],qbmFlag:[6,o("WAWebWamEnumQbmFlag").QBM_FLAG],qbmFlagStr:[12,e.TYPES.STRING],readReceiptsEnabled:[9,e.TYPES.BOOLEAN],smbDailyThreadCount7d:[28,e.TYPES.INTEGER],smbMessageCount1d:[29,e.TYPES.INTEGER],smbMessageCount7d:[30,e.TYPES.INTEGER],smbTotalMessageCount:[31,e.TYPES.INTEGER],smbTotalNewThreadCount:[32,e.TYPES.INTEGER],smbUniqueThreadCount1d:[33,e.TYPES.INTEGER],smbUniqueThreadCount7d:[34,e.TYPES.INTEGER],submessageFieldJsonArray:[47,e.TYPES.STRING],threadCreationTime:[35,o("WAWebWamEnumThreadCreationTime").THREAD_CREATION_TIME],threadIdHmac:[8,e.TYPES.STRING],threadLidHmac:[42,e.TYPES.STRING],urlUniqueCountInt:[55,e.TYPES.INTEGER]},[1,1,1],"regular"]},{QbmIncomingMessage:[]});l.QbmIncomingMessageWamEvent=s}),98);
__d("WAWebQbmIncomingMessageLogger",["WAWebABProps","WAWebLidAwareContactsDB","WAWebMsgGetters","WAWebQbmIncomingMessageWamEvent","WAWebUserPrefsNotifications","WAWebWamEnumChatsFolderType","WAWebWamEnumContactType","WAWebWamEnumQbmFlag","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e={},e[(s=o("WAWebWamEnumQbmFlag")).QBM_FLAG.OTHER]="OTHER",e[s.QBM_FLAG.TRANSACTIONAL]="TRANSACTIONAL",e[s.QBM_FLAG.PROMOTIONAL]="NON_TRANSACTIONAL",e[s.QBM_FLAG.OTP]="OTP",e[s.QBM_FLAG.MARKETING_MESSAGE_SMB]="MARKETING_MESSAGE_SMB",e);function c(e){var t=o("WAWebMsgGetters").getBizSource(e);return o("WAWebMsgGetters").isBizSourceFromMarketingMessage(t)?o("WAWebWamEnumQbmFlag").QBM_FLAG.MARKETING_MESSAGE_SMB:(function(e){return e==="UTILITY"?o("WAWebWamEnumQbmFlag").QBM_FLAG.TRANSACTIONAL:e==="MARKETING"?o("WAWebWamEnumQbmFlag").QBM_FLAG.PROMOTIONAL:e==="AUTHENTICATION"?o("WAWebWamEnumQbmFlag").QBM_FLAG.OTP:o("WAWebWamEnumQbmFlag").QBM_FLAG.OTHER})(o("WAWebMsgGetters").getHsmTag(e))}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(!(e.length===0||!o("WAWebABProps").getABPropConfigValue("enable_logging_qbm_incoming_message")))for(var n=e.map(function(e){return e.from!=null?e.from.toJid():""}),a=yield r("WAWebLidAwareContactsDB").bulkGet(n),i=0;i<e.length;i++)p(e[i],t[i],a[i])}),m.apply(this,arguments)}function p(e,t,n){var r;if(!o("WAWebMsgGetters").getIsSentByMe(e)){var a=e.from;if(!(a==null||a.isGroup()||a.isStatus()||n==null)){var i=n.isBusiness,l=n.isEnterprise;if(!(!i&&!l)){var s=l?o("WAWebWamEnumContactType").CONTACT_TYPE.ENTERPRISE:o("WAWebWamEnumContactType").CONTACT_TYPE.SMB,d=(t==null?void 0:t.archive)===!0?o("WAWebWamEnumChatsFolderType").CHATS_FOLDER_TYPE.ARCHIVED:o("WAWebWamEnumChatsFolderType").CHATS_FOLDER_TYPE.INBOX,m=c(e);new(o("WAWebQbmIncomingMessageWamEvent")).QbmIncomingMessageWamEvent({contactType:s,chatsFolderType:d,isMuted:(t==null?void 0:t.muteExpiration)!=null&&t.muteExpiration>0,qbmFlag:m,qbmFlagStr:u[m],hsmTagStr:(r=o("WAWebMsgGetters").getHsmTag(e))!=null?r:"",messageTypeStr:e.type,notificationEnabled:o("WAWebUserPrefsNotifications").getGlobalNotifications(),isBizIntent:i,isInsubContact:n.isAddressBookContact===1}).commit()}}}}l.logQbmIncomingMessages=d}),98);
__d("WAWebWamMessageUtils",["WALogger","WAWebMsgType","WAWebVcardParsingUtils"],(function(t,n,r,o,a,i,l){var e;function s(t,n){var r=[],a=t.type===o("WAWebMsgType").MSG_TYPE.VCARD,i=t.type===o("WAWebMsgType").MSG_TYPE.MULTI_VCARD;if(a)r.push(t.body);else if(i){var l;r.push.apply(r,((l=t.vcardList)!=null?l:[]).map(function(e){return e.vcard}))}var s=0,u=0,c=0,d=0;return r.filter(Boolean).forEach(function(e){var t=o("WAWebVcardParsingUtils").parseVcard(e),n=o("WAWebVcardParsingUtils").vcardLidWid(t)!=null,r=o("WAWebVcardParsingUtils").vcardPhoneNumberWids(t).length>0;n&&r?c++:n?u++:r?s++:d++}),d>0&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[message-","] "," vcards with no PN or LID found"])),n,d).sendLogs("vcard-no-pn-or-lid",{sampling:.1}),a||i?{pnOnlyVcardCount:s,lidOnlyVcardCount:u,pnAndLidVcardCount:c}:null}l.getVcardMsgWamData=s}),98);
__d("WAWebLogReceivedMessages",["PaymentLinkWamLogger","Promise","WALogger","WATimeUtils","WAWebABProps","WAWebAddonProcessMsgsUtils","WAWebApiChat","WAWebBackendApi","WAWebBoolFunc","WAWebChatThreadLogging","WAWebChatThreadLoggingUtils","WAWebDBMsgUtils","WAWebDBProcessReplyMsgs","WAWebEphemeralityResolver","WAWebGalaxyFlowWamLoggerUtils","WAWebGatedMessageReceivedWamEvent","WAWebLidAwareContactsDB","WAWebLidMigrationUtils","WAWebMessageReceiveWamEvent","WAWebMsgGetters","WAWebMsgType","WAWebQbmIncomingMessageLogger","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsMeUser","WAWebUsernameTypes","WAWebWamAddressingModeUtils","WAWebWamEnumChatGatedReason","WAWebWamEnumChatOriginsType","WAWebWamEnumRevokeType","WAWebWamGroupMetadataMetricUtils","WAWebWamGroupMetricCache","WAWebWamMessageUtils","WAWebWamMsgUtils","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d="\uD83D\uDC9A";function m(e){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield(c||(c=n("Promise"))).all(e.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("PaymentLinkWamLogger").shouldLogReceiverEvent(e)&&(yield o("PaymentLinkWamLogger").genLogReceiveEvent({interaction_component:null,msg:e},e.matchedText).catch(function(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error logging payment link message receive: ",""])),e)}))});return function(t){return e.apply(this,arguments)}})()))}),p.apply(this,arguments)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){var a,i=e.clientReceivedTsMillis,l=e.localAddressingMode,s=e.msgProcessStartTsMillis,u=e.msgs,d=e.offline,m=e.serverAddressingMode,p=e.tsMillis,_=o("WATimeUtils").unixTimeMs(),f=yield(c||(c=n("Promise"))).all([o("WAWebChatThreadLoggingUtils").getMeHasUsername(),o("WAWebChatThreadLoggingUtils").getMeHasUsernamePin()]),g=f[0],h=f[1],y=(a=r.get(o("WAWebUserPrefsMeUser").getMePnUserOrThrow().toJid()))==null?void 0:a.ephemeralDuration;yield c.all(u.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var a=e.from;if(a!=null){var u=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.OTHERS;a.isLid()&&(u=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.LID_CTWA);var c=t[n];c!=null&&c.lidOriginType&&(u=c.lidOriginType===o("WAWebUsernameTypes").LidOriginType.PNH_CTWA?o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.LID_CTWA:c.lidOriginType===o("WAWebUsernameTypes").LidOriginType.GENERAL?o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.OTHERS:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+c.lidOriginType)})());var f=yield o("WAWebChatThreadLoggingUtils").getOppositeVisibleIdentification(a),C=a.isGroup()?e.from.isLid():o("WAWebWamMsgUtils").msgIsLid(e,a),b=new(o("WAWebMessageReceiveWamEvent")).MessageReceiveWamEvent({messageType:o("WAWebWamMsgUtils").getWamMessageType(e),messageMediaType:o("WAWebWamMsgUtils").getWamMediaType(e),messageIsInternational:o("WAWebMsgGetters").getIsInternational(e),messageIsOffline:d!=null,isViewOnce:!!e.isViewOnce,isForwardedForward:o("WAWebMsgGetters").getNumTimesForwarded(e)>1,isAReply:o("WAWebMsgGetters").getIsReply(e),editType:o("WAWebMsgGetters").getWamEditType(e),botType:o("WAWebWamMsgUtils").getWamBotType(a,e.bizBotType),isAComment:o("WAWebMsgGetters").getType(e)===o("WAWebMsgType").MSG_TYPE.COMMENT,hasUsername:g,hasUsernamePin:h,chatOrigins:u,oppositeVisibleIdentification:f!=null?f:void 0,isLid:C,messageReceiveT0:0,messageReceiveT1:0,messageReceiveT2:0}),v=o("WAWebWamMessageUtils").getVcardMsgWamData(e,"receive");if(v){var S=v.lidOnlyVcardCount,R=v.pnAndLidVcardCount,L=v.pnOnlyVcardCount;b.receivedPhoneNumberContactSize=L,b.receivedUsernameContactSize=S,b.receivedPhoneNumberWithUsernameContactSize=R}if(d!=null&&(b.offlineCount=d),!a.isGroup()&&!a.isStatus()){var E,k=(E=r.get(a.toJid()))==null?void 0:E.ephemeralDuration;k!=null&&(b.senderDefaultDisappearingDuration=k),y!=null&&(b.receiverDefaultDisappearingDuration=y),b.isLid=a.isLid()}o("WAWebMsgGetters").getIsRevoke(e)&&(b.revokeType=e.subtype==="admin_revoke"?o("WAWebWamEnumRevokeType").REVOKE_TYPE.ADMIN:o("WAWebWamEnumRevokeType").REVOKE_TYPE.SENDER),i!=null&&(b.messageReceiveT0=i-p,b.messageReceiveT1=_-i,s!=null&&(b.messageQueueTime=s-i)),e.ephemeralDuration!=null&&e.ephemeralDuration>0&&(b.ephemeralityDuration=e.ephemeralDuration);var I=o("WAWebMsgGetters").getWamDisappearingModeInitiator(e);I!=null&&(b.disappearingChatInitiator=I);var T=o("WAWebMsgGetters").getWamDisappearingModeTrigger(e);T!=null&&(b.ephemeralityTriggerAction=T);var D=o("WAWebMsgGetters").getWamDisappearingModeInitiatedByMe(e);D!=null&&(b.ephemeralityInitiator=D);var x=o("WAWebWamMsgUtils").getWamAgentEngagementType(e);x!=null&&(b.agentEngagementType=x);var $=yield o("WAWebWamGroupMetadataMetricUtils").getGroupTypeFromChatWid(a);if($!=null&&(b.typeOfGroup=$),m!=null&&(b.serverAddressingMode=o("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(m)),l!=null&&(b.localAddressingMode=o("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(l)),a!=null&&a.isGroup()){var P=yield o("WAWebWamGroupMetadataMetricUtils").isCagFromChatWid(a),N=o("WAWebMsgGetters").getIsReaction(e);P!=null&&N!=null&&(b.isLid=P&&N);var M=yield o("WAWebWamGroupMetricCache").getGroupMetrics(a);(M==null?void 0:M.participantCount)!=null&&(b.participantCount=M.participantCount),(M==null?void 0:M.deviceCount)!=null&&(b.deviceCount=M.deviceCount),(M==null?void 0:M.deviceSizeBucket)!=null&&(b.deviceSizeBucket=M.deviceSizeBucket)}b.commit()}});return function(t,n){return e.apply(this,arguments)}})()))}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["getContactData: for "," msgs"])),e.length);var t=new Set(e.filter(function(e){return e.id.remote.isUser()}).map(function(e){return e.id.remote.toJid()}));t.add(o("WAWebUserPrefsMeUser").getMePnUserOrThrow().toJid());var n=Array.from(t),a;return o("WAWebRuntimeEnvironmentUtils").isWorker()?(a=yield r("WAWebLidAwareContactsDB").bulkGet(n),new Map(a.map(function(e,t){return[n[t],{ephemeralDuration:o("WAWebEphemeralityResolver").getEphemeralDurationForUser(e),shouldBlockByCountry:o("WAWebBoolFunc").returnFalse,shouldBlockByTos:o("WAWebBoolFunc").returnFalse}]}))):o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getContactData",{ids:n.map(o("WAWebWidFactory").createWid)})}),h.apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebApiChat").bulkGetChats(e.map(function(e){return e.from}))}),C.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield(c||(c=n("Promise"))).all([y(e),g(e)]),r=t[0],o=t[1];return{chatData:r,contactData:o}}),v.apply(this,arguments)}function S(e,t){for(var n of e){var r=t.get(n.id.remote.toJid());r&&!o("WAWebMsgGetters").getIsSentByMe(n)&&(r.shouldBlockByCountry()?new(o("WAWebGatedMessageReceivedWamEvent")).GatedMessageReceivedWamEvent({chatGatedReason:o("WAWebWamEnumChatGatedReason").CHAT_GATED_REASON.COUNTRY}).commit():r.shouldBlockByTos()&&new(o("WAWebGatedMessageReceivedWamEvent")).GatedMessageReceivedWamEvent({chatGatedReason:o("WAWebWamEnumChatGatedReason").CHAT_GATED_REASON.TOS3}).commit())}}function R(e){return o("WAWebMsgGetters").getIsReaction(e)?o("WAWebAddonProcessMsgsUtils").getParentMsgKey(e):o("WAWebDBProcessReplyMsgs").createQuotedMsgKey(e)}function L(e){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=(t=o("WAWebLidMigrationUtils").getAlternateMsgKey(e))==null?void 0:t.toString();if(n!=null)return o("WAWebDBMsgUtils").getMsgByMsgKey(n)}),E.apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(o("WAWebMsgGetters").getType(e)===o("WAWebMsgType").MSG_TYPE.COMMENT){var t;return{activityType:"commentsReceived",ts:(t=e.t)!=null?t:o("WATimeUtils").unixTimeMs(),chatId:e.id.remote}}if(o("WAWebABProps").getABPropConfigValue("group_status_receiver_enabled")){var n=R(e);if(n!=="missing-stanza-id"){var r=yield o("WAWebDBMsgUtils").getMsgByMsgKey(n);if(o("WAWebMsgGetters").getIsReply(e)&&r==null&&(r=yield L(n)),r!=null&&o("WAWebMsgGetters").getIsGroupStatus(r)){var a=o("WAWebMsgGetters").getIsReply(e),i=o("WAWebMsgGetters").getIsReaction(e)&&e.reactionText===d;if(a||i){var l=o("WAWebMsgGetters").getIsSentByMe(r);return{activityType:"groupStatusMsgReceive",chatId:e.id.remote,ts:e.t,isGroupStatusReplyOthersToOwn:a&&l,isGroupStatusReplyOthersToOthers:a&&!l,isGroupStatusLikeOthersToOwn:i&&l,isGroupStatusLikeOthersToOthers:i&&!l}}}}}return{activityType:e.id.fromMe?"msgSend":"msgReceive",ts:e.t,chatId:e.id.remote,isViewOnce:e.isViewOnce===!0,isReaction:o("WAWebMsgGetters").getIsReaction(e),isForwarded:e.isForwarded===!0,isCommerceMessage:o("WAWebChatThreadLoggingUtils").isCommerceMessage(e),isReply:o("WAWebMsgGetters").getIsReply(e),isEdit:o("WAWebMsgGetters").getIsEditProtocolMsg(e),isBot:o("WAWebMsgGetters").getIsBotQuery(e)||o("WAWebMsgGetters").getIsMetaBotResponse(e),isEventCreation:e.type===o("WAWebMsgType").MSG_TYPE.EVENT_CREATION,isEventResponse:e.type===o("WAWebMsgType").MSG_TYPE.EVENT_RESPONSE}}),I.apply(this,arguments)}function T(e){(c||(c=n("Promise"))).all(e.filter(o("WAWebChatThreadLoggingUtils").shouldIncrementMsgSendAndReceive).map(k)).then(o("WAWebChatThreadLogging").handleActivitiesForChatThreadLogging)}function D(e){e.filter(o("WAWebMsgGetters").getIsAuthenticationMessage).forEach(function(e){o("WAWebBackendApi").frontendFireAndForget("logOTPMessageReceivedActions",{msgData:e})})}function x(t){var r=t.msgs;b(r).then(function(e){return(c||(c=n("Promise"))).all([_(t,e.chatData,e.contactData),S(r,e.contactData),T(r),D(r),m(r),o("WAWebGalaxyFlowWamLoggerUtils").logStructuredMessageReceivedWAMEvent(r),o("WAWebQbmIncomingMessageLogger").logQbmIncomingMessages(r,e.chatData)])}).catch(function(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error logging received messages: ",""])),t)})}l.logReceivedMessagesInWAM=x}),98);
__d("WAWebMessageDestinationChat",["WALogger","WAWebLid1X1MigrationGating","WAWebWidFactory","err"],(function(t,n,r,o,a,i,l){var e;function s(t){var n=t.chat,a=t.msg,i=t.msgInfo;if(n.isRegularUser()){if(o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){var l=o("WAWebWidFactory").asUserWidOrThrow(a.id.remote);if(l.isLid())return{chatId:l,accountLid:l};var s=i.accountLid;if(s==null)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["determineDestinationChatForIncomingMessage: accountLid is null for incoming message (LID migrated)"]))).sendLogs("determineDestinationChatForIncomingMessage-account-lid-null"),r("err")("determineDestinationChatForIncomingMessage: accountLid is null for incoming message (LID migrated)");return{chatId:l,accountLid:s}}var u=!o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()&&n.isLid();if(u)return{chatId:a.id.remote}}return{chatId:n}}l.determineDestinationChatForIncomingMessage=s}),98);
__d("WAWebWamEnumOfflineProcessRunReasons",[],(function(t,n,r,o,a,i){var e=Object.freeze({PUSH_NOTIFICATION:1,PERIODIC_BACKGROUND_SYNC:2});i.OFFLINE_PROCESS_RUN_REASONS=e}),66);
__d("WAWebWamEnumOfflineProcessStages",[],(function(t,n,r,o,a,i){var e=Object.freeze({PAGE_LOAD:1,SOCKET_CONNECT:2,OFFLINE_PREVIEW:3,PROCESSING:4,PROCESS_COMPLETE:5,PROCESS_INTERRUPTED:6});i.OFFLINE_PROCESS_STAGES=e}),66);
__d("WAWebWebcOfflineNotificationProcessWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumOfflineProcessRunReasons","WAWebWamEnumOfflineProcessStages"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({WebcOfflineNotificationProcess:[4222,{currentOfflineProcessStage:[4,o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES],offlineProcessDecryptErrorCount:[5,e.TYPES.INTEGER],offlineProcessMailboxAge:[6,e.TYPES.INTEGER],offlineProcessMessageCount:[7,e.TYPES.INTEGER],offlineProcessNotificationCount:[8,e.TYPES.INTEGER],offlineProcessSessionId:[9,e.TYPES.STRING],offlineProcessStageTimestampMs:[10,e.TYPES.INTEGER],runReason:[12,o("WAWebWamEnumOfflineProcessRunReasons").OFFLINE_PROCESS_RUN_REASONS],swVersion:[11,e.TYPES.STRING]},[1,1,1],"regular"]},{WebcOfflineNotificationProcess:[]});l.WebcOfflineNotificationProcessWamEvent=s}),98);
__d("WAWebWamWorkerOfflineProcessReporter",["WALogger","WARandomHex","WAShiftTimer","WATimeUtils","WAWebBuildConstants","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsGeneral","WAWebUserPrefsMultiDevice","WAWebWamEnumOfflineProcessRunReasons","WAWebWamEnumOfflineProcessStages","WAWebWamOfflineResumeReporter","WAWebWebcOfflineNotificationProcessWamEvent","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m=1e4,p=12e4,_=(function(){function t(){this.$8=null,this.$1=""+o("WARandomHex").randomHex(4)+o("WATimeUtils").unixTimeWithoutClockSkewCorrection(),this.$2=o("WAWebWamEnumOfflineProcessRunReasons").OFFLINE_PROCESS_RUN_REASONS.PUSH_NOTIFICATION,this.pageLoadT=self.performance.now(),this.$3=0,this.$4=0,this.$5=0,this.$6=0,this.$7=0,this.$9=0,this.$10=0,this.$11=0}var r=t.prototype;return r.$13=function(t,n){var e=new(o("WAWebWebcOfflineNotificationProcessWamEvent")).WebcOfflineNotificationProcessWamEvent({offlineProcessSessionId:this.$1,offlineProcessStageTimestampMs:n,currentOfflineProcessStage:t,swVersion:o("WAWebBuildConstants").VERSION_BASE,runReason:this.$2});(t===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESSING||t===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||t===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED)&&this.$14(e),t===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||t===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED?e.commitAndWaitForFlush(!0):e.commit()},r.$14=function(t){var e,n,r,a;t.offlineProcessMessageCount=o("WAWebWamOfflineResumeReporter").roundUp((e=this.$10)!=null?e:0,10),t.offlineProcessNotificationCount=o("WAWebWamOfflineResumeReporter").roundUp((n=this.$11)!=null?n:0,10),t.offlineProcessMailboxAge=o("WAWebWamOfflineResumeReporter").countDays((r=this.$7)!=null?r:0),t.offlineProcessDecryptErrorCount=(a=this.$9)!=null?a:0},r.$15=function(){var t=this;this.$8==null&&(this.$8=new(o("WAShiftTimer")).ShiftTimer(function(){if(t.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESSING){var n=Math.floor(self.performance.now()-t.pageLoadT);if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume] progress pMsg="," pNotif="," procT=",""])),t.$10,t.$11,n),n>p){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume] processing too long"]))).sendLogs("worker-offline-process-takes-too-long");return}t.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESSING,n),t.$15()}})),this.$8.onOrAfter(m)},r.$16=function(){var e;this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESSING,(e=this.$8)==null||e.cancel(),this.$15()},r.$17=function(t){t===void 0&&(t=-1);var e=this.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED;o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume] ends msg="," rcpt="," notif="," call="," pMsg="," pNotif=",""])),this.$3,this.$4,this.$5,this.$6,this.$10,this.$11),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume] err="," sockT="," prevT="," doneT="," age="," int=",""])),this.$9,this.socketConnectT,this.offlinePreviewT,this.processCompleteT,t,e),o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume] reason=",""])),this.$2)},r.getCurrentStage=function(){return this.$12},r.updateOldestStanzaTime=function(t){(this.$7==null||this.$7>t)&&(this.$7=t)},r.updateOfflineCount=function(t){this.$3=t.message,this.$4=t.receipt,this.$5=t.notification,this.$6=t.call},r.updateOfflineDecryptionErrorCount=function(t){this.$9=t},r.updateProcessedMessageCount=function(){o("WAWebRuntimeEnvironmentUtils").isWorker()&&(this.$10+=1)},r.updateProcessedNotificationCount=function(){o("WAWebRuntimeEnvironmentUtils").isWorker()&&(this.$11+=1)},r.logWorkerInitialized=function(t){this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PAGE_LOAD,this.$2=t,this.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PAGE_LOAD,0)},r.logSocketConnect=function(){this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.SOCKET_CONNECT;var e=Math.floor(self.performance.now()-this.pageLoadT);this.socketConnectT=e,this.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.SOCKET_CONNECT,e)},r.logOfflinePreview=function(){this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.OFFLINE_PREVIEW;var e=Math.floor(self.performance.now()-this.pageLoadT);this.offlinePreviewT=e,this.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.OFFLINE_PREVIEW,e),this.$16()},r.logProcessComplete=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;if(!(this.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||this.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED)){this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE,(e=this.$8)==null||e.cancel(),this.$8=null;var t=o("WAWebWamOfflineResumeReporter").countDays(this.$7);yield o("WAWebUserPrefsMultiDevice").setRecentMailboxAgeDays(t);var n=Math.floor(self.performance.now()-this.pageLoadT);this.processCompleteT=n,this.$17(t),this.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE,n),o("WAWebUserPrefsGeneral").setLastPushCompleteTimestamp(o("WATimeUtils").unixTimeMs())}});function t(){return e.apply(this,arguments)}return t})(),r.logProcessInterrupted=function(){var e;if(!(this.$12==null||this.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_COMPLETE||this.$12===o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED)){this.$12=o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED,(e=this.$8)==null||e.cancel(),this.$8=null;var t=Math.floor(self.performance.now()-this.pageLoadT);this.processCompleteT=t,this.$17(),this.$13(o("WAWebWamEnumOfflineProcessStages").OFFLINE_PROCESS_STAGES.PROCESS_INTERRUPTED,t)}},t})(),f=new _;l.WorkerOfflineResumeReporter=f}),98);
__d("WAWebMessageProcessPlaceholder",["Promise","WALogger","WANullthrows","WAWebAck","WAWebAdvHostedAccountTypeSystemMsg","WAWebApiDeviceList","WAWebBackendApi","WAWebBackendEventBus","WAWebBizCoexGatingUtils","WAWebBizCoexUtils","WAWebCheckChatExistsOrCreate","WAWebCurrentUser","WAWebDBProcessMessage","WAWebHandleMsgCommon","WAWebHandleMsgTypes.flow","WAWebMessageDestinationChat","WAWebMessageProcessorCache","WAWebMsgProcessingApiUtils","WAWebMsgType","WAWebProtobufsAdv.pb","WAWebUserPrefsMultiDevice","WAWebWamWorkerOfflineProcessReporter","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.msgInfo,i=a.chat;if(a.category===o("WAWebHandleMsgCommon").MSG_CATEGORY.peer){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processPlaceHolderMessage: msgId:",", skip placeholder for peer message"])),a.externalId).tags("messaging");return}var l=a.offline!=null;try{var c=[];if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&i.isUser()&&(t.placeholderType===o("WAWebHandleMsgTypes.flow").PlaceholderType.E2E||t.placeholderType===o("WAWebHandleMsgTypes.flow").PlaceholderType.FANOUT)){var d,m=o("WAWebUserPrefsMultiDevice").getHaveProcessedCoexAdv()===!0?yield o("WAWebApiDeviceList").getDeviceRecord(a.author):null;if(a.placeholderCreatedWhenAccountIsHosted=(m==null?void 0:m.advAccountType)===o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED,(m==null?void 0:m.advAccountType)===o("WAWebProtobufsAdv.pb").ADVEncryptionType.HOSTED&&(a==null||(d=a.chat)==null?void 0:d.isUser())===!0){var p=yield o("WAWebBizCoexUtils").shouldCreateFallbackHostedAdvSystemMsgOnPlaceholder(o("WAWebWidFactory").asUserWidOrThrow(a==null?void 0:a.author).toString());p&&!o("WAWebBizCoexUtils").shouldDedupInitialHostedSystemMsg(o("WAWebWidFactory").asUserWidOrThrow(a==null?void 0:a.author))&&(c=[r("WANullthrows")(o("WAWebAdvHostedAccountTypeSystemMsg").genAdvAccountTypeInitialSysMsg(o("WAWebWidFactory").asUserWidOrThrow(a==null?void 0:a.author),o("WAWebWidFactory").asUserWidOrThrow(a==null?void 0:a.author)))])}}var _=[];if(t.type===o("WAWebMsgType").MSG_TYPE.CIPHERTEXT){var f=o("WAWebMsgProcessingApiUtils").generatePlaceholder(t);if(f==null||(f.realType!=null,a.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST?(yield o("WAWebDBProcessMessage").storeMessages([f],f.id.remote),a.bclParticipants!=null&&a.edit!==o("WAWebAck").EDIT_ATTR.SENDER_REVOKE&&(_=yield o("WAWebMsgProcessingApiUtils").generateBclMsgs(f,a.bclParticipants))):_=[f],_.length===0))return;o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&c.length>0&&a.placeholderCreatedWhenAccountIsHosted===!0&&(_=[].concat(c,_))}else _=[o("WAWebMsgProcessingApiUtils").genDebugPlaceholderMsg(a,t.nackReason)];var g=_;if(g.length===0)return;if(t.type===o("WAWebMsgType").MSG_TYPE.CIPHERTEXT){if(i.isUser()){var h=g[0],y=o("WAWebMessageDestinationChat").determineDestinationChatForIncomingMessage({chat:i,msg:h,msgInfo:a});yield o("WAWebCheckChatExistsOrCreate").checkChatExistsOrCreate({destinationChat:y,msgMeta:t.msgMeta,options:{firstIncomingMsg:h},chatOriginType:"createChatOnNewMsg"})}}else t.type;var C=o("WAWebMessageProcessorCache").messageProcessorCache.addMessages(g.map(function(e){return{msg:e}}),!l).then(function(){o("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedMessageCount()});o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd&&(o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd&&(yield C),yield(u||(u=n("Promise"))).all(g.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.kind!==o("WAWebMsgType").MsgKind.PlaceholderAddon&&(!i.isStatus()||o("WAWebCurrentUser").isEmployee());if(t){var n=e.id.remote;yield o("WAWebBackendApi").frontendSendAndReceive("updateMessageUI",{chatId:n,msg:e})}});return function(t){return e.apply(this,arguments)}})())))}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["processPlaceholderMsg: msgId::",", failed with error: ",""])),a.externalId,e).tags("messaging").sendLogs("handle_msg: error storing/processing single message")}}),d.apply(this,arguments)}l.processPlaceholderMessage=c}),98);
__d("WAWebGetPrivacyModeWhenSent",["WAWebApiVerifiedBusinessName","WAWebHandleMsgTypes.flow","WAWebPrivacyModeSystemMsg","WAWebRuntimeEnvironmentUtils","WAWebUserPrefsMeUser","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT){if(!o("WAWebUserPrefsMeUser").isMeAccount(e.author))return t.privacyMode;var n=t.privacyMode,r=o("WAWebRuntimeEnvironmentUtils").isWorker()?yield o("WAWebApiVerifiedBusinessName").getPrivacyMode(e.chat):yield o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getPrivacyMode",{id:e.chat});return o("WAWebPrivacyModeSystemMsg").getLatestPrivacyMode(r,n)}}),s.apply(this,arguments)}l.getPrivacyModeWhenSent=e}),98);
__d("WAWebHandleBizBotMsgs",["Promise","WALogger","WAWebBotSystemMsg","WAWebBotTypes","WAWebModelStorageUtils","WAWebRuntimeEnvironmentUtils","WAWebSchemaChat","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=new Map;t.forEach(function(e){var t=e.from.toJid();t!=null&&!r.has(t)&&e.bizBotType&&r.set(t,e.bizBotType)});var a=Array.from(r.keys()),i=yield d(a),l=[],u=[];for(var c of r.entries()){var m,p=c[0],_=c[1],f=(m=i.get(p))==null?void 0:m.bizBotSystemMsgType;_===o("WAWebBotTypes").BizBotType.BIZ_1P&&f!==o("WAWebBotTypes").BizBotType.BIZ_1P?(l.push(o("WAWebBotSystemMsg").genBizBot1pDisclosureMessage(o("WAWebWidFactory").createWid(p))),u.push({id:p,bizBotSystemMsgType:o("WAWebBotTypes").BizBotType.BIZ_1P})):_===o("WAWebBotTypes").BizBotType.BIZ_3P&&f!==o("WAWebBotTypes").BizBotType.BIZ_3P&&(l.push(o("WAWebBotSystemMsg").genBizBot3pDisclosureMessage(o("WAWebWidFactory").createWid(p))),u.push({id:p,bizBotSystemMsgType:o("WAWebBotTypes").BizBotType.BIZ_3P}))}return l.length?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleBizBotMsgs: bulkCreateOrMerge"]))).tags("missing-lid"),yield o("WAWebModelStorageUtils").getStorage().lock(["chat"],(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e[0];yield(s||(s=n("Promise"))).all([t.bulkCreateOrMerge(u)])});return function(t){return e.apply(this,arguments)}})()),l):[]}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!o("WAWebRuntimeEnvironmentUtils").isWorker())return o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getBizBotData",{chatIds:e.map(o("WAWebWidFactory").createWid)});var t=new Map,n=yield o("WAWebSchemaChat").getChatTable().bulkGet(e);return n.map(function(e){e&&t.set(e.id,{bizBotSystemMsgType:e.bizBotSystemMsgType})}),t}),m.apply(this,arguments)}l.handleBizBotMsgs=u}),98);
__d("WAWebHandlePrivacyModeChange",["WALogger","WAWebApiVerifiedBusinessName","WAWebBusinessProfileTypes","WAWebCheckChatExistsOrCreate","WAWebHandlePrivacyModeUpdateMsgAction","WAWebMessageDestinationChat","WAWebPrivacyModeSystemMsg","WAWebRuntimeEnvironmentUtils","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.bizInfo,r=t.chatWid,a=t.msgInfo,i=t.msgMeta,l=t.msgs,s=l[0],u=o("WAWebMessageDestinationChat").determineDestinationChatForIncomingMessage({chat:r,msg:s,msgInfo:a}),d=u.chatId,m=yield c(d),p=o("WAWebPrivacyModeSystemMsg").getLatestPrivacyMode(n.privacyMode,m.privacyMode),_=yield o("WAWebCheckChatExistsOrCreate").checkChatExistsOrCreate({destinationChat:u,msgMeta:i,options:{firstIncomingMsg:s,nextPrivacyMode:p},chatOriginType:"createChatOnNewMsg"}),f=_!==!0||m.verifiedLevel!==o("WAWebBusinessProfileTypes").convertLevel(n.verifiedLevel);try{return _&&p!=null&&(yield o("WAWebHandlePrivacyModeUpdateMsgAction").handlePrivacyModeTransition(d,p,{shouldRunMATonWid:!1})),{shouldQueryContactInfo:f,latestPrivacyMode:p}}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handlePrivacyModeChange for ",", failed with error: ",""])),d.toLogString(),t).tags("messaging","non-sad").sendLogs("handlePrivacyModeChange failed",{sampling:.01})}}),u.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!o("WAWebRuntimeEnvironmentUtils").isWorker())return o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("getChatPrivacyInfoOnNewMsg",{chatId:e});var t=yield o("WAWebApiVerifiedBusinessName").getVerifiedBusinessNameRecordLidAware(e);return{privacyMode:(t==null?void 0:t.privacyMode)!=null?o("WAWebApiVerifiedBusinessName").convertPrivacyModeFromStorageType(t.privacyMode):null,verifiedLevel:o("WAWebBusinessProfileTypes").convertLevel(t==null?void 0:t.level)}}),d.apply(this,arguments)}l.handlePrivacyModeChangeAndCreateChat=s}),98);
__d("WAWebMaybeUpdateMessageThreadDetails",["WAWebBotUtils","WAWebBuildAiThreadUpdateHelper","WAWebThreadMsgUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebBuildAiThreadUpdateHelper").buildAiThreadUpdateHelpers(e);if(t==null)return e;var n=t.defaultThreadAttributes,r=t.targetMsgThreadMap;return e.map(function(e){var t;if(!o("WAWebBotUtils").isMetaAiBot(e.id.remote)||o("WAWebThreadMsgUtils").msgHasAiThread(e))return e;var a=o("WAWebBotUtils").getBotResponseTargetMsgKey(e),i=a!=null?r.get(a.toString()):null,l=i!=null?i:n,s=l.aiThreadInfo,u=l.threadId,c=(t=e.threadIds)!=null?t:[];return babelHelpers.extends({},e,{threadIds:[].concat(c,[u]),aiThreadInfo:s})})}),s.apply(this,arguments)}l.maybeUpdateMessageThreadDetails=e}),98);
__d("WAWebMessagePostProcessBatcher",["Promise","WABatcher","WAWebBackendApi","WAWebMsgType","WAWebNoop","WAWebWorkerSafeBackendApi"],(function(t,n,r,o,a,i,l){var e,s={delayMs:1e3},u=(function(){function t(){var t=this;this.$1=o("WABatcher").createSimpleBatcher(s,function(r){return t.$2(r),(e||(e=n("Promise"))).resolve([])})}var a=t.prototype;return a.acceptMessage=function(t){return this.$1.accept(t)},a.runActiveBatches=function(){return this.$1.runActiveBatch().then(r("WAWebNoop"))},a.$2=function(t){o("WAWebBackendApi").frontendFireAndForget("processOrphanReadReceipts",{msgIds:t.map(function(e){return e.id})});var e=t.filter(function(e){return e.type===o("WAWebMsgType").MSG_TYPE.PAYMENT&&e.subtype==="send"});e.length>0&&o("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("processOrphanPaymentNotifications",{msgs:e})},t})(),c=new u;l.messagePostProcessBatcher=c}),98);
__d("WAWebMessagePostprocessRenderable",["Promise","WALogger","WAWebBackendApi","WAWebBizUpdateVerifiedInfoAction","WAWebContactSyncLogger","WAWebMessagePostProcessBatcher","WAWebOfflineResumeMsgProcessReporter","WAWebUserPrefsMeUser","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.isOffline,r=e.latestPrivacyMode,a=e.messageOverwriteOption,i=e.msgInfo,l=e.msgs,s=e.shouldQueryContactInfo,c=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.PostProcessing);yield(u||(u=n("Promise"))).all(l.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebBackendApi").frontendSendAndReceive("updateMessageUI",{chatId:e.id.remote,msg:e,messageOverwriteOption:a,preserveOrder:!0,isOffline:t}),o("WAWebMessagePostProcessBatcher").messagePostProcessBatcher.acceptMessage(e),t||o("WAWebMessagePostProcessBatcher").messagePostProcessBatcher.runActiveBatches()});return function(t){return e.apply(this,arguments)}})())),(s||r!=null)&&m(e),yield o("WAWebBackendApi").frontendSendAndReceive("updateUnattributedMessages",{messageInfo:i,messages:l}),c==null||c()}),d.apply(this,arguments)}function m(t){var n=t.latestPrivacyMode,r=t.msgInfo,a=t.msgs,i=t.shouldQueryContactInfo,l=r.chat;i&&o("WAWebBizUpdateVerifiedInfoAction").queryAndUpdateContactPropertiesOnNewChat(l,o("WAWebContactSyncLogger").SYNC_REQUEST_ORIGIN.PRIVACY_MODE_CHANGE).catch(function(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["query contact info on new chat failed"])))}),!o("WAWebUserPrefsMeUser").isMeAccount(r.author)&&n!=null&&o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("updateBizPrivacyStatus",{msgIds:a.map(function(e){return e.id}),privacyMode:n}).catch(function(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handlePrivacyModeChange: failed to update biz privacy status with error ",""])),e)})}l.postprocessRenderableMessages=c}),98);
__d("WAWebDBOrphanDbSerialization",["WAWebDBMessageSerialization","WAWebWidFactory"],(function(t,n,r,o,a,i,l){function e(e){return babelHelpers.extends({},e,{sender:e.sender==null?null:o("WAWebWidFactory").createUserWidOrThrow(e.sender),parsedMsgPayload:o("WAWebDBMessageSerialization").messageFromDbRow(e.parsedMsgPayload)})}l.orphanFromDbRow=e}),98);
__d("WAWebDBGetByParentMsgKey",["WAWebDBOrphanDbSerialization","WAWebSchemaMessageOrphans"],(function(t,n,r,o,a,i,l){function e(e){return s([e])}function s(e){return o("WAWebSchemaMessageOrphans").getMessageOrphanTable().anyOf(["parentMsgKey"],e.map(String)).then(function(e){return e.filter(Boolean).map(o("WAWebDBOrphanDbSerialization").orphanFromDbRow)})}l.getMessageOrphansByParentMsgKey=e,l.bulkGetMessageOrphansByParentMsgKey=s}),98);
__d("WAWebDBMapOrphansToProviders",["WAWebDBAddOnProviders"],(function(t,n,r,o,a,i,l){function e(e){var t=new Map;for(var n of e){var r,a=o("WAWebDBAddOnProviders").getProviderForAddOnType(n.type);if(a){var i=(r=t.get(a))!=null?r:[];i.push(n),t.set(a,i)}}return t}l.mapOrphansToProviders=e}),98);
__d("WAWebDBProcessOrphansForNewMsg",["Promise","WALogger","WAWebAddonProcessMsgsUtils","WAWebDBGetByParentMsgKey","WAWebDBMapOrphansToProviders","WAWebDBProcessReactionsMsgs","WAWebLidMigrationUtils","WAWebSchemaMessageOrphans","WAWebStoreMsgs","asyncToGeneratorRuntime","lodash"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=o("WAWebLidMigrationUtils").getAlternateMsgKey(t.id),i=yield o("WAWebDBGetByParentMsgKey").bulkGetMessageOrphansByParentMsgKey([t.id,a].filter(Boolean));i.length&&o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processOrphansForNewMsg: found orphans"])));var l=o("WAWebAddonProcessMsgsUtils").sortAddonOrphans(i),u=l.legacyReactionAddons,c=l.otherOrphans,d=l.unifiedAddons,m=yield o("WAWebDBMapOrphansToProviders").mapOrphansToProviders(c),p=[o("WAWebStoreMsgs").storeMsgs(d),o("WAWebDBProcessReactionsMsgs").processReactionMsgs(u)];for(var _ of m.entries()){var f=_[0],g=_[1];p.push(f.processOrphansForNewMsg(t,g))}yield(s||(s=n("Promise"))).all(p);var h=r("lodash").flatten(Array.from(m.values())).map(function(e){return e.msgKey});h=h.concat(d.map(function(e){return e.id.toString()})),u.length&&(h=h.concat(u.map(function(e){return e.id.toString()}))),yield o("WAWebSchemaMessageOrphans").getMessageOrphanTable().bulkRemove(h)}),c.apply(this,arguments)}l.processOrphansForNewMsg=u}),98);
__d("WAWebHandleOrphansForNewMsg",["Promise","WAWebDBAssociatedMsgsAttachDetachAPI","WAWebDBProcessOrphansForNewMsg","WAWebMessageAssociationGatingUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=[o("WAWebDBProcessOrphansForNewMsg").processOrphansForNewMsg(t)];o("WAWebMessageAssociationGatingUtils").isMessageAssociationInfraEnabled()&&r.push(o("WAWebDBAssociatedMsgsAttachDetachAPI").processOrphansFromAssociationsTableForNewMsg([t])),yield(e||(e=n("Promise"))).all(r)}),u.apply(this,arguments)}l.handleOrphansForNewMsg=s}),98);
__d("WAWebMessageProcessDBPipeline",["Promise","WALogger","WAWebHandleOrphansForNewMsg","WAWebMessageProcessorCache","WAWebWamWorkerOfflineProcessReporter","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(t,r){return o("WAWebMessageProcessorCache").messageProcessorCache.addMessages(t.map(function(e){return{msg:e}}),r).then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedMessageCount(),r&&(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["process msgs orphans ",""])),t.length),yield(u||(u=n("Promise"))).all(t.map(function(e){return o("WAWebHandleOrphansForNewMsg").handleOrphansForNewMsg(e)})))})).catch(function(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["processRenderableMessages write to DB from cache, failed with error: ",""])),e).tags("messaging").sendLogs("processRenderableMessages write to DB from cache, failed")})}l.processMsgDataDBPipeline=c}),98);
__d("WAWebDBChatEphemeralExemptionData",["WAWebChatEphemeralExemptionCache","WAWebDBUpdateChatTable","WAWebSchemaChat","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.toString();if(r("WAWebChatEphemeralExemptionCache").has(t))return r("WAWebChatEphemeralExemptionCache").get(t);var n=yield o("WAWebSchemaChat").getChatTable().get(e.toString(),!1),a=n==null?null:{id:t,ephemeralDuration:n==null?void 0:n.ephemeralDuration,ephemeralDisplayedExemptions:n==null?void 0:n.ephemeralDisplayedExemptions};return r("WAWebChatEphemeralExemptionCache").add(t,a),a}),s.apply(this,arguments)}function u(e,t,n){var a=e.toString();r("WAWebChatEphemeralExemptionCache").add(a,{id:a,ephemeralDuration:t,ephemeralDisplayedExemptions:n}),o("WAWebDBUpdateChatTable").updateChatTable(e,{ephemeralDisplayedExemptions:n}).catch(function(){})}function c(e,t){var n,o=e.toString(),a=r("WAWebChatEphemeralExemptionCache").get(o),i={id:o,ephemeralDuration:t,ephemeralDisplayedExemptions:(n=a==null?void 0:a.ephemeralDisplayedExemptions)!=null?n:null};r("WAWebChatEphemeralExemptionCache").add(o,i)}l.getChatEphemeralExemptionDataFromChat=e,l.persistsEphemeralDisplayedExemptions=u,l.updateEphemeralDurationCache=c}),98);
__d("WAWebDBEphemeralDisplayedExemptions",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({UNSET:0,ORDERS_AND_PAYMENTS:1});i.EphemeralExemptionType=e}),66);
__d("WAWebOrderEphemeralExemptionUtil",["WAWebBizGatingUtils","WAWebDBEphemeralDisplayedExemptions","WAWebInteractiveMessageType","WAWebInteractiveMessagesNativeFlowName","WAWebMsgType"],(function(t,n,r,o,a,i,l){function e(e,t,n){return o("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled()&&e===o("WAWebMsgType").MSG_TYPE.INTERACTIVE&&t===r("WAWebInteractiveMessageType").NATIVE_FLOW&&(n===r("WAWebInteractiveMessagesNativeFlowName").ORDER_DETAILS||n===r("WAWebInteractiveMessagesNativeFlowName").ORDER_STATUS||n===r("WAWebInteractiveMessagesNativeFlowName").PAYMENT_METHOD||n===r("WAWebInteractiveMessagesNativeFlowName").PAYMENT_STATUS||n===r("WAWebInteractiveMessagesNativeFlowName").PAYMENT_INFO)}function s(e){var t=e.ephemeralDisplayedExemptions,n=e.ephemeralDuration,r=e.id;return r!=null&&n!==0&&n!=null&&o("WAWebDBEphemeralDisplayedExemptions").EphemeralExemptionType.ORDERS_AND_PAYMENTS!==t}function u(e){var t=e.ephemeralDisplayedExemptions,n=e.ephemeralDuration,r=e.id;return r!=null&&(n===0||n==null)&&o("WAWebDBEphemeralDisplayedExemptions").EphemeralExemptionType.ORDERS_AND_PAYMENTS===t}l.isMessageTypeExemptedFromDisappearing=e,l.shouldShowOrderExemptionSystemMessage=s,l.shouldUnsetChatEphemeralDisplayedExemption=u}),98);
__d("WAWebOrderSystemMsg",["WAWebContactSystemMsg","WAWebMsgType"],(function(t,n,r,o,a,i,l){function e(e){return o("WAWebContactSystemMsg").genNotificationMsg(e,{type:"notification_template",kind:o("WAWebMsgType").MsgKind.NotificationTemplate,subtype:"order_ephemeral_exemption",templateParams:[]})}l.getOrderEphemeralExemptionSystemMsg=e}),98);
__d("WAWebPreProcessOrderEphemeralExemption",["WAWebBizGatingUtils","WAWebDBChatEphemeralExemptionData","WAWebDBEphemeralDisplayedExemptions","WAWebOrderEphemeralExemptionUtil","WAWebOrderSystemMsg","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n;if(!o("WAWebBizGatingUtils").inOrderMessagesEphemeralExceptionEnabled())return e;var r=e.findIndex(function(e){var t=e.interactiveType,n=e.nativeFlowName,r=e.type;return o("WAWebOrderEphemeralExemptionUtil").isMessageTypeExemptedFromDisappearing(r,t,n)});if(r===-1||((t=e.at(r))==null||(t=t.id)==null?void 0:t.remote)==null)return e;var a=(n=e.at(r))==null||(n=n.id)==null?void 0:n.remote;if(a==null)return e;var i=yield o("WAWebDBChatEphemeralExemptionData").getChatEphemeralExemptionDataFromChat(a);if(i!=null&&o("WAWebOrderEphemeralExemptionUtil").shouldShowOrderExemptionSystemMessage(i)){var l;o("WAWebDBChatEphemeralExemptionData").persistsEphemeralDisplayedExemptions(a,(l=i.ephemeralDuration)!=null?l:0,o("WAWebDBEphemeralDisplayedExemptions").EphemeralExemptionType.ORDERS_AND_PAYMENTS);var s=e.slice(0,r),u=o("WAWebOrderSystemMsg").getOrderEphemeralExemptionSystemMsg(a),c=e.slice(r,e.length);return[].concat(s,[u],c)}else if(i!=null&&o("WAWebOrderEphemeralExemptionUtil").shouldUnsetChatEphemeralDisplayedExemption(i)){var d;o("WAWebDBChatEphemeralExemptionData").persistsEphemeralDisplayedExemptions(a,(d=i.ephemeralDuration)!=null?d:0,o("WAWebDBEphemeralDisplayedExemptions").EphemeralExemptionType.UNSET)}return e}),s.apply(this,arguments)}l.preProcessOrderEphemeralExemption=e}),98);
__d("WAWebStatusContactUtils",["WALogger","WAWebBackendApi","WAWebBackendEventBus","WAWebLidAwareContactsDB","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UserPrefsStatus: staring to getStatusContacts"]))),o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd){var t=yield o("WAWebBackendApi").frontendSendAndReceive("getFilteredContacts",{showMe:!1,showWithoutName:!1});return t.map(function(e){return e.id})}var n=o("WAWebUsernameGatingUtils").onlyShowLidContacts(),a=yield r("WAWebLidAwareContactsDB").equalsPrimaryKeys(["isAddressBookContact"],1);return a.map(function(e){return o("WAWebWidFactory").createWid(e)}).filter(function(e){return n?e.isLid():!e.isLid()})}),u.apply(this,arguments)}l.getStatusContacts=s}),98);
__d("WAWebUserPrefsStatusType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({Contact:"contact",AllowList:"allow-list",DenyList:"deny-list"});i.StatusPrivacySettingType=e}),66);
__d("WAWebUserPrefsStatus",["WALogger","WAWebApiContact","WAWebModelStorageUtils","WAWebSendMsgCommonApi","WAWebStatusContactUtils","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebUserPrefsStatusType","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e){var t=e.list,n=e.setting;if(n===o("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact)return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_PRIVACY_SETTING,n);var r=c({setting:n,allowList:n===o("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList?t:void 0,denyList:n===o("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList?t:void 0});return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.bulkSetItemsToIndexedDB(r)}function c(e){var t=[],n=e.allowList,r=e.denyList,a=e.setting;return a!=null&&t.push({key:o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_PRIVACY_SETTING,value:a}),n!=null&&t.push({key:o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_ALLOW_LIST,value:Array.from(new Set(n.map(function(e){return String(o("WAWebWidFactory").asUserWidOrThrow(e))})))}),r!=null&&t.push({key:o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_DENY_LIST,value:Array.from(new Set(r.map(function(e){return String(o("WAWebWidFactory").asUserWidOrThrow(e))})))}),t}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_PRIVACY_SETTING)||o("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact}),m.apply(this,arguments)}function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["UserPrefsStatus: staring to getStatusAllowList"])));var t=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_ALLOW_LIST);return t!=null?t.map(o("WAWebWidFactory").createWid):[]}),_.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["UserPrefsStatus: staring to getStatusDenyList"])));var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_DENY_LIST);return e!=null?e.map(o("WAWebWidFactory").createWid):[]}),g.apply(this,arguments)}function h(){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("WAWebModelStorageUtils").getStorage().lock(["user-prefs","contact"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield d(),t;switch(e){case o("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList:return{setting:o("WAWebUserPrefsStatusType").StatusPrivacySettingType.AllowList,list:yield p()};case o("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList:return t=new Set((yield f()).map(String)),{setting:o("WAWebUserPrefsStatusType").StatusPrivacySettingType.DenyList,list:(yield o("WAWebStatusContactUtils").getStatusContacts()).filter(function(e){var n=e.isUser()?o("WAWebApiContact").getAlternateUserWid(o("WAWebWidFactory").asUserWidOrThrow(e)):null,r=t.has(e.toString()),a=n==null?!1:t.has(n.toString());return!r&&!a})};case o("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact:return{setting:o("WAWebUserPrefsStatusType").StatusPrivacySettingType.Contact,list:yield o("WAWebStatusContactUtils").getStatusContacts()}}}))}),y.apply(this,arguments)}function C(){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("WAWebModelStorageUtils").getStorage().lock(["user-prefs"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield d(),t=yield p(),n=yield f();return{setting:e,allowList:t,denyList:n}}))}),b.apply(this,arguments)}function v(){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_SENDER_KEY);return e||{rotateKey:!1,senderKey:new Set}}),S.apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebModelStorageUtils").getStorage().lock(["user-prefs"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield v(),n=t.rotateKey?new Set:t.senderKey;e.forEach(function(e){n.add(String(e))}),yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_SENDER_KEY,{rotateKey:!1,senderKey:n})}))}),L.apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebModelStorageUtils").getStorage().lock(["user-prefs"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield v();if(!t.rotateKey){var n=e.some(function(e){return t.senderKey.has(String(e))});n&&(yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_SENDER_KEY,{rotateKey:!0,senderKey:new Set}))}}))}),k.apply(this,arguments)}function I(e){return T.apply(this,arguments)}function T(){return T=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return o("WAWebModelStorageUtils").getStorage().lock(["user-prefs"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield v();e.forEach(function(e){if(t.senderKey.delete(String(e)),e.isUser()){var n=o("WAWebApiContact").getAlternateUserWid(o("WAWebWidFactory").asUserWidOrThrow(e));n!=null&&t.senderKey.delete(String(n))}}),yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_SENDER_KEY,{rotateKey:t.rotateKey,senderKey:t.senderKey})}))}),T.apply(this,arguments)}function D(e){return x.apply(this,arguments)}function x(){return x=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield v();if(t.rotateKey||t.senderKey.size===0)return{rotateKey:t.rotateKey,skDistribList:e,participantList:[]};var n=[],r=[],a=0;return e.forEach(function(e){t.senderKey.has(String(e))?(o("WAWebSendMsgCommonApi").isPrimaryDevice(e)&&n.push(e),a++):o("WAWebUserPrefsMeUser").isMeDevice(e)||r.push(e)}),a<t.senderKey.size?(yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebUserPrefsKeys").BACKEND_ONLY_KEYS.STATUS_SENDER_KEY,{rotateKey:!0,senderKey:new Set}),{rotateKey:!0,skDistribList:e,participantList:[]}):{rotateKey:t.rotateKey,skDistribList:r,participantList:n}}),x.apply(this,arguments)}var $={setStatusPrivacyConfig:u,calculateStatusPrivacyUpdateEntries:c,getStatusPrivacySetting:d,getStatusAllowList:p,getStatusDenyList:f,getStatusSenderKeyMap:v,getStatusSkDistribList:D,markStatusHasSenderKey:R,getStatusContacts:o("WAWebStatusContactUtils").getStatusContacts,getStatusList:h,getStatusPrivacySettingConfig:C,markForgetStatusSenderKey:I,markStatusSenderKeyRotate:E};l.default=$}),98);
__d("WAWebStatusDBMessageInfo",["Promise","WABatcher","WALogger","WAPromiseMap","WAWebApiMessageInfoStore","WAWebLidStatusMigrationUtils","WAWebUserPrefsStatus","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m={delayMs:5e3},p=o("WABatcher").createSimpleBatcher(m,function(e){return _(e)});function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[updatePeerStatusReceiptInfoInBatch] processing "," records"])),t.length);var a,i,l,c,m=yield o("WAPromiseMap").promiseMap(t,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msgKey,o=e.setting;switch(o){case"denylist":return a==null&&(a=r("WAWebUserPrefsStatus").getStatusDenyList().then(function(e){return new Set(e.map(String))})),i==null&&(i=r("WAWebUserPrefsStatus").getStatusContacts()),{msgKey:t,receiverIds:yield(d||(d=n("Promise"))).all([i,a]).then(function(e){var t=e[0],n=e[1];return t.filter(function(e){return!n.has(e.toString())})})};case"allowlist":return l==null&&(l=r("WAWebUserPrefsStatus").getStatusAllowList()),{msgKey:t,receiverIds:yield l};case"contacts":return i==null&&(i=r("WAWebUserPrefsStatus").getStatusContacts()),{msgKey:t,receiverIds:yield i};default:return c==null&&(c=r("WAWebUserPrefsStatus").getStatusList()),{msgKey:t,receiverIds:(yield c).list}}});return function(t){return e.apply(this,arguments)}})()),p=[];return m.forEach(function(e){e.receiverIds.forEach(function(t){p.push({msgKey:e.msgKey,receiverId:o("WAWebLidStatusMigrationUtils").matWidConvert(t)})})}),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[updatePeerStatusReceiptInfoInBatch] updating "," records"])),p.length),yield o("WAWebApiMessageInfoStore").createOrMergeReceiptRecords(p),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[updatePeerStatusReceiptInfoInBatch] updated "," records"])),p.length),t.map(function(){})}),f.apply(this,arguments)}function g(e,t,n){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["updatePeerStatusReceiptInfo: adding ",", setting ",", offline ",""])),e.id,n,t);var r=p.accept({msgKey:e,setting:n});return t||p.runActiveBatch(),r}),h.apply(this,arguments)}var y={updatePeerStatusReceiptInfo:g};l.default=y}),98);
__d("WAWebMessageProcessRenderable",["Promise","WALogger","WAWebApiFilterAndReplaceMessages","WAWebBackendEventBus","WAWebBotGating","WAWebBotGroupGatingUtils","WAWebBotIncomingInvokeSystemMsg","WAWebBotUtils","WAWebCurrentUser","WAWebGetPrivacyModeWhenSent","WAWebHandleBizBotMsgs","WAWebHandleMsgTypes.flow","WAWebHandleMsgValidate","WAWebHandlePrivacyModeChange","WAWebHandleSingleMsg","WAWebMaybeUpdateMessageThreadDetails","WAWebMessageAssociation.flow","WAWebMessagePostprocessRenderable","WAWebMessageProcessDBPipeline","WAWebMessagingGatingUtils","WAWebMsgGetters","WAWebMsgKey","WAWebMsmsgMsgSecretCache","WAWebOfflineHandler","WAWebOfflineResumeMsgProcessReporter","WAWebOfflineResumeTypes.flow","WAWebPreProcessOrderEphemeralExemption","WAWebSagaSystemMsg","WAWebStatusDBMessageInfo","WAWebWamEnumPlaceholderPopulationType","WAWebWid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(t,n){var a=r("WAWebMsgKey").from({fromMe:t.fromMe,id:t.id,participant:t.participant,remote:n});return o("WAWebCurrentUser").isEmployee()&&o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processRenderableMessagesForLid: override msgKey: "," --> ",""])),t.toString(),a.toString()),a}function d(e,t,n){return e==null||!t.isRegularUser()?n:n.map(function(e){return o("WAWebMessageAssociation.flow").isAssociatedMsg(e)?babelHelpers.extends({},e,{parentMsgKey:c(e.parentMsgKey,t)}):e})}function m(e,t,n,r){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=d(t.preMatChat,t.chat,e),l=yield o("WAWebGetPrivacyModeWhenSent").getPrivacyModeWhenSent(t,n),s=g(a);s!=null&&(i=i.map(function(e){return babelHelpers.extends({},e,{placeholderPopulationType:s})})),i=l==null?i:i.map(function(e){return babelHelpers.extends({},e,{privacyModeWhenSent:l})});var u=t.addressingMode;return i=u==null?i:i.map(function(e){return babelHelpers.extends({},e,{groupAddressingMode:u})}),i=yield o("WAWebPreProcessOrderEphemeralExemption").preProcessOrderEphemeralExemption(i),i=i.map(function(e){var t,n=e.messageSecret!=null?(t=e.mentionedJidList)==null?void 0:t.find(function(e){return e&&r("WAWebWid").isWid(e)&&e.isBot()}):null;return n!=null?babelHelpers.extends({},e,{invokedBotWid:n}):e}),i=yield o("WAWebMaybeUpdateMessageThreadDetails").maybeUpdateMessageThreadDetails(i),o("WAWebApiFilterAndReplaceMessages").filterAndReplaceMessages(i)}),p.apply(this,arguments)}function _(e,t,n,r,o,a,i){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a,i,l,c,d){if(e.length!==0){try{var p,_,f,g=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.PreProcessing),h=t.chat,y=t.offline!=null&&!d,C="online";d?C="reparsing":y&&(C="offline");var b=yield m(e,t,i,c),v=b.newMsgs;if(g==null||g(),o("WAWebMessagingGatingUtils").isWebReportingTokenDelayProcessingEnabled()){var S=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.ProcessReportingTokenInfo);yield o("WAWebHandleMsgValidate").validateAndProcessReportingTokenInfo({renderableMsgs:v}),S==null||S()}var R=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.Processing);v.forEach(function(e){e.id.fromMe&&o("WAWebMsgGetters").getIsStatus(e)&&r("WAWebStatusDBMessageInfo").updatePeerStatusReceiptInfo(e.id,y,t.statusSetting)});var L=null;if(v.forEach(function(e){var t,n,a,i=e.messageSecret,l=!!(i&&((t=e.id.remote)!=null&&t.isBot())),s=(n=(a=e.invokedBotWid)==null?void 0:a.isBot())!=null?n:!1,u=e.botGroupParticipant,c=o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()&&u instanceof r("WAWebWid")&&u.equals(o("WAWebBotUtils").META_BOT_FBID_WID),d=o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled()&&u instanceof r("WAWebWid")&&u.equals(o("WAWebBotUtils").META_BOT_TEE_FBID_WID);i&&(l||s||c||d)&&e.isForwarded!==!0&&(s&&(L=e),o("WAWebMsmsgMsgSecretCache").msmsgMsgSecretCache.addMsmsgMsgSecretToCache(e.id.toString(),i)),(c||d)&&u!=null&&o("WAWebMsmsgMsgSecretCache").msmsgBotGroupGossipDataCache.addMsmsgBotGroupGossipDataToCache(e.id.toString(),u)}),L!=null){var E=yield o("WAWebBotIncomingInvokeSystemMsg").createSysMsgForIncomingBotInvoke(L);E&&v.unshift(E)}if(o("WAWebBotGating").isBotEnabled()){var k=v.filter(function(e){return!!e.bizBotType&&!o("WAWebMsgGetters").getIsCAPISupport(e)});if(k.length){var I=yield o("WAWebHandleBizBotMsgs").handleBizBotMsgs(k);v.unshift.apply(v,I)}}var T;if(h.isUser()&&(T=yield o("WAWebHandlePrivacyModeChange").handlePrivacyModeChangeAndCreateChat({msgs:v,chatWid:h,bizInfo:i,msgMeta:l,msgInfo:t})),r("WAWebWid").isCAPISupportAccount(h)){var D=v.some(function(e){return e.shouldShowSupportAISystemMessage===!0});D===!0&&(yield o("WAWebHandleSingleMsg").handleSingleMsg({chatId:h,newMsg:o("WAWebSagaSystemMsg").genSagaInitSystemMsg(h),handleSingleMsgOrigin:"supportSagaInit"}))}var x={msgInfo:t,messageOverwriteOption:c,msgs:v,isOffline:y,latestPrivacyMode:(p=T)==null?void 0:p.latestPrivacyMode,shouldQueryContactInfo:(_=(f=T)==null?void 0:f.shouldQueryContactInfo)!=null?_:!1},$=o("WAWebMessageProcessDBPipeline").processMsgDataDBPipeline(v,!y);if(o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd||d){R==null||R(),o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd&&(yield $);var P=o("WAWebMessagePostprocessRenderable").postprocessRenderableMessages(x);if(y&&o("WAWebOfflineHandler").OfflineMessageHandler.getResumeType()===o("WAWebOfflineResumeTypes.flow").ResumeType.NonBlocking)return;yield P;return}}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["processRenderableMessage: msgId:",", failed with error: ",""])),t.externalId,e).tags("messaging").sendLogs("handle_msg: error storing/processing single message")}return(u||(u=n("Promise"))).resolve()}}),f.apply(this,arguments)}function g(e){return e===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE||e===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.FUTURE_PROOF||e===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.VOIP_CALL_LOG?null:e===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.RETRY?o("WAWebWamEnumPlaceholderPopulationType").PLACEHOLDER_POPULATION_TYPE.RETRY:e===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.PEER_RETRY?o("WAWebWamEnumPlaceholderPopulationType").PLACEHOLDER_POPULATION_TYPE.PEER_MESSAGE:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}l.overrideParentKeyForAssociations=d,l.processRenderableMessages=_}),98);
__d("WAWebMessageSecretLocationUtils",["$InternalEnum","WALogger","WAWebMessagingGatingUtils","WAWebVerifyProtobufMsgObjectKeys"],(function(t,n,r,o,a,i,l){var e,s,u=n("$InternalEnum")({Sender:"sender",Receiver:"receiver"}),c=new Set(["deviceSentMessage","$$unknownFieldCount"]),d=10;function m(e){var t=e.messageContextInfo;return t!=null?t.messageSecret!=null:!1}function p(t,n,r){if(n===void 0&&(n=0),r===void 0&&(r=""),n>=d)return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["messageSecret location check exceeded max depth: path:",""])),r).tags("messaging","wa-ice","message-secret-location").sendLogs("message-secret-location-max-depth"),null;if(m(t)&&n>0)return{violationPath:r||"unknown"};for(var a of Object.keys(t))if(!c.has(a)&&a!=="messageContextInfo"){var i=o("WAWebVerifyProtobufMsgObjectKeys").getWrappedMessage(t[a]);if(i!=null){var l=r?r+"."+a:a,s=p(i,n+1,l);if(s!=null)return s}}return null}function _(e,t){if(o("WAWebMessagingGatingUtils").isTopLevelMessageSecretCheckEnabled()){var n=p(e);if(n!=null){var r=t===u.Sender?"sender":t===u.Receiver?"receiver":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+t)})(),a="message-secret-location-violation-"+r;o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["messageSecret location violation on ",": path:",""])),r,n.violationPath).tags("messaging","wa-ice","message-secret-location").sendLogs(a)}}}l.MessageSecretCheckContext=u,l.findMessageSecretViolation=p,l.verifyTopLevelMessageSecret=_}),98);
__d("WAWebParsedProtocolMsgType",[],(function(t,n,r,o,a,i){var e=Object.freeze({HISTORY:"history",APP_STATE_SYNC_KEY_SHARE:"appStateSyncKeyShare",APP_STATE_SYNC_KEY_REQUEST:"appStateSyncKeyRequest",PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:"peerDataOperationRequestResponseMessage",PEER_DATA_OPERATION_REQUEST_MESSAGE:"peerDataOperationRequestMessage"});i.PARSED_PROTOCOL_MESSAGE_TYPE=e}),66);
__d("WAWebHandleMsgProcess",["Promise","WACryptoPkcs7","WALogger","WAWebABProps","WAWebAddonGatingUtils","WAWebAddonProcessMsgsUtils","WAWebApiDeferredMessagesStorage","WAWebBackendApi","WAWebBackendEventBus","WAWebBackendJobs.flow","WAWebBizCoexGatingUtils","WAWebCurrentUser","WAWebDBMsgUtils","WAWebGalaxyFlowsUtils","WAWebGetGroupAddressingMode","WAWebGetMessageCache","WAWebHandleCloudApiThreadControlNotification","WAWebHandleMsgError","WAWebHandleMsgProcessUtils","WAWebHandleMsgTypes.flow","WAWebHandleMsgValidate","WAWebHandlePushnameUpdate","WAWebLid1X1ThreadAccountMigrations","WAWebLogMissingGroupParticipantMappings","WAWebLogReceivedMessages","WAWebMessageProcessPlaceholder","WAWebMessageProcessRenderable","WAWebMessageSecretLocationUtils","WAWebMessagingGatingUtils","WAWebMsgProcessingApiUtils","WAWebMsgType","WAWebOfflineResumeMsgProcessReporter","WAWebParsedProtocolMsgType","WAWebProtobufsE2E.pb","WAWebRuntimeEnvironmentUtils","WAWebSignal","WAWebUserPrefsMeUser","WAWebUserPrefsNotifications","WAWebVerifyProtobufMsgObjectKeys","WAWebWamEnumDsmError","WAWebWid","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","cr:10197","decodeProtobuf","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b;function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.bizInfo,a=e.decrypted,i=e.e2eInfo,l=e.hsmInfo,s=e.info,u=e.isPadded,c=u===void 0?!0:u,d=e.msgBotInfo,m=e.msgMeta,p=e.paymentInfo,v=e.reparsing,S=v===void 0?!1:v,L=e.reportingTokenInfo,E=i.e2eType===o("WAWebBackendJobs.flow").CiphertextType.Msmsg?!1:c,k=E?o("WACryptoPkcs7").unpadPkcs7(new Uint8Array(a)):new Uint8Array(a),I=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsE2E.pb").MessageSpec,k);o("WAWebVerifyProtobufMsgObjectKeys").verifyProtobufMessageObjectKeys(I),o("WAWebMessageSecretLocationUtils").verifyTopLevelMessageSecret(I,o("WAWebMessageSecretLocationUtils").MessageSecretCheckContext.Receiver);var T=o("WAWebMsgProcessingApiUtils").getFrom(s),D=i.retryCount>0&&o("WAWebMsgProcessingApiUtils").isRevokeInfo(s)||S,P=D?o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.RETRY:o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.NO_OVERWRITE;if(S){o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Reparsing processDecryptedMessageProto: msgId::",", message decrypted:"])),s.externalId).tags("messaging");var N=yield o("WAWebMsgProcessingApiUtils").parseMessage({info:s,ciphertextType:i.e2eType,msgProtobuf:I,paymentInfo:p,bizInfo:t,hsmInfo:l,hidePlaceholder:i.hideFail,processDecryptedProtoParams:e,msgBotInfo:d,meta:m,reportingTokenInfo:L,isMessageRetry:i.retryCount>0,isOffline:s.offline!=null,protobufBytes:k});if(N.renderableMsgs==null)o("WALogger").ERROR(f||(f=babelHelpers.taggedTemplateLiteralLoose(["parsed render able msgs not reparsed as expected"])));else{var M=N.renderableMsgs;o("WAWebHandleMsgValidate").renderableMessagesValidation({renderableMsgs:M,msgMeta:m,info:s,proto:I,bizInfo:t}),o("WAWebMessagingGatingUtils").isWebReportingTokenDelayProcessingEnabled()||(yield o("WAWebHandleMsgValidate").validateAndProcessReportingTokenInfo({renderableMsgs:M}));var w=R({renderableMsgs:M,reparsing:S,bizInfo:t,msgMeta:m,paymentInfo:p,info:s,messageOverwriteOption:P}),A=w.hasInactiveMsg,F=w.tasks;return yield(b||(b=n("Promise"))).all(F),o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["Reparsed processDecryptedMessageProto: msgId::",", message decrypted:"])),s.externalId).tags("messaging"),{hasInactiveMsg:A}}}var O=yield o("WAWebHandleMsgProcessUtils").preProcessMsg(s,I);if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&((O==null?void 0:O.senderOrRecipientAccountTypeHosted)===!0&&(s.senderOrRecipientAccountTypeHosted=!0),(O==null?void 0:O.hostedBizEncMismatch)===!0&&(s.hostedBizEncStateMismatch=!0)),s.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST&&i.retryCount>0){var B=yield o("WAWebDBMsgUtils").getMsgByMsgKey(o("WAWebMsgProcessingApiUtils").messageInfoToKey(s));(B==null?void 0:B.bclParticipants)!=null?s.bclParticipants=B.bclParticipants:(B==null?void 0:B.broadcastParticipants)!=null&&(s.bclParticipants=B.broadcastParticipants.map(function(e){return{wid:o("WAWebWidFactory").asUserWidOrThrow(e)}}))}var W=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.Parsing),q=yield o("WAWebMsgProcessingApiUtils").parseMessage({info:s,ciphertextType:i.e2eType,msgProtobuf:I,paymentInfo:p,bizInfo:t,hsmInfo:l,hidePlaceholder:i.hideFail,processDecryptedProtoParams:e,msgBotInfo:d,meta:m,reportingTokenInfo:L,isMessageRetry:i.retryCount>0,isOffline:s.offline!=null,protobufBytes:k});if(o("WAWebCurrentUser").isEmployee()&&o("WAWebABProps").getABPropConfigValue("wa_web_debug_color_code_retry_messages")){var U;(U=q.renderableMsgs)==null||U.forEach(function(e){i.retryCount>0&&(e.backgroundColor=16711680)})}W==null||W();var V=null;if(q.history?V=o("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.HISTORY:q.appStateSyncKeyShare?V=o("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_SHARE:q.appStateSyncKeyRequest?V=o("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.APP_STATE_SYNC_KEY_REQUEST:q.peerDataOperationRequestResponseMessage?V=o("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_RESPONSE_MESSAGE:q.peerDataOperationRequestMessage&&(V=o("WAWebParsedProtocolMsgType").PARSED_PROTOCOL_MESSAGE_TYPE.PEER_DATA_OPERATION_REQUEST_MESSAGE),o("WAWebRuntimeEnvironmentUtils").isWorker()&&V)yield r("WAWebApiDeferredMessagesStorage").updateDeferredMessages([{id:s.externalId,type:V,plaintext:k,info:s,paymentInfo:p,bizInfo:t}]);else if(q.history)o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("handleHistorySyncNotification",{historySyncMetaData:q.history,from:T,externalId:s.externalId});else if(q.appStateSyncKeyShare)yield o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("handleAppStateSyncKeyShare",{keyShare:q.appStateSyncKeyShare,from:T});else if(q.appStateSyncKeyRequest)o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("handleAppStateSyncKeyRequest",{keyRequest:q.appStateSyncKeyRequest,from:T});else if(q.peerDataOperationRequestResponseMessage)o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("handlePeerDataOperationRequestResponse",{stanzaId:s.externalId,response:q.peerDataOperationRequestResponseMessage});else if(q.peerDataOperationRequestMessage)o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("handlePeerDataOperationRequest",{stanzaId:s.externalId,request:q.peerDataOperationRequestMessage});else if(q.securityNotificationEnabled)o("WAWebUserPrefsMeUser").getMaybeMeDevicePn()==null?o("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Me wid is empty during security notification parsing"]))).sendLogs("Me wid is empty during security notification parsing"):T==null||!(T instanceof r("WAWebWid"))?o("WALogger").ERROR(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Handle security notification empty wid error"]))).sendLogs("Handle security notification empty wid error"):o("WAWebUserPrefsMeUser").isMePrimaryNonLid(T)?o("WAWebUserPrefsNotifications").setGlobalSecurityNotifications(q.securityNotificationEnabled.isEnabled):o("WALogger").ERROR(C||(C=babelHelpers.taggedTemplateLiteralLoose(["Handle security notification payload wid error"]))).sendLogs("Handle security notification payload wid error");else if(q.cloudApiThreadControlNotification)r("WAWebHandleCloudApiThreadControlNotification")(q.cloudApiThreadControlNotification);else if(q.lidMigrationSyncMessage!=null){var H;yield o("WAWebLid1X1ThreadAccountMigrations").setLidMigrationMappings((H=q.lidMigrationSyncMessage)==null?void 0:H.encodedMappingPayload)}else{var G=!1;if(q.deviceSent==null?G=!0:q.deviceSent.phash?G=yield o("WAWebHandleMsgValidate").validateBclHash(q.deviceSent.phash,q.deviceSent.info):q.deviceSent.destination&&(G=yield o("WAWebHandleMsgValidate").validateMsgDestination(q.deviceSent.destination,s)),!G)throw new(o("WAWebHandleMsgError")).DeviceSentMessageError(o("WAWebMsgProcessingApiUtils").getDeviceType(s.author),o("WAWebWamEnumDsmError").DSM_ERROR.INVALID_DSM);var z=q.renderableMsgs;if(o("WAWebHandleMsgValidate").renderableMessagesValidation({renderableMsgs:z,msgMeta:m,info:s,proto:I,bizInfo:t}),!o("WAWebMessagingGatingUtils").isWebReportingTokenDelayProcessingEnabled()){var j=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.ProcessReportingTokenInfo);yield o("WAWebHandleMsgValidate").validateAndProcessReportingTokenInfo({renderableMsgs:z}),j==null||j()}var K=yield o("WAWebGalaxyFlowsUtils").maybeAddGalaxyFlowMessageIds(z),Q=q.storeMsg!=null?[q.storeMsg].concat(K):K,X=R({renderableMsgs:Q,reparsing:S,bizInfo:t,msgMeta:m,paymentInfo:p,info:s,messageOverwriteOption:P}),Y=X.hasInactiveMsg,J=X.tasks,Z=q.senderKey;Z!=null&&J.push(o("WAWebSignal").Session.createGroupSignalSession(s.author,Z.groupId,Z.key)),r("isStringNullOrEmpty")(s.pushname)||o("WAWebHandlePushnameUpdate").updatePushname(s.author,s.pushname,s.offline!=null);var ee=x(s.chat);yield(b||(b=n("Promise"))).all(J);var te=yield ee;return o("WAWebLogMissingGroupParticipantMappings").logMissingGroupParticipantMappings(s.chat,s.author,s.addressingMode,te),o("WAWebLogReceivedMessages").logReceivedMessagesInWAM({msgs:K,offline:$(s.offline),tsMillis:s.ts*1e3,clientReceivedTsMillis:s.clientReceivedTsMillis,msgProcessStartTsMillis:s.msgProcessStartTsMillis,serverAddressingMode:s.addressingMode,localAddressingMode:te}),{hasInactiveMsg:Y}}return{hasInactiveMsg:!1}}),S.apply(this,arguments)}function R(t){var n,r,a,i,l,_=t.bizInfo,f=t.info,g=t.messageOverwriteOption,h=t.msgMeta,y=t.paymentInfo,C=t.renderableMsgs,b=t.reparsing,v=[],S=!1,R=C[0],E=o("WAWebAddonGatingUtils").isUnifiedInfraEnabledForType(R==null?void 0:R.type)?o("WAWebAddonProcessMsgsUtils").castToAddonMsgData(R):null;return E!=null?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: addon"]))),S=!0,v.push(T(E,f,b,g))):R!=null&&R.kind===o("WAWebMsgType").MsgKind.PollVoteEncrypted?(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: pollVote"]))),v.push(k(R,f,b))):((n=C[0])==null?void 0:n.type)===o("WAWebMsgType").MSG_TYPE.KEEP_IN_CHAT?(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: keepInChat"]))),S=!0,v.push(o("WAWebHandleMsgProcessUtils").processKeepInChatMsg(C[0],f,b))):((r=C[0])==null?void 0:r.type)===o("WAWebMsgType").MSG_TYPE.PROTOCOL&&((a=C[0])==null?void 0:a.subtype)==="message_edit"?(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: messageEdit"]))),v.push(o("WAWebHandleMsgProcessUtils").processEditProtocolMsg(C[0],f,b))):((i=C[0])==null?void 0:i.type)===o("WAWebMsgType").MSG_TYPE.PROTOCOL&&((l=C[0])==null?void 0:l.subtype)==="ephemeral_sync_response"?(o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: ephemeralSyncResponse"]))),v.push(o("WAWebHandleMsgProcessUtils").processEphemeralSyncResponseMsg({msg:C[0],msgInfo:f,reparsing:b}))):C.length>0&&((R==null?void 0:R.type)===o("WAWebMsgType").MSG_TYPE.PROTOCOL&&(R==null?void 0:R.subtype)==="member_label"?(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: memberLabel"]))),S=!0):(R==null?void 0:R.type)===o("WAWebMsgType").MSG_TYPE.MESSAGE_HISTORY_BUNDLE||(R==null?void 0:R.type)===o("WAWebMsgType").MSG_TYPE.MESSAGE_HISTORY_NOTICE?S=!0:o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["processMsgs: renderableMsgs"]))),v.push(L(C,f,y,_,h,g,b))),{tasks:v,hasInactiveMsg:S}}function L(e,t,n,r,a,i,l){return o("WAWebMessageProcessRenderable").processRenderableMessages(e,t,n,r,a,i,l)}function E(e){return o("WAWebMessageProcessPlaceholder").processPlaceholderMessage(e)}function k(e,t,n){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=t.offline!=null&&!n,a=e,i=o("WAWebGetMessageCache").getMessageCache().addMessages([{msg:a}],!r);(n||o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd&&o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd)&&(yield i)}),I.apply(this,arguments)}function T(e,t,n,r){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=t.offline!=null&&!n,i=e,l=o("WAWebGetMessageCache").getMessageCache().addMessages([{msg:i}],!a);(n||o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd&&o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd)&&(yield l),r===o("WAWebHandleMsgTypes.flow").MessageOverwriteOption.RETRY&&o("WAWebBackendApi").frontendFireAndForget("removePlaceholder",{msg:e})}),D.apply(this,arguments)}function x(e){return o("WAWebGetGroupAddressingMode").getGroupAddressingMode(e)}function $(e){var t=parseInt(e,10);return Number.isNaN(t)?null:t}l.processDecryptedMessageProto=v,l.processMsgs=R,l.processRenderableMsg=L,l.processPlaceholderMsg=E}),98);
__d("WAWebMessageHighRetryCountWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumE2eDeviceType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumSizeBucket"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({MessageHighRetryCount:[3132,{deviceSizeBucket:[5,o("WAWebWamEnumSizeBucket").SIZE_BUCKET],e2eSenderType:[3,o("WAWebWamEnumE2eDeviceType").E2E_DEVICE_TYPE],invisibleMessageCategory:[6,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isPq:[9,e.TYPES.BOOLEAN],isReceiverLidBased:[7,e.TYPES.BOOLEAN],isSenderLidBased:[8,e.TYPES.BOOLEAN],mediaType:[1,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[4,o("WAWebWamEnumMessageType").MESSAGE_TYPE],retryCount:[2,e.TYPES.INTEGER]},[1,20,20],"regular"]},{MessageHighRetryCount:[]});l.MessageHighRetryCountWamEvent=s}),98);
__d("WAWebPostMessageHighRetryCountMetric",["WAWebMessageHighRetryCountWamEvent","WAWebMessagingGatingUtils","WAWebWamGroupMetricCache","WAWebWamMsgUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e=5;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(!(t<e)){var r=new(o("WAWebMessageHighRetryCountWamEvent")).MessageHighRetryCountWamEvent({retryCount:t,messageType:o("WAWebWamMsgUtils").getMessageTypeFromMsgInfoType(n.type)}),a=o("WAWebWamMsgUtils").getWamE2eSenderType(n.author);a!=null&&(r.e2eSenderType=a);var i=n.chat;if(i!=null&&i.isGroup()){var l=yield o("WAWebWamGroupMetricCache").getGroupMetrics(i);(l==null?void 0:l.deviceSizeBucket)!=null&&(r.deviceSizeBucket=l.deviceSizeBucket),(l==null?void 0:l.participantCount)!=null&&l.participantCount>o("WAWebMessagingGatingUtils").getGroupSizeBypassingSampling()&&(r.weight=0)}r.commit()}}),u.apply(this,arguments)}l.MAX_RETRY=e,l.maybePostMessageHighRetryCountMetric=s}),98);
__d("WAWebSendDeliveryReceiptJob",["WADeprecatedSendIq","WAJids","WAWap","WAWebCommsWapMd","WAWebOnlineDanglingReceipts","WAWebSendReceiptJobCommon","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e,t,n,r,o,a){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a,i){var l=t.isUser()&&o("WAWebUserPrefsMeUser").isMeAccount(t)||r!=null&&o("WAWebUserPrefsMeUser").isMeAccount(r),s=i.hasInactiveMsg===!0&&!l,c=!s;u(e,t,n,r,c,l,a)}),s.apply(this,arguments)}function u(e,t,n,r,o,a,i){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a,i,l){var s=o("WAWap").DROP_ATTR;l?s=o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.PEER_MSG:i?(s=o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.SENDER,n&&o("WAWebSendReceiptJobCommon").logMixedSenderReceipt(n,t)):a||(s=o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.INACTIVE);var u=o("WAJids").extractJidFromJidWithType(o("WAWebWidToJid").widToJidWithType(t)),c=o("WAWap").wap("receipt",{id:o("WAWap").CUSTOM_STRING(e),to:o("WAWap").JID(u),participant:(t.isGroup()||t.isBroadcast())&&r?o("WAWebCommsWapMd").DEVICE_JID(r):o("WAWap").DROP_ATTR,recipient:!l&&i&&n?o("WAWebCommsWapMd").USER_JID(n):o("WAWap").DROP_ATTR,type:s});o("WAWebOnlineDanglingReceipts").addOnlineDanglingReceipts(t,r||t,e),o("WADeprecatedSendIq").deprecatedCastStanza(c)}),c.apply(this,arguments)}l.sendDeliveryReceiptsAfterDecryption=e}),98);
__d("WAWebSendRetryReceiptJob",["$InternalEnum","Promise","WADeprecatedSendIq","WALogger","WAWap","WAWebAdvSignatureApi","WAWebCommsAckParser","WAWebCommsWapMd","WAWebConstantsDeprecated","WAWebCryptoCurve25519","WAWebEphemeralDecodeBroadcastSetting","WAWebHandleMsgError","WAWebSignalCommonErrors","WAWebSignalKeyApi","WAWebSignalProtocolStore","WAWebSignalStoreApi","WAWebSignalUtilsApi","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","cr:10198","cr:4533","err","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d=2,m=n("$InternalEnum")({UnknownError:0,SignalErrorNoSession:1,SignalErrorInvalidKey:2,SignalErrorInvalidKeyId:3,SignalErrorInvalidMessage:4,SignalErrorInvalidSignature:5,SignalErrorFutureMessage:6,SignalErrorBadMac:7,SignalErrorInvalidSession:8,SignalErrorInvalidMsgKey:9,BadBroadcastEphemeralSetting:10,UnknownCompanionNoPrekey:11,AdvFailure:12,StatusRevokeDelay:13});function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.externalId,i=t.isPeer,l=i===void 0?!1:i,u=t.participant,d=t.rawTs,m=t.recipient,p=t.retryCount,_=t.retryReason,g=t.to;if(r("gkx")("26258")||n("cr:10198")==null||n("cr:10198").injectDebug(g,"RetryReceiptSent","externalId:"+a),!r("gkx")("26258")){var h=n("cr:4533")==null?void 0:n("cr:4533").getDebugDoNotSendRetryReceipt();if(h!=null&&h>0)return n("cr:4533")==null||n("cr:4533").setDebugDoNotSendRetryReceipt(h-1),(c||(c=n("Promise"))).resolve()}try{var y=o("WAWebSignalProtocolStore").getSignalProtocolStore(),C=yield(c||(c=n("Promise"))).all([y.getLocalRegistrationId(),y.getIdentityKeyPair()]),b=C[0],v=C[1];if(b==null||v==null)throw r("err")("No registration info found");var S;try{S=yield f(p,o("WAWebCryptoCurve25519").toCurveKeyPair(v))}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error: ",""])),t).sendLogs("sendRetryReceipt: error while creating key section in retry receipt")}var R=!g.isBot()&&!!(u!=null&&u.isBot());if(R)return;var L=o("WAWap").DROP_ATTR,E=o("WAWap").DROP_ATTR,k=o("WAWap").DROP_ATTR,I;if(g.isUser()){if(I=o("WAWebCommsWapMd").DEVICE_JID(g),o("WAWebUserPrefsMeUser").isMeAccount(o("WAWebWidFactory").asUserWidOrThrow(g)))if(l)L="peer";else if(m)E=o("WAWebCommsWapMd").USER_JID(m);else return(c||(c=n("Promise"))).reject(r("err")("sendRetryReceipt: send retry to peer device without recipient"))}else I=o("WAWebCommsWapMd").CHAT_JID(g),k=u?o("WAWebCommsWapMd").DEVICE_JID(u):o("WAWap").DROP_ATTR;var T=o("WAWap").wap("receipt",{id:o("WAWap").CUSTOM_STRING(a),to:I,participant:k,recipient:E,type:"retry",category:L},o("WAWap").wap("retry",{v:"1",count:o("WAWap").INT(p),id:o("WAWap").CUSTOM_STRING(a),t:o("WAWap").CUSTOM_STRING(d),error:_!=null?o("WAWap").INT(_):o("WAWap").DROP_ATTR}),o("WAWap").wap("registration",null,o("WAWap").BIG_ENDIAN_CONTENT(b)),S);return o("WADeprecatedSendIq").deprecatedSendStanzaAndWaitForAck(T,o("WAWebCommsAckParser").toCoreAckTemplate({id:a,class:"receipt",from:g,participant:u,type:"retry"}))}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error: ",""])),e).sendLogs("sendRetryReceipt: error while creating or sending the retry message")}}),_.apply(this,arguments)}function f(e,t){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield h(e,t),r=n[0],a=n[1];return a&&(yield o("WAWebSignalStoreApi").waSignalStore.markKeyAsUploaded(a.keyId),yield o("WAWebSignalStoreApi").waSignalStore.markPreKeyAsDirectDistribution(a.keyId)),r}),g.apply(this,arguments)}function h(e,t){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(e<d)return(c||(c=n("Promise"))).resolve([null,null]);try{var a=yield(c||(c=n("Promise"))).all([o("WAWebSignalStoreApi").waSignalStore.getSignedPreKey(),o("WAWebSignalStoreApi").waSignalStore.getOrGenSinglePreKey(o("WAWebSignalKeyApi").generatePreKeyPair),o("WAWebAdvSignatureApi").getADVEncodedIdentity().then(function(e){return(e==null||e.byteLength===0)&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["getADVEncodedIdentity: sending empty device-identity"]))).sendLogs("sending-retry-response-with-empty-device-identity",{sampling:r("gkx")("26259")?1:.1}),o("WAWap").wap("device-identity",null,e)})]),i=a[0],l=a[1],s=a[2];if(!i)throw r("err")("Signed pre key is not available");var m=o("WAWap").wap("keys",null,o("WAWap").wap("type",null,r("WAWebConstantsDeprecated").KEY_BUNDLE_TYPE),o("WAWap").wap("identity",null,t.pubKey),o("WAWebSignalUtilsApi").xmppPreKey(l),o("WAWebSignalUtilsApi").xmppSignedPreKey(i),s);return[m,l]}catch(e){throw r("err")("Could not create keys section for retry")}}),y.apply(this,arguments)}function C(e){if(e instanceof o("WAWebHandleMsgError").UnknownDeviceMessageError)return m.UnknownCompanionNoPrekey;if(e instanceof o("WAWebSignalCommonErrors").SignalDecryptionError)return e.message==="errSignalNoSession"||e.message==="errLoadSenderKeySession"?m.SignalErrorNoSession:e.message==="errSignalInvalidMsg"?m.SignalErrorInvalidMessage:e.message==="errSignalInvalidKey"?m.SignalErrorInvalidKey:e.message==="errSignalTooManyMessagesInFuture"||e.message==="errSignalGrpTooManyMessagesInFuture"?m.SignalErrorFutureMessage:e.message==="errInvalidMacWithDecryptedPlaintext"||e.message==="errInvalidMacInvalidCipherKey"||e.message==="errInvalidMacInvalidCipherKeyNewChain"?m.SignalErrorBadMac:void 0;if(e instanceof o("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError)return m.BadBroadcastEphemeralSetting}l.RetryReason=m,l.sendRetryReceipt=p,l.getRetryReasonFromError=C}),98);
__d("WAWebHandleMsgSendReceipt",["WALogger","WAWebBizCoexGatingUtils","WAWebCreateNackFromStanza","WAWebHandleMsgCommon","WAWebHandleMsgSendAck","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebPostMessageHighRetryCountMetric","WAWebSendDeliveryReceiptJob","WAWebSendReceiptJobCommon","WAWebSendRetryReceiptJob","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["sendReceipt"])));var i=t.externalId,l=n.rawTs,d=n.type,m=o("WAWebMsgProcessingApiUtils").getFrom(t),p=null;if(t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT&&o("WAWebUserPrefsMeUser").isMeAccount(t.author))if(t.originalBotRecipient!=null)p=t.originalBotRecipient;else{var _;p=(_=t.preMatChat)!=null?_:t.chat}var f=t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT?null:(a=t.preMatChat)!=null?a:t.author,g=t.category===o("WAWebHandleMsgCommon").MSG_CATEGORY.peer,h=!t.chat.isBot()&&t.author.isBot();if(r.result==null)return o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(['sendReceipt: invalid e2eProcessResult "','"'])),r.result).sendLogs("send-receipt-missing-e2e-process-result"),o("WAWebHandleMsgSendAck").sendAck(i,m,d,f);e:{if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS||r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR){if(h){var y,C,b;return t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT?(y=t.author,C=t.chat):(y=t.chat,b=t.author),o("WAWebSendReceiptJobCommon").sendBotInvokeResponseAcks([i],y,C,b)}else if(n.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify)return o("WAWebHandleMsgSendAck").sendAck(i,m,d,f);return o("WAWebSendDeliveryReceiptJob").sendDeliveryReceiptsAfterDecryption(i,m,p,f,g,r)}if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.HSM_MISMATCH){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(['sendReceipt: HSM mismatch, no receipt sent for "','"'])),i).sendLogs("send-receipt-skipping-hsm-mismatch-result");return}if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY){if(m!=null&&m.isHosted()&&!o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled())return o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Drop retry for coex when feature is disabled"]))),o("WAWebHandleMsgSendAck").sendAck(i,m,d,f);var v=r.retryCount==null?1:r.retryCount+1;yield o("WAWebSendRetryReceiptJob").sendRetryReceipt({retryCount:v,to:m,participant:f,recipient:p,externalId:i,rawTs:l,isPeer:g,retryReason:r.retryReason}),o("WAWebPostMessageHighRetryCountMetric").maybePostMessageHighRetryCountMetric(v,t);return}if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.BACKFILL)return o("WAWebHandleMsgSendAck").sendAck(i,m,d,f);if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR)return o("WAWebHandleMsgSendAck").sendNack(i,m,d,f,o("WAWebCreateNackFromStanza").NackReason.InvalidProtobuf,r.e2eFailureReason);if(r.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR)return o("WAWebHandleMsgSendAck").sendNack(i,m,d,f,o("WAWebCreateNackFromStanza").NackReason.ParsingError);throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+r.result)}}),m.apply(this,arguments)}l.sendReceipt=d}),98);
__d("WAWebWamEnumCallStanzaType",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFFER:0,ACCEPT:1,REJECT:2,VIDEO:3,TERMINATE:4,ENC_REKEY:5,RELAYLATENCY:6,TRANSPORT:7,PREACCEPT:8,GROUP_UPDATE:9,MUTE_V2:10,INTERRUPTION:11,FLOWCONTROL:12,NOTIFY:13,OFFER_NOTICE:14,CALL_RELAY:15,MUTE:16,SCREEN_SHARE:17,UNKNOWN:18});i.CALL_STANZA_TYPE=e}),66);
__d("WAWebWamEnumStanzaType",[],(function(t,n,r,o,a,i){var e=Object.freeze({MESSAGE:1,RECEIPT:2,CALL:3,NOTIFICATION:4,APPDATA:5});i.STANZA_TYPE=e}),66);
__d("WAWebOfflineCountTooHighWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumCallStanzaType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumStanzaType"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({OfflineCountTooHigh:[2638,{callStanzaType:[7,o("WAWebWamEnumCallStanzaType").CALL_STANZA_TYPE],encryptionType:[9,o("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],invisibleMessageCategory:[8,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],mediaType:[3,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[4,o("WAWebWamEnumMessageType").MESSAGE_TYPE],notificationStanzaType:[6,e.TYPES.STRING],offlineCount:[2,e.TYPES.INTEGER],receiptStanzaType:[5,e.TYPES.STRING],stanzaType:[1,o("WAWebWamEnumStanzaType").STANZA_TYPE]},[1,1,1],"regular"]},{OfflineCountTooHigh:[]});l.OfflineCountTooHighWamEvent=s}),98);
__d("WAWebMaybePostOfflineCountTooHighMetric",["WALogger","WAWebBackendJobsCommon","WAWebOfflineCountTooHighWamEvent","WAWebWamEnumStanzaType","WAWebWamMsgUtils"],(function(t,n,r,o,a,i,l){var e,s=11;function u(t){var n,r=t.encs,a=t.msgInfo,i=t.msgMeta,l=parseInt(a.offline,10);if(!(Number.isNaN(l)||l<s)){var u=new(o("WAWebOfflineCountTooHighWamEvent")).OfflineCountTooHighWamEvent({offlineCount:l,stanzaType:o("WAWebWamEnumStanzaType").STANZA_TYPE.MESSAGE,mediaType:o("WAWebBackendJobsCommon").getMetricMediaType({encMediaType:(n=r.find(function(e){return e.encMediaType!=null}))==null?void 0:n.encMediaType,msgType:i.type,msgPollType:i.pollType})}),c=o("WAWebWamMsgUtils").getMessageTypeFromMsgInfoType(a.type);c!=null&&(u.messageType=c),u.commitAndWaitForFlush().catch(function(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to post OfflineCountTooHigh metric: ",""])),t).tags("messaging")})}}l.OFFLINE_COUNT_TOO_HIGH_THRESHOLD=s,l.maybePostOfflineCountTooHigh=u}),98);
__d("WAWebMsgProcessingDecryptEnc",["Promise","WAWebBackendJobs.flow","WAWebBotMessageSecret","WAWebMsgProcessingApiUtils","WAWebSignal","err"],(function(t,n,r,o,a,i,l){var e;function s(t,a,i,l){var s=t.ciphertext,u=t.e2eType;return u===o("WAWebBackendJobs.flow").CiphertextType.Skmsg?(function(){return a.isGroup()||a.isBroadcast()?i?o("WAWebSignal").Cipher.decryptGroupSignalProto(a,i,s):(e||(e=n("Promise"))).reject(r("err")("['messaging'] decryptEnc: receive msg from "+a.toString()+" without participant")):(e||(e=n("Promise"))).reject(r("err")("['messaging'] decryptEnc: Can not do skmsg for non group "+a.toString()))})():u===o("WAWebBackendJobs.flow").CiphertextType.Pkmsg||u===o("WAWebBackendJobs.flow").CiphertextType.Msg?(function(){var t=a.isUser()?a:i;if(!t)return(e||(e=n("Promise"))).reject(r("err")("['messaging'] decryptEnc: receive msg from "+a.toString()+" without participant"));var c=o("WAWebMsgProcessingApiUtils").shouldOmitSessionPersistence(u,l);return o("WAWebSignal").Cipher.decryptSignalProto(t,u,s,c)})():u===o("WAWebBackendJobs.flow").CiphertextType.Msmsg?o("WAWebBotMessageSecret").decryptMsmsgBotMessage(s,l):(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+u)})()}l.decryptEnc=s}),98);
__d("WAWebIsOfficialClient",["WALogger","WAWebUA","WAWebWamGlobals","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m=function(){var e=typeof self!="undefined"?self.navigator:null;return!!e.webdriver},p=function(){return!(m()||o("WAWebUA").UA.isChrome&&/HeadlessChrome/.test(window.navigator.userAgent))},_=function(){try{var t=new Error,n=t.stack,a=n.split("\n").filter(function(e){return!!e.trim()}).pop();if(a==null)return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["A caller is not found ",""])),n).tags("uc"),!0;if(!a.includes(".whatsapp.com"))return r("gkx")("26258")?o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""])),a).tags("uc"):o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Caller ",""])),a).tags("uc").sendLogs("Unexpectedly detected UC"),!1}catch(e){o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Cannot analyze UC ",""])),r("getErrorSafe")(e).stack).tags("uc")}return!0},f="webpackChunkwhatsapp_web_client";f in window||(window[f]=[]);var g=window[f];g!=null&&Object.defineProperty(window,f,{get:function(){if(!_())try{o("WAWebWamGlobals").Global.set({ocVersion:0})}catch(e){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Cannot set ocVersion ",""])),r("getErrorSafe")(e).stack).tags("uc")}return g}});var h=p(),y=function(t){return!!t.startsWith("BA")};l.isOfficialClient=h,l.isUnofficialStanzaId=y}),98);
__d("WAWebWamEnumGroupEncryptionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({E2EE:1,HOSTED:2});i.GROUP_ENCRYPTION_TYPE=e}),66);
__d("WAWebWamEnumMessageDistributionEnumType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REGULAR_MESSAGE:0,DIRECT_MESSAGE:1,SENDER_KEY_DISTRIBUTION_MESSAGE:2});i.MESSAGE_DISTRIBUTION_ENUM_TYPE=e}),66);
__d("WAWebE2eMessageRecvWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumE2eCiphertextType","WAWebWamEnumE2eDestination","WAWebWamEnumE2eDeviceType","WAWebWamEnumE2eFailureReason","WAWebWamEnumEditType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumGroupEncryptionType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumRevokeType","WAWebWamEnumStanzaType","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({E2eMessageRecv:[478,{agentEngagementType:[15,o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],botType:[19,o("WAWebWamEnumBotType").BOT_TYPE],e2eCiphertextType:[5,o("WAWebWamEnumE2eCiphertextType").E2E_CIPHERTEXT_TYPE],e2eCiphertextVersion:[6,e.TYPES.INTEGER],e2eDestination:[4,o("WAWebWamEnumE2eDestination").E2E_DESTINATION],e2eFailureReason:[2,o("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON],e2eSenderType:[8,o("WAWebWamEnumE2eDeviceType").E2E_DEVICE_TYPE],e2eSuccessful:[1,e.TYPES.BOOLEAN],editType:[13,o("WAWebWamEnumEditType").EDIT_TYPE],encryptionType:[25,o("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],groupEncryptionState:[23,o("WAWebWamEnumGroupEncryptionType").GROUP_ENCRYPTION_TYPE],invisibleMessageCategory:[22,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isHostedChat:[20,e.TYPES.BOOLEAN],isLid:[11,e.TYPES.BOOLEAN],isPq:[27,e.TYPES.BOOLEAN],isSimpleSignal:[26,e.TYPES.BOOLEAN],localAddressingMode:[16,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageAddressingMode:[17,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageDistributionType:[21,o("WAWebWamEnumMessageDistributionEnumType").MESSAGE_DISTRIBUTION_ENUM_TYPE],messageMediaType:[7,o("WAWebWamEnumMediaType").MEDIA_TYPE],offline:[9,e.TYPES.BOOLEAN],retryCount:[3,e.TYPES.INTEGER],revokeType:[10,o("WAWebWamEnumRevokeType").REVOKE_TYPE],serverAddressingMode:[18,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],stanzaType:[14,o("WAWebWamEnumStanzaType").STANZA_TYPE],typeOfGroup:[12,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM]},[1,1,20],"regular"]},{E2eMessageRecv:[]});l.E2eMessageRecvWamEvent=s}),98);
__d("WAWebPostE2eMessageRecvMetric",["WAWebBackendApi","WAWebBackendJobsCommon","WAWebE2eMessageRecvWamEvent","WAWebGroupType","WAWebHandleMsgCommon","WAWebWamAddressingModeUtils","WAWebWamEnumAgentEngagementEnumType","WAWebWamMsgUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.enc,n=e.error,r=e.from,a=e.msgBotInfo,i=e.msgInfo,l=e.msgMeta,s=l.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.reaction,u=i.chat,c=new(o("WAWebE2eMessageRecvWamEvent")).E2eMessageRecvWamEvent({e2eCiphertextType:o("WAWebBackendJobsCommon").getMetricE2eCiphertextType(t.e2eType),e2eCiphertextVersion:o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION,e2eFailureReason:n==null?void 0:n.e2eFailureReason,e2eSuccessful:!1,messageMediaType:o("WAWebBackendJobsCommon").getMetricMediaType({encMediaType:t.encMediaType,msgType:l.type,msgPollType:l.pollType}),retryCount:t.retryCount,editType:o("WAWebBackendJobsCommon").getMetricEditType(i.edit),botType:o("WAWebWamMsgUtils").getWamBotType(u,a==null?void 0:a.bizBotType)}),d=o("WAWebBackendJobsCommon").getMetricE2eDestination(r);if(d!=null&&(c.e2eDestination=d),i.addressingMode!=null&&(c.serverAddressingMode=o("WAWebWamAddressingModeUtils").getWamAddressingModeFromString(i.addressingMode)),u.isGroup()){var m=yield o("WAWebBackendApi").frontendSendAndReceive("getGroupMetadata",{groupWid:u});if(m!=null){c.isLid=m.isCag&&s||!!m.isLidAddressingMode;var p=o("WAWebGroupType").groupTypeToWamEnum(o("WAWebGroupType").getGroupTypeFromGroupMetadata(m));c.typeOfGroup=p;var _=o("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(m);_!=null&&(c.localAddressingMode=_)}}else u.isBroadcast()?c.isLid=i.author.isLid():c.isLid=u.isLid();return i.author.isBot()&&(i.chat.isBot()?c.agentEngagementType=o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT:c.agentEngagementType=o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.INVOKED),c}),s.apply(this,arguments)}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield e(t);n.e2eSuccessful=!0,n.weight=1e3,n.commit()}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield e(t);n.e2eSuccessful=!1,n.weight=1,n.commit()}),m.apply(this,arguments)}l.postSuccessE2eMessageRecvMetric=u,l.postFailureE2eMessageRecvMetric=d}),98);
__d("WAWebMsgProcessingDecryptionHandler",["$InternalEnum","WALogger","WATimeUtils","WAWebABProps","WAWebBackendJobs.flow","WAWebBackendJobsCommon","WAWebCreateNackFromStanza","WAWebEphemeralDecodeBroadcastSetting","WAWebHandleMsgCommon","WAWebHandleMsgError","WAWebHandleMsgProcess","WAWebHandleMsgTypes.flow","WAWebIsOfficialClient","WAWebMessagingGatingUtils","WAWebMsgProcessingApiUtils","WAWebMsgType","WAWebPostE2eMessageRecvMetric","WAWebPostIncomingMessageDropMetric","WAWebSendRetryReceiptJob","WAWebSignalCommonErrors","WAWebWamEnumE2eFailureReason","asyncToGeneratorRuntime","cr:4122","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C=n("$InternalEnum").Mirrored(["SignalRetryable","SignalDuplicateMessage","UnknownDevice","DeviceSentMessage","InvalidProtobuf","HsmMismatch","BroadcastEphSettings","Unknown"]),b=new Set([C.SignalRetryable]);function v(e){return e.message==="errDuplicateMsg"?C.SignalDuplicateMessage:C.SignalRetryable}function S(e){return e instanceof o("WAWebHandleMsgError").UnknownDeviceMessageError?C.UnknownDevice:e instanceof o("WAWebSignalCommonErrors").SignalDecryptionError?v(e):e instanceof o("WAWebSignalCommonErrors").SignalMessageCounterError?C.SignalDuplicateMessage:e instanceof o("WAWebHandleMsgError").DeviceSentMessageError?C.DeviceSentMessage:e instanceof o("WAWebHandleMsgError").MessageValidationError?C.InvalidProtobuf:e instanceof o("WAWebHandleMsgCommon").HsmMismatchError?C.HsmMismatch:e instanceof o("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError?C.BroadcastEphSettings:C.Unknown}function R(e){var t={accessedEncs:new Set,pkOrMsgFailedEnc:null,skMsgFailedEnc:null};return{handleError:function(r,a){var n=S(a);r.e2eType===o("WAWebBackendJobs.flow").CiphertextType.Skmsg?t.skMsgFailedEnc={enc:r,error:a,errorType:n}:t.pkOrMsgFailedEnc={enc:r,error:a,errorType:n},D(e,{enc:r,error:a,errorType:n})},canDecryptNext:function(n){var e;r("gkx")("26258")||$();var o=(e=t.pkOrMsgFailedEnc)==null?void 0:e.errorType;return o!=null&&b.has(o)?!1:(t.accessedEncs.add(n.e2eType),!0)},getResult:function(r){return k(e,t,r)}}}function L(e){var t=e.ciphertext.byteLength;return t===0?"empty":t<100?"small":"large"}function E(t,n,r){var a=t.encs,i=t.msgInfo;r===void 0&&(r=!1);var l=i.chat,s=i.ts;if(l.isStatus()){var u=o("WATimeUtils").unixTimeWithoutClockSkewCorrection()-(s+o("WATimeUtils").DAY_SECONDS),c=u>0;if(c&&r&&a.length===2){var d=o("WATimeUtils").unixTime()-(s+o("WATimeUtils").DAY_SECONDS);o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: expired status has 2 encs, expired for ","s client time or for ","s with a clock skew, enc is "," and is ",""])),u,d,n.enc.e2eType,L(n.enc)).tags("messaging").sendLogs("handleMsg: expired status multiple encs",{sampling:.01})}return c}return!1}function k(e,t,n){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r,a=(r=t.skMsgFailedEnc)!=null?r:t.pkOrMsgFailedEnc,i=a!=null&&t.accessedEncs.has(o("WAWebBackendJobs.flow").CiphertextType.Skmsg)&&t.skMsgFailedEnc==null;if(a==null||i||E(e,a,!0)&&o("WAWebABProps").getABPropConfigValue("web_skip_expired_status_error"))return{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS,hasInactiveMsg:n};T(e,t),x(e,t);var l=a.enc,s=a.error,u=a.errorType,c;return(s instanceof o("WAWebSignalCommonErrors").SignalDecryptionError||s instanceof o("WAWebHandleMsgError").UnknownDeviceMessageError||s instanceof o("WAWebEphemeralDecodeBroadcastSetting").BroadcastEphSettingsError)&&(c=o("WAWebSendRetryReceiptJob").getRetryReasonFromError(s),u!==C.SignalDuplicateMessage&&(l.hideFail||(yield o("WAWebHandleMsgProcess").processPlaceholderMsg({type:o("WAWebMsgType").MSG_TYPE.CIPHERTEXT,msgMeta:e.msgMeta,msgInfo:e.msgInfo,placeholderType:o("WAWebHandleMsgTypes.flow").PlaceholderType.E2E,placeholderAddReason:o("WAWebBackendJobsCommon").getPlaceholderAddReason(s,e)})))),u===C.SignalRetryable||u===C.UnknownDevice?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:l.retryCount,retryReason:c}:u===C.SignalDuplicateMessage?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR,failedEnc:l}:u===C.DeviceSentMessage?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR}:u===C.InvalidProtobuf?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_VALIDATION_ERROR,e2eFailureReason:s instanceof o("WAWebHandleMsgError").MessageValidationError?s.e2eFailureReason:void 0}:u===C.HsmMismatch?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.HSM_MISMATCH}:u===C.BroadcastEphSettings?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:l.retryCount,retryReason:c,e2eFailureReason:o("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON.INVALID_BROADCAST_STANZA_ATTRIBUTE}:u===C.Unknown?{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.PARSE_ERROR}:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+u)})()}),I.apply(this,arguments)}function T(e,t){var n=t.pkOrMsgFailedEnc,r=t.skMsgFailedEnc,a=e.msgInfo,i=e.msgMeta,l=r!=null?r:n;if(l!=null){var s=l.enc,u=l.error,c=l.errorType;if(E(e,l)){o("WAWebABProps").getABPropConfigValue("web_skip_expired_status_error")||o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropExpired({msgInfo:a,msgMeta:i,enc:s,error:u instanceof o("WAWebHandleMsgError").MessageValidationError?u:void 0});return}switch(c){case C.SignalRetryable:case C.UnknownDevice:case C.HsmMismatch:case C.BroadcastEphSettings:case C.SignalDuplicateMessage:break;case C.InvalidProtobuf:case C.DeviceSentMessage:{o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidProtobuf({msgInfo:a,msgMeta:i,enc:s,error:u instanceof o("WAWebHandleMsgError").MessageValidationError?u:void 0});break}case C.Unknown:o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanzaFromDecryptedMessageInfo({msgInfo:a,msgMeta:i,enc:s})}}}function D(e,t){var n=e.msgBotInfo,a=e.msgInfo,i=e.msgMeta,l=t.enc,h=t.error,y=t.errorType,b=o("WAWebMsgProcessingApiUtils").getFrom(a);switch(o("WAWebPostE2eMessageRecvMetric").postFailureE2eMessageRecvMetric({enc:l,from:b,msgMeta:i,msgInfo:a,msgBotInfo:n,error:h instanceof o("WAWebHandleMsgError").MessageValidationError?h:null}),o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," e2eType:"," error:",""])),a.externalId,l.e2eType,h.stack).tags("messaging"),y){case C.SignalDuplicateMessage:break;case C.SignalRetryable:case C.UnknownDevice:{r("gkx")("26258")||o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg: decryption error");break}case C.InvalidProtobuf:{h instanceof o("WAWebHandleMsgError").MessageValidationError&&(o("WAWebIsOfficialClient").isUnofficialStanzaId(a.externalId)?o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg from UC: "+h.name,{sampling:h.sendLogs===!0?.01:h.sendLogs}):r("gkx")("26259")&&h instanceof o("WAWebHandleMsgError").MessageProtobufInvalidMessageTypes?o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("(intern) handleMsg: "+h.name):o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg: "+h.name,h.sendLogs===!0?void 0:{sampling:h.sendLogs}));break}case C.DeviceSentMessage:{o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," infoType:"," isDirect:"," error:",""])),l.e2eType,a.type,a.isDirect,h).tags("messaging").sendLogs("handleMsg: parse device sent message error");break}case C.HsmMismatch:{o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg: hsm mismatch error");break}case C.BroadcastEphSettings:{o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg: failed to decrypt broadcast ephemeral settings");break}case C.Unknown:{o("WALogger").WARN(g||(g=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: e2eType:"," error:",""])),l.e2eType,h).tags("messaging").sendLogs("handleMsg: parse decrypted message error");break}}}function x(e,t){var n=t.pkOrMsgFailedEnc,r=t.skMsgFailedEnc,a=r!=null?r:n;if(a!=null&&o("WAWebMessagingGatingUtils").isMessageDropPlaceholderEnabled()){var i=e.msgInfo.chat;if((i.isUser()||i.isGroup())&&!E(e,a)){var l=null;switch(a.errorType){case C.SignalRetryable:case C.SignalDuplicateMessage:case C.BroadcastEphSettings:case C.UnknownDevice:break;case C.DeviceSentMessage:case C.InvalidProtobuf:{l=o("WAWebCreateNackFromStanza").NackReason.InvalidProtobuf;break}case C.HsmMismatch:case C.Unknown:{l=o("WAWebCreateNackFromStanza").NackReason.ParsingError;break}}if(l!=null){var s=e.msgInfo.externalId;o("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["messageDrop: insert a debug placeholder for ",", reason: ",""])),s,a.errorType).tags("messaging"),o("WAWebHandleMsgProcess").processPlaceholderMsg({type:o("WAWebMsgType").MSG_TYPE.DEBUG_PLACEHOLDER,msgInfo:e.msgInfo,nackReason:l})}}}}function $(){if(!r("gkx")("26258")){var e,t=(e=n("cr:4122")==null?void 0:n("cr:4122").isNextMessageDropped())!=null?e:null;if(t==null)return;switch(o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["Dropping incoming message with "," error"])),t),t){case C.SignalRetryable:throw new(o("WAWebSignalCommonErrors")).SignalDecryptionError("errSignalErr");case C.SignalDuplicateMessage:throw new(o("WAWebSignalCommonErrors")).SignalDecryptionError("errDuplicateMsg");case C.InvalidProtobuf:throw new(o("WAWebHandleMsgError")).MessageValidationError("test",o("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON.INVALID_MESSAGE);case C.DeviceSentMessage:throw new(o("WAWebHandleMsgError")).DeviceSentMessageError(1,1);default:return}}}l.DecryptionErrorType=C,l.createDecryptionHandler=R}),98);
__d("WAWebMsgProcessingDecryptApi",["WALogger","WAWebAdvSignatureApi","WAWebBackendJobs.flow","WAWebHandleMsgTypes.flow","WAWebMsgProcessingApiUtils","WAWebMsgProcessingDecryptEnc","WAWebMsgProcessingDecryptionHandler","WAWebOfflineResumeMsgProcessReporter","WAWebPostE2eMessageRecvMetric","WAWebSendRetryReceiptJob","WAWebSignalProtocolStore","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.bizInfo,r=e.deviceIdentity,a=e.encs,i=e.hsmInfo,l=e.msgBotInfo,d=e.msgInfo,m=e.msgMeta,_=e.paymentInfo,f=e.rcat,g=e.reportingTokenInfo,h=o("WAWebMsgProcessingApiUtils").getFrom(d);if(p(a,d),d.author.device!=null&&d.author.device!==0){var y=yield o("WAWebAdvSignatureApi").validateADVwithEncs(d.author,r,a,!!d.offline);if(!y)return o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::",", validateADVIdentity failed"])),d.externalId).tags("messaging"),{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY,retryCount:a[0].retryCount,retryReason:o("WAWebSendRetryReceiptJob").RetryReason.AdvFailure}}var C=!1,b=o("WAWebMsgProcessingDecryptionHandler").createDecryptionHandler(e);for(var v of a)try{if(!b.canDecryptNext(v))continue;var S=o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.startMarker(o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.stage.Decryption),R=yield o("WAWebMsgProcessingDecryptEnc").decryptEnc(v,h,d.author,e);S==null||S(),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," e2eType:"," done"])),d.externalId,v.e2eType).tags("messaging"),o("WAWebPostE2eMessageRecvMetric").postSuccessE2eMessageRecvMetric({enc:v,from:h,msgMeta:m,msgInfo:d,msgBotInfo:l,error:null});var L={retryCount:v.retryCount,e2eType:v.e2eType,encMediaType:v.encMediaType,hideFail:v.hideFail},E=yield t({decrypted:R,info:d,paymentInfo:_,e2eInfo:L,bizInfo:n,hsmInfo:i,msgMeta:m,rcat:f,msgBotInfo:l,reportingTokenInfo:g});E.hasInactiveMsg&&(C=!0),o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["processDecryptedProto: msgId::"," e2eType:"," done"])),d.externalId,v.e2eType).tags("messaging")}catch(e){b.handleError(v,e)}return yield o("WAWebSignalProtocolStore").getSignalProtocolStore().flushBufferToDiskIfNotMemOnlyMode(),b.getResult(C)}),m.apply(this,arguments)}function p(t,n){t.length===2&&t[0].e2eType===o("WAWebBackendJobs.flow").CiphertextType.Skmsg&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["decryptE2EPayload: msgId::"," skMsg is out of order"])),n.externalId).tags("messaging").sendLogs("handleMsg: invalid encs order",{sampling:.01})}l.decryptE2EPayload=d}),98);
__d("WAWebMessageProcessUtils",["WALogger","WANullthrows","WAWebApiChat","WAWebApiContact","WAWebCurrentUser","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g;function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.lid,n=e.lidOrigin;if(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["selectChatForOneOnOneMessage input: ",", ",""])),t.toLogString(),n),o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()){var r=yield b(t);return o("WAWebCurrentUser").isEmployee()&&o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["selectChatForOneOnOneMessage migrated output: ",", ",""])),r.accountLid,r.chatId),r}var a=C(t,n);return o("WAWebCurrentUser").isEmployee()&&o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["selectChatForOneOnOneMessage pre-migrated output: ",", ",""])),a.accountLid,a.chatId),a}),y.apply(this,arguments)}function C(t,n){if(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["select chat (unmigrated): select for ",""])),t.toLogString()),n==null){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["select chat (unmigrated): this is a general Lid chat, return phone number"])));var a=r("WANullthrows")(o("WAWebApiContact").getPhoneNumber(t),"cannot select chat for incoming general Lid chat: no PN for Lid");return{chatId:a}}return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["select chat (unmigrated): this is a non-general Lid chat, return Lid"]))),{chatId:t}}function b(e){return v.apply(this,arguments)}function v(){return v=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["select chat (migrated): select for lid ",""])),e.toLogString());var t=yield o("WAWebApiChat").getChatRecordByAccountLid(e);if(t.length>1)throw o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["select chat (migrated): error: multiple chats for account_lid."]))),r("err")("selectChatForOneOnOneMessageAfterMigration: found multiple chats for unique index account_lid");if(t.length===1){var n=r("WANullthrows")(t[0].id,"chat id should never be null");return o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["select chat (migrated): found by account_lid. chat id: ",", lid ",""])),n.toString(),e.toLogString()),{accountLid:e,chatId:o("WAWebWidFactory").asUserWidOrThrow(o("WAWebWidFactory").createWid(n))}}return o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["select chat (migrated): assigning lid for new chat"]))),{accountLid:e,chatId:e}}),v.apply(this,arguments)}l.selectChatForOneOnOneMessage=h}),98);
__d("WAWebProcessPhoneNumberMapping",["Promise","WAArrayUtils","WALogger","WAWebApiContact","WAWebDBCreateLidPnMappings","WAWebHandleMsgTypes.flow","WAWebUpdateLidMetadataJob","WAWebUserPrefsMeUser","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){var t=e.data,n=e.lid,r=e.processingResult,o=e.shouldWaitForJob;r.push({jobArgs:{lid:n,data:t},shouldWaitForJob:o})}function d(t){return t.preMatChat!=null?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[extractMapping] using preMatChat"]))),t.preMatChat):t.chat}function m(e,t){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=[],a=e.author,i=e.peerRecipientPn,l=e.recipientLatestLid,s=e.recipientPn,u=d(e),m=o("WAWebWidFactory").asUserLidOrThrow(a);if(o("WAWebUserPrefsMeUser").isMeAccount(a)){var p=t==null?void 0:t.origin;if(s!=null)n={lid:o("WAWebWidFactory").asUserLidOrThrow(u),pn:o("WAWebWidFactory").asUserWidOrThrow(s),learningSource:"other"},c({lid:o("WAWebWidFactory").asUserLidOrThrow(u),data:{shareOwnPn:!1},shouldWaitForJob:!0,processingResult:r});else if(i!=null)l!=null?n={lid:o("WAWebWidFactory").asUserLidOrThrow(u),pn:i,latestLid:l,learningSource:"recipient-latest-lid"}:n={lid:o("WAWebWidFactory").asUserLidOrThrow(u),pn:i,learningSource:"peer-lid-message"};else{var _=yield o("WAWebApiContact").getContactRecord(u);(_==null||(_==null?void 0:_.shareOwnPn)!==!0)&&c({lid:o("WAWebWidFactory").asUserLidOrThrow(u),data:{shareOwnPn:!0},shouldWaitForJob:!1,processingResult:r})}if(p!=="ctwa"){var f=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&e.author.isLid()&&e.chat.isLid();i==null&&!f&&(n="missing-peer-recipient-pn")}return{mapping:n,lidMetadataUpdates:r}}var g=e.displayName;g!=null&&c({lid:m,data:{displayNameLID:g},shouldWaitForJob:!0,processingResult:r});var h=e.senderPn;return h!=null&&(n={lid:m,pn:o("WAWebWidFactory").asUserWidOrThrow(h),learningSource:"other"}),h==null&&c({lid:m,data:{shareOwnPn:!0},shouldWaitForJob:!0,processingResult:r}),{mapping:n,lidMetadataUpdates:r}}),p.apply(this,arguments)}function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=e.author,r=e.peerRecipientLid,a=e.recipientLatestLid,i=e.recipientLid,l=d(e);if(o("WAWebUserPrefsMeUser").isMeAccount(n)){var s=o("WAWebWidFactory").asUserWidOrThrow(l);i!=null?t={lid:i,pn:s,learningSource:"other"}:r!=null?a!=null?t={pn:s,lid:r,latestLid:a,learningSource:"recipient-latest-lid"}:t={lid:r,pn:s,learningSource:"peer-pn-message"}:t="missing-peer-recipient-lid"}var u=e.senderLid;return u!=null&&(t={lid:o("WAWebWidFactory").asUserLidOrThrow(u),pn:o("WAWebWidFactory").asUserWidOrThrow(n),learningSource:"other"}),{mapping:t,lidMetadataUpdates:[]}}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msgInfo,n=e.msgMeta,r=t.author;return r.isLid()?m(t,n):_(t)}),h.apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msgInfo,n=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&t.participantUsername!=null;if(!n&&t.chat.isGroup()&&t.author.isLid()&&!o("WAWebUserPrefsMeUser").isMeAccount(t.author)&&t.participantPn==null&&t.displayName==null&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[extractMappingsForGroupOrStatusBroadcastMessage] participantPn is missing for group message from LID author"]))),e.bclParticipant){e.msgInfo;var r=b(e.bclParticipant);return r==null?{lidMetadataUpdates:[]}:{mapping:r,lidMetadataUpdates:[]}}var a,i=[],l=t.author,u=t.participantLid,d=t.participantPn;d!=null?a={lid:o("WAWebWidFactory").asUserLidOrThrow(l),pn:d,learningSource:"other"}:u!=null&&!n&&(a={lid:u,pn:o("WAWebWidFactory").asUserWidOrThrow(l),learningSource:"other"});var m=t.displayName;return!o("WAWebUserPrefsMeUser").isMeAccount(l)&&m!=null&&c({lid:o("WAWebWidFactory").asUserLidOrThrow(l),data:{displayNameLID:m},shouldWaitForJob:!0,processingResult:i}),{mapping:a,lidMetadataUpdates:i}}),C.apply(this,arguments)}function b(e){var t=e.wid,n=e.recipientLatestLid;if(t.isLid()){var r=t,a=e.peerRecipientPn;if(a==null){var i=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled();return i?null:"missing-peer-recipient-pn"}return n?{lid:r,latestLid:n,pn:a,learningSource:"recipient-latest-lid"}:{lid:r,pn:a,learningSource:"peer-lid-message"}}var l=e.peerRecipientLid,s=t;return l==null?"missing-peer-recipient-lid":n?{lid:l,latestLid:n,pn:s,learningSource:"recipient-latest-lid"}:{lid:l,pn:s,learningSource:"peer-pn-message"}}function v(e){var t=e.flushImmediately,n=e.mapping;return n.learningSource==="recipient-latest-lid"?o("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:n.lid,pn:n.pn},{lid:n.latestLid,pn:n.pn}],flushImmediately:t,learningSource:"recipient-latest-lid"}):o("WAWebDBCreateLidPnMappings").createLidPnMappings({mappings:[{lid:n.lid,pn:n.pn}],flushImmediately:t,learningSource:n.learningSource})}function S(e){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msgInfo.chat;return t.isUser()?g(e):t.isGroup()||t.isBroadcast()?y(e):{lidMetadataUpdates:[]}}),R.apply(this,arguments)}function L(e,t,n){return E.apply(this,arguments)}function E(){return E=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,r){if(e.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST){var a=e.bclParticipants.map(function(n){return k({msgInfo:e,msgMeta:t,bclParticipant:n},r)}),i=yield(u||(u=n("Promise"))).all(a);return{type:"peer-broadcast",mappings:i}}return{type:"not-peer-broadcast",mapping:yield k({msgInfo:e,msgMeta:t},r)}}),E.apply(this,arguments)}function k(e,t){return I.apply(this,arguments)}function I(){return I=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r,a=yield S(e),i=a.lidMetadataUpdates,l=a.mapping,s=o("WAArrayUtils").groupByAndMap(i,function(e){return e.shouldWaitForJob?"waitForJob":"fireAndForget"},function(e){return e.jobArgs}),u=(n=s.get("waitForJob"))!=null?n:[],c=(r=s.get("fireAndForget"))!=null?r:[];return c.length>0&&o("WAWebUpdateLidMetadataJob").updateLidMetadataJob(c),u.length>0&&(yield o("WAWebUpdateLidMetadataJob").updateLidMetadataJob(u)),l!=null&&typeof l=="object"&&(yield v({mapping:l,flushImmediately:t})),l}),I.apply(this,arguments)}l.processPhoneNumberMappings=L}),98);
__d("WAWebProcessMsgInfoForLid",["Promise","WAJids","WALogger","WAWebApiContact","WAWebGetPlatformFromStanzaId","WAWebHandleMsgCommon","WAWebHandleMsgTypes.flow","WAWebLid1X1MigrationGating","WAWebLidMigrationUtils","WAWebLidStatusMigrationGating","WAWebLidStatusMigrationUtils","WAWebMessageProcessUtils","WAWebProcessPhoneNumberMapping","WAWebUsernameGatingUtils","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m;function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.chatWid,a=t.mapping,i=t.msgInfo,l=t.msgMeta,d=null,m=l==null?void 0:l.origin,p=m==="ctwa";if(p){if(!n.isLid())throw r("err")("received ctwa message but remote id is not Lid");d=n}else if((l==null?void 0:l.targetSenderJid)!=null)d=o("WAWebLidMigrationUtils").toUserLidOrThrow(o("WAWebWidFactory").asUserWidOrThrow(i.chat));else if(a==null){var _=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),f=_&&(i.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.CHAT||i.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST||i.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST)&&(i.author.isLid()||i.author.isHostedLid())&&n.isLid();if(f)d=o("WAWebLidMigrationUtils").toUserLidOrThrow(n);else throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing pn-lid mapping in 1-1 message, sender: ",""])),o("WAWebGetPlatformFromStanzaId").getPlatformFromStanzaId(i.externalId)).sendLogs("misssing-pn-lid-mapping-in-1-1-message"),r("err")("findDestinationChatForSingleMapping: missing pn-lid mapping in 1-1 message")}else if(a==="missing-peer-recipient-pn"){var g;if(o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient pn in 1-1 message from device ",""])),(g=i.author.device)!=null?g:0).sendLogs("misssing-peer-recipient-pn-in-1-1-message"),n.isLid()&&o("WAWebApiContact").lidPnCache.getPhoneNumber(n)!=null&&(d=n),d==null){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient pn and local mapping, processing message anyway"])));return}}else if(a==="missing-peer-recipient-lid"){if(o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["findDestinationChatForSingleMapping: missing peer recipient lid in 1-1 message"]))).sendLogs("misssing-peer-recipient-lid-in-1-1-message"),o("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("syncContactListJob",{contactIds:[n],shouldSyncDevice:!1,mode:"query"}),d=o("WAWebApiContact").lidPnCache.getCurrentLid(n),d==null)throw r("err")("findDestinationChatForSingleMapping: missing peer recipient lid in 1-1 message")}else d=a.lid;var h=yield o("WAWebMessageProcessUtils").selectChatForOneOnOneMessage({lid:d,lidOrigin:m}),y=h.chatId;return y.isSameAccountAndAddressingMode(n)?{accountLid:h.accountLid}:{newRemote:y,accountLid:h.accountLid}}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.msgInfo,a=e.msgMeta,i=yield o("WAWebProcessPhoneNumberMapping").processPhoneNumberMappings(t,a,t.offline==null);if(t.category!==o("WAWebHandleMsgCommon").MSG_CATEGORY.peer){if(t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_STATUS){var l=o("WAWebWidFactory").asUserWidOrThrow(t.author),s=o("WAWebWidFactory").asUserWidOrThrow(o("WAWebLidStatusMigrationUtils").matWidConvert(l));if(!l.equals(s)){var u;o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["maybeProcesMsgInfoForLid: converting status message from "," to "," based on migration stage ",""])),t.author.toLogString(),s.toLogString(),o("WAWebLidStatusMigrationGating").getLidStatusMigrationStage()),t.author=o("WAWebWidFactory").createDeviceWidFromUserAndDevice(s.user,s.server,(u=t.author.device)!=null?u:o("WAJids").DEFAULT_DEVICE_ID)}return}var c=o("WAWebLid1X1MigrationGating").Lid1X1MigrationUtils.isLidMigrated()||t.author.isLid()||t.chat.isLid();if(c)if(t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST){if(i.type!=="peer-broadcast")throw r("err")("maybeProcesMsgInfoForLid: mappings type is not the expected peer-broadcast");i.type;var _=i.mappings.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,n){var r=t.bclParticipants[n],i=yield p({msgInfo:t,msgMeta:a,mapping:e,chatWid:r.wid});(i==null?void 0:i.newRemote)!=null&&(r.preMatWid=r.wid,r.wid=o("WAWebWidFactory").asUserWidOrThrow(i.newRemote))});return function(t,n){return e.apply(this,arguments)}})());yield(m||(m=n("Promise"))).all(_)}else{if(i.type!=="not-peer-broadcast")throw r("err")("maybeProcesMsgInfoForLid: mappings type is not the expected not-peer-broadcast");i.type;var f=t.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST,g=f?t.author:t.chat;if(!g.isRegularUser())return;var h=yield p({msgInfo:t,msgMeta:a,mapping:i.mapping,chatWid:g});if(h==null)return;var y=h.accountLid,C=h.newRemote;if(y!=null&&(t.accountLid=y),C==null)return;f?(t.preMatChat=t.author,t.author=C):(t.preMatChat=g,t.chat=C)}}}),g.apply(this,arguments)}l.maybeProcesMsgInfoForLid=f}),98);
__d("WAWebHandleMsg",["Promise","WALogger","WAParsableWapNode","WATimeUtils","WAWebCreateNackFromStanza","WAWebDBReportingTokenUtils","WAWebGetMessageCache","WAWebHandleMsgCommon","WAWebHandleMsgMetaUtils","WAWebHandleMsgParser","WAWebHandleMsgProcess","WAWebHandleMsgSendReceipt","WAWebHandleMsgTypes.flow","WAWebMaybePostOfflineCountTooHighMetric","WAWebMessageDedupUtils","WAWebMessageInsertDebugPlaceholder","WAWebMessageQueue","WAWebMsgProcessingApiUtils","WAWebMsgProcessingDecryptApi","WAWebMsgType","WAWebOfflineHandler","WAWebPostIncomingMessageDropMetric","WAWebPostUnknownStanzaMetric","WAWebProcessMsgInfoForLid","WAWebSetUsernameJob","WAWebUsernameGatingUtils","WAWebWidFactory","asyncToGeneratorRuntime","cr:4122","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f;function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=o("WAWebHandleMsgParser").incomingMsgParser.parse(t);if(a.error){var i;r("gkx")("26258")?o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message stanza"]))).tags("messaging"):o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleMsg: error while parsing message stanza: ",", node: ",""])),a.error,t.toString()).tags("messaging"),o("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(t);var l=o("WAWebHandleMsgParser").incomingMsgParserForAckOnly.parse(t);if(l.error)return l.error instanceof o("WAParsableWapNode").XmppParsingFailure?o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: ",""])),l.error).tags("messaging").sendLogs("failedParsing: ack not parsed XMPP",{sampling:.01}):o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage:"]))).tags("messaging").sendLogs("failedParsing: ack not parsed",{sampling:.01}),o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(t),(f||(f=n("Promise"))).resolve(o("WAWebCreateNackFromStanza").createNackFromStanza(t,o("WAWebCreateNackFromStanza").NackReason.ParsingError));var h=l.success,C=h.externalId,b=h.msgInfo,v=h.offline,S=h.type,R=o("WAWebCreateNackFromStanza").NackReason.ParsingError;return S==null?(R=o("WAWebCreateNackFromStanza").NackReason.UnrecognizedStanzaType,o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropUnknownMessageType(t)):a.error instanceof o("WAParsableWapNode").XmppParsingFailure&&((i=a.error)==null?void 0:i.reason)===""+o("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza?(R=o("WAWebCreateNackFromStanza").NackReason.InvalidHostedCompanionStanza,o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidHostedCompanionStanza(t)):o("WAWebPostIncomingMessageDropMetric").postIncomingMessageDropInvalidStanza(t),o("WAWebMessageInsertDebugPlaceholder").maybeInsertDebugPlaceholder({externalId:C,nackReason:R,msgInfo:b,offline:v}),a.error instanceof o("WAParsableWapNode").XmppParsingFailure?o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: "," ",""])),C,a.error).tags("messaging").sendLogs("failedParsing: ack parsed XMPP",{sampling:.01}):o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["failedParsingMessage: ",""])),C).tags("messaging").sendLogs("failedParsing: ack parsed",{sampling:.01}),(f||(f=n("Promise"))).resolve(o("WAWebCreateNackFromStanza").createNackFromStanza(t,R))}var L=a.success;o("WAWebMaybePostOfflineCountTooHighMetric").maybePostOfflineCountTooHigh(L);var E=L.encs,k=L.msgBotInfo,I=L.msgInfo,T=L.msgMeta,D=o("WAWebMsgProcessingApiUtils").messageInfoToKey(I);I.clientReceivedTsMillis=o("WATimeUtils").unixTimeMs(),I.offline!=null&&(o("WAWebOfflineHandler").OfflineMessageHandler.addOfflinePendingMessage(),o("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete());var x=1;return o("WAWebMessageDedupUtils").isPengingMessageCacheEnabled()&&(x=o("WAWebMessageDedupUtils").addPendingMessage(D,I.ts,E)),o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()&&delete L.msgInfo.offline,n("cr:4122")!=null&&n("cr:4122").isNextMessagePostponed(t,g)?(o("WAWebHandleMsgSendReceipt").sendReceipt(L.msgInfo,L.msgMeta,{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS}),null):o("WAWebMessageQueue").onMessageQueue({chatWid:I.chat,isOffline:!!L.msgInfo.offline,msgCategory:I.category,action:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;if(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["handleMessage: chat::"," msgId::",', start processing message, offline="','"'])),I.chat.toLogString(),I.externalId,(e=I.offline)!=null?e:"").tags("messaging"),I.msgProcessStartTsMillis=o("WATimeUtils").unixTimeMs(),yield o("WAWebProcessMsgInfoForLid").maybeProcesMsgInfoForLid({msgInfo:I,msgMeta:T}),o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()){var t=[];if(I.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.GROUP){var n=o("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:o("WAWebWidFactory").asUserWidOrThrow(I.author),username:I.participantUsername});n&&t.push(n)}else if(I.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.PEER_BROADCAST)I.bclParticipants.forEach(function(e){var n,r=o("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:o("WAWebWidFactory").asUserWidOrThrow((n=e.peerRecipientLid)!=null?n:e.wid),username:e.peerRecipientUsername});r&&t.push(r)});else if(I.type===o("WAWebHandleMsgTypes.flow").MESSAGE_TYPE.OTHER_BROADCAST){var r,a=I.participantLid||(r=I.participant)!=null&&r.isLid()?I.participant:null,i=a?o("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:o("WAWebWidFactory").asUserWidOrThrow(a),username:I.participantUsername}):null;i&&t.push(i)}else{var l=o("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:o("WAWebWidFactory").asUserWidOrThrow(I.author),username:I.username,usernameCountryCode:I.senderCountryCode});l&&t.push(l);var s;I.peerRecipientLid?s=o("WAWebWidFactory").asUserWidOrThrow(I.peerRecipientLid):I.chat.isLid()&&(s=o("WAWebWidFactory").asUserWidOrThrow(I.chat));var u=o("WAWebSetUsernameJob").maybeCreateSetUsernameInfoJobArg({userId:s,username:I.peerRecipientUsername});u&&t.push(u)}t.length>0&&(yield o("WAWebSetUsernameJob").setUsernamesJob(t))}var c=o("WAWebMsgProcessingApiUtils").messageInfoToKey(I);if(T.isUnavailable){o("WAWebDBReportingTokenUtils").maybeStoreReportingTag({msgKey:c,stanzaId:I.externalId,msgTs:I.ts,incomingMsgReportingTokenInfo:L.reportingTokenInfo}),o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["handleMessage: msgId::",", get fanout placeholder"])),I.externalId).tags("messaging");var d=o("WAWebHandleMsgTypes.flow").PlaceholderType.FANOUT;return k!=null?d=o("WAWebHandleMsgTypes.flow").PlaceholderType.BOT_UNAVAILABLE_FANOUT:T.isHostedMsgUnavailable===!0?d=o("WAWebHandleMsgTypes.flow").PlaceholderType.HOSTED_UNAVAILABLE_FANOUT:T.isViewOnceUnavailable===!0&&(d=o("WAWebHandleMsgTypes.flow").PlaceholderType.VIEW_ONCE_UNAVAILABLE_FANOUT),yield o("WAWebHandleMsgProcess").processPlaceholderMsg({type:o("WAWebMsgType").MSG_TYPE.CIPHERTEXT,msgMeta:T,msgInfo:I,placeholderType:d}),o("WAWebHandleMsgSendReceipt").sendReceipt(I,T,{result:o("WAWebHandleMsgTypes.flow").E2EProcessResult.BACKFILL}),null}var m=yield o("WAWebMsgProcessingDecryptApi").decryptE2EPayload(L,o("WAWebHandleMsgProcess").processDecryptedMessageProto);return I.offline!=null&&o("WAWebOfflineHandler").OfflineMessageHandler.processMessageDecryptResult(m.result),m.result!==o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS&&o("WAWebDBReportingTokenUtils").maybeStoreReportingTag({msgKey:c,stanzaId:I.externalId,msgTs:I.ts,incomingMsgReportingTokenInfo:L.reportingTokenInfo}),m.result===o("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR&&y(L)?o("WAWebGetMessageCache").getMessageCache().addMessages([{duplicateMsgReceiptInfo:{externalId:I.externalId,from:o("WAWebMsgProcessingApiUtils").getFrom(I),author:I.author,msgInfo:I,msgMeta:T,enc:m.failedEnc||E[0],hasHideFailEnc:E.some(function(e){return e.hideFail}),msgReceivedTimes:x}}],I.offline==null):I.offline==null||I.category===o("WAWebHandleMsgCommon").MSG_CATEGORY.peer||T.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify||m.result!==o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS&&m.result!==o("WAWebHandleMsgTypes.flow").E2EProcessResult.SIGNAL_OLD_COUNTER_ERROR?o("WAWebHandleMsgSendReceipt").sendReceipt(I,T,m):o("WAWebGetMessageCache").getMessageCache().addMessages([{receiptInfo:{externalId:I.externalId,from:o("WAWebMsgProcessingApiUtils").getFrom(I),author:I.author}}],!1),null});function t(){return e.apply(this,arguments)}return t})()})}),h.apply(this,arguments)}function y(e){var t=e.encs,n=e.msgMeta,r=t.some(function(e){return e.hideFail});return r?o("WAWebHandleMsgMetaUtils").isReactionMsgMeta(n)||o("WAWebHandleMsgMetaUtils").isPollVoteMsgMeta(n):n.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.text||n.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.media||n.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.medianotify||n.type===o("WAWebHandleMsgCommon").STANZA_MSG_TYPES.poll}l.default=g}),98);
__d("WAWebHandleMsgReceiptParser",["WADeprecatedWapParser","WALogger","WAWebAck","WAWebHandleMsgTypes.flow","WAWebJidToWid","WAWebUserPrefsMeUser"],(function(t,n,r,o,a,i,l){var e,s,u={delivery:(s=o("WAWebAck")).ACK.RECEIVED,read:s.ACK.READ,played:s.ACK.PLAYED,inactive:s.ACK.INACTIVE,"server-error":s.ACK.CONTENT_GONE,sender:s.ACK.RECEIVED,"read-self":s.ACK.READ,"played-self":s.ACK.PLAYED,peer_msg:s.ACK.PEER},c=new(r("WADeprecatedWapParser"))("incomingMsgReceiptParser",function(e){e.assertTag("receipt"),e.hasAttr("to")&&e.assertAttr("to",o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var t=e.hasAttr("type")?e.attrEnumOrNullIfUnknown("type",u):o("WAWebAck").ACK.RECEIVED,n={stanzaId:e.attrString("id"),from:o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("from")),offline:e.maybeAttrString("offline")},r=babelHelpers.extends({},n,{ack:t!=null?t:o("WAWebAck").ACK.RECEIVED,ackString:e.maybeAttrString("type")}),a=e.maybeChild("error");a!=null&&a.hasAttr("reason")&&a.attrString("reason")==="lid"&&a.attrString("type")==="feature-incapable"&&(r.ack=o("WAWebAck").ACK.SENT);var i=e.maybeChild("participants");if(i==null)return p(r,e);var l=i.hasAttr("message_id");return l?m(n,i):d(r,i)});function d(e,t){var n=t.mapChildrenWithTag("user",function(e){try{var t=o("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("jid")),n=e.attrTime("t");return{participant:t,ts:n}}catch(e){return null}}),r=n.filter(Boolean);return babelHelpers.extends({},e,{type:"aggregated_by_type",externalId:t.attrString("key"),receipts:r})}function m(t,n){var r=[];return n.forEachChildWithTag("user",function(t){try{var n,a=o("WAWebJidToWid").deviceJidToDeviceWid(t.attrDeviceJid("jid")),i=t.attrTime("t"),l=t.maybeAttrString("type"),s=(n=t.maybeAttrEnum("type",u))!=null?n:o("WAWebAck").ACK.RECEIVED;r.push({participant:a,ack:s,ackString:l,ts:i})}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["parseAggregateByMessageReceipt: failed: ",""])),t).sendLogs("failed-to-parse-aggregeated-by-message-receipt",{sampling:.001})}}),babelHelpers.extends({},t,{type:"aggregated_by_message",externalId:n.attrString("message_id"),receipts:r})}function p(e,t){var n=t.hasAttr("participant")?o("WAWebJidToWid").deviceJidToDeviceWid(t.attrDeviceJid("participant")):null,r=t.hasAttr("recipient")?o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("recipient")):null,a=t.maybeAttrString("type")==="view",i;t.hasChild("list")?i=t.child("list").mapChildrenWithTag("item",function(e){return a?e.attrString("server_id"):e.attrString("id")}):i=[];var l;if(t.hasChild("biz")){var s=t.child("biz"),u=o("WAWebHandleMsgTypes.flow").ActualActorsEnumType.cast(s.maybeAttrInt("actual_actors")),c=o("WAWebHandleMsgTypes.flow").HostStorageEnumType.cast(s.maybeAttrInt("host_storage")),d=s.maybeAttrInt("privacy_mode_ts");u!=null&&c!=null&&d!=null&&(l={actualActors:u,hostStorage:c,privacyModeTs:d})}a||i.push(e.stanzaId);var m=!1;return n!=null&&n.isBot()&&t.hasAttr("is_lid")&&(m=t.attrString("is_lid")==="true"),babelHelpers.extends({},e,{type:"simple",externalIds:i,participant:n,recipient:r,ts:t.attrTime("t"),biz:l,isLidBot:m})}l.RECEIPT_TYPES_TO_ACK=u,l.msgReceiptParser=c}),98);
__d("WAWebWamEnumReceiptAggregationType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,MULTI_MESSAGES:1,MULTI_PARTICIPANTS:2,AGGREGATE_BY_ID:3});i.RECEIPT_AGGREGATION_TYPE=e}),66);
__d("WAWebWamEnumReceiptStanzaStage",[],(function(t,n,r,o,a,i){var e=Object.freeze({OVERALL:0,WAITING_IN_E2E_QUEUE:6,WAITING_IN_UNORDERED_QUEUE:7,PARSE:1,WAITING_TO_PROCESS:2,PROCESS:3,WAITING_TO_ACK:5,ACK:4});i.RECEIPT_STANZA_STAGE=e}),66);
__d("WAWebReceiptStanzaReceiveWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumReceiptAggregationType","WAWebWamEnumReceiptStanzaStage"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({ReceiptStanzaReceive:[2496,{dbReadsCount:[12,e.TYPES.INTEGER],dbWritesCount:[13,e.TYPES.INTEGER],mediaType:[2,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageType:[10,o("WAWebWamEnumMessageType").MESSAGE_TYPE],processingDeferred:[14,e.TYPES.BOOLEAN],receiptAggregation:[11,o("WAWebWamEnumReceiptAggregationType").RECEIPT_AGGREGATION_TYPE],receiptStanzaDuration:[1,e.TYPES.TIMER],receiptStanzaHasOrphaned:[6,e.TYPES.BOOLEAN],receiptStanzaOfflineCount:[3,e.TYPES.INTEGER],receiptStanzaProcessedCount:[8,e.TYPES.INTEGER],receiptStanzaRetryVer:[5,e.TYPES.INTEGER],receiptStanzaStage:[9,o("WAWebWamEnumReceiptStanzaStage").RECEIPT_STANZA_STAGE],receiptStanzaTotalCount:[7,e.TYPES.INTEGER],receiptStanzaType:[4,e.TYPES.STRING],stanzaBatchSize:[15,e.TYPES.INTEGER],stanzaProcessCount:[16,e.TYPES.INTEGER]},[1,1e3,2e3],"regular"]},{ReceiptStanzaReceive:[]});l.ReceiptStanzaReceiveWamEvent=s}),98);
__d("WAWebCreateReceiptStanzaReceiveMetric",["WAWebAck","WAWebHandleMsgReceiptParser","WAWebReceiptStanzaReceiveWamEvent","WAWebWamEnumMessageType","WAWebWamEnumReceiptStanzaStage","WAWebWid"],(function(t,n,r,o,a,i,l){function e(){var e=new(o("WAWebReceiptStanzaReceiveWamEvent")).ReceiptStanzaReceiveWamEvent({receiptStanzaStage:o("WAWebWamEnumReceiptStanzaStage").RECEIPT_STANZA_STAGE.OVERALL,receiptStanzaTotalCount:1});return function(t){var n=t.ackString,r=t.from,a=t.offline,i=t.receipts;if(e.messageType=s(r),a!=null){var l=parseInt(a,10);Number.isNaN(l)||(e.receiptStanzaOfflineCount=l)}n==null?e.receiptStanzaType=o("WAWebAck").ACK_STRING.DELIVERY:o("WAWebHandleMsgReceiptParser").RECEIPT_TYPES_TO_ACK[n]!=null&&(e.receiptStanzaType=n),(i==null?void 0:i.length)!=null&&(e.receiptStanzaTotalCount=i.length),e.markReceiptStanzaDuration(),e.commit()}}function s(e){return r("WAWebWid").isStatus(e)?o("WAWebWamEnumMessageType").MESSAGE_TYPE.STATUS:r("WAWebWid").isGroup(e)?o("WAWebWamEnumMessageType").MESSAGE_TYPE.GROUP:r("WAWebWid").isBroadcast(e)?o("WAWebWamEnumMessageType").MESSAGE_TYPE.BROADCAST:r("WAWebWid").isNewsletter(e)?o("WAWebWamEnumMessageType").MESSAGE_TYPE.CHANNEL:o("WAWebWamEnumMessageType").MESSAGE_TYPE.INDIVIDUAL}l.createReceiptStanzaReceiveMetric=e}),98);
__d("WAWebHandleAckPeerSimpleReceipt",["WAWebApiPeerMessageStore","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){yield o("WAWebApiPeerMessageStore").deletePeerMessage(e.stanzaId)}),s.apply(this,arguments)}l.handleAckPeerSimpleReceipt=e}),98);
__d("WAWebHandleBotInvokeMsgReceipt",["WAWebAck","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.ack,n=e.ackString,a=e.externalIds,i=e.from,l=e.offline,s=e.recipient,u=e.ts,c=l!=null&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();if(n!==o("WAWebAck").ACK_STRING.READ||s==null||!i.isBot())throw r("err")("handleBotOneToOneInvokeSimpleReadReceipt: unexpected receipt");var d=a.map(function(e){return new(r("WAWebMsgKey"))({id:e,remote:s,fromMe:!0})}),m=d.map(function(e){return e.toString()}),p=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:t,ts:u,receiverId:i,msgKeys:m,isBotInvoke:!0});return c||(yield o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("receiptBatcherRunActiveBatches",function(){return o("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches()}).waitUntilCompleted()),p}),s.apply(this,arguments)}l.handleBotOneToOneInvokeSimpleReadReceipt=e}),98);
__d("WAWebHandleMsgReceiptUtils",["WAWebAck"],(function(t,n,r,o,a,i,l){function e(e){return e===o("WAWebAck").ACK_STRING.READ||e===o("WAWebAck").ACK_STRING.READ_SELF||e===o("WAWebAck").ACK_STRING.PLAYED||e===o("WAWebAck").ACK_STRING.PLAYED_SELF}function s(e){return e.receipts.map(function(t){return{type:"simple",stanzaId:e.externalId,externalIds:[e.externalId],from:e.from,participant:t.participant,recipient:null,ts:t.ts,ack:e.ack,ackString:e.ackString,offline:e.offline,biz:null,isLidBot:!1}})}function u(e){return e.receipts.map(function(t){return{type:"simple",stanzaId:e.externalId,externalIds:[e.externalId],from:e.from,participant:t.participant,recipient:null,ts:t.ts,ack:t.ack,ackString:t.ackString,offline:e.offline,biz:null,isLidBot:!1}})}l.isReadOrPlayedReceipt=e,l.deaggregateGroupedByTypeReceipt=s,l.deaggregateGroupedByMessageReceipt=u}),98);
__d("WAWebHandleDirectChatReceipt",["Promise","WAJids","WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebHandleMsgReceiptUtils","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebSimpleSignalPNToFBIDMigration","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","err","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=t.ackString,i=t.biz,l=t.externalIds,d=t.from,m=t.offline,p=t.recipient,_=t.ts,f=t.ack,g=a===o("WAWebAck").ACK_STRING.SENDER,h=!g&&o("WAWebUserPrefsMeUser").isMeAccount(d),y;if(h||g){if(!p)throw r("gkx")("26258")?o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))):o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))).sendLogs("handleChatSimpleReceipt: failed"),r("err")("handleChatSimpleReceipt: invalid sender/peer receipt without recipient");y=p}else{var C;y=o("WAWebWidFactory").asUserWidOrThrow(d);var b=((C=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS))==null?void 0:C.readReceipts)==="none";b&&(f===o("WAWebAck").ACK.READ||f===o("WAWebAck").ACK.PLAYED)&&(f=o("WAWebAck").ACK.RECEIVED)}var v=o("WAWebSimpleSignalPNToFBIDMigration").getDeprecatedPnChatForFbidThread(y);v!=null&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleChatSimpleReceipt: forwarding "," to ",""])),y.toLogString(),v.toLogString()),y=o("WAWebWidFactory").asUserWidOrThrow(v));var S;y!=null&&r("WAWebWid").isWid(y)&&y===o("WAWebWidFactory").createWid(o("WAJids").PSA_JID)&&(S=o("WAWebWidFactory").createWid(o("WAJids").PSA_JID));var R=l.map(function(e){return new(r("WAWebMsgKey"))({id:e,remote:y,fromMe:!h,participant:S})});h&&f===o("WAWebAck").ACK.PLAYED&&o("WAWebHandleMsgReceiptCommon").handleViewOnceOpenedIfNecessary(R);var L=R.map(function(e){return e.toString()});m!=null&&o("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();var E=m!=null&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete(),k=(c||(c=n("Promise"))).resolve();return h?p!=null&&o("WAWebHandleMsgReceiptUtils").isReadOrPlayedReceipt(a)&&l.length>0&&(k=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({ack:f,ts:_,msgKeys:L,isOffline:E,remote:y})):k=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:f,ts:_,receiverId:d,msgKeys:L,privacyMode:i,isSender:g}),E||o("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches(),k}),m.apply(this,arguments)}l.handleChatSimpleReceipt=d}),98);
__d("WAWebHandleGroupChatReceipt",["WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebHandleMsgReceiptUtils","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebOrchestratorNonPersistedJob","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err","gkx"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.ack,a=t.ackString,i=t.externalIds,l=t.from,c=t.isLidBot,d=t.offline,m=t.participant,p=t.recipient,_=t.ts;if(!m)throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error: got group ack without participant."]))).sendLogs("handleGroupSimpleReceipt: failed"),r("err")("handleGroupSimpleReceipt: got group ack without participant.");var f=o("WAWebWidFactory").asUserWidOrThrow(m),g=a===o("WAWebAck").ACK_STRING.SENDER,h=!g&&o("WAWebUserPrefsMeUser").isMeAccount(f),y;if(h){if(!p)throw r("gkx")("26258")?o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))):o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error: invalid sender/peer receipt without recipient"]))).sendLogs("handleGroupSimpleReceipt: failed"),r("err")("handleGroupSimpleReceipt: invalid sender/peer receipt without recipient");y=p}else y=f.isLid()||c?o("WAWebUserPrefsMeUser").getMeLidUserOrThrow():o("WAWebUserPrefsMeUser").getMePnUserOrThrow();var C=i.map(function(e){return new(r("WAWebMsgKey"))({id:e,remote:l,fromMe:!h,participant:y})});h&&n===o("WAWebAck").ACK.PLAYED&&o("WAWebHandleMsgReceiptCommon").handleViewOnceOpenedIfNecessary(C);var b=C.map(function(e){return e.toString()});d!=null&&o("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();var v=d!=null&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete(),S;return h?p!=null&&o("WAWebHandleMsgReceiptUtils").isReadOrPlayedReceipt(a)&&i.length>0&&(S=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({isOffline:v,ack:n,ts:_,msgKeys:b,remote:l})):S=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:n,ts:_,receiverId:m,msgKeys:b}),v||(yield o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("receiptBatcherRunActiveBatches",function(){return o("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches()}).waitUntilCompleted()),S}),d.apply(this,arguments)}l.handleGroupSimpleReceipt=c}),98);
__d("WAWebHandleNewsletterReceipt",["WAAckLevel","WALogger","WAWebAck","WAWebHandleMsgReceiptCommon","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.ack,a=t.ackString,i=t.externalIds,l=t.from,u=t.offline,c=t.participant,d=t.stanzaId,m=t.ts,p="[receipt][newsletter]["+d+"]";if(a==="view")return o("WAWebHandleMsgReceiptCommon").updateMsgViewed(i.map(function(e){return parseInt(e,10)}),l);if(n!==o("WAAckLevel").ACK.READ&&n!==o("WAAckLevel").ACK.PLAYED)throw o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose([""," ACK should be READ or PLAYED, "," received instead"])),p,n),r("err")("handleNewsletterSimpleReceipt: only READ/PLAYED ack for newsletters");var _=(a===o("WAWebAck").ACK_STRING.READ_SELF||a===o("WAWebAck").ACK_STRING.PLAYED_SELF)&&c!=null&&o("WAWebWidFactory").asUserWidOrThrow(c).equals(o("WAWebUserPrefsMeUser").getMePnUserOrThrow());if(!_)throw o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose([""," only peer receipts are accepted"])),p),r("err")("handleNewsletterSimpleReceipt: only peer receipts for newsletters");var f=i.map(function(e){return new(r("WAWebMsgKey"))({id:e,remote:l,fromMe:!1})}),g=f.map(function(e){return e.toString()});u!=null&&o("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete();var h=u!=null&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete(),y=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({isOffline:h,ack:n,ts:m,remote:l,msgKeys:g});return h||(yield o("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches()),y}),c.apply(this,arguments)}l.handleNewsletterSimpleReceipt=u}),98);
__d("WAWebHandleStatusReceipt",["Promise","WAJids","WALogger","WAWebAck","WAWebMessageReceiptBatcher","WAWebMsgKey","WAWebOfflineHandler","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a,i=t.ack,l=t.ackString,u=t.externalIds,c=t.offline,d=t.participant,m=t.recipient,p=t.ts,_=u[0];if(!d){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error: got status ack without participant"]))).sendLogs("handleStatusSimpleReceipt: failed");return}var f=o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),g=o("WAWebWidFactory").asUserWidOrThrow(d),h=o("WAWebUserPrefsMeUser").isMeAccount(g),y=((a=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebUserPrefsKeys").HASHED_KEYS.USER_PRIVACY_SETTINGS))==null?void 0:a.readReceipts)==="none";if(!(!h&&(y||l!==o("WAWebAck").ACK_STRING.READ))){var C=o("WAWebWidFactory").createWid(o("WAJids").STATUS_JID),b=new(r("WAWebMsgKey"))({id:_,remote:C,fromMe:!h,participant:m!=null?m:f}),v=[b.toString()],S=c!=null&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete(),R=(s||(s=n("Promise"))).resolve();return h?R=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptPeerReceipt({ts:p,msgKeys:v,ack:i,isOffline:S,remote:C}):R=o("WAWebMessageReceiptBatcher").receiptBatcher.acceptOtherReceipt({ack:i,ts:p,receiverId:g,msgKeys:v}),S||o("WAWebMessageReceiptBatcher").receiptBatcher.runActiveBatches(),R}}),c.apply(this,arguments)}l.handleStatusSimpleReceipt=u}),98);
__d("WAWebReceiptAck",["WAWap","WAWebCommsWapMd"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){return o("WAWap").wap("ack",{to:o("WAWebCommsWapMd").JID(e),id:o("WAWap").CUSTOM_STRING(t),class:"receipt",type:o("WAWap").MAYBE_CUSTOM_STRING(n),participant:r&&r!==e?o("WAWebCommsWapMd").DEVICE_JID(r):o("WAWap").DROP_ATTR})}l.buildReceiptAck=e}),98);
__d("WAWebHandleMsgReceipt",["Promise","WALogger","WAWebAck","WAWebCreateReceiptStanzaReceiveMetric","WAWebHandleAckPeerSimpleReceipt","WAWebHandleBotInvokeMsgReceipt","WAWebHandleDirectChatReceipt","WAWebHandleGroupChatReceipt","WAWebHandleMsgReceiptParser","WAWebHandleMsgReceiptUtils","WAWebHandleNewsletterReceipt","WAWebHandleStatusReceipt","WAWebNewsletterGatingUtils","WAWebReceiptAck","asyncToGeneratorRuntime","err","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h;function y(e){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WAWebCreateReceiptStanzaReceiveMetric").createReceiptStanzaReceiveMetric(),n=o("WAWebHandleMsgReceiptParser").msgReceiptParser.parse(e);if(n.error)throw o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),n.error.toString()),n.error;var a=n.success,i=a.ack,l=a.ackString,s=a.from,u=a.offline,c=a.stanzaId,h;if(a.type==="simple")if(i===o("WAWebAck").ACK.CONTENT_GONE)h=o("WAWebReceiptAck").buildReceiptAck(s,c,l,null);else{try{o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(['handleSimpleReceipt: receipt "','" for msg: ',""])),i,r("gkx")("26258")?"...":c),yield b(a)}catch(e){o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(['handleSimpleReceipt: receipt "','" for msg: '," failed: ",""])),i,r("gkx")("26258")?"...":c,r("gkx")("26258")?"...":e).tags("messaging")}h=o("WAWebReceiptAck").buildReceiptAck(s,c,l,a.participant)}else if(a.type==="aggregated_by_type"){try{o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateReceipt: ",' receipt(s) "','" for msg: ',""])),a.receipts.length,i,r("gkx")("26258")?"...":a.externalId),yield v(a)}catch(e){}h=o("WAWebReceiptAck").buildReceiptAck(s,c,l,null)}else if(a.type==="aggregated_by_message"){try{o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateByMessageReceipt: "," receipt(s) for msg: ",""])),a.receipts.length,r("gkx")("26258")?"...":a.externalId),yield S(a)}catch(e){o("WALogger").ERROR(g||(g=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateByMessageReceipt: failed: ",""])),e).sendLogs("handle-aggregate-by-message-receipt-failed",{sampling:.001})}h=o("WAWebReceiptAck").buildReceiptAck(s,c,l,null)}else a.type;return u==null&&t(a),h}),C.apply(this,arguments)}function b(t){var a=t.ack,i=t.ackString,l=t.from,u=t.recipient;if(a===o("WAWebAck").ACK.PEER)return o("WAWebHandleAckPeerSimpleReceipt").handleAckPeerSimpleReceipt(t);if(l.isNewsletter())return o("WAWebNewsletterGatingUtils").isNewsletterEnabled()?o("WAWebHandleNewsletterReceipt").handleNewsletterSimpleReceipt(t):(h||(h=n("Promise"))).resolve();if(l.isBot()&&u!=null&&i===o("WAWebAck").ACK_STRING.READ)return o("WAWebHandleBotInvokeMsgReceipt").handleBotOneToOneInvokeSimpleReadReceipt(t);if(l.isStatus())return o("WAWebHandleStatusReceipt").handleStatusSimpleReceipt(t);if(l.isUser())return o("WAWebHandleDirectChatReceipt").handleChatSimpleReceipt(t);if(l.isGroup())return o("WAWebHandleGroupChatReceipt").handleGroupSimpleReceipt(t);if(l.isBroadcast()){if(!t.participant)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error: missing participant for broadcast receipt ",""])),l.toString()).sendLogs("handleSimpleReceipt: failed"),(h||(h=n("Promise"))).reject(r("err")("handleSimpleReceipt: missing participant for broadcast receipt "+l.toString()));var c=babelHelpers.extends({},t,{from:t.participant,participant:null});return o("WAWebHandleDirectChatReceipt").handleChatSimpleReceipt(c)}return o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error: unsupported type for ",""])),l.toString()).sendLogs("handleSimpleReceipt: failed"),(h||(h=n("Promise"))).reject(r("err")("handleSimpleReceipt: unsupported type for "+l.toString()))}function v(e){var t=e.ack,a=e.from;return t===o("WAWebAck").ACK.CONTENT_GONE?(o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["error: reupload receipts cannot be aggregated"]))).sendLogs("handleAggregateReceipt: failed"),(h||(h=n("Promise"))).reject(r("err")("handleAggregateReceipt: failed"))):!a.isGroup()&&!a.isBroadcast()?(o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["handleAggregateReceipt: aggregate receipts should come only from group, broadcast"]))).sendLogs("handleAggregateReceipt: failed"),(h||(h=n("Promise"))).reject(r("err")("handleAggregateReceipt: failed"))):(h||(h=n("Promise"))).all(o("WAWebHandleMsgReceiptUtils").deaggregateGroupedByTypeReceipt(e).map(b))}function S(e){return(h||(h=n("Promise"))).all(o("WAWebHandleMsgReceiptUtils").deaggregateGroupedByMessageReceipt(e).map(b))}l.default=y}),98);
__d("WAWebCommsHandleMessagingStanza",["WAParsableWapNode","WAWebCommsHandleStanzaUtils","WAWebCreateNackFromStanza","WAWebHandleMsg","WAWebHandleMsgReceipt","WAWebPostUnknownStanzaMetric","WAWebWid"],(function(t,n,r,o,a,i,l){function e(e){var t=e.attrs;switch(e.tag){case"message":{var n=e.attrs.from;if(!r("WAWebWid").isNewsletter(n==null?void 0:n.toString()))return r("WAWebHandleMsg")(e).catch(function(t){return o("WAWebCommsHandleStanzaUtils").handleMessageParsingFailure(e,t)})}break;case"receipt":try{if(!o("WAWebCommsHandleStanzaUtils").isCallReceipt(e)&&t.type!=="retry")return r("WAWebHandleMsgReceipt")(e)}catch(t){return t instanceof o("WAParsableWapNode").XmppParsingFailure?(o("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(e),o("WAWebCreateNackFromStanza").createNackFromStanza(e,o("WAWebCreateNackFromStanza").NackReason.ParsingError)):o("WAWebCreateNackFromStanza").createNackFromStanza(e,o("WAWebCreateNackFromStanza").NackReason.UnhandledError)}}}l.handleMessagingStanza=e}),98);
__d("WAWebGroupApiConst",[],(function(t,n,r,o,a,i){var e={superadmin:"superadmin",admin:"admin",participant:"participant"};i.GROUP_PARTICIPANT_TYPES=e}),66);
__d("WAWebGroupLinkJoinUtils",["WALogger","WATimeUtils","WAWebDBGroupsGroupMetadata","WAWebGroupGatingUtils","WAWebGroupSystemMsg","WAWebGroupType","WAWebSchemaGroupMemberChanges","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=o("WAWebSchemaGroupMemberChanges").getGroupMemberChangesTable(),a=t.map(function(t){return{groupJid:e,participantJid:t.id.toString(),changeTimestamp:n,changeAction:o("WAWebSchemaGroupMemberChanges").GroupMemberChangeAction.JOINED_VIA_LINK}});yield r.bulkCreateOrReplace(a)}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var r=o("WAWebSchemaGroupMemberChanges").getGroupMemberChangesTable(),a=e.toString(),i=yield r.equals(["groupJid"],a),l=i.filter(function(e){return!(e.changeAction!==o("WAWebSchemaGroupMemberChanges").GroupMemberChangeAction.JOINED_VIA_LINK||t!=null&&e.changeTimestamp<t||n!=null&&e.changeTimestamp>n)}),s=new Set(l.map(function(e){return e.participantJid}));return Array.from(s)}),m.apply(this,arguments)}function p(e,t,n){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a,i=o("WATimeUtils").unixTime(),l=n==null?void 0:n.lastJoinFloodNotificationTimestampSec;if(l!=null&&i-l<o("WATimeUtils").HOUR_SECONDS)return null;var s=(a=t.ts)!=null?a:i;yield u(t.chatId.toString(),r,o("WATimeUtils").castToUnixTime(s));var c=i-o("WATimeUtils").FIVE_MINUTES,m=yield d(t.chatId.toString(),o("WATimeUtils").castToUnixTime(c));return m.length>=o("WAWebGroupGatingUtils").getAnyoneCanLinkM2FloodLimit()?(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[system message] join flood notification - "," joins in 5 minutes"])),m.length),yield o("WAWebDBGroupsGroupMetadata").persistGroupMetadata(t.chatId,{lastJoinFloodNotificationTimestampSec:i}),o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:t,action:{actionType:o("WAWebGroupType").GROUP_ACTIONS.JOIN_FLOOD_NOTIFICATION},dbIsStale:!1})):null}),_.apply(this,arguments)}function f(e,t,n){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){if(!o("WAWebGroupGatingUtils").isAnyoneCanLinkToGroupsM2Enabled())return[];var r=[];try{var a=yield p(e,t,n);a!=null&&r.push(a)}catch(e){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[system message] join flood notification failed: ",""])),e)}return r}),g.apply(this,arguments)}l.JOIN_FLOOD_WINDOW_SECS=o("WATimeUtils").FIVE_MINUTES,l.JOIN_FLOOD_COOLDOWN_SECS=o("WATimeUtils").HOUR_SECONDS,l.storeJoinViaLinkRecords=u,l.getParticipantsJoinedViaLink=d,l.maybeGenerateLinkJoinNotifications=f}),98);
__d("WAWebGroupJoinCWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({GroupJoinC:[158,{},[1,1,1],"regular"]},{GroupJoinC:[]});l.GroupJoinCWamEvent=e}),98);
__d("WAWebHandleGroupCreation",["Promise","WALogger","WAWebApiChat","WAWebBackendApi","WAWebCreateChat","WAWebGroupDatabaseJob","WAWebGroupJoinCWamEvent","WAWebGroupParticipantsJob","WAWebHandleMsgTypes.flow","WAWebHandlePushnameUpdate","WAWebUserPrefsMeUser","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e,t,n,r){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i){a===void 0&&(a=!1),i===void 0&&(i=!1),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["inside handleGroupCreation"]))).tags("groups");var l=t.author,d=t.chatId,m=t.pushname,p=r.creation,_=r.hasCapi,f=r.id,g=r.participants,h=r.subject;(t.author==null||!t.author.equals(o("WAWebUserPrefsMeUser").getMaybeMePnUser()))&&new(o("WAWebGroupJoinCWamEvent")).GroupJoinCWamEvent().commit(),l&&m&&o("WAWebHandlePushnameUpdate").updatePushname(l,m,a),yield(c||(c=n("Promise"))).all([o("WAWebGroupDatabaseJob").updateGroupMetadataTableJob([r]),o("WAWebGroupParticipantsJob").updateParticipantsJob({group:f,participants:g,isOffline:a,groupInfo:r})]),o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["updated GroupMetadata and participants tables"]))).tags("groups"),(yield o("WAWebApiChat").getChatRecord(d))!=null?o("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:d,subject:h}):(yield o("WAWebCreateChat").createChat({chatId:d},"groupCreation",babelHelpers.extends({t:p,pendingInitialLoading:!1,createdLocally:!1},i===!0&&{notSpam:!0}),babelHelpers.extends({createdOffline:a},_===!0&&{nextPrivacyMode:{actualActors:o("WAWebHandleMsgTypes.flow").ActualActorsEnumType.Capi,hostStorage:o("WAWebHandleMsgTypes.flow").HostStorageEnumType.Facebook,privacyModeTs:0}})),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["updated chat model and table"]))).tags("groups"),o("WAWebBackendApi").frontendFireAndForget("updateGroupSubject",{id:f,subject:h})),o("WAWebBackendApi").frontendFireAndForget("setGroupMetadata",r),o("WAWebBackendApi").frontendFireAndForget("markProfilePicStale",{profilePicThumbWid:f}),!a&&o("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("maybeSendKeyDistributionMsgToNewGroup",{groupId:f})}),m.apply(this,arguments)}l.handleGroupCreation=d}),98);
__d("WAWebMemberLabelGroupRemoveHandler",["WALogger","WAWebBackendApi","WAWebLidMigrationUtils","WAWebMemberLabelGating","WAWebMemberLabelJob","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n){if(o("WAWebMemberLabelGating").isMemberLabelInfraEnabled())try{var r=[],a=t.chatId,i=o("WAWebWidToJid").widToGroupJid(a),l=[],s=n.participants.some(function(e){return o("WAWebUserPrefsMeUser").isMeAccount(e.id)});if(s){var u=yield o("WAWebMemberLabelJob").deleteAllMemberLabelsForGroup({chatId:i});for(var c of u)r.push({type:"DELETE",data:{chatId:i,member:c}})}else{for(var d of n.participants){var m=o("WAWebLidMigrationUtils").toUserLid(d.id);if(m){var p=o("WAWebWidToJid").userLidtoLidUserJid(m);l.push(p)}}var _=yield o("WAWebMemberLabelJob").deleteMemberLabelsForGroup({chatId:i,members:l});for(var f of _)r.push({type:"DELETE",data:{chatId:i,member:f}})}r.length>0&&o("WAWebBackendApi").frontendFireAndForget("updateMemberLabelCollection",{updates:r})}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[Member Labels] cleanup failed for removed members"])))}}),u.apply(this,arguments)}l.handleMemberLabelUpdatesOnGroupParticipantRemoval=s}),98);
__d("WAWebIsAddressingModeMismatch",[],(function(t,n,r,o,a,i){function e(e,t){return!!t.isLidAddressingMode!=!!e.isLidAddressingMode}i.isAddressingModeMismatch=e}),66);
__d("WAWebShouldTriggerQueryGroupInfo",["WAWebIsAddressingModeMismatch","WAWebSchemaGroupMetadata","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.action,n=e.disableForCAGs,r=e.groupWid,a=yield o("WAWebSchemaGroupMetadata").getGroupMetadataTable().get(r.toString());if(a==null)return!1;var i=(a==null?void 0:a.defaultSubgroup)===!0;return i&&n?!1:o("WAWebIsAddressingModeMismatch").isAddressingModeMismatch(a,t)}),s.apply(this,arguments)}l.shouldTriggerQueryGroupInfo=e}),98);
__d("WAWebHandleGroupNotificationAction",["Promise","WALogger","WAWebApiParticipantStore","WAWebBackendApi","WAWebBotGroupGatingUtils","WAWebBotUtils","WAWebDBGroupsGroupMetadata","WAWebGetMessageCache","WAWebGroupGatingUtils","WAWebGroupLinkJoinUtils","WAWebGroupQueryJob","WAWebGroupSystemMsg","WAWebGroupType","WAWebGroupUtils","WAWebGroupsParticipantsApi","WAWebHandleGroupCreation","WAWebHandleGroupNotificationConst","WAWebHandleSingleMsg","WAWebLidMappingUsernameLearnUtils","WAWebMemberLabelGroupRemoveHandler","WAWebSchemaChat","WAWebShouldTriggerQueryGroupInfo","WAWebUpdateDbForGroupActionApi","WAWebUserPrefsMeUser","asyncToGeneratorRuntime","cr:4533","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g;function h(e){return y.apply(this,arguments)}function y(){return y=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield(g||(g=n("Promise"))).all([o("WAWebDBGroupsGroupMetadata").getGroupMetadata(e),o("WAWebSchemaChat").getChatTable().get(e.toString(),!1)]),r=t[0],a=t[1];return!!r||!!a&&!!a.t}),y.apply(this,arguments)}function C(e){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.action,n=e.actionShouldBeHiddenFromNonAdmins,r=e.meta,a=(yield o("WAWebHandleGroupNotificationConst").getIsCagById(r.chatId))===!0;if(a&&n){var i=yield o("WAWebGroupsParticipantsApi").getParticipants(r.chatId),l=i?o("WAWebGroupUtils").amIGroupAdmin(i.admins):!1;return l?t.participants:[]}return t.participants}),b.apply(this,arguments)}function v(e,t){return o("WAWebBackendApi").frontendSendAndReceive("updateModelForGroupAction",{groupMeta:e,groupAction:t})}function S(e,t,n,r,o){return R.apply(this,arguments)}function R(){return R=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r,a){n===void 0&&(n=!1),a===void 0&&(a=!1),yield o("WAWebHandleGroupCreation").handleGroupCreation(e,t,n,a),r!=null&&(yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(e,r,n),v(e,r))}),R.apply(this,arguments)}function L(e,t,n){var r=n.defaultSubgroup===!0||n.isLidAddressingMode===!0?o("WAWebUserPrefsMeUser").getMeLidUserOrThrow():o("WAWebUserPrefsMeUser").getMePnUserOrThrow();if((!o("WAWebUserPrefsMeUser").isMeAccount(e.author)||t.reason===o("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD)&&r!=null){var a=o("WAWebGroupUtils").amIGroupAdminGivenParticipants(n.participants);return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ADD,participants:[{id:r,isAdmin:a,isSuperAdmin:!1}],reason:t.reason,parentGroupId:n.parentGroup,isParentGroup:n.isParentGroup,contextGroupId:t.contextGroupId,groupName:n.subject,defaultSubgroup:n.defaultSubgroup,generalSubgroup:n.generalSubgroup,hiddenSubgroup:n.hiddenSubgroup}}}function E(e,t,n){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){if(i===void 0&&(i=!1),!!a){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handle action ",""])),a.actionType).tags("groups");var l=[];try{if(yield o("WAWebLidMappingUsernameLearnUtils").processParsedGroupNotificationForLidMappingAndUsernames({notification:t,flushImmediately:!i}),a.actionType===o("WAWebGroupType").GROUP_ACTIONS.REMOVE&&(yield o("WAWebMemberLabelGroupRemoveHandler").handleMemberLabelUpdatesOnGroupParticipantRemoval(t,a)),a.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE){var y=babelHelpers.extends({},a.groupInfo,{id:t.chatId,isLidAddressingMode:t.isLidAddressingMode}),b=L(t,a,y),R=yield h(y.id);o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["group id "," exists in storage = ",""])),y.id,R).tags("groups"),yield S(t,y,i,b,a.reason==="invite"),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleGroupCreation done for group id ",""])),y.id).tags("groups");var E=yield o("WAWebGroupSystemMsg").genMsgsForGroupCreation(t,y,R,b);l.push.apply(l,E.filter(Boolean))}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.ADD){if(!r("gkx")("26258")){var k,I=(k=n("cr:4533")==null?void 0:n("cr:4533").getDebugIgnoreParticipantAdd())!=null?k:0;if(I>0){n("cr:4533")==null||n("cr:4533").setDebugIgnoreParticipantAdd(I-1);return}}var T=yield o("WAWebHandleGroupNotificationConst").notAlreadyInGroup(t.chatId,a.participants),D=yield o("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:t.chatId,action:a});if(D?yield o("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:t.chatId,actionType:o("WAWebGroupType").GROUP_ACTIONS.ADD}):(yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(t,a,i),v(t,a)),T.length||a.reason){var x=yield C({meta:t,action:a,actionShouldBeHiddenFromNonAdmins:!0});if(x.length>0){if(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[system message] eligible participants = "," - ADD"])),x.length),l.push(yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:t,action:babelHelpers.extends({},a,{participants:x}),dbIsStale:!1})),o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()&&o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(x).includeOpenMetabot){var $=yield o("WAWebGroupSystemMsg").genGroupTransitionToBotGroupNotificationMsg(t.chatId);l.push($)}if(o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled()&&o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(x).includeTeeMetabot){var P=yield o("WAWebGroupSystemMsg").genGroupTransitionToTeeBotGroupNotificationMsg(t.chatId);l.push(P)}if(a.reason===o("WAWebGroupType").ADD_REASON.INVITE&&o("WAWebGroupGatingUtils").isAnyoneCanLinkToGroupsM2Enabled()){var N=yield o("WAWebApiParticipantStore").isCurrentUserGroupAdmin(t.chatId.toString());if(N)try{var M=yield o("WAWebDBGroupsGroupMetadata").getGroupMetadata(t.chatId),w=yield o("WAWebGroupLinkJoinUtils").maybeGenerateLinkJoinNotifications(t,M,x);w.forEach(function(e){l.push(e)})}catch(e){o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[system message] link join notifications failed: ",""])),e)}}}}}else if(!(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK)){if(!(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_SUB_GROUP_UNLINK))if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DELETE&&a.reason===o("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT){var A=yield o("WAWebGroupSystemMsg").genIntegrityDeleteParentNotificationMsgs(t,a);A.forEach(function(e){l.push(e)}),yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(t,a,i),v(t,a)}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DESC_ADD||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE)l.push(yield o("WAWebGroupSystemMsg").genDescriptionNotificationMsg(t,a)),yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(t,a,i),v(t,a);else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DELETE&&a.reason===o("WAWebGroupType").DELETE_REASON.DELETE_PARENT){var F=yield o("WAWebGroupSystemMsg").generateDeleteParentNotificationMessages(t);if(F.length===0)return;F.forEach(function(e){l.push(e)}),yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(t,a,i),v(t,a)}else{var O=!1;if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.REMOVE){var B=yield o("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:t.chatId,action:a,disableForCAGs:!0});B&&(O=!0,o("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:t.chatId,actionType:o("WAWebGroupType").GROUP_ACTIONS.REMOVE}))}if(!O){var W=yield o("WAWebHandleGroupNotificationConst").shouldSkipGenMsg(t,a);if(yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(t,a,i),v(t,a),!W){var q=yield o("WAWebApiParticipantStore").isCurrentUserGroupAdmin(t.chatId.toString());if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.REMOVE){var U=yield C({meta:t,action:a,actionShouldBeHiddenFromNonAdmins:!0});if(U.length>0&&(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[system message] eligible participants = "," - REMOVE"])),U.length),l.push(yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers.extends({},t,{isAdmin:q}),action:babelHelpers.extends({},a,{participants:U}),dbIsStale:O})),o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()||o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled())){var V=o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(U);(V.includeOpenMetabot||V.includeTeeMetabot)&&o("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:t.chatId,actionType:o("WAWebGroupType").GROUP_ACTIONS.REMOVE})}}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION){var H=yield o("WAWebGroupSystemMsg").genCreatedSubgroupSuggestionNotificationMsg(t,a);H&&l.push(H)}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.PROMOTE||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DEMOTE||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.MODIFY||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_PROMOTE||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE){var G=a.actionType===o("WAWebGroupType").GROUP_ACTIONS.DEMOTE||a.actionType===o("WAWebGroupType").GROUP_ACTIONS.LINKED_GROUP_DEMOTE,z=yield C({meta:t,action:a,actionShouldBeHiddenFromNonAdmins:G});z.length>0&&(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[system message] eligible participants = "," - actionType = ",""])),z.length,a.actionType),l.push(yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers.extends({},t,{isAdmin:q}),action:babelHelpers.extends({},a,{participants:z}),dbIsStale:O})))}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION){var j=yield o("WAWebGroupSystemMsg").genAllowNonAdminSubGroupCreationNotificationMsg(t,a);j&&l.push(j)}else if(a.actionType===o("WAWebGroupType").GROUP_ACTIONS.COMMUNITY_OWNER_UPDATE){var K=yield o("WAWebGroupSystemMsg").genCommunityOwnerUpdateNotificationMsg(t,a);K&&l.push(K)}else o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[system message] another action => ",""])),a.actionType),l.push(yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:babelHelpers.extends({},t,{isAdmin:q}),action:a,dbIsStale:O}))}}}}var Q=l.filter(Boolean);i?o("WAWebGetMessageCache").getMessageCache().addMessages(Q.map(function(e){return{msg:e}}),!1):yield(g||(g=n("Promise"))).all(Q.map(function(e){return o("WAWebHandleSingleMsg").handleSingleMsg({chatId:e.from,newMsg:e,handleSingleMsgOrigin:"handleGroupNotification"})}))}catch(e){o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["handleGroupNotification: failed with ",""])),e)}}}),k.apply(this,arguments)}l.handleAction=E}),98);
__d("WAWebHandleGroupNotificationV2",["Promise","WALogger","WAWap","WAWebBackendApi","WAWebBackendEventBus","WAWebBotGroupGatingUtils","WAWebBotUtils","WAWebCommsWapMd","WAWebGetMessageCache","WAWebGroupDatabaseJob","WAWebGroupQueryJob","WAWebGroupSystemMsg","WAWebHandleGroupNotificationConst","WAWebHandleSingleMsg","WAWebLidMappingUsernameLearnUtils","WAWebMemberLabelGroupRemoveHandler","WAWebMessageQueue","WAWebShouldTriggerQueryGroupInfo","WAWebUpdateDbForGroupActionApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e,t){return f(e,t)!=null}function m(e){return o("WAWap").wap("ack",{to:o("WAWebCommsWapMd").GROUP_JID(e.chatId),id:o("WAWap").CUSTOM_STRING(e.externalId),class:"notification",type:"w:gp2",participant:e.author?o("WAWebCommsWapMd").USER_JID(e.author):o("WAWap").DROP_ATTR})}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){yield o("WAWebLidMappingUsernameLearnUtils").processParsedGroupNotificationForLidMappingAndUsernames({notification:t,flushImmediately:!r}),yield(c||(c=n("Promise"))).all(t.actions.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){e.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE&&(yield o("WAWebMemberLabelGroupRemoveHandler").handleMemberLabelUpdatesOnGroupParticipantRemoval(t,e))});return function(t){return e.apply(this,arguments)}})()));var a=f(t,r);return a==null?(o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["no handler for group notification ",""])),t.chatId.toLogString()),m(t)):(yield c.all([a.writeSystemMessages(),a.writeGroupInfoUpdates()]),m(t))}),_.apply(this,arguments)}function f(e,t){var r=[];for(var a of e.actions){var i=l(e,a);if(i==null)return null;r.push(i)}return{writeSystemMessages:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield(c||(c=n("Promise"))).all(r.map(function(e){return e.writeSystemMessages()}))});function t(){return e.apply(this,arguments)}return t})(),writeGroupInfoUpdates:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield(c||(c=n("Promise"))).all(r.map(function(e){return e.writeGroupInfoUpdates()}))});function t(){return e.apply(this,arguments)}return t})()};function l(e,r){return r.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE?null:{writeGroupInfoUpdates:(function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if((r.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD||r.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE)&&(yield o("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:e.chatId,action:r}))){o("WAWebGroupDatabaseJob").markGroupParticipantStaleJob(e.chatId);return}yield o("WAWebUpdateDbForGroupActionApi").updateDBForGroupAction(e,r,t),o("WAWebBackendApi").frontendFireAndForget("updateModelForGroupAction",{groupMeta:e,groupAction:r})});function i(){return a.apply(this,arguments)}return i})(),writeSystemMessages:(function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return y(e.chatId,yield g(e,r),t,function(){return o("WAWebHandleGroupNotificationConst").shouldSkipGenMsg(e,r)})});function i(){return a.apply(this,arguments)}return i})()}}}function g(e,t){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=[];if((t.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD||t.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE)&&(yield o("WAWebShouldTriggerQueryGroupInfo").shouldTriggerQueryGroupInfo({groupWid:e.chatId,action:t})))return[];if(t.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD){var r=yield o("WAWebHandleGroupNotificationConst").notAlreadyInGroup(e.chatId,t.participants),a=r.filter(function(e){var t=e.id,n=e.phoneNumber;return!t.isLid()||n!=null});if(a.length>0){if(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[system message][v2] eligibleParticipants = "," - ADD"])),a.length),n=[yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:e,action:babelHelpers.extends({},t,{participants:a}),dbIsStale:!0})],o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()&&o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(a).includeOpenMetabot){var i=yield o("WAWebGroupSystemMsg").genGroupTransitionToBotGroupNotificationMsg(e.chatId);n.push(i)}if(o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled()&&o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(a).includeTeeMetabot){var l=yield o("WAWebGroupSystemMsg").genGroupTransitionToTeeBotGroupNotificationMsg(e.chatId);n.push(l)}}}else if(t.actionType!==o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[system message][v2] genSystemNotificationsImpl - actionType = ",""])),t.actionType),n=[yield o("WAWebGroupSystemMsg").genGroupNotificationMsg({meta:e,action:t,dbIsStale:!0})],(o("WAWebBotGroupGatingUtils").isOpenGroupBotParticipantAddEnabled()||o("WAWebBotGroupGatingUtils").isTEEGroupBotParticipantAddEnabled())&&t.actionType===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE)){var c=o("WAWebBotUtils").participantListIncludOpenOrTeeGroupBotWid(t.participants);(c.includeOpenMetabot||c.includeTeeMetabot)&&o("WAWebGroupQueryJob").queryAndUpdateGroupMetadataById({id:e.chatId,actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE})}return n.filter(Boolean)}),h.apply(this,arguments)}function y(e,t,r,a){var i=function(){},l=new(c||(c=n("Promise")))(function(e){return i=e});return o("WAWebMessageQueue").onMessageQueue({chatWid:e,isOffline:r,msgCategory:null,action:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(yield a()){i();return}var e=s(t).then(function(){i()});return r?(c||(c=n("Promise"))).resolve():e});function o(){return e.apply(this,arguments)}return o})()}),l;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e.length!==0){if(r)return o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd&&e.forEach(function(e){o("WAWebBackendApi").frontendFireAndForget("updateMessageUI",{chatId:e.id.remote,msg:e})}),o("WAWebGetMessageCache").getMessageCache().addMessages(e.map(function(e){return{msg:e}}),!1);yield(c||(c=n("Promise"))).all(e.map(function(e){return o("WAWebHandleSingleMsg").handleSingleMsg({chatId:e.from,newMsg:e,handleSingleMsgOrigin:"handleGroupNotificationV2"})}))}}),u.apply(this,arguments)}}l.isGroupNotificationOptimizationEligible=d,l.handleGroupNotificationV2=p}),98);
__d("WAWebHandleGroupsDirtyNotification",["WAComms","WALogger","WASmaxGroupsGroupsDirtyNotificationRPC","WAWebEventsWaitForOfflineDeliveryEnd","WAWebPersistedJobDefinitions","WAWebPersistedJobManager","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=o("WASmaxGroupsGroupsDirtyNotificationRPC").receiveGroupsDirtyNotificationRPC(t),r=n.makeGroupsDirtyNotificationResponseAck,a=n.parsedRequest;return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["handleGroupsDirtyNotification: received groups dirty bit notification"]))),d(a),r()}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){try{var t=e.groupsDirtyGroup.map(function(e){return e.jid}),n=yield p(t);yield f(n)}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleGroupsDirtyNotification: failed with ",""])),e).sendLogs("handleGroupsDirtyNotificationJob")}}),m.apply(this,arguments)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebPersistedJobManager").getJobManager().accessors.maybeCreateJob(o("WAWebPersistedJobDefinitions").jobSerializers.queryAndUpdateGroupsMetadataByJids(e));return t.id}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){return yield o("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd(),yield o("WAComms").waitForConnection(),o("WAWebPersistedJobManager").getJobManager().loadAndRunJobFromId(e)}),g.apply(this,arguments)}l.handleGroupsDirtyNotificationJob=u}),98);
__d("WAWebHandleGroupNotification",["Promise","WADeprecatedWapParser","WALogger","WANullthrows","WAWap","WAWebABProps","WAWebCommsWapMd","WAWebCountriesUtils","WAWebCurrentUser","WAWebEphemeralityTypes","WAWebEphemeralityUtils","WAWebGroupApiConst","WAWebGroupMemberLinkMode","WAWebGroupType","WAWebGroupsQueryApi","WAWebHandleGroupNotificationAction","WAWebHandleGroupNotificationConst","WAWebHandleGroupNotificationV2","WAWebHandleGroupsDirtyNotification","WAWebJidToWid","WAWebMessageQueue","WAWebOfflineHandler","WAWebRequestMethodType","WAWebSchemaGroupMetadata","WAWebUserPrefsMeUser","WAWebUserPrefsNotifications","WAWebUsernameGatingUtils","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f;function g(e){if(e.hasChild("description")){var t=e.child("description");if(t.hasChild("body")){var n=t.child("body");if(n.hasContent())return{content:n.contentString(),id:t.attrString("id")}}}return null}function h(e,t){var n=e.hasAttr("creator")?o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("creator")):null;if(e.hasChild("ephemeral")){var r=e.child("ephemeral");if(r.hasAttr("expiration")&&o("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")){var a,i=t?void 0:o("WAWebEphemeralityTypes").DisappearingModeTrigger.UnknownGroups;return{ephemeralDuration:r.attrInt("expiration"),disappearingModeTrigger:(a=o("WAWebEphemeralityUtils").getDisappearingModeTriggerString(r.maybeAttrString("trigger")))!=null?a:i,disappearingModeInitiatedByMe:o("WAWebUserPrefsMeUser").isMeAccount(n)}}return{ephemeralDuration:r.attrInt("expiration")}}return null}function y(e,t,n){return t.mapChildrenWithTag("participant",function(t){var r,a=(r=t.maybeAttrEnum("type",o("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES))!=null?r:"participant",i=t.maybeAttrLidUserJid("lid"),l=t.maybeAttrPhoneUserJid("phone_number"),s={displayName:t.maybeAttrString("display_name"),id:o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("jid")),isSuperAdmin:a===o("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.superadmin,isAdmin:a===o("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.admin||a===o("WAWebGroupApiConst").GROUP_PARTICIPANT_TYPES.superadmin,lid:i!=null?o("WAWebJidToWid").userJidToUserWid(i):null,phoneNumber:l!=null?o("WAWebJidToWid").userJidToUserWid(l):null,username:t.maybeAttrString("username")},u=n===o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE;return u||C(e,s,n),s})}function C(t,n,r){try{var a=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled()&&n.username!=null;!a&&n.displayName==null&&n.phoneNumber==null&&n.id.isLid()&&!o("WAWebUserPrefsMeUser").isMeAccount(n.id)&&(o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[lid group] incoming group notification does not have phone mapping for lid. tag: ",",\n            sw worker: ",""])),r,o("WAWebUserPrefsNotifications").getGlobalOfflineNotifications().toString()),o("WAWebCurrentUser").isEmployee()?(o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[lid group] group id=",", lid=",""])),t.toString(),n.id.toString()),o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in parser for employee"]))).sendLogs("[lid group] missing group mapping in parser for employee")):o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[lid group] missing group mapping in action parser"]))).sendLogs("[lid group] missing group mapping in action parser"))}catch(e){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[lid group] could not check missing group mapping in group action parser ",""])),e)}}function b(e){var t=e.child("sub_group_suggestion"),n=o("WAWebJidToWid").groupJidToWid(t.attrGroupJid("jid")),r=o("WAWebJidToWid").userJidToUserWid(t.attrUserJid("creator")),a=t.attrTime("creation"),i=t.child("subject"),l=i.contentString(),s,u,c;if(t.hasChild("description")){var d=t.child("description");if(d.hasChild("body")){var m=d.child("body");m.hasContent()&&(s=m.contentString())}}if(t.hasChild("is_existing_group")){var p=t.child("is_existing_group");p.hasContent()&&(u=p.contentString()==="true")}if(t.hasChild("participant_count")){var _=t.child("participant_count");_.hasContent()&&(c=_.contentInt())}return{id:n,owner:r,subject:l,description:s,t:a,isExistingGroup:u!=null?u:!1,participantCount:c}}var v={invite:(f=o("WAWebGroupType")).ADD_REASON.INVITE,linked_group_join:f.ADD_REASON.LINKED_GROUP_JOIN,auto_add:f.ADD_REASON.AUTO_ADD,default_sub_group_admin_add:f.ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD,default_sub_group_promote:f.ADD_REASON.DEFAULT_SUBGROUP_PROMOTE,invite_auto_add:f.ADD_REASON.INVITE_AUTO_ADD,general_chat_auto_add:f.ADD_REASON.GENERAL_CHAT_AUTO_ADD};function S(e){return e==="invite"?o("WAWebGroupType").ADD_REASON.INVITE:e==="linked_group_join"?o("WAWebGroupType").ADD_REASON.LINKED_GROUP_JOIN:e==="auto_add"?o("WAWebGroupType").ADD_REASON.AUTO_ADD:e==="default_sub_group_admin_add"?o("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_ADMIN_ADD:e==="default_sub_group_promote"?o("WAWebGroupType").ADD_REASON.DEFAULT_SUBGROUP_PROMOTE:e==="invite_auto_add"?o("WAWebGroupType").ADD_REASON.INVITE_AUTO_ADD:e==="general_chat_auto_add"?o("WAWebGroupType").ADD_REASON.GENERAL_CHAT_AUTO_ADD:null}function R(e){return e==="default_sub_group_demote"?o("WAWebGroupType").REMOVE_REASON.DEFAULT_SUBGROUP_DEMOTE:null}function L(e){return e==="integrity_delete_parent"?o("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT:e==="delete_parent"?o("WAWebGroupType").DELETE_REASON.DELETE_PARENT:null}var E={invite_link:o("WAWebRequestMethodType").RequestMethod.InviteLink,linked_group_join:o("WAWebRequestMethodType").RequestMethod.LinkedGroupJoin,non_admin_add:o("WAWebRequestMethodType").RequestMethod.NonAdminAdd},k={approved:f.RevokedSubGroupSuggestionReason.APPROVED,rejected:f.RevokedSubGroupSuggestionReason.REJECTED,cancelled:f.RevokedSubGroupSuggestionReason.CANCELLED};function I(e,t,n){var r,a,i,l,s,u,c,d=t.child("group"),m=t.hasAttr("type")&&t.attrString("type")==="new",p=y(e,d,o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE),_=g(d),f=h(d,m),C=o("WAWebGroupsQueryApi").extractLinkedParent(d),b=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),S={subject:d.attrString("subject"),restrict:d.hasChild("locked"),announce:d.hasChild("announcement"),noFrequentlyForwarded:d.hasChild("no_frequently_forwarded"),ephemeralDuration:f?f.ephemeralDuration:void 0,disappearingModeTrigger:f&&f.disappearingModeTrigger!=null?f.disappearingModeTrigger:void 0,disappearingModeInitiatedByMe:f?f.disappearingModeInitiatedByMe:void 0,owner:d.hasAttr("creator")?o("WAWebJidToWid").userJidToUserWid(d.attrUserJid("creator")):void 0,creatorPn:d.hasAttr("creator_pn")?o("WAWebJidToWid").userJidToUserWid(d.attrUserJid("creator_pn")):null,creatorCountryCode:b&&d.hasAttr("creator_country_code")?o("WAWebCountriesUtils").asISOCountryCode(d.attrString("creator_country_code")):null,creatorUsername:b&&d.hasAttr("creator_username")?d.attrString("creator_username"):null,creation:d.attrTime("creation"),participants:p,desc:_?_.content:void 0,descId:_?_.id:void 0,subjectOwner:d.hasAttr("s_o")?o("WAWebJidToWid").userJidToUserWid(d.attrUserJid("s_o")):void 0,subjectOwnerPn:d.hasAttr("s_o_pn")?o("WAWebJidToWid").userJidToUserWid(d.attrUserJid("s_o_pn")):void 0,subjectOwnerUsername:b?d.maybeAttrString("s_o_username"):void 0,subjectTime:(r=d.maybeAttrTime("s_t"))!=null?r:void 0,support:d.hasChild("support"),isParentGroup:d.hasChild("parent"),isParentGroupClosed:((a=d.maybeChild("parent"))==null?void 0:a.maybeAttrString("default_membership_approval_mode"))==="request_required",parentGroup:C?C.parentGroup:void 0,defaultSubgroup:d.hasChild("default_sub_group"),generalSubgroup:d.hasChild("general_chat"),size:(i=d.maybeAttrInt("size"))!=null?i:void 0,membershipApprovalMode:(d==null||(l=d.maybeChild("membership_approval_mode"))==null||(l=l.maybeChild("group_join"))==null?void 0:l.maybeAttrString("state"))==="on",allowNonAdminSubGroupCreation:d==null?void 0:d.hasChild("allow_non_admin_sub_group_creation"),generalChatAutoAddDisabled:(s=t.hasChild("auto_add_disabled"))!=null?s:void 0,hiddenSubgroup:d==null?void 0:d.hasChild("hidden_group"),groupSafetyCheck:d==null?void 0:d.hasChild("group_safety_check"),groupAdder:n||void 0,hasCapi:d==null?void 0:d.hasChild("capi"),limitSharingEnabled:d.hasChild("limit_sharing_enabled"),memberLinkMode:(function(e){if(e===o("WAWebGroupMemberLinkMode").MemberLinkMode.ALL_MEMBER_LINK)return o("WAWebGroupMemberLinkMode").MemberLinkMode.ALL_MEMBER_LINK;if(e===o("WAWebGroupMemberLinkMode").MemberLinkMode.ADMIN_LINK)return o("WAWebGroupMemberLinkMode").MemberLinkMode.ADMIN_LINK})((u=d.maybeChild("member_link_mode"))==null?void 0:u.contentString()),memberAddMode:o("WAWebSchemaGroupMetadata").MemberAddMode.cast((c=d.maybeChild("member_add_mode"))==null?void 0:c.contentString())};return{actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE,reason:t.hasAttr("reason")?t.attrEnumOrNullIfUnknown("reason",v):null,contextGroupId:t.hasAttr("context_group_jid")?o("WAWebJidToWid").groupJidToWid(t.attrGroupJid("context_group_jid")):null,groupInfo:S}}var T=new(r("WADeprecatedWapParser"))("groupNotificationParser",function(e){e.assertTag("notification"),e.hasAttr("to")&&e.assertAttr("to",o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow().toJid());var t=o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("from")),n=e.hasAttr("participant")?o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("participant")):null,a=null;try{var i=e.maybeAttrPhoneUserJid("participant_pn");a=i!=null?o("WAWebJidToWid").userJidToUserWid(i):null}catch(e){o("WALogger").ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Known error T150827746: ",""])),r("getErrorSafe")(e).toString())}var l=o("WAWebUsernameGatingUtils").usernameDisplayedEnabled(),s=e.attrTime("t"),u=e.hasAttr("addressing_mode")?e.attrString("addressing_mode")==="lid":!1,c=e.hasAttr("participant_username")&&l?e.attrString("participant_username"):null,d=e.hasAttr("participant_country_code")&&l?o("WAWebCountriesUtils").asISOCountryCode(e.attrString("participant_country_code")):null;function p(e){return{jid:e.hasAttr("jid")?o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("jid")):void 0}}var _,f=e.mapChildren(function(a){var i,c=a.tag();switch(c){case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATE:return I(t,a,n);case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ADD:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ADD,participants:y(t,a,c),reason:a.hasAttr("reason")?S(a.attrString("reason")):null,isLidAddressingMode:u};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DELETE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.DELETE,reason:a.hasAttr("reason")?L(a.attrString("reason")):null,groupDatas:[{id:t,subject:""}]};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE:return{actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REMOVE,participants:y(t,a,c),reason:a.hasAttr("reason")?R(a.attrString("reason")):null,isLidAddressingMode:u};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.PROMOTE:return{actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.PROMOTE,participants:y(t,a,c)};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DEMOTE:return{actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DEMOTE,participants:y(t,a,c)};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE:return babelHelpers.extends({actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_PROMOTE,participants:y(t,a,c)},p(a));case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE:return babelHelpers.extends({actionType:o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINKED_GROUP_DEMOTE,participants:y(t,a,c)},p(a));case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MODIFY:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.MODIFY,participants:y(t,a,c)};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.SUBJECT:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.SUBJECT,subject:a.attrString("subject"),s_o:a.hasAttr("s_o")?o("WAWebJidToWid").userJidToUserWid(a.attrUserJid("s_o")):null,subjectOwnerPn:a.hasAttr("s_o_pn")?o("WAWebJidToWid").userJidToUserWid(a.attrUserJid("s_o_pn")):null,subjectOwnerUsername:a.maybeAttrString("s_o_username"),s_t:a.maybeAttrTime("s_t")};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.DESC:return a.hasChild("delete")?{actionType:o("WAWebGroupType").GROUP_ACTIONS.DESC_REMOVE,descId:a.attrString("id")}:{actionType:o("WAWebGroupType").GROUP_ACTIONS.DESC_ADD,descId:a.attrString("id"),desc:a.hasChild("body")?a.child("body").contentString():null,descTime:s};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.SUSPENDED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.SUSPEND,value:!0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNSUSPENDED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.SUSPEND,value:!1};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LOCKED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.RESTRICT,value:!0,threshold:(i=a.maybeAttrString("threshold"))!=null?i:void 0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNLOCKED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.RESTRICT,value:!1};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ANNOUNCE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE,value:!0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ANNOUNCE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ANNOUNCE,value:!1};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NO_FREQUENTLY_FORWARDED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD,value:!0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.FREQUENTLY_FORWARDED_OK:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.NO_FORWARD,value:!1};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.INVITE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.INVITE_CODE,code:a.attrString("code")};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.EPHEMERAL:return o("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")?{actionType:o("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:a.attrInt("expiration"),trigger:a.hasAttr("trigger")?a.attrInt("trigger"):void 0,initiatedByMe:o("WAWebUserPrefsMeUser").isMeAccount(n)}:{actionType:o("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:a.attrInt("expiration")};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_EPHEMERAL:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.EPHEMERAL,duration:0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKE_INVITE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.REVOKE_INVITE,participants:a.mapChildrenWithTag("participant",function(e){return{id:o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("jid")),expiration:e.attrInt("expiration")}})};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROWTH_UNLOCKED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.GROWTH_UNLOCKED};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROWTH_LOCKED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.GROWTH_LOCKED,expiration:a.attrInt("expiration"),type:a.attrString("type")};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.LINK:{var d=a.attrString("link_type"),m={sub_group:o("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_LINK,parent_group:o("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_LINK,sibling_group:o("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_LINK};return{actionType:m[d],groupDatas:a.mapChildrenWithTag("group",function(e){return{id:o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("jid")),subject:e.attrString("subject"),subjectTime:e.attrInt("s_t"),hiddenSubgroup:d!=="parent_group"?e.hasChild("hidden_group"):void 0}})}}case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.UNLINK:{var f=a.attrString("unlink_type"),g=a.hasAttr("unlink_reason")?a.attrString("unlink_reason"):null,h=a.mapChildrenWithTag("group",function(e){return{id:o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("jid")),subject:e.attrString("subject"),subjectTime:e.attrInt("s_t")}});if(f==="parent_group"){if(g===o("WAWebGroupType").DELETE_REASON.DELETE_PARENT)return{actionType:o("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:h};if(g===o("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:o("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_PARENT_GROUP_UNLINK,groupDatas:h}}else if(f==="sub_group"){if(g===o("WAWebGroupType").DELETE_REASON.DELETE_PARENT)return{actionType:o("WAWebGroupType").GROUP_ACTIONS.DELETE_PARENT_GROUP_UNLINK,groupDatas:h};if(g===o("WAWebGroupType").DELETE_REASON.INTEGRITY_DELETE_PARENT)return{actionType:o("WAWebGroupType").GROUP_ACTIONS.INTEGRITY_SUB_GROUP_UNLINK,groupDatas:h}}var C={sub_group:o("WAWebGroupType").GROUP_ACTIONS.SUB_GROUP_UNLINK,parent_group:o("WAWebGroupType").GROUP_ACTIONS.PARENT_GROUP_UNLINK,sibling_group:o("WAWebGroupType").GROUP_ACTIONS.SIBLING_GROUP_UNLINK};return{actionType:C[f],groupDatas:h}}case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_MODE:{var v;return{actionType:o("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_MODE,value:((v=a.child("group_join"))==null?void 0:v.attrString("state"))==="on",triggered:a.hasAttr("triggered")?a.attrString("triggered"):void 0}}case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBERSHIP_APPROVAL_REQUEST:{var T;return{actionType:o("WAWebGroupType").GROUP_ACTIONS.MEMBERSHIP_APPROVAL_REQUEST,requestMethod:(T=E[a.attrString("request_method")])!=null?T:o("WAWebRequestMethodType").RequestMethod.InviteLink,parentGroupId:a.hasAttr("parent_group_jid")?o("WAWebJidToWid").groupJidToWid(a.attrGroupJid("parent_group_jid")):void 0}}case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ALLOW_ADMIN_REPORTS:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!o("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch"),value:!0,author:n,triggered:a.hasAttr("triggered")?a.attrString("triggered"):void 0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ALLOW_ADMIN_REPORTS:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ALLOW_ADMIN_REPORTS,shouldSkipGenMsg:!o("WAWebABProps").getABPropConfigValue("report_to_admin_kill_switch"),value:!1,author:n,triggered:a.hasAttr("triggered")?a.attrString("triggered"):void 0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REPORTS:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ADMIN_REPORT_RECIEVED,shouldSkipGenMsg:!0,value:s};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATED_MEMBERSHIP_REQUESTS:{var D;return{actionType:o("WAWebGroupType").GROUP_ACTIONS.CREATED_MEMBERSHIP_REQUESTS,requestMethod:(D=E[a.attrString("request_method")])!=null?D:o("WAWebRequestMethodType").RequestMethod.InviteLink,parentGroupId:a.hasAttr("parent_group_jid")?o("WAWebJidToWid").groupJidToWid(a.attrGroupJid("parent_group_jid")):void 0,requests:a.hasChildren()?a.mapChildrenWithTag("requested_user",function(e){return{wid:o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("jid")),username:l&&e.hasAttr("username")?e.attrString("username"):void 0,phoneNumber:e.hasAttr("phone_number")?o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("phone_number")):void 0}}):[{wid:r("WANullthrows")(n)}],skipGenMsg:a.maybeAttrString("suppress_sys_msg")==="true"}}case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKED_MEMBERSHIP_REQUESTS:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.REVOKED_MEMBERSHIP_REQUESTS,requests:a.mapChildrenWithTag("participant",function(e){return o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("jid"))})};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.NOT_ALLOW_NON_ADMIN_SUB_GROUP_CREATION:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.ALLOW_NON_ADMIN_SUB_GROUP_CREATION,value:!1};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CREATED_SUBGROUP_SUGGESTION:return babelHelpers.extends({actionType:o("WAWebGroupType").GROUP_ACTIONS.CREATED_SUBGROUP_SUGGESTION,parentGroupId:t},b(a));case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.REVOKED_SUB_GROUP_SUGGESTIONS:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.REVOKED_SUB_GROUP_SUGGESTIONS,parentGroupId:t,subgroupSuggestions:a.mapChildrenWithTag("sub_group_suggestion",function(e){return{id:o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("jid")),owner:o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("creator")),reason:e.hasAttr("reason")?k[e.attrString("reason")]:void 0}})};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.CHANGE_NUMBER:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.SUBGROUP_SUGGESTIONS_CHANGE_NUMBER,subgroupSuggestions:a.mapChildrenWithTag("sub_group_suggestion",function(e){return o("WAWebJidToWid").groupJidToWid(e.attrGroupJid("jid"))}),parentGroupId:t,oldOwner:o("WAWebJidToWid").userJidToUserWid(e.attrUserJid("participant")),newOwner:o("WAWebJidToWid").userJidToUserWid(a.attrUserJid("jid"))};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MEMBER_ADD_MODE:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.MEMBER_ADD_MODE,memberAddMode:o("WAWebSchemaGroupMetadata").MemberAddMode.cast(a.contentString())};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.AUTO_ADD_DISABLED:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.GENERAL_CHAT_AUTO_ADD_DISABLED};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.GROUP_SAFETY_CHECK:return{actionType:o("WAWebGroupType").GROUP_ACTIONS.GROUP_SAFETY_CHECK,value:!0};case o("WAWebHandleGroupNotificationConst").GROUP_NOTIFICATION_TAG.MISSING_PARTICIPANT_IDENTIFICATION:{_=!0;return}default:throw e.createParseError("Unrecognized group action "+c)}}).filter(Boolean);return{externalId:e.attrString("id"),chatId:t,isLidAddressingMode:u,author:n,authorPhoneNumber:a,authorUsername:c,authorUsernameCountryCode:d,ts:e.attrTime("t"),pushname:e.maybeAttrString("notify"),offline:e.maybeAttrString("offline"),actions:f,hasIncompleteParticipantInformation:l&&_===!0}});function D(e){var t=e.content;if(t!=null&&Array.isArray(t)&&t.length>0){var r=t[0],a=r.tag;if(a==="groups_dirty")return(_||(_=n("Promise"))).resolve(o("WAWebHandleGroupsDirtyNotification").handleGroupsDirtyNotificationJob(e))}var i=T.parse(e);return i.error?(o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),i.error.toString()),(_||(_=n("Promise"))).reject(i.error)):x(i.success)}function x(e){var t=!!e.offline&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();return o("WAWebHandleGroupNotificationV2").isGroupNotificationOptimizationEligible(e,t)&&t?o("WAWebHandleGroupNotificationV2").handleGroupNotificationV2(e,t):o("WAWebMessageQueue").onMessageQueue({chatWid:e.chatId,isOffline:t,msgCategory:null,action:(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return yield(_||(_=n("Promise"))).all(e.actions.map(function(n){return o("WAWebHandleGroupNotificationAction").handleAction(e,n,t)})),o("WAWap").wap("ack",{to:o("WAWebCommsWapMd").GROUP_JID(e.chatId),id:o("WAWap").CUSTOM_STRING(e.externalId),class:"notification",type:"w:gp2",participant:e.author?o("WAWebCommsWapMd").USER_JID(e.author):o("WAWap").DROP_ATTR})});function a(){return r.apply(this,arguments)}return a})()})}l.handleGroupNotification=D,l.handleParsedGroupNotification=x}),98);
__d("WAWebFetchPrekeysJob",["WAJids","WAParsableXmlNode","WASmaxPreKeysFetchKeyBundlesRPC","WAWebBackendErrors","WAWebWidFactory","WAWebWidToJid","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){t===void 0&&(t=!1);var n=yield o("WASmaxPreKeysFetchKeyBundlesRPC").sendFetchKeyBundlesRPC({userArgs:e.map(function(e){return{userJid:o("WAWebWidToJid").widToDeviceJid(e),hasUserReasonIdentity:t}})});if(n.name==="FetchKeyBundlesResponseServerError"){var a=n.value.errorServerErrors.value;throw new(o("WAWebBackendErrors")).ServerStatusCodeError(Number(a.code),"fetchPrekeys: server error: "+a.code+" "+a.text)}else if(n.name==="FetchKeyBundlesResponseRequestError"){var i=n.value.errorRequestErrorsFetch.value;throw new(o("WAWebBackendErrors")).ServerStatusCodeError(Number(i.code),"fetchPrekeys: request error: "+i.code+" "+i.text)}var l=[],s=[],u=[];for(var c of n.value.listUser){var d=c.userFetchKeyBundlesSuccessOrFetchKeyBundlesErrorOrFetchKeyBundlesErrorFallbackMixinGroup;e:{var m=d;if((typeof m=="object"&&m!==null||typeof m=="function")&&m.name==="FetchKeyBundlesUserSuccess"&&"value"in m){var p,_,f=m.value,g=f.deviceIdentityMixin,h=f.elementValue,y=f.preKeyMixin,C=f.registrationElementValue,b=f.skeyIdKeyIDMixin,v=f.skeySignatureElementValue,S=f.skeyValueKeyDataMixin,R={deviceIdentity:(p=g==null?void 0:g.deviceIdentityElementValue)!=null?p:null,identity:h,skey:{id:o("WAParsableXmlNode").convertBytesToUint(b.elementValue,3),pubkey:S.elementValue,signature:v},key:y?{id:o("WAParsableXmlNode").convertBytesToUint(y.keyIdKeyIDMixin.elementValue,3),pubkey:(_=y.keyValueKeyDataMixin)==null?void 0:_.elementValue}:null,regId:o("WAParsableXmlNode").convertBytesToUint(C,4),wid:o("WAWebWidFactory").createWid(c.jid)};R.wid.device!=null&&R.wid.device!==o("WAJids").DEFAULT_DEVICE_ID?s.push(R):l.push(R);break e}if((typeof m=="object"&&m!==null||typeof m=="function")&&m.name==="FetchKeyBundlesUserErrorFallback"&&"value"in m){var L=m.value,E=L.errorCode,k=L.errorText;u.push(r("err")("fetchPrekeys: list item error: "+E+" "+k));break e}if((typeof m=="object"&&m!==null||typeof m=="function")&&m.name==="FetchKeyBundlesUserError"&&"value"in m){var I=m.value,T=I.errorCode,D=I.errorText;u.push(r("err")("fetchPrekeys: list item error: "+T+" "+D));break e}throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+m)}}if(l.length===0&&s.length===0&&u.length===0)throw r("err")("fetchPrekeys: empty key info");return{prekeyBundles:[].concat(l,s),errors:u}}),s.apply(this,arguments)}l.fetchPrekeys=e}),98);
__d("WAWebManagePhoneNumberMappingJob",["WALogger","WAWebApiContact","WAWebWidFactory","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=new Set;o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["ensurePhoneNumberToLidMapping: ",""])),t.length),t.forEach(function(e){if(e.isUser()&&!(e.isBot()||e.isHosted()||e.isLid()||e.isPSA())){var t=o("WAWebApiContact").getCurrentLid(o("WAWebWidFactory").asUserWidOrThrow(e));t==null&&n.add(e.user)}});var r=Array.from(n).map(function(e){return o("WAWebWidFactory").createUserWidOrThrow(e)});if(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["ensurePhoneNumberToLidMapping: "," wids: ",""])),r.length,r.map(function(e){return e.toString()}).join()),r.length!==0){var a=!1;yield o("WAWebWorkerSafeBackendApi").workerSafeSendAndReceive("syncContactListJob",{contactIds:r,shouldSyncDevice:a,mode:"query"})}}),d.apply(this,arguments)}l.ensurePhoneNumberToLidMapping=c}),98);
__d("WAWebProcessKeyBundle",["Promise","WAJids","WALogger","WAWebSignal","WAWebSignalCommonUtils","WAWebSignalProtocolStore","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var a=0,i=0,l=[],d=[];for(var m of t)m.wid.device!=null&&m.wid.device!==o("WAJids").DEFAULT_DEVICE_ID?d.push(m):l.push(m),!m.key&&!m.wid.isBot()&&a++;if(l.length===0&&d.length===0)throw r("err")("establishE2ESession: no keys in the response");try{var p=[].concat(l,d).map(function(e){return o("WAWebSignalCommonUtils").createSignalAddress(e.wid).toString()});yield o("WAWebSignalProtocolStore").getPersistSignalProtocolStore().bulkLoadIdentityKey(p),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["establishE2ESession: warmed up identity cache: "," records"])),p.length)}catch(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["establishE2ESession: failed to warm up identity cache: ",""])),e)}var _=function(t){return o("WAWebSignal").Session.createSignalSession(t).then(function(){i++}).catch(function(e){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["createSignalSession: failed for device "," with error ",""])),t.wid,e).sendLogs("createSignalSession-fail")})};return yield(c||(c=n("Promise"))).all(l.map(_)),yield c.all(d.map(_)),{depletedPrekeyCount:a,processedPrekeyCount:i}}),m.apply(this,arguments)}l.processKeyBundles=d}),98);
__d("WAWebManageE2ESessionsJob",["Promise","WALogger","WAResolvable","WAWebAppTracker","WAWebEventsWaitForOfflineDeliveryEnd","WAWebFetchPrekeysJob","WAWebManagePhoneNumberMappingJob","WAWebProcessKeyBundle","WAWebRunInBatches","WAWebSignal","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h=new Map,y={SESSION_CHECK:50,PROCESS_KEY_BUNDLES:1};function C(e,t){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){r===void 0&&(r=!1),yield o("WAWebEventsWaitForOfflineDeliveryEnd").waitForOfflineDeliveryEnd(),o("WAWebAppTracker").AppTracker.start(o("WAWebAppTracker").AppTrackerType.PreKeyProcessing),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: ",""])),t.length,t.map(function(e){return e.toString()}).join());try{yield o("WAWebManagePhoneNumberMappingJob").ensurePhoneNumberToLidMapping(t)}catch(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: ensurePhoneNumberToLidMapping call have failed: ",""])),t.length,e).sendLogs("ensureE2ESessions",{sampling:.01})}var a=new(o("WAResolvable")).Resolvable,i=[],l=[],C=0;t.forEach(function(e){if(!e.isUserNotPSA()){C++;return}var t=h.get(e);t?i.push(t):(l.push(e),h.set(e,a.promise))}),C>0&&o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: "," wids skipped, can only establish session with user wid"])),t.length,C);var b=0,v=0;try{if(l.length>0){var S=[];yield o("WAWebRunInBatches").runInBatches(l,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebSignal").Session.hasSignalSessions(e);S.push.apply(S,t)});return function(t){return e.apply(this,arguments)}})(),{batchSize:y.SESSION_CHECK});var R=[];if(l.forEach(function(e,t){S[t]||R.push(e)}),R.length>0){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: fetch prekeys for "," wids"])),t.length,R.length);var L=yield o("WAWebFetchPrekeysJob").fetchPrekeys(R,r),E=L.errors,k=L.prekeyBundles;o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: fetch prekeys for "," wids: fetched ",", errors:",""])),t.length,R.length,k.length,E.length);var I=0;if(yield o("WAWebRunInBatches").runInBatches(k,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r=yield o("WAWebProcessKeyBundle").processKeyBundles([].concat(e));v+=(t=r.depletedPrekeyCount)!=null?t:0,I+=(n=r.processedPrekeyCount)!=null?n:0});return function(t){return e.apply(this,arguments)}})(),{batchSize:y.PROCESS_KEY_BUNDLES}),o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: successfully established "," E2E sessions out of "," requested"])),t.length,I,t.length),E.length>0)throw E[0];b=R.length}}a.resolve()}catch(e){throw o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: request failed: ",""])),t.length,e),a.resolve(e),o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.PreKeyProcessing),e}finally{l.forEach(function(e){h.delete(e)})}try{var T=(yield(g||(g=n("Promise"))).all(i)).find(Boolean);if(T)throw T}catch(e){throw o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: deduped requests failed: ",""])),t.length,e),o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.PreKeyProcessing),e}finally{o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.PreKeyProcessing)}return o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["ensureE2ESessions: "," wids: "," existing sessions, "," requested, "," requests deduplicated"])),t.length,l.length-b,b,i.length),{missedPrekeyCount:b,depletedPrekeyCount:v}}),b.apply(this,arguments)}l.ensureE2ESessions=C}),98);
__d("WAWebHandleIdentityChange",["Promise","WADeprecatedWapParser","WAJids","WALogger","WAWap","WAWebBackendApi","WAWebBroadcastSenderKeyManager","WAWebCommsWapMd","WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob","WAWebIdentityChangeApi","WAWebJidToWid","WAWebManageE2ESessionsJob","WAWebMessageQueue","WAWebOfflineHandler","WAWebSecurityCodeApi","WAWebSendTcTokenWhenDeviceIdentityChange","WAWebSignal","WAWebSignalCommonUtils","WAWebSignalProtocolStore","WAWebUserPrefsMeUser","WAWebUserPrefsStatus","WAWebWidFactory","asyncToGeneratorRuntime","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p=new(r("WADeprecatedWapParser"))("identityChange",function(e){return e.assertTag("notification"),e.assertAttr("type","encrypt"),e.child("identity"),{wid:o("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("from")),stanzaId:e.attrString("id"),displayName:e.maybeAttrString("display_name"),lid:e.hasAttr("lid")?o("WAWebJidToWid").deviceJidToDeviceWid(e.attrDeviceJid("lid")):null,offline:e.maybeAttrString("offline")}});function _(t){var a=p.parse(t);if(a.error)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),a.error.toString()),(m||(m=n("Promise"))).reject(a.error);var i=a.success,l=i.displayName,_=i.lid,f=i.offline,g=i.stanzaId,h=i.wid,y=o("WAWap").wap("ack",{to:o("WAWebCommsWapMd").DEVICE_JID(h),id:o("WAWap").CUSTOM_STRING(g),class:"notification"});if(h.device!=null&&h.device!==o("WAJids").DEFAULT_DEVICE_ID)return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["handleNewIdentity: ignore identity change from companion device"]))),(m||(m=n("Promise"))).resolve(y);if(o("WAWebUserPrefsMeUser").isMePrimary(h))return o("WAWebBackendApi").frontendFireAndForget("handleSelfPrimaryIdentityChange",{}),(m||(m=n("Promise"))).resolve(y);var C=!r("isStringNullOrEmpty")(f)&&!o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete();return o("WAWebMessageQueue").onMessageQueue({chatWid:h,isOffline:C,msgCategory:null,action:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=_?o("WAWebWidFactory").asUserLidOrThrow(_):null;yield o("WAWebIdentityChangeApi").clearDeviceRecordForIdentityChange({wid:h,stanzaLid:e,offline:C});var t=yield o("WAWebSignalProtocolStore").getSignalProtocolStore().loadIdentityKey(o("WAWebSignalCommonUtils").createSignalAddress(h).toString());if(!r("isStringNullOrEmpty")(t)){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["handleE2eIdentityChange: "," has old identity, establishing new session"])),h.toString());var n=o("WAWebWidFactory").asUserWidOrThrow(h);yield o("WAWebSignal").Session.deleteRemoteInfo(h),o("WAWebSecurityCodeApi").addSecurityCodeChangedNotifications({user:n,stanzaLid:e,offline:C}).catch(function(e){o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["handleE2eIdentityChange: addSecurityCodeChangedNotifications failed with: ",""])),e)}),o("WAWebSendTcTokenWhenDeviceIdentityChange").sendTcTokenWhenDeviceIdentityChange(n),r("WAWebUserPrefsStatus").markStatusSenderKeyRotate([h]),o("WAWebBroadcastSenderKeyManager").markBroadcastSenderKeyRotateForUser(h),C||o("WAWebManageE2ESessionsJob").ensureE2ESessions([h],!0).catch(function(e){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["handleE2eIdentityChange: ensureE2ESessions failed with: ",""])),e)}),yield o("WAWebCreateOrReplaceDisplayNamesAndLidPnMappingsJob").createOrReplaceDisplayNamesAndLidPnMappings([{id:n,lid:e,displayName:l}],!f)}return y});function t(){return e.apply(this,arguments)}return t})()})}l.handleE2eIdentityChange=_}),98);
__d("WAWebHandleNewsletterMsgAddOns",["Promise","WAAckLevel","WAWebBackendApi","WAWebCRUDOperationsNewsletterMyVotes","WAWebDBCreateOrUpdateReactions","WAWebNewsletterDBUtils","WAWebPollOptionHashUtils","WAWebUserPrefsMeUser","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(t,r){switch(t.type){case"reaction":return u(t);case"poll_update":return d(t,r);default:return(e||(e=n("Promise"))).resolve()}}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.from,n=e.id,r=e.reactionText,a=e.serverId,i=e.t;if(!(a==null||i==null||t==null||r==null)){var l={msgKey:n.toString(),parentMsgKey:o("WAWebNewsletterDBUtils").craftNewsletterMsgKeyFromServerId(a,t).toString(),senderUserJid:o("WAWebUserPrefsMeUser").getMePnUserOrThrow().toString(),reactionText:r,timestamp:i*1e3,orphan:0,read:!0,ack:o("WAAckLevel").ACK.SENT};yield o("WAWebDBCreateOrUpdateReactions").createOrUpdateReactions([l]);var s=yield o("WAWebNewsletterDBUtils").getMessageByServerId(a,t.toJid());s!=null&&(yield o("WAWebBackendApi").frontendFireAndForget("updateChatPreviewFromReaction",{reactionMsgObj:l,parentMsgKey:s.id}))}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e.from,r=e.id,a=e.selectedOptionLocalIds,i=e.serverId,l=e.t,s=t.pollVotes;if(!(i==null||l==null||n==null||s==null)){var u={chatJid:r.remote.toJid(),msgServerId:i,msgKey:e.id.toString(),serverTimestampMs:l*1e3,t:l,votes:s.map(o("WAWebPollOptionHashUtils").bufferToHex)};yield o("WAWebCRUDOperationsNewsletterMyVotes").createOrUpdateMyVote(u);var c=yield o("WAWebNewsletterDBUtils").getMessageByServerId(i,n.toJid());c!=null&&(yield o("WAWebBackendApi").frontendFireAndForget("updateChatPreviewFromVote",{voteMsgObj:{ack:o("WAAckLevel").ACK.SENT,read:!0,msgKey:e.id,parentMsgKey:c.id,selectedOptionLocalIds:a!=null?a:[],sender:o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),senderTimestampMs:l*1e3,t:l},parentMsgKey:c.id}))}}),m.apply(this,arguments)}l.maybeHandleNewsletterMsgAddOns=s}),98);
__d("WAWebHandleNewsletterMsgLogger",["WASmaxMessageDeliverNewsletterRPC","WAWebHandleMsgError","WAWebIncomingMessageDropWamEvent","WAWebWamEnumE2eDestination","WAWebWamEnumMediaType","WAWebWamEnumMessageDropReasonType","WAWebWamEnumRevokeType"],(function(t,n,r,o,a,i,l){function e(e){try{return o("WASmaxMessageDeliverNewsletterRPC").receiveNewsletterRPC(e)}catch(e){return null}}function s(t,n){var r=e(n.stanza);t instanceof o("WAWebHandleMsgError").MessageValidationError&&u(r,t)}function u(e,t){var n,r=new(o("WAWebIncomingMessageDropWamEvent")).IncomingMessageDropWamEvent({messageDropReason:o("WAWebWamEnumMessageDropReasonType").MESSAGE_DROP_REASON_TYPE.INVALID_PROTOBUF,e2eDestination:o("WAWebWamEnumE2eDestination").E2E_DESTINATION.CHANNEL,offline:(e==null||(n=e.parsedRequest)==null||(n=n.offlineMixin)==null?void 0:n.offline)!=null,e2eFailureReason:t==null?void 0:t.e2eFailureReason,messageMediaType:c(e),revokeType:(e==null?void 0:e.parsedRequest.newsletterMessageFanoutContent.name)==="NewsletterRevoke"?o("WAWebWamEnumRevokeType").REVOKE_TYPE.ADMIN:void 0});r.commit()}function c(e){var t=e==null?void 0:e.parsedRequest.newsletterMessageFanoutContent;if(t==null)return o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;switch(t.name){case"NewsletterReaction":return o("WAWebWamEnumMediaType").MEDIA_TYPE.REACTION;case"NewsletterMedia":return d(t.value.plaintextMediatype);case"NewsletterEdit":{var n,r=t.value.newsletterQuestionReplyOrTextOrMediaMixinGroup;return((n=r.value.newsletterTextOrMediaMixinGroup)==null?void 0:n.value.type)==="media"?d(r.value.newsletterTextOrMediaMixinGroup.value.plaintextMediatype):o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE}case"NewsletterText":return o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterRevoke":case"NewsletterReactionRevoke":case"NewsletterWAMOEmpty":return o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterPollCreation":return o("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_CREATE;case"NewsletterPollVote":return o("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_VOTE;case"NewsletterPollResultSnapshot":return o("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_RESULT_SNAPSHOT;case"NewsletterQuestion":case"NewsletterQuestionReply":return t.value.newsletterTextOrMediaMixinGroup.value.type==="media"?d(t.value.newsletterTextOrMediaMixinGroup.value.plaintextMediatype):o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterQuestionResponse":return o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE;case"NewsletterQuizCreation":return o("WAWebWamEnumMediaType").MEDIA_TYPE.POLL_CREATE;default:return t.name,o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE}}function d(e){switch(e){case"video":return o("WAWebWamEnumMediaType").MEDIA_TYPE.VIDEO;case"vcard":return o("WAWebWamEnumMediaType").MEDIA_TYPE.CONTACT;case"url":return o("WAWebWamEnumMediaType").MEDIA_TYPE.URL;case"sticker":case"genai_sticker":case"1p_sticker":case"avatar_sticker":case"user_created_sticker":return o("WAWebWamEnumMediaType").MEDIA_TYPE.STICKER;case"ptt":return o("WAWebWamEnumMediaType").MEDIA_TYPE.PTT;case"ptv":return o("WAWebWamEnumMediaType").MEDIA_TYPE.PUSH_TO_VIDEO;case"productlink":return o("WAWebWamEnumMediaType").MEDIA_TYPE.PRODUCT_LINK;case"image":return o("WAWebWamEnumMediaType").MEDIA_TYPE.PHOTO;case"gif":return o("WAWebWamEnumMediaType").MEDIA_TYPE.GIF;case"document":return o("WAWebWamEnumMediaType").MEDIA_TYPE.DOCUMENT;case"cataloglink":return o("WAWebWamEnumMediaType").MEDIA_TYPE.CATALOG_LINK;case"sticker_pack":return o("WAWebWamEnumMediaType").MEDIA_TYPE.STICKER_PACK;case"collection":return o("WAWebWamEnumMediaType").MEDIA_TYPE.MEDIA_ALBUM;case"motion_photo":return o("WAWebWamEnumMediaType").MEDIA_TYPE.MOTION_PHOTO;case"motion_video":return o("WAWebWamEnumMediaType").MEDIA_TYPE.MOTION_VIDEO;default:return o("WAWebWamEnumMediaType").MEDIA_TYPE.AUDIO}}l.handleNewsletterMsgError=s}),98);
__d("WAWebNewsletterAdminProfilesSmaxUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==null?null:{id:e.id,name:e.nameElementValue,pictureDirectPath:e.pictureDirectPath,pictureId:e.pictureId}}i.mapAdminProfileInfoFromAdminProfileMixin=e}),66);
__d("WAWebNewsletterMsgParser",["WASmaxMessageDeliverNewsletterRPC","WASmaxParsingFailure","WAWebJidToWid","WAWebNewsletterAdminProfilesSmaxUtils","WAWebNewsletterGatingUtils","WAWebReactionsBEUtils","WAWebUserPrefsMeUser"],(function(t,n,r,o,a,i,l){function e(e){var t,n,r=o("WASmaxMessageDeliverNewsletterRPC").receiveNewsletterRPC(e),a=r.makeNewsletterResponseSuccess,i=r.parsedRequest,l={id:i.id,t:i.t,isSender:i.isSender==="true",serverId:i.serverId,offline:(t=i.offlineMixin)==null?void 0:t.offline,from:o("WAWebJidToWid").jidWithTypeToWid({jidType:"newsletter",newsletterJid:i.from}),to:o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),newsletterAdminProfile:o("WAWebNewsletterAdminProfilesSmaxUtils").mapAdminProfileInfoFromAdminProfileMixin(i.adminProfileMetaMixin)},s=(n=i.newsletterMessageFanoutContent.value.wAMOSubMixin)==null?void 0:n.metaIsWamoSub;s!=null&&o("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()&&(l.isWamoSub=s==="true");var u=i.hasPaidPartnershipContentMixin;return o("WAWebNewsletterGatingUtils").isChannelDSA26ReceiverEnabled()&&(l.hasPaidPartnershipLabel=u),{ack:a(),msg:d(l,i)}}function s(e){return e.reactionCode}function u(e){return e.votesVote.map(function(e){var t=e.elementValue;return t})}function c(e){return e.plaintextPayloadMixin.elementValue}function d(e,t){var n=t.newsletterMessageFanoutContent;switch(n.name){case"NewsletterPollVote":return babelHelpers.extends({},e,{type:"NewsletterPollVote",pollVote:u(n.value)});case"NewsletterReaction":return babelHelpers.extends({},e,{type:"NewsletterReaction",reactionCode:s(n.value)});case"NewsletterReactionRevoke":return babelHelpers.extends({},e,{type:"NewsletterReactionRevoke",reactionCode:o("WAWebReactionsBEUtils").REVOKED_REACTION_TEXT});case"NewsletterRevoke":return babelHelpers.extends({},e,{type:"NewsletterRevoke"});case"NewsletterMedia":return babelHelpers.extends({},e,{type:n.name,payload:c(n.value)});case"NewsletterQuestion":case"NewsletterQuestionReply":{var r=babelHelpers.extends({},e,{payload:c(n.value.newsletterTextOrMediaMixinGroup.value)});return n.value.newsletterTextOrMediaMixinGroup.name==="NewsletterText"?babelHelpers.extends({},r,{type:"NewsletterText"}):babelHelpers.extends({},r,{type:"NewsletterMedia"})}case"NewsletterQuestionResponse":case"NewsletterText":return babelHelpers.extends({},e,{type:"NewsletterText",payload:c(n.value)});case"NewsletterPollCreation":return babelHelpers.extends({},e,{type:"NewsletterPollCreation",payload:c(n.value)});case"NewsletterEdit":{var a,i,l=n.value.newsletterQuestionReplyOrTextOrMediaMixinGroup,d;switch(l.name){case"NewsletterQuestionReply":d=c(l.value.newsletterTextOrMediaMixinGroup.value);break;case"NewsletterText":case"NewsletterMedia":d=c(l.value);break;default:throw l.name,new(o("WASmaxParsingFailure")).SmaxParsingFailure("unrecognized-newsletter-edit-type")}return babelHelpers.extends({},e,{type:"NewsletterEdit",payload:d,msgEditT:(a=t.newsletterMessageLastEditTimestampMixin)==null?void 0:a.metaMsgEditT,msgOriginalT:(i=t.newsletterMessageOriginalTimestampMixin)==null?void 0:i.metaOriginalMsgT})}case"NewsletterPollResultSnapshot":return babelHelpers.extends({},e,{type:"NewsletterPollResultSnapshot",payload:c(n.value)});case"NewsletterWAMOEmpty":return babelHelpers.extends({},e,{type:"NewsletterWAMOEmpty"});case"NewsletterQuizCreation":return babelHelpers.extends({},e,{type:"NewsletterPollCreation",payload:c(n.value)});default:throw n.name,new(o("WASmaxParsingFailure")).SmaxParsingFailure("unrecognized-newsletter-message-type")}}l.default=e}),98);
__d("WAWebNewsletterMsgEditUtils",["WAWebMsgKey","WAWebMsgType"],(function(t,n,r,o,a,i,l){function e(e){return babelHelpers.extends({},e,{type:o("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:o("WAWebMsgType").MsgKind.Protocol,subtype:"message_edit",protocolMessageKey:e.id,latestEditMsgKey:e.id,latestEditSenderTimestampMs:e.t})}function s(e,t){var n=e.id.clone(),a=new(r("WAWebMsgKey"))({remote:e.id.remote,fromMe:e.id.fromMe,id:r("WAWebMsgKey").newId_DEPRECATED()});return babelHelpers.extends({},e,{id:a,type:o("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:o("WAWebMsgType").MsgKind.Protocol,subtype:"message_edit",editMsgType:e.type,protocolMessageKey:n,latestEditMsgKey:a,latestEditSenderTimestampMs:t.latestEditSenderTimestampMs})}l.mapMsgToEditProtocolMsgLegacy=e,l.mapMsgToEditProtocolMsg=s}),98);
__d("WAWebNewsletterMsgStanzaAdapters",["WAAckLevel","WAWebMsgKey","WAWebMsgType","WAWebNewsletterMsgEditUtils","WAWebUserPrefsMeUser","WAWebViewMode.flow","err"],(function(t,n,r,o,a,i,l){function e(e,t,n){if(n.addOnParentKey==null)throw r("err")("Reaction message without parent");return{id:e,reactionParentKey:n.addOnParentKey,type:o("WAWebMsgType").MSG_TYPE.REACTION,kind:o("WAWebMsgType").MsgKind.ReactionDecrypted,viewMode:o("WAWebViewMode.flow").ViewModeType.VISIBLE,t:t.t,from:t.from,to:t.to,serverId:t.serverId,isNewMsg:!1,ack:o("WAAckLevel").ACK.SENT,read:!1,reactionText:t.reactionCode,reactionTimestamp:t.t*1e3}}function s(e,t,n){var a;if(n.addOnParentKey==null)throw r("err")("Reaction message without parent");return{id:e,t:t.t,from:t.from,to:t.to,serverId:t.serverId,isNewMsg:!1,ack:o("WAAckLevel").ACK.SENT,type:o("WAWebMsgType").MSG_TYPE.POLL_UPDATE,kind:o("WAWebMsgType").MsgKind.PollVoteDecrypted,viewMode:o("WAWebViewMode.flow").ViewModeType.VISIBLE,subtype:"poll_vote",pollUpdateParentKey:n.addOnParentKey,selectedOptionLocalIds:(a=n.pollVotesAsLocalIds)!=null?a:[],senderTimestampMs:t.t*1e3,read:!1}}function u(e){var t=e.baseMsgData,n=e.msg,a=e.msgContext,i=e.msgKey,l=e.parsingContext,s=o("WAWebViewMode.flow").ViewModeType.NEWSLETTER_TOMBSTONE;if(l==="history"){var u,c;return{id:new(r("WAWebMsgKey"))({remote:n.from,fromMe:n.isSender,id:n.id}),from:n.from,to:n.isSender?n.from:o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),t:(u=a.metaOriginalMsgT)!=null?u:n.t,serverId:n.serverId,lastUpdateFromServerTs:(c=a.lastUpdateFromServerTs)!=null?c:void 0,type:"revoked",kind:o("WAWebMsgType").MsgKind.RevokedMessage,viewMode:s,revokeSender:n.from,subtype:"admin"}}return babelHelpers.extends({},t,{serverId:n.serverId,id:new(r("WAWebMsgKey"))({remote:n.from,fromMe:n.isSender,id:r("WAWebMsgKey").newId_DEPRECATED()}),type:o("WAWebMsgType").MSG_TYPE.PROTOCOL,kind:o("WAWebMsgType").MsgKind.ProtocolRevoke,subtype:"admin_revoke",protocolMessageKey:i,viewMode:s})}function c(e,t,n){return t!=="history"?o("WAWebNewsletterMsgEditUtils").mapMsgToEditProtocolMsg(e,{latestEditSenderTimestampMs:n.latestEditSenderTimestampMs}):e}l.mapReactionMsgStanza=e,l.mapPollVoteMsgStanza=s,l.mapRevokeMsgStanza=u,l.mapEditMsgStanza=c}),98);
__d("WAWebNewsletterBackendMsgUtils",["WAAckLevel","WALogger","WATimeUtils","WAWebE2EProtoParser","WAWebMsgKey","WAWebMsgType","WAWebNewsletterAdminProfilesSmaxUtils","WAWebNewsletterFutureProofUtils","WAWebNewsletterGatingUtils","WAWebNewsletterMsgStanzaAdapters","WAWebProtobufsE2E.pb","WAWebUserPrefsMeUser","WAWebViewMode.flow","decodeProtobuf","err"],(function(t,n,r,o,a,i,l){var e;function s(t,n){var a,i,l,s,c=t.msg,m=t.msgContext,p=new(r("WAWebMsgKey"))({remote:c.from,fromMe:c.isSender,id:c.id});switch(c.type){case"NewsletterReaction":case"NewsletterReactionRevoke":return o("WAWebNewsletterMsgStanzaAdapters").mapReactionMsgStanza(p,c,m);case"NewsletterPollVote":return o("WAWebNewsletterMsgStanzaAdapters").mapPollVoteMsgStanza(p,c,m)}var _=d(p,c);if(c.type==="NewsletterRevoke")return o("WAWebNewsletterMsgStanzaAdapters").mapRevokeMsgStanza({msgKey:p,msg:c,msgContext:m,baseMsgData:_,parsingContext:n});var f=o("decodeProtobuf").decodeProtobuf(o("WAWebProtobufsE2E.pb").MessageSpec,c.payload),g=o("WAWebE2EProtoParser").parseMsgProto({messageProtobuf:f,message:_,msgContext:n}),h=u(babelHelpers.extends({},g,{isNewMsg:m.isNewMsg,viewCount:(a=m.viewCount)!=null?a:void 0,forwardsCount:(i=m.forwardsCount)!=null?i:void 0,questionResponsesCount:(l=m.questionResponsesCount)!=null?l:0,hasReaction:!!m.hasReaction,latestEditSenderTimestampMs:m.latestEditSenderTimestampMs,lastUpdateFromServerTs:(s=m.lastUpdateFromServerTs)!=null?s:void 0,latestEditMsgKey:m.isEdited===!0?p:void 0,serverId:c.serverId}));if(m.isWamoSub!=null&&o("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()){var y;h.isWamoSub=(y=m.isWamoSub)!=null?y:void 0}c.newsletterAdminProfile!=null&&(h.newsletterAdminProfile=c.newsletterAdminProfile);var C=m.hasPaidPartnershipLabel;C!=null&&o("WAWebNewsletterGatingUtils").isChannelDSA26ReceiverEnabled()&&(h.hasPaidPartnershipLabel=C);var b=o("WAWebNewsletterFutureProofUtils").isMsgSupported(h),v=b.reason,S=b.supported;switch(S||(h.type=o("WAWebMsgType").MSG_TYPE.UNKNOWN,h.subtype=v,h.kind=o("WAWebMsgType").MsgKind.Unknown,h.futureproofType=g.type,h.futureproofSubtype=g.subtype,o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] unsupported msg type="," sub=",""])),g.type,g.subtype).sendLogs("unsupported-newsletter-message",{sampling:.1})),c.type){case"NewsletterEdit":return o("WAWebNewsletterMsgStanzaAdapters").mapEditMsgStanza(h,n,m);case"NewsletterPollCreation":case"NewsletterPollResultSnapshot":case"NewsletterText":case"NewsletterMedia":return h;case"NewsletterWAMOEmpty":return babelHelpers.extends({},h,{isWamoSub:!0,viewMode:o("WAWebViewMode.flow").ViewModeType.HIDDEN});default:throw c.type,r("err")("unreachable code")}}function u(e){return e.streamingSidecar=null,e.mediaKey=null,e.mediaKeyTimestamp=null,e}function c(e,t,n,r){var a,i,l,u;n===void 0&&(n=!1);var c=e.newsletterMessageHistoryContent,d=e.id,m=e.serverId,p=e.t;if(c==null||d==null||p==null)return null;var _=e.isSender==="true",f={id:d,from:t,isSender:_,to:_?t:o("WAWebUserPrefsMeUser").getMePnUserOrThrow(),t:p,serverId:m,offline:null,newsletterAdminProfile:o("WAWebNewsletterAdminProfilesSmaxUtils").mapAdminProfileInfoFromAdminProfileMixin(e.adminProfileMetaMixin)},g=(a=e.newsletterMessageOriginalTimestampMixin)==null?void 0:a.metaOriginalMsgT,h=babelHelpers.extends({hasReaction:n,lastUpdateFromServerTs:r,viewCount:(i=e.newsletterViewsCountViewsOrDeprecatedMixinGroup)==null||(i=i.value)==null?void 0:i.viewsCountCount,questionResponsesCount:(l=e.newsletterResponsesCountMixin)==null?void 0:l.responsesCountCount,forwardsCount:(u=e.newsletterForwardsCountMixin)==null?void 0:u.forwardsCountCount,isEdited:c.name==="NewsletterEdit",metaOriginalMsgT:g},e.hasPaidPartnershipContentMixin!=null&&{hasPaidPartnershipLabel:e.hasPaidPartnershipContentMixin});if(o("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()){var y;h.isWamoSub=((y=e.newsletterMessageHistoryContent)==null||(y=y.value.wAMOSubMixin)==null?void 0:y.metaIsWamoSub)==="true"}var C="history";switch(c.name){case"NewsletterEdit":{var b,v=(b=e.newsletterMessageLastEditTimestampMixin)==null?void 0:b.metaMsgEditT,S=v!=null?o("WATimeUtils").castToMillisTime(v):void 0,R=g!=null?g:p,L=c.value.newsletterQuestionReplyOrTextOrMediaMixinGroup;return L.name==="NewsletterQuestionReply"&&(L=L.value.newsletterTextOrMediaMixinGroup),s({msg:babelHelpers.extends({},f,{type:c.name,t:R,payload:L.value.plaintextPayloadMixin.elementValue,msgEditT:v,msgOriginalT:p}),msgContext:babelHelpers.extends({},h,{latestEditSenderTimestampMs:S})},C)}case"NewsletterQuestion":case"NewsletterQuestionReply":{var E=c.value.newsletterTextOrMediaMixinGroup.value.plaintextPayloadMixin.elementValue;return c.value.newsletterTextOrMediaMixinGroup.name==="NewsletterMedia"?s({msg:babelHelpers.extends({},f,{payload:E,type:"NewsletterMedia"}),msgContext:h},C):s({msg:babelHelpers.extends({},f,{payload:E,type:"NewsletterText"}),msgContext:h},C)}case"NewsletterText":return s({msg:babelHelpers.extends({},f,{payload:c.value.plaintextPayloadMixin.elementValue,type:"NewsletterText"}),msgContext:h},C);case"NewsletterQuizCreation":case"NewsletterPollCreation":return s({msg:babelHelpers.extends({},f,{payload:c.value.plaintextPayloadMixin.elementValue,type:"NewsletterPollCreation"}),msgContext:h},C);case"NewsletterPollResultSnapshot":return s({msg:babelHelpers.extends({},f,{payload:c.value.plaintextPayloadMixin.elementValue,type:c.name}),msgContext:h},C);case"NewsletterMedia":return s({msg:babelHelpers.extends({},f,{payload:c.value.plaintextPayloadMixin.elementValue,type:c.name}),msgContext:h},C);case"NewsletterRevoke":return s({msg:babelHelpers.extends({},f,{type:c.name}),msgContext:h},C);case"NewsletterWAMOEmpty":return s({msg:babelHelpers.extends({},f,{type:c.name}),msgContext:h},C);default:return c.name,null}}function d(e,t){return{ack:o("WAAckLevel").ACK.SENT,from:t.from,t:t.t,to:t.to,id:e,type:o("WAWebMsgType").MSG_TYPE.UNKNOWN,viewMode:o("WAWebViewMode.flow").ViewModeType.VISIBLE,count:null,invis:!1}}l.mapMsgStanzaToMsgData=s,l.mapNewsletterMsgToMsgData=c}),98);
__d("WAWebNewsletterMsgProcessor",["WATimeUtils","WAWebApiFilterAndReplaceMessages","WAWebNewsletterBackendMsgUtils","WAWebNewsletterDBUtils","WAWebNewsletterGatingUtils","WAWebPollsCreateOptionLocalIdMap","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.offline!=null,n=e.type==="NewsletterRevoke",r=e.serverId,a=u(e.type),i=a&&r!=null?yield o("WAWebNewsletterDBUtils").getMessageByServerId(r,e.from.toJid()):null,l=a&&i==null,s=yield d(i,e.pollVote),m={isNewMsg:!t&&!n,addOnParentKey:a?c({addOnParentMsg:i,serverId:r,remote:e.from}):void 0,pollVotesAsLocalIds:s,latestEditSenderTimestampMs:e.msgEditT!=null?o("WATimeUtils").castToMillisTime(e.msgEditT):null};e.isWamoSub!=null&&o("WAWebNewsletterGatingUtils").isWamoSubMessagesProcessingEnabled()&&(m.isWamoSub=e.isWamoSub),e.hasPaidPartnershipLabel!=null&&o("WAWebNewsletterGatingUtils").isChannelDSA26ReceiverEnabled()&&(m.hasPaidPartnershipLabel=e.hasPaidPartnershipLabel);var p=o("WAWebNewsletterBackendMsgUtils").mapMsgStanzaToMsgData({msg:e,msgContext:m},"relay"),_=yield o("WAWebApiFilterAndReplaceMessages").filterAndReplaceMessages([p]),f=_.newMsgs,g=f[0];return{msgData:g,isOrphan:l}}),s.apply(this,arguments)}function u(e){switch(e){case"NewsletterReaction":case"NewsletterReactionRevoke":case"NewsletterPollVote":return!0;default:return!1}}function c(e){var t=e.addOnParentMsg,n=e.remote,r=e.serverId;return t!=null?t.id:o("WAWebNewsletterDBUtils").craftNewsletterMsgKeyFromServerId(r,n.toJid())}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=e==null?void 0:e.pollOptions;if(!(n==null||t==null)){var r=yield o("WAWebPollsCreateOptionLocalIdMap").createOptionLocalIdMap(n);return t.map(function(e){return r.getLocalIdForHash(e.slice().buffer)})}}),m.apply(this,arguments)}l.preprocessNewsletterMsg=e,l.isAddOnType=u}),98);
__d("WAWebHandleNewsletterMsg",["Promise","WALogger","WATimeUtils","WAWebBackendApi","WAWebBackendEventBus","WAWebHandleMsgTypes.flow","WAWebHandleNewsletterMsgAddOns","WAWebHandleNewsletterMsgLogger","WAWebLogReceivedMessages","WAWebMessageProcessorCache","WAWebMessageQueue","WAWebNewsletterGatingUtils","WAWebNewsletterMsgParser","WAWebNewsletterMsgProcessor","WAWebOfflineHandler","WAWebWamWorkerOfflineProcessReporter","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{var a=r("WAWebNewsletterMsgParser")(t),i=a.ack,l=a.msg;if(!o("WAWebNewsletterGatingUtils").isNewsletterEnabled())return i;var d=o("WATimeUtils").unixTimeMs(),m=l.offline!=null;m&&(o("WAWebOfflineHandler").OfflineMessageHandler.addOfflinePendingMessage(),o("WAWebOfflineHandler").OfflineMessageHandler.offlineStanzaReceivedAfterComplete()),o("WAWebOfflineHandler").OfflineMessageHandler.isResumeFromRestartComplete()&&(l.offline=null,m=!1);var p=!o("WAWebNewsletterMsgProcessor").isAddOnType(l.type);return yield o("WAWebMessageQueue").onMessageQueue({chatWid:l.from,isOffline:m,msgCategory:null,action:(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=o("WATimeUtils").unixTimeMs(),a=yield o("WAWebNewsletterMsgProcessor").preprocessNewsletterMsg(l),u=a.isOrphan,_=a.msgData,f=p?o("WAWebMessageProcessorCache").messageProcessorCache.addMessages([{msg:_}],!m).then(function(){o("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedMessageCount(),o("WAWebLogReceivedMessages").logReceivedMessagesInWAM({msgs:[_],offline:l.offline,tsMillis:l.t*1e3,clientReceivedTsMillis:d,msgProcessStartTsMillis:t,serverAddressingMode:null,localAddressingMode:null})}).catch(function(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter message"]))).tags("newsletter").sendLogs("newsletter-failed-to-store-incoming-message")}):(c||(c=n("Promise"))).resolve();return yield o("WAWebHandleNewsletterMsgAddOns").maybeHandleNewsletterMsgAddOns(_,{pollVotes:l.pollVote}),o("WAWebBackendEventBus").BackendEventBus.isMainStreamReadyMd&&(o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd&&(yield f),o("WAWebBackendApi").frontendFireAndForget("updateNewsletterMessageUI",{chatID:l.from,msg:_,isOrphan:u})),m?(o("WAWebOfflineHandler").OfflineMessageHandler.processMessageDecryptResult(o("WAWebHandleMsgTypes.flow").E2EProcessResult.SUCCESS),o("WAWebMessageProcessorCache").messageProcessorCache.addMessages([{receiptInfo:{externalId:l.id,from:l.from,author:l.from}}]).catch(function(e){var t=r("getErrorSafe")(e);o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter offline ack"]))).catching(t).tags("newsletter").sendLogs("newsletter-failed-to-store-offline-ack")}),null):i});function a(){return t.apply(this,arguments)}return a})()})}catch(e){var _=r("getErrorSafe")(e);throw o("WAWebHandleNewsletterMsgLogger").handleNewsletterMsgError(_,{stanza:t}),o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[newsletter] Failed to handle newsletter message"]))).catching(_).tags("newsletter").sendLogs("failed-handle-newsletter-message"),_}}),m.apply(this,arguments)}l.default=d}),98);
__d("WAWebHandleVoipCallReceipt",["Promise","WADeprecatedWapParser","WALogger","WAParsableWapNode","WAWap","WAWebBackendApi","WAWebCommsWapMd","WAWebJidToWid","WAWebUserPrefsMeUser","WAWebVoipStackInterface","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u=new(r("WADeprecatedWapParser"))("callReceiptParser",function(e){e.assertTag("receipt");var t=e.maybeChild("offer")||e.maybeChild("accept")||e.maybeChild("reject");if(!t)throw e.createParseError("Unrecognized call stanza");return{stanzaId:e.attrString("id"),type:e.maybeAttrString("type"),from:o("WAWebJidToWid").jidWithTypeToWid(e.attrJidWithType("from"))}});function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var r=u.parse(t);if(r.error)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Parsing Error: ",""])),r.error.toString()),(s||(s=n("Promise"))).reject(r.error);var a=r.success,i=a.from,l=a.stanzaId,c=a.type,d=yield(s||(s=n("Promise"))).all([o("WAWebVoipStackInterface").getVoipStackInterface(),o("WAWebBackendApi").frontendSendAndReceive("getTcToken",{wid:i})]),m=d[0],p=d[1].tcToken;return yield m==null?void 0:m.handleIncomingSignalingReceipt(new(o("WAParsableWapNode")).ParsableWapNode("receipt",t),i.toString({legacy:!0,formatIncludeDevice:!0}),p),o("WAWap").wap("ack",{id:o("WAWap").CUSTOM_STRING(l),to:o("WAWebCommsWapMd").JID(i),from:o("WAWebCommsWapMd").JID(o("WAWebUserPrefsMeUser").getMePnUserOrThrow()),class:"receipt",type:o("WAWap").MAYBE_CUSTOM_STRING(c)})}),d.apply(this,arguments)}l.handleCallReceipt=c}),98);
__d("WAWebCommsHandleWorkerCompatibleStanza",["WAParsableWapNode","WAWebCommsHandleMessagingStanza","WAWebCommsHandleStanzaUtils","WAWebCreateNackFromStanza","WAWebHandleGroupNotification","WAWebHandleIdentityChange","WAWebHandleNewsletterMsg","WAWebHandleVoipCallReceipt","WAWebPostUnknownStanzaMetric","WAWebRuntimeEnvironmentUtils","WAWebWamWorkerOfflineProcessReporter","WAWebWid","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){function e(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!o("WAWebRuntimeEnvironmentUtils").isWorker())return e;var t=yield e;return o("WAWebWamWorkerOfflineProcessReporter").WorkerOfflineResumeReporter.updateProcessedNotificationCount(),t}),s.apply(this,arguments)}function u(t){var n=o("WAWebCommsHandleMessagingStanza").handleMessagingStanza(t);if(n!=null)return n;var a=t.attrs;switch(t.tag){case"notification":{switch(a.type){case"w:gp2":return e(o("WAWebHandleGroupNotification").handleGroupNotification(t)).catch(function(e){return c(t,r("getErrorSafe")(e))});case"encrypt":{var i=t.content;if(!Array.isArray(i)||!i.length)break;var l=i[0].tag;switch(l){case"identity":return e(o("WAWebHandleIdentityChange").handleE2eIdentityChange(t)).catch(function(e){return c(t,r("getErrorSafe")(e))})}break}}break}case"message":{var s=t.attrs.from;if(r("WAWebWid").isNewsletter(s==null?void 0:s.toString()))return r("WAWebHandleNewsletterMsg")(t).catch(function(e){return o("WAWebCommsHandleStanzaUtils").handleMessageParsingFailure(t,r("getErrorSafe")(e))});break}case"receipt":try{if(o("WAWebCommsHandleStanzaUtils").isCallReceipt(t))return o("WAWebHandleVoipCallReceipt").handleCallReceipt(t)}catch(e){return e instanceof o("WAParsableWapNode").XmppParsingFailure?(o("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(t),o("WAWebCreateNackFromStanza").createNackFromStanza(t,o("WAWebCreateNackFromStanza").NackReason.ParsingError)):o("WAWebCreateNackFromStanza").createNackFromStanza(t,o("WAWebCreateNackFromStanza").NackReason.UnhandledError)}}}function c(e,t){return t instanceof o("WAParsableWapNode").XmppParsingFailure?(o("WAWebPostUnknownStanzaMetric").postUnknownStanzaMetric(e),o("WAWebCreateNackFromStanza").createNackFromStanza(e,o("WAWebCreateNackFromStanza").NackReason.ParsingError)):o("WAWebCreateNackFromStanza").createNackFromStanza(e,o("WAWebCreateNackFromStanza").NackReason.UnhandledError)}l.handleWorkerCompatibleStanza=u}),98);
__d("WAWebDomAttrToData",["WACamelCase"],(function(t,n,r,o,a,i,l){function e(e){return r("WACamelCase")(e.replace(/^data-/,""))}l.default=e}),98);
__d("WAWebDomElementMatches",[],(function(t,n,r,o,a,i){var e=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function l(t,n){return t instanceof HTMLElement?e.call(t,n):!1}i.default=l}),66);
__d("WAWebCopyPasteCopyable.react",["WAWebClassnames","WAWebDomAttrToData","WAWebDomElementMatches","WAWebExternalLink.react","WAWebURLUtils","isStringNullOrEmpty","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref","forwardedRef"],s=["element","ref"],u=["appTextTemplate","plainText","prePlainText","xstyle"],c,d,m=c||(c=r("react")),p="copyable-text",_="."+p,f="data-plain-text",g=r("WAWebDomAttrToData")(f),h="data-pre-plain-text",y=r("WAWebDomAttrToData")(h),C="data-app-text-template",b=r("WAWebDomAttrToData")(C);function v(e){return e instanceof HTMLElement&&r("WAWebDomElementMatches")(e,_)}function S(e){return e.dataset[y]}function R(e){return e.dataset[g]}function L(e){return e.dataset[b]}function E(e){var t=Array.from(e.querySelectorAll(_));return t.filter(function(e){return!t.some(function(t){return t!==e&&t.contains(e)})})}function k(e){return m.jsx("code",babelHelpers.extends({},F(e)))}k.displayName=k.name+" [from "+i.id+"]";function I(e){return m.jsx("del",babelHelpers.extends({},F(e)))}I.displayName=I.name+" [from "+i.id+"]";function T(e){return m.jsx("div",babelHelpers.extends({},F(e)))}T.displayName=T.name+" [from "+i.id+"]";function D(e){return m.jsx("em",babelHelpers.extends({},F(e)))}D.displayName=D.name+" [from "+i.id+"]";function x(t){var n,r=t.ref,o=t.forwardedRef,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=F(a);return m.jsx("img",babelHelpers.extends({ref:o!=null?o:r},i,{tabIndex:i.onClick?0:-1,alt:(n=i.alt)!=null?n:""}))}x.displayName=x.name+" [from "+i.id+"]";function $(e){var t=F(e),n=t.href;return!r("isStringNullOrEmpty")(n)&&!r("WAWebURLUtils").hasValidUrlScheme(n)?m.jsx("span",{}):m.jsx(o("WAWebExternalLink.react").ExternalLinkEl,babelHelpers.extends({},t))}$.displayName=$.name+" [from "+i.id+"]";function P(e){return m.jsx("span",babelHelpers.extends({},F(e)))}P.displayName=P.name+" [from "+i.id+"]";function N(e){return m.jsx("strong",babelHelpers.extends({},F(e)))}N.displayName=N.name+" [from "+i.id+"]";function M(e){return m.jsx("blockquote",babelHelpers.extends({},F(e)))}M.displayName=M.name+" [from "+i.id+"]";function w(e){var t=e.element,n=e.ref,r=babelHelpers.objectWithoutPropertiesLoose(e,s);return m.jsx(t,babelHelpers.extends({},F(r),{ref:n}))}w.displayName=w.name+" [from "+i.id+"]";var A=w;function F(e){var t=e.appTextTemplate,n=e.plainText,a=e.prePlainText,i=e.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(e,u),s=babelHelpers.extends({},l);return s.className=o("WAWebClassnames").classnamesConvertMeToStylexPlease(l.className,p),n!=null&&(s[f]=n),a!=null&&(s[h]=a),t!=null&&(s[C]=t),i!=null&&(s.className=o("WAWebClassnames").classnamesConvertMeToStylexPlease(s.className,(d||(d=r("stylex")))(i))),s}l.COPYABLE_CSS_CLASS=p,l.PLAIN_TEXT_DATA_ATTR=g,l.APP_TEXT_TEMPLATE_DATA_ATTR=b,l.isCopyable=v,l.getPrePlainTextData=S,l.getPlainTextData=R,l.getAppTextTemplateData=L,l.findCopyableChildren=E,l.CopyableCode=k,l.CopyableDel=I,l.CopyableDiv=T,l.CopyableEm=D,l.CopyableImg=x,l.CopyableLink=$,l.CopyableSpan=P,l.CopyableStrong=N,l.CopyableBlockQuote=M,l.Copyable=A}),98);
__d("WAWebCopyPasteSelectable.react",["cx","WAWebClassnames","WAWebCopyPasteCopyable.react","WAWebDomElementMatches","WAWebExternalLink.react","WAWebURLUtils","react"],(function(t,n,r,o,a,i,l,s){var e=["ref","forwardedRef"],u=["element","ref"],c=["appTextTemplate","className","plainText","prePlainText","selectable","selectAll"],d,m=d||(d=r("react")),p="_aupe",_=o("WAWebCopyPasteCopyable.react").COPYABLE_CSS_CLASS+" "+p,f="."+p,g=_,h="_aupf",y="."+h;function C(e){if(!e)return!1;if(!(e instanceof HTMLElement)){var t=e.parentElement;return C(t)}return r("WAWebDomElementMatches")(e,f)||r("WAWebDomElementMatches")(e,f+" *")}function b(e){return e?e instanceof HTMLElement?r("WAWebDomElementMatches")(e,y):b(e.parentElement):!1}function v(e){if(!(e instanceof HTMLElement))return[];var t=C(e);if(t)return Array.from(e.childNodes);var n=Array.from(e.querySelectorAll(f));return n.filter(function(e){return!n.some(function(t){return t!==e&&t.contains(e)})})}function S(e){return e instanceof HTMLElement?!!e.querySelector(f):!1}function R(e){return e?e instanceof HTMLElement?r("WAWebDomElementMatches")(e,y+" *"):R(e.parentElement):!1}function L(e){if(!R(e))return null;for(var t=e,n=0,r=5,o;t&&n<r;){if(b(t)&&t instanceof HTMLElement){o=t;break}t=t.parentElement,n++}return o}function E(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableCode,babelHelpers.extends({},t)):m.jsx("code",babelHelpers.extends({},t))}E.displayName=E.name+" [from "+i.id+"]";function k(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableDel,babelHelpers.extends({},t)):m.jsx("del",babelHelpers.extends({},t))}k.displayName=k.name+" [from "+i.id+"]";function I(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableDiv,babelHelpers.extends({},t)):m.jsx("div",babelHelpers.extends({},t))}I.displayName=I.name+" [from "+i.id+"]";function T(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableEm,babelHelpers.extends({},t)):m.jsx("em",babelHelpers.extends({},t))}T.displayName=T.name+" [from "+i.id+"]";function D(t){var n,r=t.ref,a=t.forwardedRef,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=A(i);return i.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableImg,babelHelpers.extends({forwardedRef:r},l)):m.jsx("img",babelHelpers.extends({ref:r},l,{tabIndex:l.onClick?0:-1,alt:(n=i.alt)!=null?n:""}))}D.displayName=D.name+" [from "+i.id+"]";function x(e){var t=A(e),n=e.href;return n!=null&&n!==""&&!r("WAWebURLUtils").hasValidUrlScheme(n)?m.jsx("span",{}):e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableLink,babelHelpers.extends({dir:"ltr",dataTab:e.dataTab},t)):m.jsx(o("WAWebExternalLink.react").ExternalLinkEl,babelHelpers.extends({dataTab:e.dataTab},t))}x.displayName=x.name+" [from "+i.id+"]";function $(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableSpan,babelHelpers.extends({},t)):m.jsx("span",babelHelpers.extends({},t))}$.displayName=$.name+" [from "+i.id+"]";function P(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableStrong,babelHelpers.extends({},t)):m.jsx("strong",babelHelpers.extends({},t))}P.displayName=P.name+" [from "+i.id+"]";function N(e){var t=A(e);return e.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").CopyableBlockQuote,babelHelpers.extends({},t)):m.jsx("blockquote",babelHelpers.extends({},t))}N.displayName=N.name+" [from "+i.id+"]";function M(e){var t=e.element,n=e.ref,r=babelHelpers.objectWithoutPropertiesLoose(e,u),a=A(r);return r.selectable?m.jsx(o("WAWebCopyPasteCopyable.react").Copyable,babelHelpers.extends({element:t},a,{ref:n})):m.jsx(t,babelHelpers.extends({},a,{ref:n}))}M.displayName=M.name+" [from "+i.id+"]";var w=M;function A(e){var t,n=e.appTextTemplate,r=e.className,a=e.plainText,i=e.prePlainText,l=e.selectable,s=e.selectAll,u=babelHelpers.objectWithoutPropertiesLoose(e,c),d=u;if(l&&(d.plainText=a,d.prePlainText=i,d.appTextTemplate=n),d.className=o("WAWebClassnames").classnamesConvertMeToStylexPlease(r,"_ao3e",(t={},t[p]=l,t[h]=l&&s,t)),l){var m=u["data-testid"],_=s===!0?"select-all selectable-text":"selectable-text";d["data-testid"]=m!=null?m+" "+_:_}return d}l.SELECTABLE_INPUT_CSS_CLASS=g,l.isSelectable=C,l.isSelectAll=b,l.findSelectableChildren=v,l.hasSelectableChildren=S,l.findSelectAllParent=L,l.SelectableCode=E,l.SelectableDel=k,l.SelectableDiv=I,l.SelectableEm=T,l.SelectableImg=D,l.SelectableLink=x,l.SelectableSpan=$,l.SelectableStrong=P,l.SelectableBlockQuote=N,l.Selectable=w}),98);
__d("WAWebDomElementIs",[],(function(t,n,r,o,a,i){function e(e,t){return e instanceof HTMLElement&&e.tagName.toLowerCase()===t.toLowerCase()}i.default=e}),66);
__d("WAWebDomIsTextNode",[],(function(t,n,r,o,a,i){function e(e){return!!(e&&e.nodeType===3)}i.default=e}),66);
__d("WAWebDomRangeGetContents",["invariant","WAWebDomIsTextNode"],(function(t,n,r,o,a,i,l,s){function e(e){if(e.collapsed)return[];if(e.startContainer===e.endContainer)return r("WAWebDomIsTextNode")(e.startContainer)?[e.startContainer]:Array.from(e.startContainer.childNodes).slice(e.startOffset,e.endOffset);var t=e.commonAncestorContainer.childNodes,n;e.commonAncestorContainer===e.startContainer?n=t[0]:n=u(e.commonAncestorContainer,e.startContainer),n||s(0,56328);var o;e.commonAncestorContainer===e.endContainer?o=t[t.length-1]:o=u(e.commonAncestorContainer,e.endContainer),o||s(0,56327);for(var a=o,i=function(t){return t==null?void 0:t.nextSibling},l=[],c=n;c&&c!==a;)l.push(c),c=i(c)||i(c.parentNode);return l.push(a),l}function u(e,t){for(var n=t;n.parentNode!==e;){if(!n.parentNode)return null;n=n.parentNode}return n}l.default=e}),98);
__d("range",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){for(var r=n==null||n===0?e<t?1:-1:n,o=-1,a=Math.max(Math.ceil((t-e)/r),0),i=Array(a),l=e;a--;)i[++o]=l,l+=r;return i}i.default=e}),66);
__d("WAWebCopyPasteClipboard",["WADepthFirstTraversal","WAWebCopyPasteCopyable.react","WAWebCopyPasteSelectable.react","WAWebDomElementIs","WAWebDomIsTextNode","WAWebDomRangeGetContents","range"],(function(t,n,r,o,a,i,l){var e="application/whatsapp",s=(function(){function e(e){this.$1=e||""}var t=e.prototype;return t.append=function(t,n){return n===void 0&&(n=""),this.$1=[this.toString(),t].filter(function(e){return e}).join(n),this},t.prepend=function(t,n){return n===void 0&&(n=""),this.$1=[t,this.toString()].filter(function(e){return e}).join(n),this},t.toString=function(){return this.$1},e})(),u=(function(){function e(e,t){e===void 0&&(e=""),this.$1=new s(e),this.$2=t}e.fromEl=function(n,r){r===void 0&&(r=o("WAWebCopyPasteCopyable.react").isCopyable(n));var t=r?o("WAWebCopyPasteCopyable.react").getAppTextTemplateData(n):null;return new e("",t)},e.getTemplate=function(n){var t=n;if(!t)return null;if(!(t instanceof HTMLElement)){if(!t.parentElement)return null;t=t.parentElement}for(var r=new e("${appText}"),a=t,i=5,l=0,s=!1;a&&l<i;)a instanceof HTMLElement&&o("WAWebCopyPasteCopyable.react").isCopyable(a)?(r=e.fromEl(a,!0).append(r.toString()),s=s||!r.isPlainText(),i=5):l++,a=a.parentElement;return s?r.toString():null};var t=e.prototype;return t.append=function(t,n){return n===void 0&&(n=""),this.$1.append(t,n),this},t.prepend=function(t,n){return n===void 0&&(n=""),this.$1.prepend(t,n),this},t.isPlainText=function(){return this.$2==null},t.toString=function(){return this.$2!=null?this.$2.replace(/\$\{appText\}/g,this.$1.toString()):this.$1.toString()},e})(),c=(function(){function e(e,t){var n=e||"";this.$1=new s(n),t!=null&&t!==""&&(this.$2=new u(n,t))}e.$3=function(n){var t=this,r=o("WAWebCopyPasteCopyable.react").findCopyableChildren(n);return r.reduceRight(function(e,n){return e.prepend(t.fromEl(n),"\n")},new e)},e.$4=function(t,n,a){for(var e=n.cloneContents().childNodes,i=r("WAWebDomRangeGetContents")(n),l=[],s=[],u=0;u<e.length;u++){var c=e[u],d=i[u].parentElement,m=(a||o("WAWebCopyPasteSelectable.react").isSelectable(i[u])||o("WAWebCopyPasteSelectable.react").hasSelectableChildren(c))&&(t.contains(i[u])||d!=null&&d.contains(t));m&&(l.push(c),s.push(i[u]))}e=l,i=s;var p=a;if(e.length===1){var _=e[0];p=p||o("WAWebCopyPasteSelectable.react").isSelectable(i[0]),p||(e=o("WAWebCopyPasteSelectable.react").findSelectableChildren(_),p=!1)}return{rangeNodes:e,parentIsSelectable:p}},e.fromCopyableEl=function(n,a){var t=this;a===void 0&&(a=!1);var i=o("WAWebCopyPasteCopyable.react").getPrePlainTextData(n)||"",l=new e(i),s=o("WAWebCopyPasteCopyable.react").getPlainTextData(n),u=o("WAWebCopyPasteCopyable.react").getAppTextTemplateData(n),c=new e("",u);return s!=null?(c.appendPlainText(s),l.append(c)):a||o("WAWebCopyPasteSelectable.react").isSelectable(n)?r("WAWebDomElementIs")(n,"br")?l.appendPlainText("\n"):(Array.from(n.childNodes).reduceRight(function(e,n){var o=r("WAWebDomElementIs")(n,"div")?"\n":"";return e.prepend(t.fromSelectableNode(n),o)},c),l.append(c)):(c.append(this.$3(n)),l.append(c))},e.fromEl=function(t,n){return n===void 0&&(n=!1),o("WAWebCopyPasteCopyable.react").isCopyable(t)||n?this.fromCopyableEl(t,n):this.$3(t)},e.fromNode=function(n,r){return n instanceof HTMLElement?this.fromEl(n,r):r?this.fromSelectableNode(n):new e},e.fromRange=function(n,r){var t=this,a=r.commonAncestorContainer,i=u.getTemplate(a),l=new e("",i),s=o("WAWebCopyPasteSelectable.react").isSelectAll(a)?a:o("WAWebCopyPasteSelectable.react").findSelectAllParent(a);if(s instanceof HTMLElement)return l.append(this.fromCopyableEl(s));var c=this.$4(n,r,o("WAWebCopyPasteSelectable.react").isSelectable(a)),d=c.parentIsSelectable,m=c.rangeNodes;return m.reduceRight(function(e,n){var r=t.fromNode(n,d),o=!d&&!r.toAppString().endsWith("\n")?"\n":"";return e.prepend(r,o)},l)},e.fromSelectableNode=function(n){var t=this;if(r("WAWebDomIsTextNode")(n))return new e(n.textContent);if(!(n instanceof HTMLElement))return new e;var a=n,i=new e;return r("WADepthFirstTraversal")(a,function(e){return r("WAWebDomIsTextNode")(e)||o("WAWebCopyPasteCopyable.react").isCopyable(e)?[]:Array.from(e.childNodes)},function(e){var a;o("WAWebCopyPasteCopyable.react").isCopyable(e)&&e instanceof HTMLElement?(a=t.fromCopyableEl(e,!0),i.append(a)):r("WAWebDomIsTextNode")(e)?i.appendPlainText(e.textContent):r("WAWebDomElementIs")(n,"br")&&i.appendPlainText("\n")}),i},e.fromSelection=function(n,o){var t=this,a=new e;return r("range")(0,o.rangeCount).map(function(e){var r=o.getRangeAt(e);return t.fromRange(n,r)}).reduce(function(e,t){return e.append(t,"\n")},a)};var t=e.prototype;return t.append=function(t,n){return n===void 0&&(n=""),t.hasAppText()?(this.$2=this.$2||new u(this.toPlainString()),this.$2.append(t.toAppString(),n)):this.hasAppText()&&this.$2.append(t.toAppString(),n),this.$1.append(t.toPlainString(),n),this},t.appendPlainText=function(n,r){return r===void 0&&(r=""),this.append(new e(n)),this},t.prepend=function(t,n){return n===void 0&&(n=""),t.hasAppText()?(this.$2=this.$2||new u(this.toPlainString()),this.$2.prepend(t.toAppString(),n)):this.hasAppText()&&this.$2.prepend(t.toAppString(),n),this.$1.prepend(t.toPlainString(),n),this},t.hasAppText=function(){return!!this.$2},t.toAppText=function(){return this.hasAppText()?this.$2:new u(this.toPlainString())},t.toPlainString=function(){return this.$1.toString()},t.toAppString=function(){return this.hasAppText()?this.$2.toString():this.toPlainString()},e})();l.APP_TEXT_MIMETYPE=e,l.Clipboard=c}),98);
__d("WAWebCopyPasteCopyableArea.react",["WAWebClassnames","WAWebCopyPasteClipboard","react"],(function(t,n,r,o,a,i,l){var e=["canCut","children","className","ref","testid"],s,u=s||(s=r("react")),c="copyable-area";function d(t){var n=t.canCut,r=t.children,a=t.className,i=t.ref,l=t.testid,s=babelHelpers.objectWithoutPropertiesLoose(t,e),d=babelHelpers.extends({},s,{className:o("WAWebClassnames").classnamesConvertMeToStylexPlease(a,"xnpuxes",c),onCopy:p,onCut:n?_:void 0});return u.jsx("div",babelHelpers.extends({},d,{ref:i,"data-testid":void 0,children:r}))}d.displayName=d.name+" [from "+i.id+"]";function m(e,t){var n=e.currentTarget;if(!(n instanceof HTMLElement))return!1;var r=o("WAWebCopyPasteClipboard").Clipboard.fromSelection(n,window.getSelection());e.clipboardData.setData("text/plain",r.toPlainString());try{e.clipboardData.setData(o("WAWebCopyPasteClipboard").APP_TEXT_MIMETYPE,r.toAppString())}catch(e){}return!0}function p(e){m(e,window.getSelection())&&(e.stopPropagation(),e.preventDefault())}function _(e){var t=window.getSelection();m(e,t)&&(t.deleteFromDocument(),e.stopPropagation(),e.preventDefault(),e.target.dispatchEvent(new Event("input",{bubbles:!0,cancelable:!0})))}l.default=d}),98);
__d("useWAWebTimeout",["WATimeUtils","WAWebAlarm","react","useWAWebStableCallback"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef;function m(e,t,n){t===void 0&&(t=0);var r=n!=null?n:{},o=r.immediate,a=o===void 0?!1:o,i=p(e),l=i[0],s=i[1],d=u(function(){return l(t)},[l,t]);return c(function(){a&&d()},[a,d]),[d,s]}function p(e){var t=r("useWAWebStableCallback")(e),n=d(),o=u(function(){n.current&&self.clearTimeout(n.current)},[]),a=u(function(e){o(),n.current=self.setTimeout(t,e)},[o,t]);return c(function(){return o},[o]),[a,o]}function _(e,t,n){var r=n!=null?n:{},o=r.immediate,a=o===void 0?!1:o,i=r.isGlobal,l=i===void 0?!1:i,s=f(e),d=s[0],m=s[1],p=u(function(){return d(t,l)},[d,t,l]);return c(function(){a&&p()},[a,p]),[p,m]}function f(e){var t=r("useWAWebStableCallback")(e),n=d(),a=u(function(){n.current!=null&&r("WAWebAlarm").clearTimeout(n.current)},[]),i=u(function(e,a){a?n.current=r("WAWebAlarm").setGlobalTimeout(t,o("WATimeUtils").castUnixTimeToMillisTime(e),n.current):n.current=r("WAWebAlarm").setLocalTimeout(t,o("WATimeUtils").castUnixTimeToMillisTime(e),n.current)},[t]);return c(function(){return a},[a]),[i,a]}l.useTimeout=m,l.useManualTimeout=p,l.useAlarm=_}),98);
__d("WAWebDragAndDrop.react",["react","useWAWebPrevious","useWAWebTimeout"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c=u||(u=o("react")),d=s||(s=r("react")),m=c.useEffect,p=c.useImperativeHandle,_=c.useState;function f(e){if(e.dataTransfer)try{if(!e.dataTransfer.dropEffect)return}catch(e){return}}function g(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.disableFromWithin,l=a.onDragChange,s=a.onDrop,u=_(!1),c=u[0],g=u[1],h=_(!1),y=h[0],C=h[1],b=_(!1),v=b[0],S=b[1],R=o("useWAWebTimeout").useTimeout(function(){C(!1),S(!1)},250),L=R[0],E=R[1],k=r("useWAWebPrevious")(y),I=function(t){i&&g(!0)},T=function(t){i&&g(!1)},D=function(t){t.preventDefault(),t.stopPropagation(),C(!1),S(!0),!c&&s(t)},x=function(t){t.preventDefault(),t.stopPropagation(),E(),!(y||c)&&(C(!0),S(!1),f(t))},$=function(t){t.preventDefault(),t.stopPropagation(),y&&(C(!1),S(!1))},P=function(t){L(),t.preventDefault(),t.stopPropagation()};return m(function(){k==null||k===y||!l||l(y,v)},[v,y,l,k]),p(n,function(){return{onDragStart:I,onDragEnd:T,onDragOver:x,onDragLeave:P}}),d.jsx("div",{className:"x10l6tqk x13vifvy x1o0tod x1wvqwft xh8yej3 x5yr21d",style:y?{}:{display:"none"},onDrop:D,onDragLeave:$},"mask")}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("WAWebL10NFbtTypeUtils",["fbt","WATypeUtils"],(function(t,n,r,o,a,i,l,s){function e(e){return o("WATypeUtils").isString(e)||s.isFbtInstance(e)}l.isStringOrFbt=e}),98);
__d("WAWebModalManager",["Promise","WAWebEventEmitter"],(function(t,n,r,o,a,i,l){var e,s=(function(t){function r(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(r,t);var o=r.prototype;return o.open=function(t,n){this.trigger("open_modal",t,n)},o.exists=function(t){this.trigger("exists_modal",t)},o.existsAsync=function(){var t=this;return new(e||(e=n("Promise")))(function(e){t.exists(e)})},o.close=function(t){this.trigger("close_modal",t)},o.openMedia=function(t,n){this.trigger("open_media",t,n)},o.existsMedia=function(t){this.trigger("exists_media",t)},o.closeMedia=function(){this.trigger("close_media")},o.openAlert=function(t,n){this.trigger("open_alert",t,n)},o.existsAlert=function(t){this.trigger("exists_alert",t)},o.closeAlert=function(t){this.trigger("close_alert",t)},o.getRef=function(t){this.trigger("get_ref",t)},o.openSupportModal=function(t,n){var e=this;this.trigger("exists_modal",function(r){r?e.trigger("open_support",t,n):e.open(t,n)})},o.existsSupportModal=function(t){this.trigger("exists_support",t)},o.closeSupportOrModal=function(t){var e=this;this.trigger("exists_support",function(n){n?e.trigger("close_support",t):e.close(t)})},o.closeSupportModal=function(t){var e=this;this.trigger("exists_modal",function(n){n?e.trigger("close_support",t):e.close(t)})},o.setForceRequestFocusMedia=function(t,n){this.trigger("set_force_should_request_focus_"+n,t)},r})(r("WAWebEventEmitter")),u=new s;function c(){u.close()}l.ModalManagerImpl=s,l.ModalManager=u,l.closeModalManager=c}),98);
__d("WAWebWamEnumTsExternalEventSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({CALL:1,VIDEO:2,PTT_RECORD:3,PTT_PLAY:4,MESSAGE_SEND_BACKGROUND:5});i.TS_EXTERNAL_EVENT_SOURCE=e}),66);
__d("WAWebTsExternalWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumTsExternalEventSource"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({TsExternal:[4574,{relativeTimestampMs:[1,e.TYPES.INTEGER],tsDuration:[2,e.TYPES.INTEGER],tsExternalEventSource:[3,o("WAWebWamEnumTsExternalEventSource").TS_EXTERNAL_EVENT_SOURCE],tsSessionId:[4,e.TYPES.INTEGER],tsTimestampMs:[5,e.TYPES.INTEGER],unifiedSessionId:[6,e.TYPES.STRING]},[1,1,1],"regular"]},{TsExternal:[]});l.TsExternalWamEvent=s}),98);
__d("WAWebUnifiedSessionSocketManager",["WALogger","WAWebCmd","WAWebUserPrefsAppStateSync"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y={DISCONNECTED:"DISCONNECTED",CONNECTED:"CONNECTED"},C=(function(){function t(){this.$1=!1,this.$2=y.DISCONNECTED,this.$3=null,this.$4=!1}var n=t.prototype;return n.init=function(n){var t=this;if(n===void 0&&(n=null),this.$4){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] init() already called"])));return}this.$4=!0,this.$3=n;var r=o("WAWebUserPrefsAppStateSync").getAllCriticalDataSynced(),a=o("WAWebCmd").Cmd.isMainStreamReadyMd;this.$1=r,this.$2=r&&a?y.CONNECTED:y.DISCONNECTED,o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] init synced="," open="," stream=",""])),String(r),String(a),this.$2),o("WAWebCmd").Cmd.on("main_stream_mode_ready_from_bridge",function(){t.$5()}),o("WAWebCmd").Cmd.on("on_critical_sync_done_from_bridge",function(){t.$5()}),o("WAWebCmd").Cmd.on("open_socket_stream_from_bridge",function(){t.$6()}),o("WAWebCmd").Cmd.on("socket_stream_disconnected_from_bridge",function(){t.$7()})},n.isConnected=function(){return this.$2===y.CONNECTED},n.isInitialized=function(){return this.$4},n.$8=function(t){var e;if(this.$2=t?y.CONNECTED:y.DISCONNECTED,!this.$4){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip callback: not init"])));return}(e=this.$3)==null||e.call(this)},n.$5=function(){if(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] ready->CONNECTED"]))),this.$1===!0&&this.isConnected()){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip->CONNECTED: already"])));return}var e=o("WAWebUserPrefsAppStateSync").getAllCriticalDataSynced();if(!e){o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip->CONNECTED: no sync"])));return}this.$1=e,this.$8(!0)},n.$6=function(){if(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] open->CONNECTED"]))),this.$1===!1){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip->CONNECTED: no sync"])));return}if(this.isConnected()){o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip->CONNECTED: already"])));return}this.$8(!0)},n.$7=function(){if(o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] disconnect->DISCONNECTED"]))),this.isConnected()===!1){o("WALogger").WARN(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[unified-session-socket] skip->DISCONNECTED: already"])));return}this.$8(!1)},t})();l.UnifiedSessionSocketManager=C}),98);
__d("WAWebUnifiedSession",["$InternalEnum","WALogger","WASmaxUnifiedSessionShareRPC","WATimeUtils","WAWebUnifiedSessionSocketManager","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u=7*o("WATimeUtils").DAY_MILLISECONDS,c=3*o("WATimeUtils").DAY_MILLISECONDS,d=n("$InternalEnum")({InitialRender:"initial-render",Foreground:"foreground"}),m=(function(){function t(e){this.$1=null,this.$2=0,this.$3=!1,this.$4=e}var r=t.prototype;return r.getSocketStreamChangeHandler=function(){var e=this;return function(){return e.$5()}},r.getSessionId=function(){return this.$1},r.getSequence=function(){return++this.$2},r.clearSessionId=function(){this.$1=null},r.generateSessionId=function(n){try{var t=(p()+c)%u,r=this.$1;this.$1=String(t),this.$3=!1,this.$2=0,this.$6()}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[unified-session] Error generating session id: ",""])),t).sendLogs("unified-session-generate-error")}},r.$6=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(this.$4.isConnected()!==!1){var e=this.$1;if(e!=null&&!this.$3)try{yield o("WASmaxUnifiedSessionShareRPC").sendShareRPC({unifiedSessionId:e}),this.$3=!0}catch(e){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[unified-session] failed to send session id: ",""])),e).sendLogs("send-unified-session-id-failed")}}});function t(){return e.apply(this,arguments)}return t})(),r.$5=function(){this.$4.isInitialized()&&this.$4.isConnected()&&this.$6()},t})();function p(){return Date.now()+o("WATimeUtils").getClockSkew()}var _=(function(){var e=new(o("WAWebUnifiedSessionSocketManager")).UnifiedSessionSocketManager,t=new m(e);return e.init(t.getSocketStreamChangeHandler()),t})();l.UnifiedSessionGenReason=d,l.UnifiedSessionManager=_}),98);
__d("WAWebTimeSpentLoggingExternal",["WAWebABProps","WAWebClock","WAWebTimeSpentLoggingSession","WAWebTsExternalWamEvent","WAWebUnifiedSession"],(function(t,n,r,o,a,i,l){var e=1e3,s=new Set;function u(){return s.size>0}function c(e){var t=o("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession(),n={source:e,tsSessionId:t.id,startTimeMs:t.relativeTimestampMs};if(o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")){n.tsTimestampMs=o("WAWebClock").Clock.getServerTimeMs();var r=o("WAWebUnifiedSession").UnifiedSessionManager.getSessionId();r!=null&&(n.unifiedSessionId=r)}m(n),s.add(n);var a=!1;return function(){a||(_(n),a=!0)}}function d(t,n){var r=n-t.startTimeMs;if(!(r<e)){var a={tsSessionId:t.tsSessionId,tsDuration:Math.floor(r/1e3),tsExternalEventSource:t.source,relativeTimestampMs:t.startTimeMs};return o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")&&(t.tsTimestampMs!=null&&(a.tsTimestampMs=t.tsTimestampMs),t.unifiedSessionId!=null&&(a.unifiedSessionId=t.unifiedSessionId)),a}}function m(e){e.intervalTimeoutId=self.setTimeout(function(){return p(e)},o("WAWebABProps").getABPropConfigValue("ts_session_duration_ms")/2)}function p(e){o("WAWebTimeSpentLoggingSession").markTimeSpentActivity();var t=o("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession(),n=t.relativeTimestampMs,r=d(e,n);r!=null&&(new(o("WAWebTsExternalWamEvent")).TsExternalWamEvent(r).commit(),e.startTimeMs=n,m(e))}function _(e){e.intervalTimeoutId!=null&&self.clearTimeout(e.intervalTimeoutId),s.delete(e);var t=o("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession(),n=t.relativeTimestampMs,r=d(e,n);r!=null&&new(o("WAWebTsExternalWamEvent")).TsExternalWamEvent(r).commit()}l.tsExternalEventsInProgress=u,l.beginTsExternalEvent=c}),98);
__d("WAWebTsBitArrayWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({TsBitArray:[4332,{bitarrayHigh:[1,e.TYPES.INTEGER],bitarrayLength:[2,e.TYPES.INTEGER],bitarrayLow:[3,e.TYPES.INTEGER],cumulativeBits:[4,e.TYPES.INTEGER],relativeTimestampMs:[5,e.TYPES.INTEGER],sessionSeq:[6,e.TYPES.INTEGER],tsSessionId:[7,e.TYPES.INTEGER],tsTimestampMs:[8,e.TYPES.INTEGER],unifiedSessionId:[9,e.TYPES.STRING]},[1,1,1],"regular"]},{TsBitArray:[]});l.TsBitArrayWamEvent=s}),98);
__d("WAWebTimeSpentLoggingBitArray",["Promise","WALogger","WAWebABProps","WAWebPermanentStorage","WAWebTsBitArrayWamEvent","compactMap"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m;function p(e,t){for(var n,o,a,i=""+e.bitmap[0],l=1;l<e.bitmap.length;++l)i+=":"+e.bitmap[l];var s=[e.sessionId,e.sessionSeq,e.sessionCum,e.startTime,e.bitmapLen,(n=e.relativeStartTimeMs)!=null?n:"",(o=e.tsTimestampMs)!=null?o:"",(a=e.unifiedSessionId)!=null?a:""],u=s.join(":")+"$"+i,c=r("WAWebPermanentStorage").getItem(t);if(c==null)return r("WAWebPermanentStorage").setItem(t,u),[e];var d=h(c);return d.push(e),r("WAWebPermanentStorage").setItem(t,c+"_"+u),d}function _(t,a){var i=p(t,a);(m||(m=n("Promise"))).all(i.map(g)).then(function(){return r("WAWebPermanentStorage").removeItem(a)}).catch(function(){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] error flushing events for ","."])),a)})}function f(e,t){var a=r("WAWebPermanentStorage").getItem(e);if(a!=null){var i=h(a);if(i==null){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] error parsing stashed bitarray data (",")"])),e);return}(m||(m=n("Promise"))).all(i.map(t)).then(function(){return r("WAWebPermanentStorage").removeItem(e)}).catch(function(){o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] error flushing events for ","."])),e)})}}function g(e){var t,n,r=Number(e.sessionId),a=new(o("WAWebTsBitArrayWamEvent")).TsBitArrayWamEvent({tsSessionId:Number.isSafeInteger(r)?r:-1,bitarrayLength:e.bitmapLen,bitarrayLow:e.bitmap[0],bitarrayHigh:(t=e.bitmap[1])!=null?t:void 0,cumulativeBits:e.sessionCum,relativeTimestampMs:(n=e.relativeStartTimeMs)!=null?n:void 0,sessionSeq:e.sessionSeq});return o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")&&(e.tsTimestampMs!=null&&(a.tsTimestampMs=e.tsTimestampMs),e.unifiedSessionId!=null&&(a.unifiedSessionId=e.unifiedSessionId)),a.commitAndWaitForFlush()}function h(e){return e.length===0?[]:r("compactMap")(e.split("_"),y)}function y(e){var t,n,r,a=e.split("$"),i=a[0],l=a[1],s=babelHelpers.arrayLikeToArray(a).slice(2);if(s.length||!l){o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Invalid stashed time spent event"])));return}var u=i.split(":");if(!(u.length>=5&&u.length<=8)){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Invalid stashed time spent event"])));return}var m=new Int32Array(l.split(":").map(function(e){return Number(e)})),p={sessionId:u[0],sessionSeq:Number(u[1]),sessionCum:Number(u[2]),startTime:Number(u[3]),bitmapLen:Number(u[4]),bitmap:m};return(t=u[5])!=null&&t.length&&(p.relativeStartTimeMs=Number(u[5])),(n=u[6])!=null&&n.length&&(p.tsTimestampMs=Number(u[6])),(r=u[7])!=null&&r.length&&(p.unifiedSessionId=u[7]),p}l.stashBitarrayData=p,l.stashAndFlushBitarray=_,l.flushBitarrays=f,l.postTsBitArrayEvent=g,l.parseStashedBitarrayData=h}),98);
__d("WAWebWamTimeSpentArray",["WALogger","WAShiftTimer","WAWebABProps","WAWebClock","WAWebUnifiedSession"],(function(t,n,r,o,a,i,l){var e,s=2,u=s*32,c=(function(){function t(e){var t=this;this.sequenceId=0,this.ship=function(e){var n,r=t.bitmap;if(r){var a=Date.now();a>t.lastActiveInMS&&(t.bitmapLength=Math.min(u,Math.ceil(a/1e3-t.startTimeInSec)));var i={sessionId:t.sessionId,startTime:t.startTimeInSec,bitmap:r,bitmapLen:t.bitmapLength,sessionSeq:t.sequenceId,sessionCum:t.cumulativeBitsSet,relativeStartTimeMs:(n=t.relativeStartTimeMs)!=null?n:void 0};if(o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")){var l=t.startTimeInSec*1e3;i.tsTimestampMs=o("WAWebClock").Clock.getServerTimeMs()-(a-l);var s=o("WAWebUnifiedSession").UnifiedSessionManager.getSessionId();s!=null&&(i.unifiedSessionId=s)}var c=e||t.loggingCallback;c(i),t.timer.cancel(),t.bitmap=null}},this.loggingCallback=e.loggingCallback,this.timer=new(o("WAShiftTimer")).ShiftTimer(this.ship);var n=e.getSessionData,r=e.postUpdate;n!=null&&(this.fetchAndUpdateSession=function(){var e=n(),r=e.id,o=e.relativeTimeMs;t.sessionId=r,t.relativeStartTimeMs=o,t.cumulativeBitsSet=0}),this.postUpdate=r,this.$1(),this.$2(Math.floor(Date.now()/1e3))}var n=t.prototype;return n.$1=function(){this.fetchAndUpdateSession!=null?this.fetchAndUpdateSession():(this.sessionId=d(),this.cumulativeBitsSet=0,this.sequenceId=-1)},n.$2=function(n){var t;this.fetchAndUpdateSession!=null&&this.fetchAndUpdateSession(),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] _initArray at time ",""])),n),this.startTimeInSec=n,this.lastActiveInMS=this.startTimeInSec*1e3,this.bitmap=new Int32Array(s),this.bitmap[0]=1,this.bitmapLength=1,this.cumulativeBitsSet+=1,this.sequenceId+=1,(t=this.postUpdate)==null||t.call(this);var r=u*1e3;this.timer.debounceAndCap(r,r)},n.$3=function(t){var e=t-this.startTimeInSec;this.bitmap&&(e<0||e>=u)&&this.ship(),this.bitmap?(this.bitmap[e>>5]|=1<<(e&31),this.bitmapLength=e+1,this.cumulativeBitsSet+=1,this.lastActiveInMS=t*1e3):this.$2(t)},n.update=function(t){var e;t>=this.lastActiveInMS&&t-this.lastActiveInMS<1e3||(this.$3(Math.floor(t/1e3)),(e=this.postUpdate)==null||e.call(this))},n.shipAndEndSession=function(t){this.ship(t),this.$1()},t})();function d(){return Math.floor(2147483648*Math.random()).toString(36)}l.default=c}),98);
__d("WAWebTimeSpentLoggingSession",["WALogger","WAShiftTimer","WATimeUtils","WAWebABProps","WAWebClock","WAWebTimeSpentLoggingBitArray","WAWebTimeSpentLoggingExternal","WAWebUnifiedSession","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWamTimeSpentArray"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_=Math.pow(2,31)-1,f=null,g=null,h=new(o("WAShiftTimer")).ShiftTimer(function(){f!=null&&(r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_SESSION,f),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] persisted session"]))))});function y(e){if(e===void 0&&(e=!1),e){h.forceRunNow();return}var t=10;h.onOrBefore(t*1e3)}function C(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_SESSION);if(e==null||typeof e!="object"){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] no session to restore"]))),f=null;return}var t=e.cumulativeBitsSet,n=e.id,a=e.lastActivityTimestampMs,i=e.relativeTimestampMs,l=e.sequenceId,d=e.startTimestampMs,m=e.tsTimestampMs,p=e.unifiedSessionId;if(typeof n!="number"||typeof d!="number"||typeof a!="number"||typeof t!="number"||typeof l!="number"||typeof i!="number"||typeof m!="number"&&m!=null||typeof p!="string"&&p!=null){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] malformed ts session: ",""])),JSON.stringify(e)),f=null;return}f={id:n,startTimestampMs:d,lastActivityTimestampMs:a,cumulativeBitsSet:t,sequenceId:l,relativeTimestampMs:i,tsTimestampMs:m!=null?m:null,unifiedSessionId:p!=null?p:null},o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] restored ts session: ",""])),JSON.stringify(f))}function b(){var e=o("WATimeUtils").unixTimeMs(),t=null,n=null;if(o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")){var r;t=o("WAWebClock").Clock.getServerTimeMs(),n=(r=o("WAWebUnifiedSession").UnifiedSessionManager.getSessionId())!=null?r:null}if(f==null||e-f.lastActivityTimestampMs>=S()&&!o("WAWebTimeSpentLoggingExternal").tsExternalEventsInProgress()){g=f,o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] initializing session"])));var a={id:Math.floor(Math.random()*_),startTimestampMs:e,lastActivityTimestampMs:e,cumulativeBitsSet:0,sequenceId:-1,relativeTimestampMs:0,tsTimestampMs:t,unifiedSessionId:n};return f=a,y(!0),a}return f.relativeTimestampMs=e-f.startTimestampMs,f.tsTimestampMs=t,f.unifiedSessionId=n,f}function v(){b().lastActivityTimestampMs=o("WATimeUtils").unixTimeMs(),y()}function S(){return o("WAWebABProps").getABPropConfigValue("ts_session_duration_ms")}function R(){return o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] creating time spent array"]))),new(r("WAWebWamTimeSpentArray"))({getSessionData:function(){var e=b();return{relativeTimeMs:e.relativeTimestampMs,id:e.id.toString()}},postUpdate:v,loggingCallback:function(t){o("WAWebTimeSpentLoggingBitArray").stashAndFlushBitarray(L(t),o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_BITARRAY_EVENT)}})}function L(e){var t=b(),n=Number(e.sessionId);if(t.id!==n){var r;if(g!=null&&((r=g)==null?void 0:r.id)===n)t=g;else return o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[time-spent] expired session data, no session match"]))),e}return t.cumulativeBitsSet+=e.sessionCum,t.sequenceId++,e.sessionSeq=t.sequenceId,e.sessionCum=t.cumulativeBitsSet,y(!0),e}l.restoreTimeSpentSession=C,l.getOrInitTimeSpentSession=b,l.markTimeSpentActivity=v,l.createTimeSpentArray=R,l.preprocessTsArrayData=L}),98);
__d("WAWebWamEnumReferrerAction",[],(function(t,n,r,o,a,i){var e=Object.freeze({NULLSTATE_ASK_META_AI:1,TYPEAHEAD_ASK_META_AI:2,NULLSTATE_PAPER_PLANE:3,TYPEAHEAD_PAPER_PLANE:4,TYPEAHEAD_SEND:5,FAVICON:6,THREAD_OPEN:7,MY_STATUS_OVERLFOW_MENU_OPTION:8,AI_WIDGET:9,FAB_MM_TAP:10,NO_RESULT_STATE_ASK_META_AI:11,META_AI_THREAD_LIST:12});i.REFERRER_ACTION=e}),66);
__d("WAWebWamEnumThreadType",[],(function(t,n,r,o,a,i){var e=Object.freeze({GROUP:1,BROADCAST:2,INDIVIDUAL:3,STATUS:4,CHANNEL:5,SUB_GROUP:6,DEFAULT_SUB_GROUP:7,PARENT_GROUP:8,BOT:9});i.THREAD_TYPE=e}),66);
__d("WAWebTsNavigationWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumEntryPointConversationInitiated","WAWebWamEnumProductArea","WAWebWamEnumReferrerAction","WAWebWamEnumThreadType","WAWebWamEnumTsSurface","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({TsNavigation:[4334,{canonicalEntLastValidationTsMs:[38,e.TYPES.INTEGER],cid:[19,e.TYPES.STRING],entryPointConversationInitiated:[23,o("WAWebWamEnumEntryPointConversationInitiated").ENTRY_POINT_CONVERSATION_INITIATED],entryPointConversionApp:[24,e.TYPES.STRING],entryPointConversionSource:[25,e.TYPES.STRING],groupSize:[1,e.TYPES.INTEGER],isCanonicalEntPresent:[36,e.TYPES.BOOLEAN],isCatalogVisible:[29,e.TYPES.BOOLEAN],isCloudapi:[26,e.TYPES.BOOLEAN],isMetaAiThread:[30,e.TYPES.BOOLEAN],isOnpremises:[27,e.TYPES.BOOLEAN],isSmb:[28,e.TYPES.BOOLEAN],navigationDestination:[2,o("WAWebWamEnumTsSurface").TS_SURFACE],navigationDestinationProductArea:[34,o("WAWebWamEnumProductArea").PRODUCT_AREA],navigationDestinationViewName:[35,e.TYPES.STRING],navigationSource:[3,o("WAWebWamEnumTsSurface").TS_SURFACE],referrerAction:[31,o("WAWebWamEnumReferrerAction").REFERRER_ACTION],relativeTimestampMs:[4,e.TYPES.INTEGER],smbCatalogBusinessVertical:[20,e.TYPES.STRING],smbCatalogIsCatalogVisible:[21,e.TYPES.BOOLEAN],smbCatalogIsToggleCart:[22,e.TYPES.BOOLEAN],threadType:[7,o("WAWebWamEnumThreadType").THREAD_TYPE],traceIdInt:[37,e.TYPES.INTEGER],tsSessionId:[5,e.TYPES.INTEGER],tsTimestampMs:[32,e.TYPES.INTEGER],typeOfGroup:[6,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM],unifiedSessionId:[33,e.TYPES.STRING]},[1,1,1],"regular"]},{TsNavigation:[]});l.TsNavigationWamEvent=s}),98);
__d("WAWebTimeSpentLoggingNavigation",["CurrentUser","WALogger","WAShiftTimer","WAWebABProps","WAWebTimeSpentLoggingSession","WAWebTsNavigationWamEvent","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebWamEnumTsSurface","gkx","react"],(function(t,n,r,o,a,i,l){var e,s,u,c,d=(c||(c=o("react"))).useEffect,m={unknown:o("WAWebWamEnumTsSurface").TS_SURFACE.UNKNOWN,"chat-list":o("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_LIST,chat:o("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_THREAD,"community-tab":o("WAWebWamEnumTsSurface").TS_SURFACE.COMMUNITY_TAB,"community-info":o("WAWebWamEnumTsSurface").TS_SURFACE.COMMUNITY_HOME,"community-navigation":o("WAWebWamEnumTsSurface").TS_SURFACE.COMMUNITY_NAVIGATION,"community-subgroup-switcher":o("WAWebWamEnumTsSurface").TS_SURFACE.SUBGROUP_SWITCHER,"group-info-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_INFO_PAGE,"contact-info-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.CHAT_INFO_PAGE,"new-chat":o("WAWebWamEnumTsSurface").TS_SURFACE.NEW_CHAT,"new-community-info-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.COMMUNITY_COMPOSER,"media-viewer":o("WAWebWamEnumTsSurface").TS_SURFACE.MEDIA_VIEWER,"media-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.ALL_MEDIA,camera:o("WAWebWamEnumTsSurface").TS_SURFACE.CAMERA,"youtube-player":o("WAWebWamEnumTsSurface").TS_SURFACE.STREAMING_MEDIA_VIEWER,"settings-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.SETTINGS_HOME_TAB,background:o("WAWebWamEnumTsSurface").TS_SURFACE.BACKGROUND,"tools-tab":o("WAWebWamEnumTsSurface").TS_SURFACE.TOOLS_TAB,"archived-chats-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.ARCHIVED_MESSAGES_TAB,"starred-messages-drawer":o("WAWebWamEnumTsSurface").TS_SURFACE.STARRED_MESSAGES_TAB,"forward-selection-modal":o("WAWebWamEnumTsSurface").TS_SURFACE.FORWARD_SELECTION_SCREEN,"profile-picture-preview":o("WAWebWamEnumTsSurface").TS_SURFACE.PROFILE_PICTURE_PREVIEW,"self-profile":o("WAWebWamEnumTsSurface").TS_SURFACE.SELF_PROFILE,status:o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_HOME_TAB,"status-view":o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_VIEW,"status-composer-text":o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_COMPOSER_TEXT,"status-composer-media":o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_COMPOSER,"status-viewer-list":o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_VIEWER_SHEET,"status-audience-selector":o("WAWebWamEnumTsSurface").TS_SURFACE.STATUS_AUDIENCE_SELECTOR,"channel-updates-home":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME,"channel-updates-home-search":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_UPDATES_HOME_SEARCH,"channel-thread":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_THREAD,"channel-directory-home":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY,"channel-directory-search":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_SEARCH,"channel-directory-categories-home":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_CATEGORIES,"channel-directory-categories-search":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DIRECTORY_CATEGORIES_SEARCH,"channel-profile":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PROFILE,"channel-link":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_LINK,"channel-forward":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_FORWARD,"channel-producer-media-editor":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PRODUCER_MEDIA_EDITOR,"channel-edit-page":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_EDIT,"channel-create-page":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_CREATE,"channel-delete-page":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_DELETE,"channel-insights-reach":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PRODUCER_INSIGHTS_REACH,"channel-insights-growth":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PRODUCER_INSIGHTS_GROWTH,"channel-insights-followers":o("WAWebWamEnumTsSurface").TS_SURFACE.CHANNEL_PRODUCER_INSIGHTS_FOLLOWERS,"create-event":o("WAWebWamEnumTsSurface").TS_SURFACE.CREATE_EVENT,"event-info":o("WAWebWamEnumTsSurface").TS_SURFACE.EVENT_PAGE,"events-in-group":o("WAWebWamEnumTsSurface").TS_SURFACE.EVENTS_IN_GROUP,"list-management":o("WAWebWamEnumTsSurface").TS_SURFACE.LIST_MANAGEMENT,"smb-business-profile":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_BUSINESS_PROFILE_EDIT,"smb-business-profile-edit-business-hours-detail":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_BUSINESS_PROFILE_EDIT_BUSINESS_HOURS_DETAIL,"smb-business-profile-edit-categories":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_BUSINESS_PROFILE_EDIT_CATEGORIES,"smb-quick-reply-list":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_QUICK_REPLY_LIST,"smb-quick-reply-edit":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_QUICK_REPLY_EDIT,"smb-quick-reply-add":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_QUICK_REPLY_ADD,"smb-labels-list":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_LABELS_LIST,"smb-labels-detail":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_LABEL_DETAIL,"smb-labels-edit":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_LABEL_EDIT,"contact-creation":o("WAWebWamEnumTsSurface").TS_SURFACE.CONTACT_CREATION,"new-group-contact-creation":o("WAWebWamEnumTsSurface").TS_SURFACE.NEW_GROUP_CONTACT_CREATION,"group-member-add-group-creation":o("WAWebWamEnumTsSurface").TS_SURFACE.GROUP_MEMBER_ADD_GROUP_CREATION,"group-member-add-existing-group":o("WAWebWamEnumTsSurface").TS_SURFACE.GROUP_MEMBER_ADD_EXISTING_GROUP,"group-creation":o("WAWebWamEnumTsSurface").TS_SURFACE.GROUP_CREATION,"bug-reporting-composer-media":o("WAWebWamEnumTsSurface").TS_SURFACE.BUG_REPORTING_COMPOSER_MEDIA,"smb-catalog":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG,"smb-catalog-share-link":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_SHARE_LINK,"smb-catalog-share-product-link":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_SHARE_PRODUCT_LINK,"smb-catalog-settings":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_SETTINGS,"smb-catalog-product":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_PRODUCT,"smb-catalog-new-collection":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_NEW_COLLECTION,"smb-catalog-edit-collection":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_EDIT_COLLECTION,"smb-catalog-edit-product":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_EDIT_PRODUCT,"smb-catalog-create-product":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_CREATE_PRODUCT,"smb-catalog-collection-products":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_CATALOG_COLLECTION_PRODUCTS,"catalog-cart":o("WAWebWamEnumTsSurface").TS_SURFACE.CATALOG_CART,"catalog-item":o("WAWebWamEnumTsSurface").TS_SURFACE.CATALOG_ITEM,"catalog-home":o("WAWebWamEnumTsSurface").TS_SURFACE.CATALOG_HOME,"catalog-collection":o("WAWebWamEnumTsSurface").TS_SURFACE.CATALOG_COLLECTION,"smb-orders-hub":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_ORDERS_HUB,"smb-order-details":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_ORDER_DETAILS,"smb-sent-cart-details":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_SENT_CART_DETAILS,"smb-label-edit-color":o("WAWebWamEnumTsSurface").TS_SURFACE.SMB_LABEL_EDIT_COLOR,"bb-imported-contact-wizard":o("WAWebWamEnumTsSurface").TS_SURFACE.BUSINESS_BROADCAST_IMPORTED_CONTACT_WIZARD,"bb-edit-contact":o("WAWebWamEnumTsSurface").TS_SURFACE.BUSINESS_BROADCAST_EDIT_CONTACT},p,_=[];function f(e){d(function(){if(e!=null){var t=g(e);return function(){return y(t)}}},[])}function g(e){var t,n=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER),r=h(e)?{id:n,surface:"unknown"}:babelHelpers.extends({},e,{id:n}),o=(t=_[_.length-1])!=null?t:{surface:"background",id:-1};return _.push(r),x(),v(o),n}function h(e){return(1<<m[e.surface]&o("WAWebABProps").getABPropConfigValue("ts_surface_killswitch"))!==0}function y(t){var n=_.findIndex(function(e){return e.id===t});if(n===-1){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[ts-nav] cleanup id "," not visible"])),t);return}var r=_[n];_.splice(n,1),x(),v(r)}var C=[],b=new(o("WAShiftTimer")).ShiftTimer(function(){var e;if(C.length===0){o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[time-spent][nav] flushing empty queue!"])));return}var t;for(var n of C){if(t==null){t=n;continue}t.destId===n.sourceId?(n.event.navigationSource=t.event.navigationSource,n.event.relativeTimestampMs=t.event.relativeTimestampMs):t.event.commit(),t=n}(e=t)==null||e.event.commit(),C=[]});function v(e){var t,n,a,i,l,s=_[_.length-1];if(s==null&&(o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[time-spent][nav] missing destination for navigation from ",""])),e.surface),s={surface:"unknown",id:-1}),s.id!==((t=p)==null?void 0:t.id)){var c=o("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession();if(k(),e.surface==="unknown"&&s.surface==="unknown"){x();return}var d=new(o("WAWebTsNavigationWamEvent")).TsNavigationWamEvent({tsSessionId:c.id,relativeTimestampMs:c.relativeTimestampMs,navigationSource:m[e.surface],navigationDestination:m[s.surface],groupSize:(n=s.extras)==null?void 0:n.groupSize,typeOfGroup:(a=s.extras)==null?void 0:a.typeOfGroup,threadType:(i=s.extras)==null?void 0:i.threadType,cid:(l=s.extras)==null||(l=l.channelWid)==null?void 0:l.user,isCanonicalEntPresent:r("CurrentUser").isLoggedIn()});o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")&&(c.tsTimestampMs!=null&&(d.tsTimestampMs=c.tsTimestampMs),c.unifiedSessionId!=null&&(d.unifiedSessionId=c.unifiedSessionId)),C.push({sourceId:e.id,destId:s.id,event:d}),b.onOrBefore(100),p=s}}var S=null;function R(){S=g({surface:"background"})}function L(){var e="unknown";return _.length>0&&(e=_[_.length-1].surface),e}function E(){var e=o("WAWebTimeSpentLoggingSession").getOrInitTimeSpentSession(),t=L();r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_PENDING_BACKGROUND_NAVIGATION,{id:e.id,relativeTimestampMs:e.relativeTimestampMs,source:t})}function k(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_PENDING_BACKGROUND_NAVIGATION);if(!(e==null||typeof e!="object")){var t=e.id,n=e.relativeTimestampMs,a=e.source;if(!(typeof t!="number"||typeof n!="number"||typeof a!="string")&&m[a]!=null){var i=new(o("WAWebTsNavigationWamEvent")).TsNavigationWamEvent({tsSessionId:t,relativeTimestampMs:n,navigationSource:m[a],navigationDestination:m.background,isCanonicalEntPresent:r("CurrentUser").isLoggedIn()});o("WAWebABProps").getABPropConfigValue("unified_session_log_ts_event")&&(typeof e.tsTimestampMs=="number"&&(i.tsTimestampMs=e.tsTimestampMs),typeof e.unifiedSessionId=="string"&&(i.unifiedSessionId=e.unifiedSessionId)),i.commit(),r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").KEYS.TIME_SPENT_PENDING_BACKGROUND_NAVIGATION,null)}}}function I(){S!=null&&y(S)}var T=!1;function D(){r("gkx")("26258")||(T=!T)}function x(){return r("gkx")("26258")?!1:T}l.useTsNavigation=f,l.tsNavigationEnter=g,l.tsNavigationExit=y,l.logTsBackgroundNavigation=R,l.setPendingBackgroundNavigation=E,l.logTsForegroundNavigation=I,l.toggleTsNavigationDebug=D}),98);
__d("WAWebVoipUiPopoutWindowContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isContextInPopoutWindow:!1,popoverPortalEl:null,documentEl:document,windowEl:window,isDocPip:!1});l.default=u}),98);
__d("WAWebModal.react",["$InternalEnum","WAWebCopyPasteCopyableArea.react","WAWebDragAndDrop.react","WAWebL10NFbtTypeUtils","WAWebModalManager","WAWebTimeSpentLoggingNavigation","WAWebVoipUiPopoutWindowContext","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c,d=c||(c=o("react")),m=s||(s=r("react")),p=d.useContext,_=d.useRef,f=n("$InternalEnum").Mirrored(["Box","BoxLarge","Flex","Guide","Tower","Auto","AutoWrap","Invite","InviteNew","ColumnButtons","Multiline","Upgrade","Promote","CommandPalette","CommandPaletteV2","QuickReplies","StatusViewerList","LinkPopup","StatusReport","ChatAssignment","TowerLarge","HistorySyncProgress","MessageEdit","ForwardMediaWithCaption","MessageActionsModal","DataSharing","UpdatedDataSharing","DeleteNewsletter","Small","ListsAssignModal","LabelList","LabelEdit","LabelChooseColor","Comments","BotNut","EventCreation","AdAccountRecovery","MusicAttribution","BusinessHours","BusinessCategories","BusinessProfile","MediaHub","GroupSafetyCheck","ReachoutTimelock","AddOrUpdatePix","IndividualNewChatMessageCapped","CDS","Questions","GalaxyFlowResponsePopup","BusinessBroadcastUploadModal","PaymentsFlow","BizToolsAdCreationNux","BizToolsAdCreationEmailOnboarding","BizToolsAdCreationSuccess","BillingWizardDialog","PdfEdit","PdfEditError","HardRefresh"]),g={overlay:{position:"xixxii4",top:"x13vifvy",insetInlineStart:"x1o0tod",left:null,right:null,boxSizing:"x9f619",width:"xh8yej3",height:"x5yr21d",$$css:!0},backdrop:{zIndex:"xjhb59c",overflowX:"xw2csxc",overflowY:"x1odjw0f",backgroundColor:"x1honnu5",$$css:!0},backdropRefreshed:{backgroundColor:"x1honnu5",$$css:!0},backdropMediaHub:{zIndex:"xtsfpqs",$$css:!0},popup:{boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",flexBasis:"xdl72j9",flexDirection:"xdt5ytf",width:"xvue9z",paddingTop:"x1xy6bms",paddingInlineEnd:"x64bnmy",paddingBottom:"xx6bls6",paddingInlineStart:"x13jy36j",overflowX:"x6ikm8r",overflowY:"x10wlt62",backgroundColor:"x16w0wmm",borderStartStartRadius:"xrlxcrs",borderStartEndRadius:"x7g1fbw",borderEndEndRadius:"xxl59ln",borderEndStartRadius:"xmw6rta",boxShadow:"x1shw4ur",$$css:!0},popupMaterial:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",boxShadow:"xs2e80n",$$css:!0},popupSmall:{width:"x1l2rt3b",$$css:!0},popupAutoWrap:{minWidth:"x1htk8sl",width:"x14atkfc",$$css:!0},popupAutoWrapContents:{maxWidth:"x1m189uc",minWidth:"xgqtt45",$$css:!0},popupBody:{position:"x1n2onr6",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"x1l7klhg",overflowWrap:"x1mzt3pk",whiteSpace:"xeaf4i8",$$css:!0},popupTitle:{marginBottom:"xdqhqc9",fontSize:"x1603h9y",fontWeight:"xo1l8bm",lineHeight:"x132q4wb",textAlign:"x1yc453h",$$css:!0},backdropCover:{backgroundColor:"x14zpict",$$css:!0},showOverStatus:{zIndex:"xc9l9hb",$$css:!0},popupContents:{fontSize:"x12lqup9",lineHeight:"x1o1kx08",$$css:!0},popupBox:{position:"x1n2onr6",width:"xvue9z",height:"x1egiwwb",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupBoxLarge:{position:"x1n2onr6",width:"x1qfffx7",height:"xjr88my",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupFlex:{width:"x14atkfc",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",backgroundColor:"x16w0wmm",$$css:!0},popupAuto:{width:"x14atkfc",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",transform:"x15j3iad",$$css:!0},popupAutoTitle:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},popupAutoBody:{position:"x1uhb9sk",$$css:!0},popupAutoContents:{backgroundColor:"x1280gxy",$$css:!0},popupAutoControls:{paddingTop:"x889kno",paddingInlineEnd:"x1gabggj",paddingBottom:"xs9asl8",paddingInlineStart:"xaso8d8",backgroundColor:"x1280gxy",$$css:!0},popupFlexInvite:{height:"x1ad3yod",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",backgroundColor:"x16w0wmm",$$css:!0},popupFlexInviteNew:{width:"xr6pica",paddingTop:"x1p5oq8j",paddingInlineEnd:"x194u5oj",paddingBottom:"x84yb8i",paddingInlineStart:"x1mfogq2",$$css:!0},popupFlexInviteNewControls:{paddingTop:"x1p57kb1",justifyContent:"xl56j7k",$$css:!0},popupFlexUpgradeControls:{paddingTop:"x10lzpyj",paddingInlineEnd:"x1gabggj",paddingBottom:"x18d9i69",paddingInlineStart:"xaso8d8",$$css:!0},popupFlexControls:{paddingTop:"x123j3cw",paddingInlineEnd:"xfo0vy5",paddingBottom:"x156go17",paddingInlineStart:"x1lyran6",$$css:!0},popupTower:{position:"x1n2onr6",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",flexBasis:"x1l7klhg",width:"xs8rnei",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",marginTop:"x1coevs8",marginInlineEnd:"x14z9mp",marginBottom:"xui9b5u",marginInlineStart:"x1lziwak","@media screen and (min-height: 1000px)_marginTop":"xg3pqpk","@media screen and (min-height: 1000px)_marginInlineEnd":"xusj4dd","@media screen and (min-height: 1000px)_marginBottom":"x1a6k631","@media screen and (min-height: 1000px)_marginInlineStart":"x1fwmvtr","@media screen and (max-height: 700px)_marginTop":"x1n7bigs","@media screen and (max-height: 700px)_marginInlineEnd":"x6ln8mz","@media screen and (max-height: 700px)_marginBottom":"x12v3509","@media screen and (max-height: 700px)_marginInlineStart":"xf35npv",$$css:!0},popupTowerLarge:{width:"x1qfffx7",$$css:!0},popupControls:{display:"x78zum5",flexWrap:"x8hhl5t",justifyContent:"x13a6bvl",paddingTop:"x13crsa5",paddingInlineEnd:"x1gabggj",paddingBottom:"x18d9i69",paddingInlineStart:"xaso8d8",textAlign:"xp4054r",whiteSpace:"xuxw1ft",$$css:!0},popupGuideBackdrop:{backgroundColor:"xglhzf2",$$css:!0},popupGuidePopup:{width:"x14atkfc",maxWidth:"x65f84u",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",backgroundColor:"xjbqb8w",boxShadow:"x1gnnqk1",$$css:!0},popupColumnButtonsControls:{flexDirection:"xdt5ytf",flexWrap:"x1a02dak",alignItems:"xuk3077",$$css:!0},popupMultilineContents:{whiteSpace:"x1fj9vlw",$$css:!0},popupStatusViewerList:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupGalaxyFlowResponse:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupGalaxyFlowResponseControls:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",$$css:!0},popupPromote:{width:"x3p9ev8",$$css:!0},popupPromoteControls:{justifyContent:"xl56j7k",textAlign:"x2b8uid",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupForwardMediaWithCaption:{width:"x1l895tw",$$css:!0},popupForwardMediaWithCaptionControls:{textAlign:"x2b8uid",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupMessageActionsModal:{width:"x1l2rt3b",$$css:!0},popupMessageActionsModalControls:{textAlign:"x2b8uid",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupCommandPalette:{position:"xixxii4",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",width:"x3p9ev8",maxHeight:"x179dxpb",top:"x15nb5xm",borderStartStartRadius:"xxrkv7w",borderStartEndRadius:"x7ab6jx",borderEndEndRadius:"x17gapd7",borderEndStartRadius:"xsq8q6z",overflowX:"x1plvlek",overflowY:"xryxfnj",backgroundColor:null,$$css:!0},popupCommandPaletteV2:{width:"xvue9z",borderStartStartRadius:"xlr9sxt",borderStartEndRadius:"xvvg52n",borderEndEndRadius:"xwd4zgb",borderEndStartRadius:"xq8v1ta",$$css:!0},popupQuickReplies:{width:"xvue9z",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",transform:"x15j3iad",$$css:!0},popupQuickRepliesTitle:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},popupQuickRepliesBody:{position:"x1uhb9sk",$$css:!0},popupQuickRepliesContents:{paddingTop:"xexx8yu",paddingInlineEnd:"xx281p9",paddingBottom:"x18d9i69",paddingInlineStart:"x67w97k",backgroundColor:"x1280gxy",$$css:!0},popupQuickRepliesControls:{paddingTop:"xyamay9",paddingInlineEnd:"xx281p9",paddingBottom:"xx6bls6",paddingInlineStart:"x67w97k",backgroundColor:"x1280gxy",$$css:!0},popupChatAssignment:{width:"x1l2rt3b",$$css:!0},popupHistorySyncProgress:{width:"x1l2rt3b",$$css:!0},popupDataSharing:{paddingTop:"xl7twdi",paddingInlineEnd:"xyo0t3i",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",width:"x1l2rt3b",$$css:!0},popupUpdatedDataSharing:{paddingTop:"xl7twdi",paddingInlineEnd:"xyo0t3i",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",width:"xbstwhj",$$css:!0},popupMessageEdit:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",width:"x1c4ky7w",maxHeight:"x179dxpb",$$css:!0},popupMessageEditBody:{minHeight:"x2lwn1j",$$css:!0},popupMessageEditContents:{height:"x5yr21d",$$css:!0},popupDeleteNewsletter:{width:"x1l2rt3b",paddingTop:"xl7twdi",paddingInlineEnd:"xyo0t3i",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",$$css:!0},popupDeleteNewsletterBody:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},popupDeleteNewsletterContents:{flexGrow:"x1iyjqo2",$$css:!0},popupListsAssignModal:{width:"x3p9ev8",paddingTop:"x889kno",paddingInlineEnd:"x2vl965",paddingBottom:"x1a8lsjc",paddingInlineStart:"x1c1uobl",backgroundColor:"x1280gxy",$$css:!0},popupListsAssignModalTitle:{paddingTop:"xz9dl7a",paddingInlineStart:"x162tt16",paddingBottom:"xx6bls6",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},popupListsAssignModalContents:{maxHeight:"xubnuyq",overflowY:"x1odjw0f",$$css:!0},popupListsAssignModalControls:{paddingTop:"x1cnzs8",paddingInlineEnd:"xv54qhq",paddingBottom:"xx6bls6",paddingInlineStart:"x106a9eq",$$css:!0},popupLabelList:{width:"x1l2rt3b",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",backgroundColor:"x1280gxy",$$css:!0},popupLabelListControls:{paddingTop:"x1p5oq8j",paddingBottom:"xwxc41k",paddingInlineEnd:"xv54qhq",$$css:!0},popupLabelListContents:{maxHeight:"xubnuyq",overflowY:"x1odjw0f",$$css:!0},popupLabelEdit:{width:"x1l2rt3b",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",transform:"x15j3iad",$$css:!0},popupLabelEditTitle:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},popupLabelEditControls:{paddingTop:"x1h678fw",paddingInlineEnd:"xvtqlqk",paddingBottom:"xv6tirj",paddingInlineStart:"xdx6fka",backgroundColor:"x1280gxy",$$css:!0},popupLabelEditContents:{backgroundColor:"x1280gxy",$$css:!0},popupLabelChooseColor:{width:"x14atkfc",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",transform:"x15j3iad",$$css:!0},popupLabelChooseColorTitle:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},popupLabelChooseColorControls:{paddingTop:"x1h678fw",paddingInlineEnd:"xvtqlqk",paddingBottom:"xv6tirj",paddingInlineStart:"xdx6fka",$$css:!0},popupComments:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",maxHeight:"x12f24lm",backgroundColor:"xntdpzj",$$css:!0},popupQuestions:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",maxHeight:"x12f24lm",width:"x1c4ky7w",$$css:!0},popupBotNut:{width:"xht4xr3",$$css:!0},popupEventCreation:{width:"x1peuizl",borderStartStartRadius:"xyi3aci",borderStartEndRadius:"xwf5gio",borderEndEndRadius:"x1p453bz",borderEndStartRadius:"x1suzm8a",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupAdAccountRecovery:{width:"x14rvwrp",$$css:!0},popupBusinessHoursControls:{paddingTop:"x1h678fw",paddingInlineEnd:"xvtqlqk",paddingBottom:"xv6tirj",paddingInlineStart:"xdx6fka",$$css:!0},popupBusinessCategoriesControls:{paddingTop:"xyinxu5",paddingInlineEnd:"xv54qhq",paddingBottom:"xx6bls6",paddingInlineStart:"xf7dkkf",$$css:!0},popupBusinessProfile:{maxHeight:"x9c89tr",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupBusinessProfileTitle:{paddingTop:"x1xrf6ya",paddingInlineEnd:"xde1mab",paddingBottom:"xscbp6u",paddingInlineStart:"x1iw51ew",marginTop:"xdj266r",marginBottom:"xat24cr",marginInlineEnd:"x1trhqq4",marginInlineStart:"x18xomjl",$$css:!0},popupBusinessProfileBody:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xmz0i5r",minHeight:"x2lwn1j",$$css:!0},popupBusinessProfileContents:{flexGrow:"x1iyjqo2",overflowY:"x1odjw0f",$$css:!0},popupBusinessProfileControls:{paddingInlineStart:"xb0esv5",paddingInlineEnd:"xyo0t3i",paddingLeft:null,paddingRight:null,paddingTop:"x1h678fw",paddingBottom:"xv6tirj",rowGap:"x1b8z93w",$$css:!0},popupMediaHub:{position:"x1n2onr6",maxWidth:"x15o75uv",width:"x8fmnwm",minWidth:"xu9qebc",minHeight:"x5mc7k8",maxHeight:"xjd8us4",height:"xkdlbmv",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupMediaHubContents:{minHeight:"x5mc7k8",maxHeight:"xjd8us4",height:"x1id935b",$$css:!0},popupFlexGroupSafetyCheckCenterControls:{justifyContent:"xl56j7k",$$css:!0},popupReachoutTimelock:{width:"x3p9ev8",$$css:!0},popupIndividualNewChatMessageCapped:{width:"x3p9ev8",$$css:!0},popupAddOrUpdatePix:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",width:"xtm0smt",height:"xt7dq6l",$$css:!0},popupPaymentsFlow:{width:"xr6pica",height:"xt7dq6l",$$css:!0},popupCDS:{marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",height:"xt7dq6l",$$css:!0},popupBBUpload:{boxSizing:"x1afcbsf",$$css:!0},popupBizToolsAdCreationNux:{width:"x1n2tayp",height:"x1shxdc5",paddingTop:"x1xrf6ya",paddingBottom:"xscbp6u",paddingInlineStart:"xb0esv5",paddingInlineEnd:"xyo0t3i",paddingLeft:null,paddingRight:null,$$css:!0},popupBizToolsAdCreationNuxControls:{rowGap:"x1b8z93w",paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0},popupBizToolsAdCreationEmailOnboarding:{width:"x4onevt",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupBizToolsAdCreationSuccess:{width:"x1n2tayp",paddingTop:"xl7twdi",paddingInlineEnd:"xyo0t3i",paddingBottom:"xvg22vi",paddingInlineStart:"xb0esv5",$$css:!0},popupBizToolsAdCreationSuccessControls:{paddingTop:"x14a8spa",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},popupBillingWizard:{display:"x78zum5",flexDirection:"xdt5ytf",maxHeight:"xqbnct6",width:"xw3w31c",paddingTop:"x1xrf6ya",paddingInlineEnd:"xyri2b",paddingBottom:"xv6tirj",paddingInlineStart:"x1c1uobl",overflowY:"x1odjw0f",$$css:!0},popupPdfEdit:{backgroundColor:"x1od0jb8",width:"x1l2rt3b",height:"xpdbtf9",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},popupPdfEditError:{backgroundColor:"x1od0jb8",width:"x1l2rt3b",minHeight:"x9l5fec",maxHeight:"x1p6zaud",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0},hardRefreshDialog:{width:"x1l2rt3b",height:"x1m3v4wt",borderStartStartRadius:"xuqqiot",borderStartEndRadius:"x1lkg3h2",borderEndEndRadius:"x17mbzc4",borderEndStartRadius:"xcouhex",$$css:!0},hardRefreshDialogControls:{paddingTop:"x1p57kb1",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}},h={hidden:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},visible:{overflowX:"x1plvlek",overflowY:"xryxfnj",$$css:!0}};function y(t){var n,a,i,l=t.ref,s=babelHelpers.objectWithoutPropertiesLoose(t,e),c=s.onDragChange,d=s.onDrop,y=s.overflow,C=y===void 0?"hidden":y,b=p(r("WAWebVoipUiPopoutWindowContext")),v=b.isDocPip||b.isContextInPopoutWindow,S=_(null),R=_(null),L=_(),E=function(t){var e;(e=S.current)==null||e.onDragOver(t)},k=function(t){var e;(e=S.current)==null||e.onDragStart(t)},I=function(t){var e;(e=S.current)==null||e.onDragEnd(t)},T=s.type===f.StatusViewerList&&s.dimensions?{height:s.dimensions.height+"px",width:s.dimensions.width+"px"}:null,D=[g.popup,h[C],g.popupMaterial],x=[g.overlay,g.backdrop,g.backdropRefreshed,s.type===f.MediaHub&&g.backdropMediaHub];s.cover===!0&&x.push(g.backdropCover),o("WAWebTimeSpentLoggingNavigation").useTsNavigation((n=s.tsNavigationData)!=null?n:{surface:"unknown"});var $,P,N,M;if(s.type!=null)switch(s.type){case f.Invite:{D.push(g.popupFlexInvite);break}case f.InviteNew:{D.push(g.popupFlexInviteNew),M=g.popupFlexInviteNewControls;break}case f.Upgrade:{M=g.popupFlexUpgradeControls;break}case f.Box:{D.push(g.popupBox);break}case f.BoxLarge:{D.push(g.popupBoxLarge);break}case f.Flex:{D.push(g.popupFlex),M=g.popupFlexControls;break}case f.Tower:{D.push(g.popupTower);break}case f.TowerLarge:{D.push(g.popupTower,g.popupTowerLarge);break}case f.Auto:{D.push(g.popupAuto),$=g.popupAutoTitle,P=g.popupAutoBody,N=g.popupAutoContents,M=g.popupAutoControls;break}case f.ColumnButtons:{M=g.popupColumnButtonsControls;break}case f.Multiline:{N=g.popupMultilineContents;break}case f.StatusViewerList:{D.push(g.popupStatusViewerList),x.push(g.showOverStatus);break}case f.Promote:case f.BotNut:{D.push(g.popupPromote),s.type===f.BotNut&&D.push(g.popupBotNut),M=g.popupPromoteControls;break}case f.CommandPalette:{D.push(g.popupCommandPalette);break}case f.CommandPaletteV2:{D.push(g.popupCommandPalette),D.push(g.popupCommandPaletteV2);break}case f.QuickReplies:{D.push(g.popupQuickReplies),$=g.popupQuickRepliesTitle,P=g.popupQuickRepliesBody,N=g.popupQuickRepliesContents,M=g.popupQuickRepliesControls;break}case f.ChatAssignment:{D.push(g.popupChatAssignment);break}case f.HistorySyncProgress:{D.push(g.popupHistorySyncProgress);break}case f.DataSharing:{D.push(g.popupDataSharing);break}case f.UpdatedDataSharing:{D.push(g.popupUpdatedDataSharing);break}case f.GalaxyFlowResponsePopup:{D.push(g.popupGalaxyFlowResponse),M=g.popupGalaxyFlowResponseControls;break}case f.MessageEdit:{D.push(g.popupMessageEdit),P=g.popupMessageEditBody,N=g.popupMessageEditContents;break}case f.Guide:{D.push(g.popupGuidePopup),x.push(g.popupGuideBackdrop);break}case f.StatusReport:{x.push(g.showOverStatus);break}case f.MusicAttribution:{x.push(g.showOverStatus);break}case f.LinkPopup:{x.push(g.showOverStatus);break}case f.ListsAssignModal:{D.push(g.popupListsAssignModal),$=g.popupListsAssignModalTitle,N=g.popupListsAssignModalContents,M=g.popupListsAssignModalControls;break}case f.LabelList:{D.push(g.popupLabelList),N=g.popupLabelListContents,M=g.popupLabelListControls;break}case f.LabelEdit:{D.push(g.popupLabelEdit),$=g.popupLabelEditTitle,M=g.popupLabelEditControls,N=g.popupLabelEditContents;break}case f.LabelChooseColor:{D.push(g.popupLabelChooseColor),$=g.popupLabelChooseColorTitle,M=g.popupLabelChooseColorControls;break}case f.ForwardMediaWithCaption:{D.push(g.popupForwardMediaWithCaption),M=g.popupForwardMediaWithCaptionControls;break}case f.MessageActionsModal:{D.push(g.popupMessageActionsModal),M=g.popupMessageActionsModalControls;break}case f.DeleteNewsletter:{D.push(g.popupDeleteNewsletter),P=g.popupDeleteNewsletterBody,N=g.popupDeleteNewsletterContents;break}case f.Questions:{D.push(g.popupQuestions);break}case f.Comments:{D.push(g.popupComments);break}case f.EventCreation:{D.push(g.popupEventCreation);break}case f.Small:{D.push(g.popupSmall);break}case f.AutoWrap:{D.push(g.popupAutoWrap),N=g.popupAutoWrapContents;break}case f.AdAccountRecovery:{D.push(g.popupAdAccountRecovery);break}case f.BusinessHours:{D.push(g.popupAuto),$=g.popupAutoTitle,P=g.popupAutoBody,N=g.popupAutoContents,M=g.popupBusinessHoursControls;break}case f.BusinessCategories:{D.push(g.popupAuto),$=g.popupAutoTitle,P=g.popupAutoBody,N=g.popupAutoContents,M=g.popupBusinessCategoriesControls;break}case f.BusinessProfile:{D.push(g.popupBusinessProfile),$=g.popupBusinessProfileTitle,P=g.popupBusinessProfileBody,N=g.popupBusinessProfileContents,M=g.popupBusinessProfileControls;break}case f.MediaHub:{D.push(g.popupMediaHub),N=g.popupMediaHubContents;break}case f.GroupSafetyCheck:{M=g.popupFlexGroupSafetyCheckCenterControls;break}case f.ReachoutTimelock:{D.push(g.popupReachoutTimelock);break}case f.IndividualNewChatMessageCapped:{D.push(g.popupIndividualNewChatMessageCapped);break}case f.AddOrUpdatePix:{D.push(g.popupAddOrUpdatePix);break}case f.CDS:{D.push(g.popupCDS);break}case f.BusinessBroadcastUploadModal:{D.push(g.popupBBUpload);break}case f.PaymentsFlow:{D.push(g.popupPaymentsFlow);break}case f.BizToolsAdCreationNux:{D.push(g.popupBizToolsAdCreationNux),M=g.popupBizToolsAdCreationNuxControls;break}case f.BizToolsAdCreationEmailOnboarding:{D.push(g.popupBizToolsAdCreationEmailOnboarding);break}case f.BizToolsAdCreationSuccess:{D.push(g.popupBizToolsAdCreationSuccess),M=g.popupBizToolsAdCreationSuccessControls;break}case f.BillingWizardDialog:{D.push(g.popupBillingWizard);break}case f.PdfEdit:{D.push(g.popupPdfEdit);break}case f.PdfEditError:{D.push(g.popupPdfEditError);break}case f.HardRefresh:{D.push(g.hardRefreshDialog),M=g.hardRefreshDialogControls;break}}var w=s.actions!=null?m.jsx("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(g.popupControls,M,s.controlsStyle),{children:s.actions})):null,A=s.title!=null?m.jsx("h1",{"data-testid":void 0,className:(u||(u=r("stylex")))(g.popupTitle,$),children:s.title}):null,F=function(t){L.current=t.target},O=function(t){t.target!==R.current||L.current!==R.current||(s.onOverlayClick?s.onOverlayClick==null||s.onOverlayClick(t):o("WAWebModalManager").ModalManager.getRef(function(e){e!=null&&e.contains(R.current)&&o("WAWebModalManager").ModalManager.close()}))},B=function(t){return o("WAWebL10NFbtTypeUtils").isStringOrFbt(t)?t.toString():""},W=(B(s.title)+" "+B(s.children)).trim(),q=m.jsx("div",babelHelpers.extends({ref:R,onClick:O,onMouseDown:F},{0:{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 xpb48g7 x1jn0hjm x1us19tq"},1:{className:"x9f619 x78zum5 xdt5ytf x6s0dn4 xl56j7k xh8yej3 x5yr21d xaaagfd x1t4djm1"}}[!!v<<0],{role:"dialog",children:m.jsx("div",{className:(u||(u=r("stylex")))(D),"data-animate-modal-popup":!0,style:T,ref:s.contentRef,"aria-label":(a=s.ariaLabel)!=null?a:W||void 0,"data-testid":void 0,children:m.jsxs("div",babelHelpers.extends({},u.props(g.popupBody,P),{"data-animate-modal-body":!0,children:[A,m.jsx("div",babelHelpers.extends({"data-testid":void 0},u.props(g.popupContents,N),{children:s.children})),w]}))})}));return m.jsxs(r("WAWebCopyPasteCopyableArea.react"),{className:u(x),onDragOver:E,onDragStart:k,onDragEnd:I,ref:l,"data-animate-modal-backdrop":!0,children:[d&&m.jsx(r("WAWebDragAndDrop.react"),{ref:S,disableFromWithin:!0,onDragChange:c,onDrop:d}),q]})}y.displayName=y.name+" [from "+i.id+"]",l.ModalTheme=f,l.Modal=y}),98);
__d("WAWebConfirmPopup.react",["Promise","WAWebABProps","WAWebButton.react","WAWebFbtCommon","WAWebFlex.react","WAWebKeyboardHotKeys.react","WAWebModal.react","WAWebModalManager","WAWebNoop","WDSButton.react","WDSButtonGroup.react","asyncToGeneratorRuntime","react"],(function(t,n,r,o,a,i,l){var e=["ref"],s=["onCancel","onOK","onOverlayClick"],u,c,d=c||(c=r("react"));function m(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.buttonAlign,l=i===void 0?"end":i,s=a.buttonWidth,u=s===void 0?"hug":s,c=function(t){t.stopPropagation(),t.preventDefault(),a.onOK==null||a.onOK()},m=function(t){t.stopPropagation(),t.preventDefault(),a.onCancel==null||a.onCancel(t)},_=a.onOK?d.jsx(o("WAWebButton.react").Button,{testid:void 0,type:a.okButtonType?a.okButtonType:"primary",onClick:c,disabled:a.okDisabled,spinner:a.okSpinner===!0,children:a.okText!=null?a.okText:r("WAWebFbtCommon")("OK")}):null,f=function(){if(a.cancelButtonType)return a.cancelButtonType;if(a.onOK)return"plain-white";if(a.onOK)return"secondary"},g=null;a.onCancel&&(o("WAWebABProps").getABPropConfigValue("wds_web_button")?g=d.jsx(r("WDSButton.react"),{variant:"borderless",onPress:m,testid:void 0,disabled:a.cancelDisabled,size:"medium",type:"default",label:a.cancelText!=null&&a.cancelText!==""?a.cancelText:r("WAWebFbtCommon")("Cancel")}):g=d.jsx(o("WAWebButton.react").Button,{testid:void 0,type:f(),disabled:a.cancelDisabled,onClick:m,children:a.cancelText!=null&&a.cancelText!==""?a.cancelText:r("WAWebFbtCommon")("Cancel")}));var h=a.extraButtonProps?d.jsx(p,babelHelpers.extends({},a.extraButtonProps)):null,y={escape:a.onCancel?m:r("WAWebNoop")},C=null;if(h&&a.splitLayout===!0)C=d.jsxs(o("WAWebFlex.react").FlexRow,{justify:"all",align:"center",grow:1,children:[h,d.jsxs(o("WAWebFlex.react").FlexRow,{columnGap:8,children:[g,_]})]});else if(h){var b,v=[g,h,_];C=d.jsxs(o("WAWebButton.react").ButtonGroup,{direction:(b=a.buttonsDirection)!=null?b:"vertical",align:l,children:[v[0],v[1],v[2]]})}else if(g!=null||_!=null){var S=o("WAWebABProps").getABPropConfigValue("wds_web_button"),R=g!=null&&_!=null;if(S&&R){var L;C=d.jsx(r("WDSButtonGroup.react"),{width:u,orientation:((L=a.buttonsDirection)!=null?L:"horizontal")==="horizontal"?"horizontal":"stacked",primaryButtonProps:{variant:"filled",onPress:c,testid:"popup-controls-ok",disabled:a.okDisabled,loading:a.okSpinner===!0,size:"medium",type:a.okButtonType==="solid-warning"||a.okButtonType==="warning"||a.okButtonType==="negative-destructive"?"destructive":"default",label:a.okText!=null?a.okText:r("WAWebFbtCommon")("OK")},secondaryButtonProps:{variant:"borderless",onPress:m,testid:"popup-controls-cancel",disabled:a.cancelDisabled,size:"medium",type:"default",label:a.cancelText!=null&&a.cancelText!==""?a.cancelText:r("WAWebFbtCommon")("Cancel")}})}else{var E,k;C=d.jsxs(o("WAWebButton.react").ButtonGroup,{direction:(E=a.buttonsDirection)!=null?E:"horizontal",columnGap:((k=a.buttonsDirection)!=null?k:"horizontal")==="horizontal"?8:void 0,align:l,children:[g,_]})}}return d.jsx(o("WAWebKeyboardHotKeys.react").HotKeys,{"data-testid":void 0,handlers:y,ref:n,children:d.jsx(o("WAWebModal.react").Modal,{actions:C,controlsStyle:a.buttonGroupStyle,children:a.children,cover:a.cover,onDragChange:a.onDragChange,onOverlayClick:a.onOverlayClick,onDrop:a.onDrop,type:a.type,title:a.title,testid:void 0,overflow:a.overflow,ariaLabel:a.ariaLabel,contentRef:a.contentRef,tsNavigationData:a.tsNavigationData})})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=e.disabled,n=t===void 0?!1:t,r=e.onClick,a=e.primary,i=a===void 0?!1:a,l=e.spinner,s=e.text,u=e.type,c=function(t){t.stopPropagation(),t.preventDefault(),r()};return d.jsx(o("WAWebButton.react").Button,{testid:void 0,type:u!=null?u:i?"primary":"secondary",onClick:c,disabled:n,spinner:l,children:s})}p.displayName=p.name+" [from "+i.id+"]";function _(e){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.onCancel,r=e.onOK,a=e.onOverlayClick,i=babelHelpers.objectWithoutPropertiesLoose(e,s);return new(u||(u=n("Promise")))(function(e){var n=function(){r==null||r(),o("WAWebModalManager").ModalManager.close(),e(!0)},l=function(r){t==null||t(r),o("WAWebModalManager").ModalManager.close(),e(!1)},s=function(n){a==null||a(n),o("WAWebModalManager").ModalManager.close(),e(!1)};o("WAWebModalManager").ModalManager.open(d.jsx(m,babelHelpers.extends({onOverlayClick:s,onCancel:l,onOK:n},i)))})}),f.apply(this,arguments)}l.ConfirmPopup=m,l.waitForConfirmPopup=_}),98);
__d("WAWebContactManagementGating",["WAWebABProps","WAWebPrimaryFeatures"],(function(t,n,r,o,a,i,l){function e(){return s()&&u()}function s(){return o("WAWebPrimaryFeatures").primaryFeatureEnabled("companion_contact_change_enabled")}function u(){return o("WAWebABProps").getABPropConfigValue("native_contact_companion_change_enabled")}function c(){return o("WAWebABProps").getABPropConfigValue("web_bulk_add_contacts_enabled")}function d(){var e=Number.parseInt(o("WAWebABProps").getABPropConfigValue("native_contact_companion_nux_learn_more_article_id"),10);return Number.isNaN(e)&&(e=0x43bafc6a5bf34),e}l.contactManagementEnabled=e,l.bulkAddContactsFromGroupsEnabled=c,l.getNativeContactLearnMoreArticleId=d}),98);
__d("WAWebCopyToClipboard",["WALogger","WANullthrows","WAWebMiscErrors","WAWebUA","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s;function u(e){try{r("WANullthrows")(window.getSelection()).removeAllRanges();var t=document.createRange();t.selectNode(e),r("WANullthrows")(window.getSelection()).addRange(t);var n=document.execCommand("copy");return r("WANullthrows")(window.getSelection()).removeAllRanges(),n}catch(e){return!1}}function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var e=yield navigator.permissions.query({name:"clipboard-write"});return e.state==="granted"}catch(e){return!1}}),d.apply(this,arguments)}function m(){return!(!("clipboard"in navigator)||!("ClipboardItem"in window)||o("WAWebUA").UA.browser===o("WAWebUA").BROWSER_TYPE.SAFARI)}function p(e){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield c();if(t)try{return yield navigator.clipboard.writeText(e),!0}catch(e){if(e instanceof o("WAWebMiscErrors").NotAllowedError)return!1}var n=!1,r=document.body;if(r){var a=document.createElement("textarea");a.textContent=e,r.appendChild(a),a.focus(),a.select();try{document.execCommand("copy"),n=!0}catch(e){n=!1}finally{r.removeChild(a)}}return n}),_.apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return g=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(!m())throw r("err")("Clipboard API not supported");if(e.type==="image/png"){var t=new window.ClipboardItem({"image/png":e});navigator.clipboard.write([t]).catch(function(e){return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Write image to clipboard failed"]))).sendLogs(e)})}else{var n=new Image;n.onload=function(e){var t=e.target,n=document.createElement("canvas"),r=n.getContext("2d");n.width=t.naturalWidth,n.height=t.naturalHeight,r.drawImage(t,0,0),h(n)},n.src=URL.createObjectURL(e)}}),g.apply(this,arguments)}function h(t){var n="image/png",r=1;t.toBlob(function(t){var n,r=new window.ClipboardItem((n={},n[t.type]=t,n));navigator.clipboard.write([r]).catch(function(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Write image to clipboard failed"]))).sendLogs(t)})},n,r)}l.copyElementContentsToClipboard=u,l.supportsCopyImageToClipboard=m,l.copyTextToClipboard=p,l.copyImageToClipboard=f,l.copyCanvasToClipboard=h}),98);
__d("WAWebCoreActionsODS",["WAWebMsgGetters","WAWebMsgType","WAWebODS","WAWebWamEnumMessageSendResultType"],(function(t,n,r,o,a,i,l){function e(){r("WAWebODS").incr("web.msg.send.text")}function s(){r("WAWebODS").incr("web.msg.send.ptt")}function u(){r("WAWebODS").incr("web.msg.send.media")}function c(){r("WAWebODS").incr("web.msg.send.reply")}function d(){r("WAWebODS").incr("web.msg.send.reaction")}function m(){r("WAWebODS").incr("web.msg.send.forward")}function p(){r("WAWebODS").incr("web.msg.send.sticker")}function _(){r("WAWebODS").incr("web.status.send")}function f(){r("WAWebODS").incr("web.group.create")}function g(){r("WAWebODS").incr("web.msg.send.individual")}function h(){r("WAWebODS").incr("web.msg.send.group")}function y(){r("WAWebODS").incr("web.msg.send.channel")}function C(){r("WAWebODS").incr("web.group.add_participant")}function b(){r("WAWebODS").incr("web.search.has_results")}function v(t){var n=[],r=o("WAWebMsgGetters").getIsReply(t);o("WAWebMsgGetters").getIsGroupMsg(t)?n.push(h):o("WAWebMsgGetters").getIs1to1Msg(t)?n.push(g):o("WAWebMsgGetters").getIsNewsletterMsg(t)&&n.push(y),r?n.push(c):o("WAWebMsgGetters").getIsReaction(t)&&n.push(d),o("WAWebMsgGetters").getIsStatus(t)&&n.push(_),t.isForwarded===!0&&n.push(m);e:{if(t.type===o("WAWebMsgType").MSG_TYPE.CHAT||t.type===o("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION){n.push(e);break e}if(t.type===o("WAWebMsgType").MSG_TYPE.IMAGE||t.type===o("WAWebMsgType").MSG_TYPE.VIDEO||t.type===o("WAWebMsgType").MSG_TYPE.ALBUM){n.push(u);break e}if(t.type===o("WAWebMsgType").MSG_TYPE.AUDIO||t.type===o("WAWebMsgType").MSG_TYPE.PTT){n.push(s);break e}if(t.type===o("WAWebMsgType").MSG_TYPE.STICKER||t.type===o("WAWebMsgType").MSG_TYPE.STICKER_PACK){n.push(p);break e}break e}return function(){n.map(function(e){return e()})}}function S(){r("WAWebODS").incr("web.msg.send.error")}function R(){r("WAWebODS").incr("web.msg.send.error.terminal")}function L(){r("WAWebODS").incr("web.msg.send.error.network")}function E(){r("WAWebODS").incr("web.msg.send.error.payload_too_big")}function k(){r("WAWebODS").incr("web.msg.send.error.invalid_protobuf")}function I(){r("WAWebODS").incr("web.msg.send.error.upload")}function T(){r("WAWebODS").incr("web.msg.send.error.cancelled")}function D(){r("WAWebODS").incr("web.msg.send.error.expired")}function x(){r("WAWebODS").incr("web.msg.send.error.backfill_usync_failed")}function $(){r("WAWebODS").incr("web.msg.send.error.location")}function P(){r("WAWebODS").incr("web.msg.send.error.invalid_message")}function N(){r("WAWebODS").incr("web.msg.send.error.e2ee")}function M(){r("WAWebODS").incr("web.msg.send.error.ephemerally_expired")}function w(){r("WAWebODS").incr("web.msg.send.error.client_oom")}function A(){r("WAWebODS").incr("web.msg.send.error.unknown")}function F(){r("WAWebODS").incr("web.msg.send.individual.error.terminal")}function O(){r("WAWebODS").incr("web.msg.send.group.error.terminal")}function B(){r("WAWebODS").incr("web.msg.send.channel.error.terminal")}function W(){r("WAWebODS").incr("web.msg.send.text.error.terminal")}function q(){r("WAWebODS").incr("web.msg.send.media.error.terminal")}function U(){r("WAWebODS").incr("web.msg.send.ptt.error.terminal")}function V(){r("WAWebODS").incr("web.msg.send.sticker.error.terminal")}function H(){r("WAWebODS").incr("web.msg.send.reply.error.terminal")}function G(){r("WAWebODS").incr("web.msg.send.reaction.error.terminal")}function z(){r("WAWebODS").incr("web.msg.send.forward.error.terminal")}function j(e){var t=[R];o("WAWebMsgGetters").getIsGroupMsg(e)?t.push(O):o("WAWebMsgGetters").getIs1to1Msg(e)?t.push(F):o("WAWebMsgGetters").getIsNewsletterMsg(e)&&t.push(B),o("WAWebMsgGetters").getIsReply(e)?t.push(H):o("WAWebMsgGetters").getIsReaction(e)&&t.push(G),e.isForwarded===!0&&t.push(z);e:{if(e.type===o("WAWebMsgType").MSG_TYPE.CHAT||e.type===o("WAWebMsgType").MSG_TYPE.E2E_NOTIFICATION){t.push(W);break e}if(e.type===o("WAWebMsgType").MSG_TYPE.IMAGE||e.type===o("WAWebMsgType").MSG_TYPE.VIDEO||e.type===o("WAWebMsgType").MSG_TYPE.ALBUM){t.push(q);break e}if(e.type===o("WAWebMsgType").MSG_TYPE.AUDIO||e.type===o("WAWebMsgType").MSG_TYPE.PTT){t.push(U);break e}if(e.type===o("WAWebMsgType").MSG_TYPE.STICKER||e.type===o("WAWebMsgType").MSG_TYPE.STICKER_PACK){t.push(V);break e}break e}return function(e,n){S(),n&&t.map(function(e){return e()});e:{if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_NETWORK||e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.SERVER_ERROR){L();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_PAYLOAD_TOO_BIG){E();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_INVALID_PROTOBUF){k();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD||e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.MEDIA_UPLOAD_FAILED){I();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_CANCELLED||e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD_CANCELLED_MANUALLY||e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_UPLOAD_CANCELLED_AUTOMATIC){T();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_EXPIRED){D();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_BACKFILL_USYNC_FAILED){x();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_LOCATION){$();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_INVALID_MESSAGE){P();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_E2EE){N();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.EPHEMERALLY_EXPIRED){M();break e}if(e===o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.ERROR_CLIENT_OUT_OF_MEMORY){w();break e}{A();break e}}}}l.logStickerMsgSend=p,l.logGroupCreate=f,l.logChannelMsgSend=y,l.logGroupAddParticipant=C,l.logGlobalSearchHasResults=b,l.createPostODSCountersFn=v,l.logMsgSendError=S,l.logMsgSendErrorUpload=I,l.createPostODSErrorCountersFn=j}),98);
__d("WAWebCryptoDecryptPartialMedia",["Promise","WALogger","WATypedArraysConcat","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m=16,p=10,_=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.ciphertext,r=t.iv,a=t.mediaKeys,i=a.encKey,l={name:"AES-CBC",iv:r};try{var u=yield self.crypto.subtle.importKey("raw",new Uint8Array(i),"AES-CBC",!1,["decrypt"]).catch(function(t){throw o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:decrypt importKey error: ",""])),String(t)),t});return self.crypto.subtle.decrypt(l,u,n)}catch(e){throw o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:decrypt decrypt error: ",""])),String(e)),e}});return function(n){return t.apply(this,arguments)}})(),f=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.ciphertext,n=e.mediaKeys,r=n.encKey,a=t instanceof Uint8Array?t:new Uint8Array(t),i={name:"AES-CBC",iv:a.slice(0-m)};try{var l=yield self.crypto.subtle.importKey("raw",new Uint8Array(r),"AES-CBC",!1,["encrypt"]).catch(function(e){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:getEncryptedPadding importKey error: ",""])),String(e))}),s=new Uint8Array([]);return self.crypto.subtle.encrypt(i,l,s)}catch(e){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["decryptPartialMedia:getEncryptedPadding encrypt error: ",""])),String(e));return}});return function(n){return e.apply(this,arguments)}})(),g=function(t){var e=t.ciphertext,r=t.mediaKeys,a=t.serverRangeStart,i=e instanceof Uint8Array?e:new Uint8Array(e),l=a===0,s=i.byteLength%m===0,u=!s,c;return l?c=new Uint8Array(r.iv):(c=i.slice(0,m),i=i.slice(m)),u&&(i=i.slice(0,i.byteLength-p)),s?f({ciphertext:i,mediaKeys:r}).then(function(e){return i=o("WATypedArraysConcat").concatTypedArrays(Uint8Array,[i,new Uint8Array(e)]),{ciphertext:i,iv:c}}):(d||(d=n("Promise"))).resolve({ciphertext:i,iv:c})},h=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=e.ciphertext,n=e.mediaKeys,r=yield g({serverRangeStart:0,ciphertext:t,mediaKeys:n}),o=r.ciphertext,a=r.iv;return _({ciphertext:o,iv:a,mediaKeys:n})});return function(n){return e.apply(this,arguments)}})();l.BLOCK_SIZE=m,l.HMAC_SIZE=p,l.decrypt=_,l.cleanupCiphertextAndIv=g,l.decryptPartialMedia=h}),98);
__d("WAWebCryptoEncryptionSaltHelper",["Promise","WALogger","WAWebLogoutReasonConstants","WAWebSocketLogoutJob","WAWebUserPrefsMeUser","WAWebUserPrefsMultiDevice","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=128,r=!!o("WAWebUserPrefsMeUser").getMaybeMePnUser(),a=null;return r||(a=new Uint8Array(t),self.crypto.getRandomValues(a),a=btoa(String.fromCharCode.apply(String,Array.from(new Uint8Array(a)))),yield o("WAWebUserPrefsMultiDevice").setWebEncSalt(a)),a=o("WAWebUserPrefsMultiDevice").getWebEncSalt(),a==null&&(o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[DB ENC CRITICAL ERROR] null returned for local enc salt"]))),o("WAWebSocketLogoutJob").socketLogout(o("WAWebLogoutReasonConstants").LogoutReason.MissingEncSalt)),a=Uint8Array.from(atob(a),function(e){return e.charCodeAt(0)}),(s||(s=n("Promise"))).resolve(a)}),c.apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WAWebUserPrefsMultiDevice").setWebEncSalt(null)}),m.apply(this,arguments)}l.getOrGenSalt=u,l.deleteSalt=d}),98);
__d("WAWebInvocationInterface",["WANullthrows"],(function(t,n,r,o,a,i,l){var e;function s(t){e=t}function u(){return r("WANullthrows")(e,"InvocationInterface was not inited")}function c(e,t){return u().sendLogs(e,t)}l.set=s,l.get=u,l.sendLogs=c}),98);
__d("WAWebCryptoEncKeyHelper",["Promise","WAWebBackendEventBus","WAWebCryptoEncryptionSaltHelper","WAWebDbEncryptionKey","WAWebInvocationInterface","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=null;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){s==null&&(s=o("WAWebCryptoEncryptionSaltHelper").getOrGenSalt());var e=yield s;if(!(!e||e.constructor!==Uint8Array))return o("WAWebDbEncryptionKey").DbEncKeyStore.init(e)}),c.apply(this,arguments)}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){s==null&&(s=o("WAWebCryptoEncryptionSaltHelper").getOrGenSalt());var e=yield s;!e||e.constructor!==Uint8Array||o("WAWebInvocationInterface").get().initDatabaseEncnKey(e)}),m.apply(this,arguments)}function p(e){return o("WAWebInvocationInterface").get().generateFinalDbEncryptionAndFtsKey(e)}function _(){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield(e||(e=n("Promise"))).all([o("WAWebDbEncryptionKey").DbEncKeyStore.deleteKeys(),o("WAWebInvocationInterface").get().deleteDbEncKeyCache()])}),f.apply(this,arguments)}o("WAWebBackendEventBus").BackendEventBus.onLogout(function(){s=(e||(e=n("Promise"))).resolve(null)}),l.initEncSalt=u,l.initEncSaltForInvoker=d,l.generateFinalDbEncryptionAndFtsKeyForInvoker=p,l.deleteEncKeysAndCache=_}),98);
__d("WAWebDBDeviceListFanout",["WALogger","WAWebApiDeviceList","WAWebBizCoexGatingUtils","WAWebUserPrefsMeUser","WAWebWidFactory","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=t.chatWidSetToIncludeHostedInFanoutOneToOneChatOnly,r=t.shouldMergeAltDevices,a=r===void 0?!1:r,i=t.wids,l=yield o("WAWebApiDeviceList").getDeviceIds(i,a),s=new Map,u=[];return l.forEach(function(e,t){if(e){var r=e.devices;r.forEach(function(t){var r=t.id===99||t.isHosted===!0,a=!1;if(o("WAWebBizCoexGatingUtils").bizHostedDevicesEnabled()&&n!=null&&(a=(n==null?void 0:n.isUser())===!0),!(r&&!a)){var i=o("WAWebWidFactory").createDeviceWidFromDeviceListPk(e.id,t.id,t.isHosted);o("WAWebUserPrefsMeUser").isMeDevice(i)||s.set(i.toString(),i)}})}else{var a=o("WAWebWidFactory").asUserWidOrThrow(i[t]);u.length<3&&u.push(a.toString()),o("WAWebUserPrefsMeUser").isMeAccount(a)||s.set(a.toString(),a)}}),u.length>0&&o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getFanOutList: no device found for "," wids, sending to primary device => ",""])),u.length,u).tags("messaging"),Array.from(s.values())}),u.apply(this,arguments)}l.getFanOutList=s}),98);
__d("WAWebDbUsageApiUtils",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){var e;function l(e){return e!=null&&e!==0?Math.round(e/1e6).toString():"0"}function s(t){return new(e||(e=n("Promise")))(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(e){n(e.target.result)}})}function u(e){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=yield s(e.open("__dbnames"));if((t=n.objectStoreNames)!=null&&t.length){var r=n.transaction(n.objectStoreNames,"readonly"),o=r.objectStore(r.objectStoreNames[0]),a=yield s(o.getAll());return a}else if(e.databases)return e.databases()}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield s(e.open(t));return n}),m.apply(this,arguments)}function p(t,r){return new(e||(e=n("Promise")))(function(e,n){var o=t.openCursor(null,"prev");o.onsuccess=function(t){var n=t.target.result;n&&r(n.value)?n.continue():e()},o.onerror=function(e){n(e.target.result)}})}i.convertToMBToString=l,i.promisifyRequest=s,i.getAllDatabases=u,i.getDatabase=d,i.objectStoreIterator=p}),66);
__d("WAWebDeleteAllCacheStorage",["Promise","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i){var e;function l(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=window.caches;if(t!=null){var r=yield t.keys();yield(e||(e=n("Promise"))).all(r.map(function(e){return t.delete(e)}))}}),s.apply(this,arguments)}i.default=l}),66);
__d("WAWebDexieBootstrap",["WAWeb-dexie","WAWebNoop"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("WAWeb-dexie").Promise.PSD.onunhandled=r("WAWebNoop"),r("WAWeb-dexie").Promise.PSD.txRelaxedDurabilityEnabled=!0}l.patchDexie=e}),98);
__d("WAWebDisplayType",[],(function(t,n,r,o,a,i){var e={CONVERSATION:"CONVERSATION",MSG_INFO:"MSG_INFO",STARRED_MSGS:"STARRED_MSGS",KEPT_MSGS:"KEPT_MSGS",GALLERY:"GALLERY",GALLERY_LINKS:"GALLERY_LINKS",REPLY_STAGE:"REPLY_STAGE",QUOTED_MSG:"QUOTED_MSG",CONTACT_CARD:"CONTACT_CARD",ORDER:"ORDER",STATUS:"STATUS",EDITING:"EDITING",ANNOUNCEMENT:"ANNOUNCEMENT",NEWSLETTER:"NEWSLETTER",NEWSLETTER_PREVIEW:"NEWSLETTER_PREVIEW",CHANNEL_ALERTS_MSGS:"CHANNEL_ALERTS_MSGS",REPORTED_MSG:"REPORTED_MSG",BOT_INVOKE_RESPONSE:"BOT_INVOKE_RESPONSE",ALL_REPLIES:"ALL_REPLIES",BOT_REELS_PLUGIN:"BOT_REELS_PLUGIN",COMMENT:"COMMENT",MESSAGE_HISTORY_BUNDLE:"MESSAGE_HISTORY_BUNDLE"};function l(t){return t===e.ANNOUNCEMENT||t===e.NEWSLETTER}var s=[e.CONVERSATION,e.ANNOUNCEMENT,e.NEWSLETTER,e.BOT_INVOKE_RESPONSE,e.ALL_REPLIES];function u(e){return c.includes(e)}var c=[e.STARRED_MSGS,e.REPORTED_MSG,e.CONTACT_CARD,e.GALLERY,e.GALLERY_LINKS];function d(e){return s.includes(e)}i.DISPLAY_TYPE=e,i.isWideDisplay=l,i.isMsgGalleryDisplay=u,i.isConversationDisplay=d}),66);
__d("WAWebDrawerViewType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["DRAWER","FLYOUT","MODAL"]),l=e;i.default=l}),66);
__d("WAWebDrawer.react",["WAWebCopyPasteCopyableArea.react","WAWebDragAndDrop.react","WAWebDrawerViewType","WAWebTimeSpentLoggingNavigation","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c,d=c||(c=r("react")),m=(s||(s=o("react"))).useRef,p={belowHeader:{height:"x1u3qd6u",marginTop:"x1m07vks",position:"x10l6tqk",width:"xh8yej3",boxSizing:"x9f619",borderTopColor:"xx42vgk",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},drawer:{backgroundColor:"x1280gxy",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x67bb7w",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},flyout:{borderStartStartRadius:"x6nvzda",borderStartEndRadius:"x4i4b9w",borderEndEndRadius:"xhl9efl",borderEndStartRadius:"xj65ea0",$$css:!0},drawerCapture:{backgroundColor:"x1280gxy",$$css:!0},drawerCatalog:{backgroundColor:"x6egj2d",$$css:!0},drawerEdit:{backgroundColor:"x1280gxy",$$css:!0},drawerGallery:{backgroundColor:"x1280gxy",$$css:!0},drawerMedia:{backgroundColor:"x1280gxy",$$css:!0},drawerStarred:{backgroundColor:"x1h3rtpe",$$css:!0},striped:{backgroundColor:"x1280gxy",$$css:!0},white:{backgroundColor:"x1280gxy",$$css:!0},allowVerticalScroll:{overflowY:"x1odjw0f",$$css:!0}};function _(t){var n,a,i=t.ref,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=l.children,c=l.onDragChange,_=l.onDrop,f=l.testid,g=l.theme,h=m(null),y=function(t){var e;(e=h.current)==null||e.onDragOver(t)},C=function(t){var e;(e=h.current)==null||e.onDragStart(t)},b=function(t){var e;(e=h.current)==null||e.onDragEnd(t)},v=function(t){var e;(e=h.current)==null||e.onDragLeave(t)},S=(n=l.tsNavigationData)!=null?n:{surface:"unknown"};l.disableNavigationLogging===!0&&(S=void 0),o("WAWebTimeSpentLoggingNavigation").useTsNavigation(S);var R=(a=l.viewType)!=null?a:r("WAWebDrawerViewType").DRAWER,L=(u||(u=r("stylex")))(p.drawer,R===r("WAWebDrawerViewType").FLYOUT&&p.flyout,(g==="white-bg"||g==="invite"||g==="products"||g==="labels"||g==="settings"||g==="archived"||g==="biz-tools-drawer"||g==="sticker-store")&&p.white,(g==="capture-contain"||g==="capture-cover")&&p.drawerCapture,g==="edit"&&p.drawerEdit,g==="media"&&p.drawerMedia,g==="gallery"&&p.drawerGallery,g==="catalog"&&p.drawerCatalog,g==="striped"&&p.striped,(g==="capture-contain"||g==="media")&&p.belowHeader,g==="biz-tools-drawer"&&p.allowVerticalScroll,g==="starred"&&p.drawerStarred,l.xstyle);return d.jsxs(r("WAWebCopyPasteCopyableArea.react"),{ref:i,className:L,style:l.style,onDragOver:y,onDragStart:C,onDragEnd:b,onDragLeave:v,testid:void 0,children:[_&&d.jsx(r("WAWebDragAndDrop.react"),{ref:h,disableFromWithin:!0,onDragChange:c,onDrop:_}),s]})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("WAWebPREGatingUtils",["WAWebABProps","WAWebEnvironment","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){return!!r("justknobx")._("5005")},s=function(){return r("justknobx")._("3356")?r("WAWebEnvironment").isWindows||o("WAWebABProps").getABPropConfigValue("smoothie_performance_msg_send"):!1},u=function(){return r("WAWebEnvironment").isWindows||o("WAWebABProps").getABPropConfigValue("smoothie_performance_chatlist_search")},c=function(){return r("WAWebEnvironment").isWindows||o("WAWebABProps").getABPropConfigValue("smoothie_performance_command_palette")};function d(){return r("justknobx")._("1784")?r("WAWebEnvironment").isWindows||o("WAWebABProps").getABPropConfigValue("smoothie_performance_resize_followup"):!1}function m(){return r("justknobx")._("2349")?o("WAWebABProps").getABPropConfigValue("wa_media_image_upload_cache"):!1}function p(e){var t=o("WAWebABProps").getABPropConfigValue("web_anr_file_size_threshold_to_use_worker_mb");if(t===0)return!1;var n=t*1024*1024;return e>=n}l.isPREChatMovingEnabled=e,l.isPREMessageSendEnabled=s,l.isPREChatlistSearchEnabled=u,l.isPRECommandPaletteEnabled=c,l.isPREResizeEnabled=d,l.isPREMediaUploadCacheEnabled=m,l.shouldUseWorkerForFileSizeBytes=p}),98);
__d("WAWebResizeObserver",["err","resize-observer-polyfill-deprecated"],(function(t,n,r,o,a,i,l){var e;function s(){return e==null&&(e=new WeakMap),e}var u;function c(){return u==null&&(u=new(r("resize-observer-polyfill-deprecated"))(function(e){for(var t of e){var n=s().get(t.target),r=t.contentRect,o=r.bottom,a=r.height,i=r.left,l=r.right,u=r.top,c=r.width,d=r.x,m=r.y;n!=null&&n({x:d,y:m,width:c,height:a,top:u,left:i,bottom:o,right:l})}})),u}function d(e,t){var n=c(),o=s();if(o.has(e))throw r("err")("You can't observe the same element twice.");return o.set(e,t),n.observe(e),function(){n.unobserve(e),o.delete(e)}}l.observe=d}),98);
__d("useWAWebDebouncedCallback",["lodash","react","useWAWebStableCallback"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var o=r("useWAWebStableCallback")(e),a=n!=null?n:{},i=a.leading,l=a.maxWait,s=a.trailing,d=c(function(){return r("lodash").debounce(o,t,n)},[t,i,l,s,o]);return u(function(){return d.cancel},[d]),d}l.default=d}),98);
__d("useWAWebMeasure",["WAWebPREGatingUtils","WAWebResizeObserver","react","useWAWebDebouncedCallback"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useState,d={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function m(){var e=c(null),t=e[0],n=e[1],a=c(d),i=a[0],l=a[1],s=r("useWAWebDebouncedCallback")(l,100);return u(function(){if(t)return o("WAWebResizeObserver").observe(t,o("WAWebPREGatingUtils").isPREResizeEnabled()?s:l)},[t,s]),[n,i]}l.default=m}),98);
__d("WAWebResizeObserver.react",["WAWebClassnames","react","useMergeRefs","useWAWebMeasure","useWAWebPrevious","useWAWebStableCallback"],(function(t,n,r,o,a,i,l){var e=["ref"],s=["children","className","component","onResize"],u,c,d=c||(c=r("react")),m=(u||(u=o("react"))).useLayoutEffect;function p(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.children,l=a.className,u=a.component,c=a.onResize,p=babelHelpers.objectWithoutPropertiesLoose(a,s),_=u!=null?u:"div",f=r("useWAWebStableCallback")(c),g=r("useWAWebMeasure")(),h=g[0],y=g[1],C=r("useMergeRefs")(h,n),b=r("useWAWebPrevious")(y);return m(function(){if(b!=null&&(y.width!==b.width||y.height!==b.height)){var e=y.height,t=y.width;f({width:t,height:e})}},[y,b,f]),d.jsx(_,babelHelpers.extends({},p,{className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("x1n2onr6",l),ref:C,children:i}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("WAWebFlatListContainer.react",["WANullthrows","WAWebPREGatingUtils","WAWebResizeObserver.react","react","useMergeRefs","useWAWebDebouncedCallback"],(function(t,n,r,o,a,i,l){var e=["ref"],s=["children","flatListControllers","onLayout","onScroll","scrollOffset"],u,c,d=c||(c=o("react")),m=u||(u=r("react")),p=d.useLayoutEffect,_=d.useRef;function f(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.children,l=a.flatListControllers,u=a.onLayout,c=a.onScroll,d=a.scrollOffset,f=babelHelpers.objectWithoutPropertiesLoose(a,s),g=a.children,h=a.direction,y=a.flatListControllers,C=a.onLayout,b=a.onScroll,v=a.scrollOffset,S=_(null),R=r("useMergeRefs")(n,S),L=function(){var e=S.current;if(e)return h==="horizontal"?e.scrollLeft:e.scrollTop},E=function(t){var e=S.current;e&&(h==="horizontal"?e.scrollLeft=t:e.scrollTop=t)},k=function(){var e=r("WANullthrows")(S.current);y.forEach(function(t){return t.triggerLayout({position:e.getBoundingClientRect(),width:e.clientWidth,height:e.clientHeight})})},I=function(t){b&&b(t),y.forEach(function(e){return e.triggerScroll()})},T=function(t){var e=r("WANullthrows")(S.current),n=babelHelpers.extends({},t,{position:e.getBoundingClientRect()});y.forEach(function(e){return e.triggerLayout(n)}),C&&C(n)},D=r("useWAWebDebouncedCallback")(T,50);return p(function(){return y.forEach(function(e){return e.registerContainer({getScrollFromStart:L,setScrollFromStart:E,onRegisterList:k})}),v!==void 0&&E(v),function(){y.forEach(function(e){return e.unregisterContainer()})}},[]),m.jsx(r("WAWebResizeObserver.react"),babelHelpers.extends({},f,{onResize:o("WAWebPREGatingUtils").isPREResizeEnabled()?D:T,onScroll:I,ref:R,children:g}))}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebSystemTheme",["WAWebEventEmitter","WAWebUserPrefsMultiDevice"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){var t;return t=e.call(this)||this,t.mediaQuery=window.matchMedia("(prefers-color-scheme: dark)"),t.theme=t.getCurrentTheme(),t.handleThemeChange=function(){var e=t.getCurrentTheme();!o("WAWebUserPrefsMultiDevice").isRegistered()||e===t.theme||(t.theme=e,t.trigger("system_theme_change",e))},t.mediaQuery.addListener(t.handleThemeChange),t}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getCurrentTheme=function(){return this.mediaQuery.matches?"dark":"light"},t})(r("WAWebEventEmitter")),s=new e,u=s;l.default=u}),98);
__d("WAWebThemeContext",["WAWebSystemTheme","WAWebUserPrefsGeneral","bx","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.createContext,c=s.useContext,d={light:[{id:"bg-chat-light",selectors:["[data-asset-chat-background-light]"],low:{default:r("bx").getURL(r("bx")("9548"))},high:{default:r("bx").getURL(r("bx")("9548"))}},{id:"bg-chat-dark",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("9547"))},high:{default:r("bx").getURL(r("bx")("9547"))}}],dark:[{id:"bg-chat-dark",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("9547"))},high:{default:r("bx").getURL(r("bx")("9547"))}}],lightRefreshed:[{id:"bg-chat-beige",selectors:["[data-asset-chat-background-beige]"],low:{default:r("bx").getURL(r("bx")("31422"))},high:{default:r("bx").getURL(r("bx")("31422"))}},{id:"bg-chat-light-refreshed",selectors:["[data-asset-chat-background-light]"],low:{default:r("bx").getURL(r("bx")("31402"))},high:{default:r("bx").getURL(r("bx")("31402"))}},{id:"bg-chat-dark-refreshed",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("31401"))},high:{default:r("bx").getURL(r("bx")("31401"))}}],darkRefreshed:[{id:"bg-chat-dark-refreshed",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("31401"))},high:{default:r("bx").getURL(r("bx")("31401"))}}],smbLight:[{id:"bg-chat-beige-smb",selectors:["[data-asset-chat-background-beige]"],low:{default:r("bx").getURL(r("bx")("25218"))},high:{default:r("bx").getURL(r("bx")("25218"))}},{id:"bg-chat-light-smb",selectors:["[data-asset-chat-background-light]"],low:{default:r("bx").getURL(r("bx")("25229"))},high:{default:r("bx").getURL(r("bx")("25229"))}},{id:"bg-chat-dark-smb",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("25221"))},high:{default:r("bx").getURL(r("bx")("25221"))}}],smbDark:[{id:"bg-chat-dark-smb",selectors:["[data-asset-chat-background-dark]"],low:{default:r("bx").getURL(r("bx")("25221"))},high:{default:r("bx").getURL(r("bx")("25221"))}}]};function m(){return o("WAWebUserPrefsGeneral").getSystemThemeMode()?r("WAWebSystemTheme").getCurrentTheme():o("WAWebUserPrefsGeneral").getTheme()}function p(e){o("WAWebUserPrefsGeneral").setTheme(e),f(e)}function _(){return m()==="dark"}function f(e){var t=document.body,n=e==="dark";t==null||t.classList.toggle("dark",n),g()}function g(){var e=getComputedStyle(document.body).getPropertyValue("--navbar-background"),t=document.querySelectorAll('meta[name="theme-color"]');t.forEach(function(t){t.setAttribute("content",e)})}var h={theme:r("WAWebSystemTheme").getCurrentTheme(),systemThemeMode:!0,setTheme:p,setSystemThemeMode:o("WAWebUserPrefsGeneral").setSystemThemeMode},y=u(h);function C(){return c(y)}function b(){return C().theme==="dark"}l.THEME_ASSETS=d,l.getTheme=m,l.setTheme=p,l.isDarkTheme=_,l.applyThemeToUI=f,l.resetPwaTitlebarColor=g,l.ThemeContext=y,l.useTheme=C,l.useIsDarkTheme=b}),98);
__d("WAWebDrawerBody.react",["WAWebFlatListContainer.react","WAWebThemeContext","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref"],s=["ariaLabel","ariaRole","backgroundColor","children","flatListControllers","isRefresh","overflow","theme","xstyle"],u,c,d=u||(u=r("react")),m={container:{position:"x1n2onr6",zIndex:"xupqr0c",display:"x78zum5",flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x1odjw0f",opacity:"x1hc1fzr",$$css:!0},noscroll:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerItem:{alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},padding:{marginTop:"x1anpbxc",marginBottom:"xyorhqc",$$css:!0},centerColumn:{width:"x1l2rt3b",paddingTop:"x13crsa5",paddingInlineEnd:"xyri2b",paddingBottom:"x1rxj1xn",paddingInlineStart:"x1c1uobl",marginTop:"xdj266r",marginInlineEnd:"x11t971q",marginBottom:"xat24cr",marginInlineStart:"xvc5jky",backgroundColor:"x1280gxy",$$css:!0},darkMode:{"::-webkit-scrollbar-track_backgroundColor":"x1anedsm",$$css:!0},lightScrollStyles:{scrollbarColor:"xpi494a",$$css:!0},darkScrollStyles:{scrollbarColor:"xiu8dh7",$$css:!0}},p={default:{backgroundColor:"x1280gxy",$$css:!0}},_={default:{backgroundColor:"x1280gxy",$$css:!0}};function f(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=o("WAWebThemeContext").useIsDarkTheme(),l=a.ariaLabel,u=a.ariaRole,f=a.backgroundColor,g=a.children,h=a.flatListControllers,y=a.isRefresh,C=a.overflow,b=a.theme,v=a.xstyle,S=babelHelpers.objectWithoutPropertiesLoose(a,s),R=(c||(c=r("stylex")))([m.container,C==="hidden"&&m.noscroll,b==="center-content"&&m.centerItem,b==="padding"&&m.padding,b==="center-column"&&m.centerColumn,b==="custom-scroll"&&!i&&m.lightScrollStyles,b==="custom-scroll"&&i&&m.darkScrollStyles,i&&m.darkMode,f!=null&&(y===!0?_[f]:p[f]),v]);return h&&h.length>0?d.jsx(r("WAWebFlatListContainer.react"),babelHelpers.extends({ref:n,flatListControllers:h,className:R},S,{children:g})):d.jsx("div",babelHelpers.extends({className:R,ref:n,"aria-label":l,role:u},S,{children:g}))}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebE2ETestPairingConstants",[],(function(t,n,r,o,a,i){var e="jest_e2e_pairing_attempt_ongoing";i.PAIRING_ATTEMPT_ONGOING_KEY=e}),66);
__d("WAWebE2eMessageSendWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumDeviceType","WAWebWamEnumE2eCiphertextType","WAWebWamEnumE2eDestination","WAWebWamEnumE2eDeviceType","WAWebWamEnumE2eFailureReason","WAWebWamEnumEditType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumGroupEncryptionType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumMediaType","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumRevokeType","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({E2eMessageSend:[476,{agentEngagementType:[15,o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],botType:[17,o("WAWebWamEnumBotType").BOT_TYPE],e2eBackfill:[18,e.TYPES.BOOLEAN],e2eCiphertextType:[5,o("WAWebWamEnumE2eCiphertextType").E2E_CIPHERTEXT_TYPE],e2eCiphertextVersion:[6,e.TYPES.INTEGER],e2eDestination:[4,o("WAWebWamEnumE2eDestination").E2E_DESTINATION],e2eFailureReason:[2,o("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON],e2eReceiverDeviceType:[19,o("WAWebWamEnumE2eDeviceType").E2E_DEVICE_TYPE],e2eReceiverType:[8,o("WAWebWamEnumDeviceType").DEVICE_TYPE],e2eSuccessful:[1,e.TYPES.BOOLEAN],editType:[14,o("WAWebWamEnumEditType").EDIT_TYPE],encRetryCount:[9,e.TYPES.INTEGER],encryptionType:[23,o("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],groupEncryptionState:[22,o("WAWebWamEnumGroupEncryptionType").GROUP_ENCRYPTION_TYPE],invisibleMessageCategory:[21,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isLid:[12,e.TYPES.BOOLEAN],isPq:[25,e.TYPES.BOOLEAN],isSimpleSignal:[24,e.TYPES.BOOLEAN],localAddressingMode:[16,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],messageDistributionType:[20,o("WAWebWamEnumMessageDistributionEnumType").MESSAGE_DISTRIBUTION_ENUM_TYPE],messageIsInvisible:[10,e.TYPES.BOOLEAN],messageMediaType:[7,o("WAWebWamEnumMediaType").MEDIA_TYPE],retryCount:[3,e.TYPES.INTEGER],revokeType:[11,o("WAWebWamEnumRevokeType").REVOKE_TYPE],typeOfGroup:[13,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM]},[1,20,20],"regular"]},{E2eMessageSend:[]});l.E2eMessageSendWamEvent=s}),98);
__d("WAWebEditMessageSendWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumEditType","WAWebWamEnumMediaType","WAWebWamEnumMessageType","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({EditMessageSend:[3990,{editDuration:[1,e.TYPES.INTEGER],editType:[2,o("WAWebWamEnumEditType").EDIT_TYPE],mediaType:[8,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageSendResultIsTerminal:[3,e.TYPES.BOOLEAN],messageType:[4,o("WAWebWamEnumMessageType").MESSAGE_TYPE],resendCount:[5,e.TYPES.INTEGER],retryCount:[6,e.TYPES.INTEGER],typeOfGroup:[9,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM]},[1,1,1],"regular"]},{EditMessageSend:[]});l.EditMessageSendWamEvent=s}),98);
__d("WAWebEmojiAssetLoaderCompletionTracker",["WALogger","WAWebAssetLoaderSingleton","react"],(function(t,n,r,o,a,i,l){var e,s,u=(s||(s=o("react"))).createContext,c=1e3,d=5e3,m=function(){var t=this;this.$1=0,this.$2=!1,this.$3=!1,this.beginPreload=function(e){e===void 0&&(e=!1),!t.$2&&(t.$2=!0,self.setTimeout(function(){o("WAWebAssetLoaderSingleton").AssetLoader.loadEmojis()},e?c:0))},this.beginPreloadFallback=function(){self.setTimeout(function(){t.beginPreload(!1)},d)},this.incrementLoadingEmojisCount=function(){t.$2||(t.$3||(t.$3=!0,t.$4=self.performance.now()),t.$1+=1)},this.decrementLoadingEmojisCount=function(){t.$2||(t.$1-=1,t.$1===0&&t.$3&&(t.beginPreload(!0),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["EmojiCompletionTracker:firstScreenEmojis complete in "," ms"])),Math.ceil(self.performance.now()-t.$4))))},this.resetPreloadState=function(){t.$2=!1,t.$3=!1,t.$1=0}},p=new m,_=u(p);l.EmojiCompletionTracker=m,l.emojiCompletionTracker=p,l.InitialEmojisCompletionContext=_}),98);
__d("WAWebWebcImgErrorWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({WebcImgError:[1700,{webcImgErrorCode:[1,o("WAWebWamCodegenUtils").TYPES.NUMBER]},[1,1,1],"regular"]},{WebcImgError:[]});l.WebcImgErrorWamEvent=e}),98);
__d("WAWebImgRetry",["Promise","WAAbortError","WALogger","WAPromiseTimeout","WAWebMiscErrors","WAWebWebcImgErrorWamEvent","WAWebXHR"],(function(t,n,r,o,a,i,l){var e,s,u,c=3e4,d=(function(){function t(e,t,n,r){this.src=e,this.crossOrigin=t,this.noXHR=n,this.hasPrivacyChecks=r,this.generation=0,this.refCount=0,this.inProgress=!1}var a=t.prototype;return a.key=function(){var e=this.crossOrigin?"Y":"N",t=this.noXHR?"Y":"N";return"co:"+e+",noXHR:"+t+",src:"+this.src},a.sendXHR=function(){var t=this;if(this.noXHR)return(u||(u=n("Promise"))).resolve(!0);var a=this.src;this.inProgress=!0;var i=new AbortController,l=o("WAPromiseTimeout").promiseTimeout(r("WAWebXHR").get(a,void 0,void 0,i.signal),c,"ImgRetryTimeout");return this.$1={promise:l,controller:i},this.$1.promise.then(function(t){var n=t.status;if(n>=200&&n<400)return!0;if(n>=500){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Img:Retry "," failed with error code ",". Retrying."])),a,n);var r=new(o("WAWebWebcImgErrorWamEvent")).WebcImgErrorWamEvent({webcImgErrorCode:n});return r.commit(),!1}o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Img:Retry "," failed with error code ",". Not retrying."])),a,n);var i=new(o("WAWebWebcImgErrorWamEvent")).WebcImgErrorWamEvent({webcImgErrorCode:n});throw i.commit(),new(o("WAWebMiscErrors")).ServerStatusError(null,a,n)}).catch(function(e){if(e instanceof o("WAWebMiscErrors").ServerStatusError||e.name===o("WAAbortError").ABORT_ERROR)throw e;return!1}).finally(function(){t.inProgress=!1})},a.release=function(){return this.refCount--,this.refCount<=0?(this.$1&&this.$1.controller.abort(),!0):!1},a.shouldRetain=function(){return this.refCount>0},t})();l.default=d}),98);
__d("WAWebImgRetryQueue",["Promise","WAAbortError","WABackoffUtils","WANullthrows","WAPromiseRaceAbort","WAResolvable","WAWebIdleTaskRunner","WAWebMiscErrors","WAWebNetworkStatus","WAWebNoop"],(function(t,n,r,o,a,i,l){var e,s=20,u=10,c=(function(){function t(){this.$1=new Map,this.$2=new Map,this.$3=0}t.maxInProgressRetry=function(){return s};var a=t.prototype;return a.enqueue=function(r){var t=this.$1.get(r.key());if(t){if(r.hasPrivacyChecks!==t.hasPrivacyChecks){var a="Img:hasPrivacyChecks shouldn't change "+r.key();return(e||(e=n("Promise"))).reject(a)}return t.refCount++,t.deferred.promise}return r.deferred=new(o("WAResolvable")).Resolvable,r.refCount++,this.$5(r),r.deferred.promise},a.remove=function(t){var e=t.key();this.$1.delete(e);var n=this.$2.get(e);n&&(n.controller.abort(),this.$2.delete(e))},a.$5=function(t){var e=this,n=t.generation;if(t.generation++,n>u){var a="Stop retrying "+t.src+" after "+u+" times";throw new(o("WAWebMiscErrors")).GaveUpRetry(a)}var i=t.key();if(n===0)this.$1.set(i,t),this.$6();else{var l=new AbortController,s=l.signal,c=r("WAPromiseRaceAbort")(o("WABackoffUtils").expDelaySec(n,60,0),s).catch(o("WAAbortError").catchAbort(r("WAWebNoop")));this.$2.set(t.key(),{promise:c,controller:l}),c.then(function(){e.$2.delete(i),s.aborted||e.$1.set(i,t),e.$6()})}},a.$6=function(){var e=this;this.$4||(this.$4=r("WAWebNetworkStatus").waitIfOffline().then(function(){e.$4=null,o("WAWebIdleTaskRunner").UIBusyTasks.enqueue(function(){e.$7()})}))},a.$7=function(){for(var e=this.$1.values(),n;(n=e.next())&&!n.done&&!(this.$3>t.maxInProgressRetry());){var o=n.value;this.$8(r("WANullthrows")(o))}},a.$8=function(t){var e=this;if(!t.inProgress){if(t.deferred.resolveWasCalled()){this.$1.delete(t.key());return}this.$3++,t.sendXHR().then(function(n){e.$1.delete(t.key()),n?t.deferred.resolve():t.shouldRetain()&&e.$5(t)}).catch(function(n){e.$1.delete(t.key()),t.deferred.reject(n)}).finally(function(){e.$3--})}},t})();l.default=c}),98);
__d("WAWebImg.react",["WAAbortError","WAFilteredCatch","WAWebConstantsDeprecated","WAWebCopyPasteSelectable.react","WAWebImgRetry","WAWebImgRetryQueue","WAWebMiscErrors","WAWebNoop","WAWebURLUtils","react","useMergeRefs","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c=u||(u=o("react")),d=s||(s=r("react")),m=c.useEffect,p=c.useRef,_=c.useState,f=new(r("WAWebImgRetryQueue"));function g(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.alt,l=a.className,s=a.crossOrigin,u=s===void 0?!0:s,c=a.disableContextMenu,g=c===void 0?!1:c,C=a.draggable,b=a.hasPrivacyChecks,v=b===void 0?!0:b,S=a.noXHR,R=S===void 0?!1:S,L=a.onBlur,E=a.onClick,k=a.onError,I=a.onFocus,T=a.onLoad,D=a.onMouseMove,x=a.plainText,$=a.renderError,P=a.renderLoading,N=a.selectable,M=a.style,w=p(null),A=r("useMergeRefs")(n,w),F=p(null),O=_(a.src),B=O[0],W=O[1],q=_(!0),U=q[0],V=q[1],H=_(null),G=H[0],z=H[1],j=_(!0),K=j[0],Q=j[1],X=r("useWAWebUnmountSignal")();a.src!==B&&(W(a.src),V(!0));var Y=function(t){g&&t.preventDefault()},J=function(t){if(V(!1),!B||!y(B)){z(t.error);return}var e=F.current,n;if(e)if(h(e,a)){if(!e.noXHR)return;n=e}else{var i=e.release();i&&f.remove(e),n=new(r("WAWebImgRetry"))(B,u,R,v)}else n=new(r("WAWebImgRetry"))(B,u,R,v);F.current=n;var l=f.enqueue(n);l.then(function(){n===n&&(X.aborted||V(!0))}).catch(o("WAFilteredCatch").filteredCatch([o("WAWebMiscErrors").ServerStatusError,o("WAWebMiscErrors").GaveUpRetry],function(e){n===n&&(X.aborted||(V(!1),z(e),k&&k(e)))})).catch(o("WAFilteredCatch").filteredCatch(o("WAWebMiscErrors").Unmount,r("WAWebNoop"))).catch(o("WAAbortError").catchAbort(r("WAWebNoop")))},Z=function(t){if(t.currentTarget.tagName==="IMG"){var e=w.current;e!=null&&e.complete&&(e.style.visibility="visible"),T&&T(t),Q(!1)}};if(m(function(){if(B){var e=w.current;return e&&!e.complete&&(e.style.visibility="hidden"),function(){var e=F.current;if(e){var t=e.release();t&&f.remove(e)}}}},[B]),G&&$)return $(G);var ee=!!(U&&B);return d.jsxs(d.Fragment,{children:[d.jsx(o("WAWebCopyPasteSelectable.react").SelectableImg,{onFocus:I,onBlur:L,ref:A,plainText:x||"",selectable:!!N,crossOrigin:u?"anonymous":void 0,onError:ee?J:r("WAWebNoop"),onLoad:ee?Z:r("WAWebNoop"),src:ee&&B!=null?B:r("WAWebConstantsDeprecated").ONE_BY_ONE_TRANS_GIF,alt:i,className:l,draggable:C,onClick:E,onMouseMove:D,style:M,onContextMenu:Y,"data-testid":void 0}),K&&(P==null?void 0:P())]})}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){return e.src===t.src&&e.crossOrigin===t.crossOrigin&&e.noXHR===t.noXHR&&e.hasPrivacyChecks===t.hasPrivacyChecks}function y(e){return e[0]==="/"||r("WAWebURLUtils").isHttp(e)}l.default=g}),98);
__d("WAWebEmoji.react",["WAWebAssetLoader","WAWebAssetLoaderSingleton","WAWebClassnames","WAWebEmoji","WAWebEmojiAssetLoaderCompletionTracker","WAWebImg.react","WDSFocusStateStyles","react","stylex","useWAWebFocusState"],(function(t,n,r,o,a,i,l){var e,s,u,c=u||(u=o("react")),d=e||(e=r("react")),m=c.useContext,p=c.useEffect;function _(e){var t=m(o("WAWebEmojiAssetLoaderCompletionTracker").InitialEmojisCompletionContext),n=r("useWAWebFocusState")(),a=n[0],i=n[1];p(function(){var n=o("WAWebEmoji").EmojiUtil.getGlyphId(e.emoji);n!=null&&(t.incrementLoadingEmojisCount(),o("WAWebAssetLoaderSingleton").AssetLoader.loadEmoji(n,o("WAWebAssetLoader").LOAD_PRIORITY.LAZY_LOAD_EMOJI).finally(function(){t.decrementLoadingEmojisCount()}))},[t,e.emoji]);var l=e.DEPRECATED_className,u=e.element,c=e.emoji,_=e.onLoad,f=e.selectable,g=e.selected,h=e.size,y=e.src,C=e.tabIndex,b=e.xstyle,v=o("WAWebEmoji").EmojiUtil.getGlyphId(c);if(v==null)return null;var S,R;y||(S=o("WAWebEmoji").EmojiUtil.getStyle(v,h),R=o("WAWebEmoji").EmojiUtil.getCssClasses(v,h));var L=o("WAWebClassnames").classnamesConvertMeToStylexPlease(l,R),E=[b,g===!0||i===!0?o("WDSFocusStateStyles").WDSFocusStateStyles.genericFocusPersistent:void 0];return u==="span"?d.jsx("span",{role:"button",ref:a,id:e["data-emoji-index"],"data-testid":void 0,"data-emoji":c,className:L+" "+(s||(s=r("stylex")))(E),"aria-label":c,style:S,onLoad:_,tabIndex:C,"data-unicode":e["data-unicode"],"data-variant":e["data-variant"],"data-emoji-index":e["data-emoji-index"]}):d.jsx(r("WAWebImg.react"),{ref:a,alt:c,className:L+" "+(s||(s=r("stylex")))(E),draggable:!1,onLoad:_,plainText:c,selectable:f,style:S,src:y,onClick:e.onClick,testid:void 0})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("WAWebFaqUrl",["WAWebContactManagementGating","WAWebL10N","WAWebMarketingMessagesUserFeedbackGatingUtils"],(function(t,n,r,o,a,i,l){var e="https://faq.whatsapp.com",s="web";function u(t){return e+"/"+t+"?lang="+r("WAWebL10N").getNormalizedLocale()}function c(){return e+"/"+s+"?lang="+r("WAWebL10N").getNormalizedLocale()}function d(){return u(0x79906783e9933)}function m(){return u(6480469855345352)}function p(){return u(643460927283235)}function _(){return u(852892549070029)}function f(){return u(0xc1283bbc02b3b)}function g(){return u(835452491239734)}function h(){return u(0x56a45447edb82)}function y(){return u(820124435853543)}function C(){return u(820124435853543)}function b(){return u(0x414dd2b3a1a38)}function v(){return u(0x4980fdb4e5495)}function S(){return u(0x3be312350eb3d)}function R(){return u(0x3f215e45fc90d)}function L(){return u(677428350267326)}function E(){return u(819881299156447)}function k(){return u(531205362155587)}function I(){return u(0x8405a487f8377)}function T(){return u(0x40421f1052904)}function D(){return u(807378207138241)}function x(){return u(0x4de70ed612d6b)}function $(){return u(393169153028916)}function P(){return u(806293963922749)}function N(){return u(794517045178057)}function M(){return u(0xdc23a28a3d069)}function w(){return u(0x3d103721f87f0)}function A(){return u(673193694148537)}function F(){return u(728928448599090)}function O(){return u(0x3d38afd59867c)}function B(){return u(676672070766141)}function W(){return u(854037192262196)}function q(e,t){var n=u(854037192262196)+"&cms_platform="+e;return t!=null?n+"&helpref="+t:n}function U(){return u(846698564598022)}function V(){return u(0x4352f2adeca1c)}function H(){return u(570221114584995)}function G(){return u(366296225670044)}function z(){return u(625069579217642)}function j(){return u(812356880201038)}function K(){return u(0x7f0b2f1b2c60e)}function Q(){return u(0x4ae517f8c1e42)}function X(){return u(832060577920049)}function Y(){return u(821275555582352)}function J(){return u(498814665492149)}function Z(){return u(0x6a887e3994892)}function ee(){return u(0xa5d8a23a1f33e)}function te(){return u(626403979060997)}function ne(){return u(831150864932965)}function re(){return u(0x7e2cb5df443c)}function oe(){return u(6614640168569481)}function ae(){return u(0x5816219bc6da1)}function ie(){return u(0xd2e254c141b4)}function le(){return u(671443411431514)}function se(){return u(0x4aeb70db527d3)}function ue(){return u(0xdf5f14a88ba1)}function ce(){return u(682987820062997)}function de(){return u(0x523c1805dd173)}function me(){return u(652713330395407)}function pe(){return u(0xbab98e7dd597)}function _e(){return u(919039336073667)}function fe(){return u(673193694148537)}function ge(){return u(0x4aa9d245180bb)}function he(){return u(422435220869520)}function ye(){return u(0x62259b06f65d0)}function Ce(){return u(653480766448040)}function be(){return u(526463418847093)}function ve(){return u(0x47c7a5f284a82)}function Se(){return"https://www.facebook.com/privacy/policy"}function Re(){return"https://www.facebook.com/privacy/genai"}function Le(){return"https://www.facebook.com/privacy/guide/generative-ai"}function Ee(){return"https://www.facebook.com/legal/ai-terms"}function ke(){return"https://www.whatsapp.com/legal/brazil-privacy-notice/why-and-how-we-process-data"}function Ie(){return"https://www.facebook.com/privacy/genai"}function Te(){return"https://www.facebook.com/help/contact/2503286619871400"}function De(){return u(0x3f2d2cbd41088)}function xe(){return u(6485307734928964)}function $e(){return u(6485307734928964)}function Pe(){return u(306908962283012)}function Ne(){return u(785493319976156)}function Me(){return u(704225315054890)}function we(){return u(0xdc23a28a3d069)}function Ae(){return u(434854355461483)}function Fe(){return u(0x3d9111abd1522)}function Oe(){return u(360977646301595)}function Be(){return u(684323127185056)}function We(){return u(0x566e31f78e0b2)}function qe(){return u(8122483904494954)}function Ue(){return u(414631957536067)}function Ve(){return u(445453537819972)}function He(){return u(764072925284841)}function Ge(){return u(515115256843064)}function ze(){return u(o("WAWebContactManagementGating").getNativeContactLearnMoreArticleId())}function je(){return u(0xc01cf66d59161)}function Ke(){return u(0x78ed36c5dcc0a)}function Qe(){return u(0x6b6dc84a63837)}function Xe(){return u(0x65d0a8ea5ce82)}function Ye(){return o("WAWebMarketingMessagesUserFeedbackGatingUtils").isMMMessageLevelFeedbackNotInterestedMenuEnabled()?u(0x3a64d5ff15ce8):u(849628780369041)}function Je(){return u(0x3cf8b510ac7b3)}function Ze(){return u(471097579286138)}function et(){return u(925016942750794)}function tt(){return u(0xc38fcd98588b5)}function nt(){return u(0x81ff896ec8e7b)}function rt(){return u(0x40f14c3d8a34d)}function ot(){return"https://www.whatsapp.com/usephone"}function at(){return"https://business.whatsapp.com/policy#policies_for_whatsapp_commerce_features"}function it(){return u(717472490411581)}function lt(){return"https://business.whatsapp.com/policy?lang="+r("WAWebL10N").getNormalizedLocale()}function st(){return"https://business.whatsapp.com/?lang="+r("WAWebL10N").getNormalizedLocale()}function ut(){return u(361005896189245)}function ct(){return u(0x3c176e69dcbf0)}function dt(){return u(0x4047e189c6f13)}function mt(){return u(813462751272572)}function pt(){return u(829033686455542)}function _t(){return u(0x43c034e1473e6)}function ft(){return u(0x3c601ac2e47ea)}function gt(){return u(0x4c4f0ab002a27)}function ht(){return u(0x5586e377c54fe)}function yt(){return u(0xf65c3fa5555e5)}function Ct(){return u(0x55f94b56578b1)}function bt(){return u(0x804bec3ee93f0)}function vt(){return u(0x86a9e572bfaa1)}function St(){return u(0x56aefcbc25d3f)}function Rt(){return u(8122483904494954)}function Lt(){return u(0x566e31f78e0b2)}l.FAQ_BASE_URL=e,l.PLATFORM=s,l.getFullUrl=u,l.getFaqUrl=c,l.getDeleteAccountUrl=d,l.getNewsletterActivityInforUrl=m,l.getBusinessFaqUrl=p,l.getCannotConnectFaqUrl=_,l.getCiphertextFaqUrl=f,l.getFanoutPlaceholderFaqUrl=g,l.getCodeChangeFaqUrl=h,l.getMDCodeChangeFaqUrl=y,l.getE2EFaqUrl=C,l.getE2EEnterpriseFaqUrl=b,l.getWAChatFaqUrl=v,l.getFrequentlyForwardedFaqUrl=S,l.getMembershipApprovalModeFaqUrl=R,l.getNonVerifiedTransitionFaqUrl=L,l.getNotificationChromeFaqUrl=E,l.getNotificationEdgeFaqUrl=k,l.getNotificationFirefoxFaqUrl=I,l.getNotificationOperaFaqUrl=T,l.getNotificationSafariFaqUrl=D,l.getRevokeFaqUrl=x,l.getSuspiciousLinkFaqUrl=$,l.getUnverifiedTransitionFaqUrl=P,l.getVerifiedHighFaqUrl=N,l.getBlueFaqUrl=M,l.getVerifiedLowUnknownFaqUrl=w,l.getEphemeralFaqUrl=A,l.getKICFaqUrl=F,l.getViewOnceFaqUrl=O,l.getSupportChatFaqUrl=B,l.getSupportChatSafetyFaqUrl=W,l.getSupportChatSafetyFaqUrlWithPlatform=q,l.getDefenseModeFaqUrl=U,l.getCatalogCartOnOffFaqUrl=V,l.getCommunityHomeNuxUrl=H,l.getExitCommunityUrl=G,l.getCommunityCreatorPrivacyUrl=z,l.getCommunityMemberPrivacyUrl=j,l.getCommunityBecomingOwnerUrl=K,l.getLinkDeviceFaqUrl=Q,l.getJioMartPostcodeChangeLearnMoreLink=X,l.getDBErrorFaqUrl=Y,l.getHowToExitAndDeleteGroupsFaq=J,l.getRemoveFromCommunityFaqUrl=Z,l.getViewOnceScreenshotProtectionUrl=ee,l.getPhoneNumberHidingFaqUrl=te,l.getCagPhoneNumberHidingFaqUrl=ne,l.getControlsWhenMessagingBusinessFaqUrl=re,l.getMessageEditFaqUrl=oe,l.getNewsletterUpdateEditFaqUrl=ae,l.getAboutCommunitiesFaqUrl=ie,l.getNewsletterPrivacyLegacyFaqUrl=le,l.getNewsletterPrivacyMultiAdminFaqUrl=se,l.getNewsletterGuidelinesFaqUrl=ue,l.getNewsletterGeosuspendFaqUrl=ce,l.getNewsletterMetricsEstimatedFaqUrl=de,l.getNewsletterMetricsUnavailableFaqUrl=me,l.getMemberAddedGroupsUrl=pe,l.getReportToAdminFaqUrl=_e,l.getOrderEphemeralExemptionUrl=fe,l.getSafetyToolsFaqUrl=ge,l.getSearchTheWebFaqUrl=he,l.getScreenLockLearnMoreUrl=ye,l.getMessageHistoryOnLinkedDevicesFAQUrl=Ce,l.getRequestAccountInfoFAQUrl=be,l.getIndiaEcommerceComplianceFaqUrl=ve,l.getBotPrivacyPolicyUrl=Se,l.getPrivacyPolicyGenaiUrl=Re,l.getMetaGenAiGuideUrl=Le,l.getBotTermsUrl=Ee,l.getWhatsappPrivacyPolicyBrazilUrl=ke,l.getWhatsappBrazilBizBotRightsUrl=Ie,l.getWhatsappBrazilBizBotObjectUrl=Te,l.getBotLearnMoreUrl=De,l.getBizBot1pLearnMoreUrl=xe,l.getBizBotTosLearnMoreUrl=$e,l.getBizBot3pDataSharingUrl=Pe,l.getConsumerTransparencyHCAUrl=Ne,l.getAvatarFaqUrl=Me,l.getWhatsAppBusinessPremiumFaqUrl=we,l.getSharingBusinessInfoForAdsFaqUrl=Ae,l.getSagaFaqUrl=Fe,l.getNewsletterAdminInviteFaqUrlV2=Oe,l.getReportUnlawfulContentWebFaqUrl=Be,l.getCoexHostedFaqUrl=We,l.getCoexHostedBusinessFaqUrl=qe,l.getBlockingReportingFaqUrl=Ue,l.getDisableLinkPreviewsFaqUrl=Ve,l.getChatLockSecretCodeFaqUrl=He,l.getAccountTakeOverFaqUrl=Ge,l.getNativeContactLearnMoreFaqUrl=ze,l.getAntiBrigadingFaqUrl=je,l.getEventsLearnMoreFaqUrl=Ke,l.getCommunityGroupsVisibilityFaqUrl=Qe,l.getBizQuickRepliesFaqUrl=Xe,l.marketingMessageFeedbackLearnMoreURL=Ye,l.marketingMessageUserControlsStopLearnMoreURL=Je,l.marketingMessageUserControlsResumeLearnMoreURL=Ze,l.sharingCustomerRelatedActivityLearnMoreURL=et,l.getNewsletterReportLearnMoreUrl=tt,l.getSeeExamplesOfScamsUrl=nt,l.getHowToReport=rt,l.getWhatsappUsePhoneFallbackUrl=ot,l.getWhatsappBusinessCommercePolicyUrl=at,l.getRestrictedAccountLearnMoreUrl=it,l.getWhatsAppBusinessPolicyUrl=lt,l.getWhatsAppBusinessHomeUrl=st,l.getMessagingBestPracticeUrl=ut,l.getSMBLinkedCatalogUrl=ct,l.getGuestFAQUrl=dt,l.getSMBIndividualNewChatMessageCappingHCAUrl=mt,l.getConsumerIndividualNewChatMessageCappingHCAUrl=pt,l.getNewsletterQuestionResponsePrivacyBannerFAQUrl=_t,l.getGroupHistoryFAQUrl=ft,l.getGroupMemberTagUrl=gt,l.getOpenGroupLearnMoreUrl=ht,l.getTeeGroupLearnMoreUrl=yt,l.getPaidPartnershipLabelFaqUrl=Ct,l.getBotSessionTransparencyUrl=bt,l.getManusLearnMoreUrl=vt,l.getBusinessBroadcastsLearnMoreUrl=St,l.getFirstTimeSMBCoexCallingLearnMoreUrl=Rt,l.getFirstTimeConsumerCoexCallingLearnMoreUrl=Lt}),98);
__d("WAWebSWBusActions",[],(function(t,n,r,o,a,i){var e={REQUEST_STREAMING_INFO:"GET_STREAMING_INFO",REQUEST_RMR:"REQUEST_RMR",SEND_STREAMING_CHUNK:"SEND_STREAMING_CHUNK",EXP_BACKOFF:"EXP_BACKOFF",LOG:"LOG",UPLOAD_LOGS:"UPLOAD_LOGS",SET_L10N:"SET_L10N",STREAMING_SUPPORTED:"STREAMING_SUPPORTED",REMOVE_PP:"REMOVE_PP",LOGOUT:"LOGOUT",CLEAN_ASSETS:"CLEAN_ASSETS",ACTIVE_TAB:"ACTIVE_TAB",STOP_COMMS:"STOP_COMMS",HEARTBEAT:"HEARTBEAT",WAM_UPLOAD:"WAM_UPLOAD"},l=e;i.default=l}),66);
__d("WAWebSWBus",["Promise","WALogger","WAWebBuildConstants","WAWebNoop","WAWebSWBusActions","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c=[r("WAWebSWBusActions").HEARTBEAT],d=(function(){function e(t){var o=this;this.$1=function(t){if(!(t.data==null||t.data.action==null)){var a=t.data;if(!(t.ports==null||t.ports.length===0)){var i=t.ports;if(!(!e.isSW()&&window.navigator.serviceWorker&&t.source!==window.navigator.serviceWorker.controller)){var l;typeof t.waitUntil=="function"?l=function(n){return t.waitUntil(n)}:l=r("WAWebNoop"),l((u||(u=n("Promise"))).resolve(o.requestHandler(a)).then(function(e){i[0].postMessage(e)}).catch(function(e){i[0].postMessage({error:e&&e.toString()})}))}}}},this.requestHandler=t}var t=e.prototype;return t.init=function(){var t=e.isSW()?self:window.navigator.serviceWorker;try{if(!t)return;t.addEventListener("message",this.$1)}catch(e){}},e.isSW=function(){return typeof window=="undefined"},e.getRequestor=function(r){if(e.isSW()){if(typeof r=="string")return self.clients.get(r)}else return window.navigator.serviceWorker?window.navigator.serviceWorker.ready.then(function(){return window.navigator.serviceWorker?window.navigator.serviceWorker.controller:null}):(u||(u=n("Promise"))).resolve(null);return(u||(u=n("Promise"))).resolve(r)},e.broadcast=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o){if(!e.isSW())throw r("err")("Broadcast called from non-serviceworker.");var a=yield self.clients.matchAll();return a.length===0?(u||(u=n("Promise"))).reject(r("err")("No clients available.")):(u||(u=n("Promise"))).all(a.map(function(n){return e.request(n,t,o)}))});function o(e,n){return t.apply(this,arguments)}return o})(),e.request=function(a,i,l){var t,s=o("WAWebBuildConstants").VERSION_STR,c=new MessageChannel,d=new(u||(u=n("Promise")))(function(t,n){return c.port1.onmessage=function(e){var r;(r=e.data)!=null&&r.error?n(e.data.error):t(e.data)},e.getRequestor(a).then(function(e){if(!e)return n(r("err")("No ServiceWorker controlling this client."));e.postMessage({action:i,message:l,version:s},[c.port2])})});return d},e})();l.default=d}),98);
__d("WAWebFeatureDetectionSwSupport",["WAPromiseTimeout","WAWebBoolFunc","WAWebEventEmitter","WAWebModernizr","WAWebSWBus","WAWebSWBusActions","WAWebUA"],(function(t,n,r,o,a,i,l){var e="Modernizr"in window,s=o("WAWebModernizr").getModernizr(),u=(function(t){function n(){var n;n=t.call(this)||this,n.supported=e?s.serviceworker:"serviceWorker"in navigator,n._checkAlive=function(){var e,t=(e=navigator.serviceWorker)==null?void 0:e.controller;return!!t},n._checkStreamingSupport=function(){var e;if(!n.supported||!n.alive||o("WAWebUA").UA.isSafari){n._streamingSupported=!1;return}if(n._streamingSupportedPromise)return n._streamingSupported;var t=(e=navigator.serviceWorker)==null?void 0:e.controller;t&&(n._streamingSupportedPromise=o("WAPromiseTimeout").promiseTimeout(r("WAWebSWBus").request(t,r("WAWebSWBusActions").STREAMING_SUPPORTED),100).catch(o("WAWebBoolFunc").returnFalse).then(function(e){return delete n._streamingSupportedPromise,n.streamingSupported=e,e}))},n._setSupported=function(e){n.supported=e},e&&s.on("serviceworker",n._setSupported);var a=n;return Object.defineProperty(n,"streamingSupported",{get:function(){return a._checkStreamingSupport(),a._streamingSupported},set:function(t){t!==a._streamingSupported&&a.trigger("change:streamingSupported",t),a._streamingSupported=t}}),Object.defineProperty(n,"alive",{get:function(){return a._checkAlive()}}),n}return babelHelpers.inheritsLoose(n,t),n})(r("WAWebEventEmitter")),c=new u;l.default=c}),98);
__d("WAWebFocusTracer",["WALogger","WAShiftTimer"],(function(t,n,r,o,a,i,l){var e,s,u=5,c=75,d=[],m=!1;function p(){d=[],m=!1}function _(){if(d.length<u)return!1;for(var e=new Set,t=0;t<d.length;t++){if(e.has(d[t]))return!0;e.add(d[t])}return!1}function f(e){d.length===u&&d.shift(),d.push(e)}var g=new(o("WAShiftTimer")).ShiftTimer(p);document.addEventListener("keydown",function(e){g.forceRunNow()},{capture:!0,passive:!0});function h(t,n){if(t&&!(d.length&&t===d[d.length-1])){if(m=m||window.event!=null,f(t),_()&&!m){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Focus loop encountered."]))).sendLogs("focus-loop");return}g.onOrBefore(c),t.focus(n)}}var y={focus:h},C=y;l.default=C}),98);
__d("WAWebProfilePicPrivacyTokenGating",["WAWebABProps"],(function(t,n,r,o,a,i,l){function e(){return o("WAWebABProps").getABPropConfigValue("profile_scraping_privacy_token_in_photo_iq")}l.isProfilePicIQPrivacyTokenEnabled=e}),98);
__d("WAWebGetProfilePicJob",["Promise","WAJids","WALogger","WASmaxProfilePictureGetRPC","WAWebBackendErrors","WAWebProfilePicPrivacyTokenGating","WAWebWidToJid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){if(t.isStatus()||t.isBroadcast())return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getProfilePic failed with an invalid WID: ",""])),t.toString()).verbose(),(s||(s=n("Promise"))).reject(new(o("WAWebBackendErrors")).ServerStatusCodeError(401,"getProfilePic failed with an invalid WID: "+t.toString()));var a=r.commonGid,i=r.invite,l=r.photoId,u=r.preview,c=u===void 0?!0:u,p=r.tcToken,_=yield o("WASmaxProfilePictureGetRPC").sendGetRPC({iqTarget:o("WAWebWidToJid").widToChatJid(t),pictureType:c?"preview":"image",pictureId:l!=null?String(l):void 0,pictureQuery:"url",pictureInvite:i,tCTokenMixinArgs:d(p),pictureCommonGid:m(a)});switch(_.name){case"GetResponseSuccessPictureURL":{var f=_.value,g=f.pictureDirectPath,h=f.pictureHash,y=f.pictureId,C=f.pictureType,b=f.pictureUrl;return{tag:y,type:C,eurl:b,directPath:g,filehash:h}}case"GetResponseError":{var v=_.value.errorProfilePictureGetErrors.value;return(s||(s=n("Promise"))).reject(new(o("WAWebBackendErrors")).ServerStatusCodeError(Number(v.code),v.text))}case"GetResponseSuccessAvatarURLs":case"GetResponseSuccessNoData":case"GetResponseSuccessPictureBlob":return(s||(s=n("Promise"))).reject(_.value.type)}}),c.apply(this,arguments)}function d(e){var t;return o("WAWebProfilePicPrivacyTokenGating").isProfilePicIQPrivacyTokenEnabled()&&e!=null&&(t={privacyTokenContentsMixinArgs:{anyElementValue:new Uint8Array(e)}}),t}function m(e){return o("WAWebProfilePicPrivacyTokenGating").isProfilePicIQPrivacyTokenEnabled()&&e!=null?o("WAJids").toGroupJid(e.toString()):null}l.getProfilePic=u}),98);
__d("WAWebGetPushServerSettingsJob",["WADeprecatedSendIq","WADeprecatedWapParser","WALogger","WAWap","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c=new(r("WADeprecatedWapParser"))("getPushServerSettings",function(t){if(!t.hasChild("error")){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getPushServerSettings: success"]))).tags("push-notification");var n=t.child("settings"),r=n.attrString("webserverkey");return r}var a=t.child("error"),i=a.attrInt("code"),l=a.attrString("text");return o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getPushServerSettingsRequest: server response with ",", ",""])),i,l).tags("push-notification"),{errorCode:i,errorText:l}}),d=(u=o("WAWap")).wap("iq",{to:u.S_WHATSAPP_NET,type:"get",xmlns:"urn:xmpp:whatsapp:push",id:u.generateId()},u.wap("settings",null));function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WADeprecatedSendIq").deprecatedSendIq(d,c);if(!e.success){var t=e.errorCode,n=e.errorText;return{errorCode:t,errorText:n}}return e.result}),p.apply(this,arguments)}l.getPushServerSettings=m}),98);
__d("WAWebMexFetchReachoutTimelockJobQuery.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"XWA2ReachoutTimelock",kind:"LinkedField",name:"xwa2_fetch_account_reachout_timelock",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_enforcement_ends",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enforcement_type",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"WAWebMexFetchReachoutTimelockJobQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"WAWebMexFetchReachoutTimelockJobQuery",selections:e},params:{id:"23983697327930364",metadata:{},name:"WAWebMexFetchReachoutTimelockJobQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("WAWebMexFetchReachoutTimelockJob",["WALogger","WAWebBackendErrors","WAWebMexClient","WAWebMexFetchReachoutTimelockJobQuery.graphql","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("WAWebMexFetchReachoutTimelockJobQuery.graphql");function c(){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e={},t=yield o("WAWebMexClient").fetchQuery(u,e);if((t==null?void 0:t.xwa2_fetch_account_reachout_timelock)==null)throw new(o("WAWebBackendErrors")).ServerStatusCodeError(500,"Mex unexpected null response for fetching reachout timelock");o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[MEX][WA-ICE][RET] fetched reachout timelock"]))).tags("GQL","MEX","wa-ice","RET");var n=t==null?void 0:t.xwa2_fetch_account_reachout_timelock,r=n.enforcement_type,a=n.is_active,i=n.time_enforcement_ends;return{is_active:a,time_enforcement_ends:i,enforcement_type:r}}),d.apply(this,arguments)}l.mexFetchReachoutTimelock=c}),98);
__d("WAWebReachoutTimelockUtils",["WAWebContactGetters","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsTypes"],(function(t,n,r,o,a,i,l){var e="WAReachoutTimelockState";function s(){return o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(e)!=null}function u(){var t=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(e);return(t==null?void 0:t.state)===o("WAWebUserPrefsTypes").ReachoutTimelockState.HIDDEN}function c(){var t=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(e);return(t==null?void 0:t.state)===o("WAWebUserPrefsTypes").ReachoutTimelockState.VISIBLE}function d(e){var t=e.chat,n=e.contact;return!s()||!o("WAWebContactGetters").getIsUser(n)||o("WAWebContactGetters").getIsMe(n)||o("WAWebContactGetters").getIsEnterprise(n)||o("WAWebContactGetters").getIsSupportAccount(n)||n.id.isBot()?!0:(t==null?void 0:t.getTcToken())!=null}function m(e){if(e==null)return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.DEFAULT;var t=e;switch(t){case"BIZ_QUALITY":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_QUALITY;case"BIZ_COMMERCE_VIOLATION_ADULT":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ADULT;case"BIZ_COMMERCE_VIOLATION_ALCOHOL":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ALCOHOL;case"BIZ_COMMERCE_VIOLATION_ANIMALS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ANIMALS;case"BIZ_COMMERCE_VIOLATION_BODY_PARTS_FLUIDS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_BODY_PARTS_FLUIDS;case"BIZ_COMMERCE_VIOLATION_DATING":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DATING;case"BIZ_COMMERCE_VIOLATION_DIGITAL_SERVICES_PRODUCTS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DIGITAL_SERVICES_PRODUCTS;case"BIZ_COMMERCE_VIOLATION_DRUGS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DRUGS;case"BIZ_COMMERCE_VIOLATION_DRUGS_ONLY_OTC":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DRUGS_ONLY_OTC;case"BIZ_COMMERCE_VIOLATION_GAMBLING":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_GAMBLING;case"BIZ_COMMERCE_VIOLATION_HEALTHCARE":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_HEALTHCARE;case"BIZ_COMMERCE_VIOLATION_REAL_FAKE_CURRENCY":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_REAL_FAKE_CURRENCY;case"BIZ_COMMERCE_VIOLATION_SUPPLEMENTS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_SUPPLEMENTS;case"BIZ_COMMERCE_VIOLATION_TOBACCO":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_TOBACCO;case"BIZ_COMMERCE_VIOLATION_VIOLENT_CONTENT":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_VIOLENT_CONTENT;case"BIZ_COMMERCE_VIOLATION_WEAPONS":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_WEAPONS;case"WEB_COMPANION_ONLY":return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.WEB_COMPANION_ONLY;case"DEFAULT":default:return o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.DEFAULT}}function p(e){switch(e){case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ADULT:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ALCOHOL:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_ANIMALS:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_BODY_PARTS_FLUIDS:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DATING:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DIGITAL_SERVICES_PRODUCTS:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DRUGS:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_DRUGS_ONLY_OTC:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_GAMBLING:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_HEALTHCARE:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_REAL_FAKE_CURRENCY:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_SUPPLEMENTS:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_TOBACCO:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_VIOLENT_CONTENT:case o("WAWebUserPrefsTypes").ReachoutTimelockEnforcementType.BIZ_COMMERCE_VIOLATION_WEAPONS:return!0;default:return!1}}l.REACHOUT_TIMELOCK_IDB_KEY=e,l.isUserReachoutTimelocked=s,l.isUserReachoutTimelockedAndHidden=u,l.isUserReachoutTimelockedAndVisible=c,l.canSendMsgWhileTimelocked=d,l.getReachoutTimelockEnforcementType=m,l.isCPVEnforcement=p}),98);
__d("WAWebMexReachoutTimelockNotificationHandler",["WALogger","WAWebBackendApi","WAWebReachoutTimelockUtils","WAWebUserPrefsIndexedDBStorage","WAWebUserPrefsTypes","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.xwa2_notify_account_reachout_timelock,r=n.enforcement_type,o=n.is_active,a=n.time_enforcement_ends;yield c(o,r,a)}),u.apply(this,arguments)}function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){try{if(!t){var a=o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY),i=o("WAWebReachoutTimelockUtils").isUserReachoutTimelockedAndVisible(),l=a==null?void 0:a.enforcement_type;yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.remove(o("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY),o("WAWebBackendApi").frontendFireAndForget("reachoutTimelockEnforcementLifted",{shouldPresentRestrictionsLiftedModal:i,enforcementType:l});return}var s=r!=null?new Date(parseInt(r,10)*1e3).getTime():new Date().getTime()+60*1e3,u=yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.get(o("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY);yield o("WAWebUserPrefsIndexedDBStorage").userPrefsIdb.set(o("WAWebReachoutTimelockUtils").REACHOUT_TIMELOCK_IDB_KEY,{state:u!=null?u.state:o("WAWebUserPrefsTypes").ReachoutTimelockState.HIDDEN,time_enforcement_ends:s,enforcement_type:o("WAWebReachoutTimelockUtils").getReachoutTimelockEnforcementType(n)}),o("WAWebBackendApi").frontendFireAndForget("reachoutTimelockEnforcementSet",{})}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[mex][reachout-timelock] notif handler failed"]))).sendLogs("mex-handle-reachout-timelock-notification-failed")}}),d.apply(this,arguments)}l.mexHandleReachoutTimelockNotification=s,l.handleReachoutTimelockUpdate=c}),98);
__d("WAWebGetReachoutTimelockJob",["WAJobOrchestratorTypes","WALogger","WAWebMexFetchReachoutTimelockJob","WAWebMexReachoutTimelockNotificationHandler","WAWebOrchestratorNonPersistedJob","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield c();if(e!=null){var t=e.enforcement_type,n=e.is_active,r=e.time_enforcement_ends;yield o("WAWebMexReachoutTimelockNotificationHandler").handleReachoutTimelockUpdate(n,t,r)}}),u.apply(this,arguments)}function c(){return o("WAWebOrchestratorNonPersistedJob").createNonPersistedJob("getReachoutTimelock",n("asyncToGeneratorRuntime").asyncToGenerator(function*(){try{var t=yield o("WAWebMexFetchReachoutTimelockJob").mexFetchReachoutTimelock();return t}catch(t){throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[MEX][WA-ICE][RET] GET Reachout Timelock job error"]))).tags("GQL","MEX","wa-ice","RET"),t}}),{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}).waitUntilCompleted()}l.fetchReachoutTimelock=s}),98);
__d("WAWebGuestCommonUtils",["WAWebMiscBrowserUtils","WAWebUA"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return(navigator.userAgent.includes("WhatsApp-AppClip")&&typeof window!="undefined"&&((e=window.webkit)==null||(e=e.messageHandlers)==null||(e=e.WAAppClipHandler)==null?void 0:e.postMessage)!==void 0)===!0}function s(){var t=r("WAWebMiscBrowserUtils").info(),n=o("WAWebUA").UA.parser.getResult();return{browserName:e()?"WhatsApp-AppClip":t.name,browserVersion:n.browser.version,osName:t.os,osVersion:t.version}}l.isAppClipWebView=e,l.getBrowserAndOsDetails=s}),98);
__d("WAWebWamEnumGuestUpsellActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({VIEW:1,CLICK:2,DISMISS:3,DOWNLOAD_CTA_CLICK:4});i.GUEST_UPSELL_ACTION_TYPE=e}),66);
__d("WAWebWamEnumGuestUpsellEntryPointType",[],(function(t,n,r,o,a,i){var e=Object.freeze({BANNER_DOWNLOAD_CTA:1,AUDIO_CALL:2,VIDEO_CALL:3,ATTACHMENT:4,NEW_INVITE:5,LANDING_SCREEN_DOWNLOAD_CTA:6,SESSION_REOPEN:7});i.GUEST_UPSELL_ENTRY_POINT_TYPE=e}),66);
__d("WAWebGuestUpsellInteractionWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumGuestUpsellActionType","WAWebWamEnumGuestUpsellEntryPointType"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({GuestUpsellInteraction:[7146,{guestUpsellAction:[1,o("WAWebWamEnumGuestUpsellActionType").GUEST_UPSELL_ACTION_TYPE],guestUpsellEntryPoint:[2,o("WAWebWamEnumGuestUpsellEntryPointType").GUEST_UPSELL_ENTRY_POINT_TYPE]},[1,1,1],"regular"]},{GuestUpsellInteraction:[]});l.GuestUpsellInteractionWamEvent=e}),98);
__d("WAWebGuestUserPrefs",["WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(t,n,r,o,a,i,l){function e(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestActiveInviteCode);return typeof e=="string"?e:""}function s(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestActiveInviteCode,e)}function u(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestDeviceId);return typeof e=="string"?e:""}function c(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestDeviceId,e)}function d(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestSessionId);return typeof e=="string"?e:""}function m(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestSessionId,e)}function p(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestLastPageLoadTs);return typeof e=="number"?e:0}function _(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestLastPageLoadTs,e)}function f(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestNotifPrimerDialogDisabled);return typeof e=="boolean"?e:!1}function g(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestNotifPrimerDialogDisabled,e)}function h(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").UserPrefs.GuestNotifPrimerDialogDisplayCount);return typeof e=="number"?e:0}function y(e){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").UserPrefs.GuestNotifPrimerDialogDisplayCount,e)}l.getActiveGuestInviteCode=e,l.setActiveGuestInviteCode=s,l.getGuestDeviceId=u,l.setGuestDeviceId=c,l.getGuestSessionId=d,l.setGuestSessionId=m,l.getGuestLastPageLoadTs=p,l.setGuestLastPageLoadTs=_,l.isNotifGuestPrimerDialogDisabled=f,l.setNotifGuestPrimerDialogDisabled=g,l.getNotifGuestPrimerDialogDisplayCount=h,l.setNotifGuestPrimerDialogDisplayCount=y}),98);
__d("WAWebGuestWamConstants",[],(function(t,n,r,o,a,i){var e=1,l=2,s="guest";i.WAM_IN_MEMORY_BUFFERING_DURATION_IN_SECS_FOR_GUEST=e,i.WAM_BUFFER_ROTATE_INTERVAL_IN_SECS_FOR_GUEST=l,i.WAM_GUEST_TAB_ID=s}),66);
__d("WAWebGuestWamUtils",["WALogger","WAWebGuestCommonUtils","WAWebGuestUpsellInteractionWamEvent","WAWebGuestWamConstants","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e,t,n){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){r===void 0&&(r=!1),o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Guest upsell action: "," for entrypoint: ",", flushWamBuffers: ",""])),n,t,r);var a=new(o("WAWebGuestUpsellInteractionWamEvent")).GuestUpsellInteractionWamEvent({guestUpsellAction:n,guestUpsellEntryPoint:t});return r?a.commitAndWaitForFlush(r):a.commit()}),u.apply(this,arguments)}function c(){var e=o("WAWebGuestCommonUtils").getBrowserAndOsDetails();return{browser:e.browserName,browserVersion:e.browserVersion,deviceName:e.osName,deviceVersion:e.osVersion,webcTabId:o("WAWebGuestWamConstants").WAM_GUEST_TAB_ID}}l.logUpsellAction=s,l.getGuestWamOverrides=c}),98);
__d("WAWebIdentityApiUtils",["WABinary","WAWebSignalCommonUtils","WAWebSignalProtocolStore","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){function e(e,t){for(var n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return e[n]-t[n];return e.length-t.length}function s(e){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield c(e);return t.map(function(t,n){if(t==null)throw r("err")("getAllIdentityKeys: missing identity key for device "+String(e[n]));return t})}),u.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield o("WAWebSignalProtocolStore").getPersistSignalProtocolStore().bulkLoadIdentityKey(e.map(function(e){return o("WAWebSignalCommonUtils").createSignalAddress(e)}));return t.map(function(e){return e==null?null:new Uint8Array(o("WAWebSignalCommonUtils").strToBuffer(e))})}),d.apply(this,arguments)}function m(t){var n=new(o("WABinary")).Binary;return t.sort(e).forEach(function(e){n.writeByteArray(e)}),n.readByteArrayView()}l.getAllIdentityKeysBytesOrThrow=s,l.getAllIdentityKeysBytes=c,l.identityKeysToBinary=m}),98);
__d("WAWebInitWaitForEvents",["WAWebEventsWaitForOfflineDeliveryEnd","WAWebEventsWaitForReadyForOffline"],(function(t,n,r,o,a,i,l){function e(){o("WAWebEventsWaitForReadyForOffline").initWaitForOfflineProcessReady(),o("WAWebEventsWaitForOfflineDeliveryEnd").initWaitForOfflineDeliveryEnd()}l.initOfflineResumeWaitForEvents=e}),98);
__d("WAWebInvocationDispatcher",["invariant","Promise","WANullthrows","WAWebBrokerProtocolInvocation","WAWebBrokerProtocolResponse","WAWebInvocationId","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l,s){var e,u=(function(){function t(){var e=this;this.$2=new Map,this.$3=function(t){var n=o("WAWebBrokerProtocolResponse").unwrapResponsePayload(t.data);if(n!=null){var a=n.invocationId,i=n.result;if(e.$2.has(a)){var l=r("WANullthrows")(e.$2.get(a)),s=l.resolve;s(i),e.$2.delete(a)}}}}var a=t.prototype;return a.setConnectionManager=function(t){var e=this;this.$1=t,t.waitForConnection().then(function(){var n=r("WANullthrows")(t.getPort(),"Port obtained from ConnectionManager after connection");n.addEventListener("message",e.$3),n.start()})},a.invoke=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=this;this.$1||s(0,56298),yield this.$1.waitForConnection(),this.$1||s(0,56298);var l=r("WANullthrows")(this.$1.getPort(),"Port obtained from ConnectionManager after connection"),u=o("WAWebInvocationId").genInvocationId();return l.postMessage(o("WAWebBrokerProtocolInvocation").buildInvocationPayload({invocationId:u,method:t,args:a})),new(e||(e=n("Promise")))(function(e,t){i.$2.set(u,{resolve:e,reject:t})})});function a(e,n){return t.apply(this,arguments)}return a})(),t})(),c=new u;l.default=c}),98);
__d("WAWebInvocationHandler",["WAWebBrokerProtocolInvocation","WAWebBrokerProtocolResponse","WAWebInvocationInterface"],(function(t,n,r,o,a,i,l){var e=(function(){function e(){this.$1=function(e,t){var n=t.data,r=o("WAWebBrokerProtocolInvocation").unwrapInvocationPayload(n);if(r!=null){var a=r.args,i=r.invocationId,l=r.method,s=o("WAWebInvocationInterface").get();s[l].apply(s,a).then(function(t){e.postMessage(o("WAWebBrokerProtocolResponse").buildResponsePayload(i,t))})}}}var t=e.prototype;return t.respondTo=function(t){var e=this;t.addEventListener("message",function(n){return e.$1(t,n)}),t.start()},e})(),s=new e;l.default=s}),98);
__d("WAWebWamEnumProjectCode",[],(function(t,n,r,o,a,i){var e=Object.freeze({DIT:1,DIRECTORY_SEARCH:2});i.PROJECT_CODE=e}),66);
__d("WAWebWamEnumSignCredentialResult",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUCCESS:1,ERROR_BAD_REQUEST:2,ERROR_SERVER:3,ERROR_OTHER:4,ERROR_CLIENT_NETWORK:5});i.SIGN_CREDENTIAL_RESULT=e}),66);
__d("WAWebSignCredentialWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumProjectCode","WAWebWamEnumSignCredentialResult"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({SignCredential:[2242,{applicationState:[6,o("WAWebWamEnumApplicationState").APPLICATION_STATE],isFromWameta:[8,e.TYPES.BOOLEAN],overallT:[4,e.TYPES.TIMER],projectCode:[7,o("WAWebWamEnumProjectCode").PROJECT_CODE],retryCount:[2,e.TYPES.INTEGER],signCredentialResult:[1,o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT],signCredentialT:[3,e.TYPES.TIMER],waConnectedToChatd:[5,e.TYPES.BOOLEAN]},[1,1,1],"regular"]},{SignCredential:[]});l.SignCredentialWamEvent=s}),98);
__d("privateStatsToken",["Promise","WAACSTokenUtils","WADeprecatedSendIq","WADeprecatedWapParser","WAErrors","WALogger","WAPromiseRetryLoop","WATimeUtils","WAWamPrivateStatsToken","WAWamStorage","WAWap"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=3,m=new(r("WADeprecatedWapParser"))("issuePrivateStatsToken",function(e){var t=e.child("sign_credential"),n=t.child("signed_credential"),r=n.contentBytes(),o=t.child("acs_public_key"),a=o.contentBytes();return{signedCredential:r,acsPublicKey:a}});function p(e){switch(e.errorCode){case 400:return"bad-request";case 500:return"internal-server-error";case 501:return"feature-not-implemented";case 503:return"service-unavailable";default:return"unknown"}}function _(t){var r=o("WATimeUtils").monotonicTime(),a={overallStartTime:r,retryStartTime:r,retryAttemptsLeft:d},i=o("WAACSTokenUtils").getBlindedToken(),l=i.blindedToken,_=i.blindingFactor,f=i.token,g=function(i){a.retryAttemptsLeft<d&&(a.retryStartTime=o("WATimeUtils").monotonicTime());var r=o("WAWap").wap("iq",{id:o("WAWap").generateId(),to:o("WAWap").S_WHATSAPP_NET,type:"get",xmlns:"privatestats"},o("WAWap").wap("sign_credential",{version:"1"},o("WAWap").wap("blinded_credential",null,l))),g=t||o("WADeprecatedSendIq").deprecatedSendIqWithoutRetry;return g(r,m).then(function(t){if(!t.success){var n=p(t);o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: failed ",""])),n),n!=="internal-server-error"||a.retryAttemptsLeft<=0?i({result:null,metric:babelHelpers.extends({},a,{result:n})}):a.retryAttemptsLeft--;return}var r=t.result,l=r.acsPublicKey,u=r.signedCredential,c=o("WAWamPrivateStatsToken").unblindToken(u,_,l);if(c==null){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: failed to unblind the signed token"]))),i({result:null,metric:babelHelpers.extends({},a,{result:"decryption-error"})});return}i({result:{token:f,sharedSecret:o("WAACSTokenUtils").getSharedSecret({token:f,unblindedSignedToken:c})},metric:babelHelpers.extends({},a,{result:"success"})})}).catch(function(e){if(e instanceof o("WAErrors").Disconnected)o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["issuePrivateStatsToken: Disconnected"]))),a.retryAttemptsLeft<=0?i({result:null,metric:babelHelpers.extends({},a,{result:"disconnected"})}):a.retryAttemptsLeft--;else return(c||(c=n("Promise"))).reject(e)})},h=new(o("WAPromiseRetryLoop")).PromiseRetryLoop({name:"issuePrivateStatsToken",timer:{algo:{type:"exponential",first:250},max:1e3},code:g});return h.start(),h.promise()}function f(e){return o("WAWamStorage").redeemPrivateStatsToken().then(function(t){return t?{result:t}:_(e).then(function(e){var t=babelHelpers.extends({},e),n=e.result;return n?o("WAWamStorage").savePrivateStatsToken(n).then(function(){return t}):t})})}l.issuePrivateStatsToken=_,l.getToken=f}),98);
__d("WAWebIssuePrivateStatsToken",["WADeprecatedSendIq","WALogger","WASemaphore","WATimeUtils","WAWebSignCredentialWamEvent","WAWebWamEnumApplicationState","WAWebWamEnumSignCredentialResult","asyncToGeneratorRuntime","privateStatsToken"],(function(t,n,r,o,a,i,l){var e,s=3;function u(e){return e==="success"?o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.SUCCESS:e==="bad-request"?o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_BAD_REQUEST:e==="internal-server-error"?o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_SERVER:e==="disconnected"?o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_CLIENT_NETWORK:e==="feature-not-implemented"||e==="service-unavailable"||e==="decryption-error"||e==="unknown"?o("WAWebWamEnumSignCredentialResult").SIGN_CREDENTIAL_RESULT.ERROR_OTHER:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function c(e){var t=e.overallStartTime,n=e.result,r=e.retryAttemptsLeft,a=e.retryStartTime,i=u(n);new(o("WAWebSignCredentialWamEvent")).SignCredentialWamEvent({signCredentialResult:i,overallT:o("WATimeUtils").monotonicTimeSince(t),signCredentialT:o("WATimeUtils").monotonicTimeSince(a),retryCount:s-r,waConnectedToChatd:n!=="disconnected",applicationState:document.visibilityState==="visible"?o("WAWebWamEnumApplicationState").APPLICATION_STATE.FOREGROUND:o("WAWebWamEnumApplicationState").APPLICATION_STATE.BACKGROUND}).commit()}var d=new(o("WASemaphore")).Semaphore(1);function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=yield d.acquire();try{var n=yield o("privateStatsToken").getToken(o("WADeprecatedSendIq").deprecatedSendIqWithoutRetry),r=n.metric,a=n.result;return r!=null&&c(r),a||o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Couldn't get a private stats token"]))),a}finally{t.release()}}),p.apply(this,arguments)}l.getToken=m}),98);
__d("WAWebKeyboardConstants",[],(function(t,n,r,o,a,i){var e={UNIDENTIFIED:"Unidentified",ALT:"Alt",ALT_GRAPH:"AltGraph",CAPS_LOCK:"CapsLock",CONTROL:"Control",FN:"Fn",FN_LOCK:"FnLock",HYPER:"Hyper",META:"Meta",NUM_LOCK:"NumLock",SCROLL_LOCK:"ScrollLock",SHIFT:"Shift",SUPER:"Super",SYMBOL:"Symbol",SYMBOL_LOCK:"SymbolLock",OS:"OS",ENTER:"Enter",TAB:"Tab",SPACE:" ",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",LEFT:"Left",RIGHT:"Right",UP:"Up",DOWN:"Down",END:"End",HOME:"Home",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",BACKSPACE:"Backspace",CLEAR:"Clear",COPY:"Copy",CR_SEL:"CrSel",CRSEL:"Crsel",CUT:"Cut",DELETE:"Delete",ERASE_EOF:"EraseEof",EX_SEL:"ExSel",EXSEL:"Exsel",INSERT:"Insert",PASTE:"Paste",REDO:"Redo",UNDO:"Undo",ESCAPE:"Escape"};i.KEYBOARD_EVENT_KEY_VALUE=e}),66);
__d("WAWebKeyboardContext",["react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).createContext,u=s({isKeyboardUser:!1,setIsKeyboardUser:function(){}});l.default=u}),98);
__d("WAWebKeyboardTabUtils",["$InternalEnum","WAWebBoolFunc","WAWebMiscGatingUtils","lodash","tabbable"],(function(t,n,r,o,a,i,l){var e=n("$InternalEnum").Mirrored(["CUSTOM","CUSTOM_SELECTOR","TABBABLE"]),s=n("$InternalEnum").Mirrored(["FORWARD","BACKWARD"]);function u(t,n,a,i,l){n===void 0&&(n=s.FORWARD),a===void 0&&(a=e.CUSTOM),i===void 0&&(i=o("WAWebBoolFunc").returnTrue);var u,m;a===e.TABBABLE?(u=o("tabbable").tabbable(t),m=function(t){return!0}):a===e.CUSTOM_SELECTOR&&l!=null?(u=Array.from(t.querySelectorAll(l)),m=function(t){return!0}):(u=r("lodash").sortBy(Array.from(t.querySelectorAll("[data-tab]")),function(e){return parseInt(e.getAttribute("data-tab"),10)||0}),m=d);var p=n===s.FORWARD?1:-1,_=0,f=document,g=f.activeElement;if(g){var h=u.findIndex(function(e){return e.contains(g)});if(o("WAWebMiscGatingUtils").messageListA11yRedesignEnabled()){var y=u.findIndex(function(e){return e===g});y>0&&(h=y)}_=h===-1?0:c(h+p,u.length)}for(var C=0;C<u.length;C++){var b=c(_+C*p,u.length),v=u[b];if(m(v)&&i(v))return v}return null}function c(e,t){return(e+t)%t}function d(e){if(e.disabled)return!1;var t=parseInt(e.dataset.tab,10);if(typeof t!="number"||t<0)return!1;var n=e.getAttribute("tabindex");return n!=null&&parseInt(n,10)===-1?!1:!m(e)}function m(e){if(getComputedStyle(e).visibility==="hidden")return!0;for(var t=e;t;){if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}l.FocusType=e,l.TabDirection=s,l.getNextTabbableElement=u}),98);
__d("WAWebRefreshIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="refresh";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=24,R=24;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 24 24",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),version:"1.1",x:"0px",y:"0px",enableBackground:"new 0 0 24 24",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{fill:"currentColor",d:"M17.6,6.4C16.2,4.9,14.2,4,12,4c-4.4,0-8,3.6-8,8s3.6,8,8,8c3.7,0,6.8-2.6,7.7-6h-2.1 c-0.8,2.3-3,4-5.6,4c-3.3,0-6-2.7-6-6s2.7-6,6-6c1.7,0,3.1,0.7,4.2,1.8L13,11h7V4L17.6,6.4z"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.RefreshIcon=m}),98);
__d("WAWebLazyLoadLoading.react",["fbt","WALogger","WAWebRefreshIcon.react","WAWebSpinner.react","WAWebUISpacing","react","stylex"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=u||(u=r("react")),m={circleSvg:{width:"x1pju0fl",height:"x10wjd1d",$$css:!0},text:{lineHeight:"xggjnk3",color:"x1v5yvga",$$css:!0}};function p(e){var t=e.text;return d.jsxs("div",{children:[d.jsx("div",{className:"x1pju0fl x10wjd1d x1d12jij xwodta0 x1idq3uh x396r2g xdj266r x11t971q x98jqk3 xvc5jky xue55m6 x17t9dm2 x2b8uid x1c9tyrk xeusxvb x1pahc9y x1ertn4p xilfgz5",children:d.jsx(o("WAWebRefreshIcon.react").RefreshIcon,{iconXstyle:m.circleSvg})}),d.jsx("div",babelHelpers.extends({},(c||(c=r("stylex"))).props(m.text,o("WAWebUISpacing").uiMargin.vert0,o("WAWebUISpacing").uiMargin.horiz20),{children:t}))]})}p.displayName=p.name+" [from "+i.id+"]";function _(t){var n=t.error,r=t.text,a=r===void 0?s._(/*BTDS*/"There was an unexpected error, please click to reload the application."):r,i=t.retry,l=i===void 0?function(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[reload] LazyLoadLoading.retry"]))),window.location.reload()}:i;return d.jsx("div",{className:"x10l6tqk x16uhe5s x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d x2b8uid x1ypdohk",onClick:n?l:null,children:n?d.jsx(p,{text:a}):d.jsx(o("WAWebSpinner.react").Spinner,{size:50,stroke:4})})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("WAWebLinkDevicePhoneNumberEntryInputFormatUtils",["WACcToIso","WAIsoToCc","WALogger","WAPhoneFindCC","WAWebPhoneUtils"],(function(t,n,r,o,a,i,l){var e;function s(e){var t=e.countryCodeIso,n=e.phoneNumberWithoutCountryCode;if(t==null)return u(n);var a=r("WAIsoToCc")[t],i=o("WAWebPhoneUtils").compileCountryRegexes(String(a));if(i==null)return null;var l=_(""+r("WAIsoToCc")[t]+n),s=l.phoneNumberWithoutCountryCode,p=c(i),f=Math.max.apply(Math,p);if(s.length>f)return u(s);var g=p.filter(function(e){return e>=s.length}).map(function(e){return d(s,e)});for(var h of i.formats){var y=h.testAndFormat(s);if(y!=null)return{formattedInputValue:y,placeholder:""};for(var C of g){var b=h.testAndFormat(C);if(b!=null)return m({phoneNumberWithoutCountryCode:s,formattedPaddedNumber:b})}}return u(s)}function u(e){return{formattedInputValue:e,placeholder:""}}function c(e){var t=e.lengths;return typeof t=="number"?[t]:t.sort(function(e,t){return e-t})}function d(e,t){return e+"_".repeat(t-e.length)}function m(e){var t=e.formattedPaddedNumber,n=e.phoneNumberWithoutCountryCode;if(n==="")return{formattedInputValue:"",placeholder:t};var r=Array.from(t.matchAll(/\d/g)),o=r.pop().index,a=o+1;return{formattedInputValue:t.substr(0,a),placeholder:t.substr(a)}}function p(e,t,n){var r=o("WAWebPhoneUtils").compileCountryRegexes(String(e));return r==null?!1:r.formats.some(function(e){return e.testAndFormat(t)!=null})||o("WAWebPhoneUtils").isValidMobileForRegistration(String(e),t,n)}function _(e){var t=e.replaceAll(/[^\d]/g,""),n=f(t),o=t;if(n!=null){var a=r("WAIsoToCc")[n];o=o.replace(new RegExp("^"+a),"")}return{countryCodeIso:n,phoneNumberWithoutCountryCode:o,fullRawPhoneNumber:t}}function f(e){var t=o("WAPhoneFindCC").findCC(e);return r("WACcToIso")[parseInt(t,10)]}function g(t,n,r){var a=f(t);a!==n&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[compareCountryCodeOutput] Country code mismatch in ",""])),r).sendLogs("country-code-mismatch",{sampling:.01})}function h(e,t,n){if(t==null){var r=e?"+":"";return""+r+n}return"+"+t+" "+n}l.formatPhoneNumberInput=s,l.isPhoneNumberValid=p,l.cleanPhoneNumberInputValue=_,l.getCountryCodeIso=f,l.compareCountryCodeOutput=g,l.getFullFormattedInputValue=h}),98);
__d("fbjs/lib/emptyFunction",["emptyFunction"],(function(t,n,r,o,a,i){"use strict";a.exports=n("emptyFunction")}),null);
__d("fbjs/lib/warning",["warning"],(function(t,n,r,o,a,i){"use strict";a.exports=n("warning")}),null);
__d("prop-types/lib/ReactPropTypesSecret",[],(function(t,n,r,o,a,i){"use strict";var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=e}),null);
__d("prop-types/checkPropTypes",["fbjs/lib/invariant","fbjs/lib/warning","prop-types/lib/ReactPropTypesSecret"],(function(t,n,r,o,a,i){"use strict";var e;function l(e,t,n,r,o){}a.exports=l}),null);
__d("prop-types/prop-types",["fbjs/lib/emptyFunction","fbjs/lib/invariant","fbjs/lib/warning","prop-types/checkPropTypes","prop-types/lib/ReactPropTypesSecret"],(function(t,n,r,o,a,i){var e=function(){n("fbjs/lib/invariant")(0,1492)},l=function(){return e},s;e.isRequired=e;var u={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:l,element:e,instanceOf:l,node:e,objectOf:l,oneOf:l,oneOfType:l,shape:l};u.checkPropTypes=n("fbjs/lib/emptyFunction"),u.PropTypes=u,a.exports=u}),null);
__d("prop-types",["ReactFbPropTypes","prop-types/prop-types"],(function(t,n,r,o,a,i){a.exports=n("prop-types/prop-types")}),null);
/**
 * License: https://www.facebook.com/legal/license/l6Md91cKJ3N/
 */
__d("react-loadable-5.5.0",["Promise","prop-types","react"],(function(t,n,r,o,a,i){"use strict";var e,l,s=typeof Symbol=="function"&&typeof(typeof Symbol=="function"?Symbol.iterator:"@@iterator")=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==(typeof Symbol=="function"?Symbol.prototype:"@@prototype")?"symbol":typeof e};function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&(typeof t=="object"||typeof t=="function")?t:e}function d(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=e||(e=n("react")),p=[],_=[];function f(e){return(typeof __webpack_modules__=="undefined"?"undefined":s(__webpack_modules__))!=="object"?!1:e().every(function(e){return typeof e!="undefined"&&typeof __webpack_modules__[e]!="undefined"})}function g(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then(function(e){return n.loading=!1,n.loaded=e,e}).catch(function(e){throw n.loading=!1,n.error=e,e}),n}function h(e){var t={loading:!1,loaded:{},error:null},r=[];try{Object.keys(e).forEach(function(n){var o=g(e[n]);o.loading?t.loading=!0:(t.loaded[n]=o.loaded,t.error=o.error),r.push(o.promise),o.promise.then(function(e){t.loaded[n]=e}).catch(function(e){t.error=e})})}catch(e){t.error=e}return t.promise=(l||(l=n("Promise"))).all(r).then(function(e){return t.loading=!1,e}).catch(function(e){throw t.loading=!1,e}),t}function y(e){return e&&e.__esModule?e.default:e}function C(e,t){return m.createElement(y(e),t)}function b(e,t){var r,o;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var a=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:C,webpack:null,modules:null},t),i=null;function l(){return i||(i=e(a.loader)),i.promise}return p.push(l),typeof a.webpack=="function"&&_.push(function(){if(f(a.webpack))return l()}),o=r=(function(t){d(n,t);function n(r){u(this,n);var o=c(this,t.call(this,r));return o.retry=function(){o.setState({error:null,loading:!0,timedOut:!1}),i=e(a.loader),o._loadModule()},l(),o.state={error:i.error,pastDelay:!1,timedOut:!1,loading:i.loading,loaded:i.loaded},o}return n.preload=function(){return l()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(a.modules)&&a.modules.forEach(function(t){e.context.loadable.report(t)}),!!i.loading){typeof a.delay=="number"&&(a.delay===0?this.setState({pastDelay:!0}):this._delay=setTimeout(function(){e.setState({pastDelay:!0})},a.delay)),typeof a.timeout=="number"&&(this._timeout=setTimeout(function(){e.setState({timedOut:!0})},a.timeout));var t=function(){e._mounted&&(e.setState({error:i.error,loaded:i.loaded,loading:i.loading}),e._clearTimeouts())};i.promise.then(function(){t()}).catch(function(e){t()})}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?m.createElement(a.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?a.render(this.state.loaded,this.props):null},n})(m.Component),r.contextTypes={loadable:n("prop-types").shape({report:n("prop-types").func.isRequired})},o}function v(e){return b(g,e)}function S(e){if(typeof e.render!="function")throw new Error("LoadableMap requires a `render(loaded, props)` function");return b(h,e)}v.Map=S;var R=(function(e){d(t,e);function t(){return u(this,t),c(this,e.apply(this,arguments))}return t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return m.Children.only(this.props.children)},t})(m.Component);R.propTypes={report:n("prop-types").func.isRequired},R.childContextTypes={loadable:n("prop-types").shape({report:n("prop-types").func.isRequired}).isRequired},v.Capture=R;function L(e){for(var t=[];e.length;){var r=e.pop();t.push(r())}return(l||(l=n("Promise"))).all(t).then(function(){if(e.length)return L(e)})}v.preloadAll=function(){return new(l||(l=n("Promise")))(function(e,t){L(p).then(e,t)})},v.preloadReady=function(){return new(l||(l=n("Promise")))(function(e,t){L(_).then(e,e)})},a.exports=v}),null);
__d("react-loadable",["react-loadable-5.5.0"],(function(t,n,r,o,a,i){a.exports=n("react-loadable-5.5.0")}),null);
__d("WAWebLoadable",["react","react-loadable"],(function(t,n,r,o,a,i,l){var e=["forwardedRefDoNotUse"],s=["ref"],u,c=u||(u=r("react"));function d(t){var n=t.loader,o=t.loading,a=r("react-loadable")({loader:n,loading:function(t){return t.pastDelay?o(t):null},render:function(n,r){var t=r.forwardedRefDoNotUse,o=babelHelpers.objectWithoutPropertiesLoose(r,e);return c.jsx(n,babelHelpers.extends({ref:t},o))}});function l(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,s);return c.jsx(a,babelHelpers.extends({forwardedRefDoNotUse:t},n))}return l.displayName=l.name+" [from "+i.id+"]",l}l.default=d}),98);
__d("WAWebLoadingConfirmPopup.react",["WAWebConfirmPopup.react","WAWebLazyLoadLoading.react","WAWebModalManager","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react"));function u(e){var t=e.error,n=e.okText,a=e.title,i=function(){},l=function(){return o("WAWebModalManager").ModalManager.close()};return s.jsx(o("WAWebConfirmPopup.react").ConfirmPopup,{title:a,onOK:i,okText:n,okDisabled:!0,onCancel:l,children:s.jsx("div",{className:"x1n2onr6 x1vd4hg5",children:s.jsx(r("WAWebLazyLoadLoading.react"),{error:t})})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("WAWebLockOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="lock-outline";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=24,R=24;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 24 24",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),fill:"none",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{d:"M6.793 22.4C6.29767 22.4 5.875 22.2237 5.525 21.8712C5.175 21.5187 5 21.095 5 20.6V11C5 10.505 5.17625 10.0813 5.52875 9.72875C5.88125 9.37625 6.305 9.2 6.8 9.2H7.4V6.8C7.4 5.472 7.86858 4.34 8.80575 3.404C9.74275 2.468 10.8761 2 12.2057 2C13.5352 2 14.6667 2.468 15.6 3.404C16.5333 4.34 17 5.472 17 6.8V9.2H17.6C18.095 9.2 18.5187 9.37625 18.8712 9.72875C19.2237 10.0813 19.4 10.505 19.4 11V20.6C19.4 21.095 19.2237 21.5187 18.871 21.8712C18.5183 22.2237 18.0943 22.4 17.599 22.4H6.793ZM6.8 20.6H17.6V11H6.8V20.6ZM12.2052 17.6C12.7017 17.6 13.125 17.4233 13.475 17.0698C13.825 16.7163 14 16.2913 14 15.7948C14 15.2983 13.8232 14.875 13.4697 14.525C13.1162 14.175 12.6912 14 12.1947 14C11.6982 14 11.275 14.1767 10.925 14.5302C10.575 14.8837 10.4 15.3087 10.4 15.8052C10.4 16.3017 10.5767 16.725 10.9302 17.075C11.2837 17.425 11.7087 17.6 12.2052 17.6ZM9.2 9.2H15.2V6.8C15.2 5.96667 14.9083 5.25833 14.325 4.675C13.7417 4.09167 13.0333 3.8 12.2 3.8C11.3667 3.8 10.6583 4.09167 10.075 4.675C9.49167 5.25833 9.2 5.96667 9.2 6.8V9.2Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.LockOutlineIcon=m}),98);
__d("WAWebLruMediaStorageUtils",["invariant","WAWebIdb","WAWebStorage","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l,s){var e="lru-media-storage-idb",u=null;function c(){var t=new(r("WAWebIdb"))(e);u=new(o("WAWebStorage")).Storage(t)}function d(){return u!=null||s(0,56300),u}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(u==null)throw r("err")("[lru-media-storage-idb] Storage should be created first before being destroyed");try{yield u.purge()}finally{u=null}}),p.apply(this,arguments)}c(),l.getStorage=d,l.destroyStorage=m}),98);
__d("useWAWebDevicePixelRatio",["err","once","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=c(function(){return m().getValue()}),t=e[0],n=e[1];return u(function(){return m().subscribe(function(e){n(e)})},[]),t}var m=r("once")(function(){return new p}),p=(function(){function e(){this.$1=new Set}var t=e.prototype;return t.subscribe=function(t){var e=this;if(this.$1.has(t))throw r("err")("Callback can only be added once.");return this.$1.add(t),this.$3(),function(){e.$1.delete(t),e.$3()}},t.getValue=function(){var e;return(e=window.devicePixelRatio)!=null?e:1},t.$3=function(){var e=this;if(this.$1.size===0){var t;(t=this.$2)==null||t.call(this);return}if(this.$2==null){var n=matchMedia("(resolution: "+this.getValue()+"dppx)"),r=function(){e.$2==null||e.$2();var t=e.getValue();e.$1.forEach(function(e){e(t)}),e.$3()};n.addListener(r),this.$2=function(){n.removeListener(r),e.$2=null}}},e})();l.default=d}),98);
__d("WAWebMessageLargeEmoji.react",["cx","WAWebAssetLoaderDpiChangeDispatch","WAWebClassnames","WAWebConstantsDeprecated","WAWebCopyPasteSelectable.react","WAWebEmoji","WAWebEmoji.react","WAWebEmojiConst","WAWebImg.react","react","stylex","useWAWebABPropConfigValue","useWAWebDevicePixelRatio"],(function(t,n,r,o,a,i,l,s){var e,u,c,d=c||(c=o("react")),m=e||(e=r("react")),p=d.useCallback,_=d.useEffect,f=d.useState;function g(e){var t,n,a=e.emoji,i=e.size,l=i===void 0?o("WAWebEmojiConst").LargeEmojiSize.MEDIUM:i,s=e.animation,c=s===void 0?!1:s,d=e.element,g=d===void 0?"div":d,h=e.selectable,y=e.xstyle,C=r("useWAWebDevicePixelRatio")(),b=p(function(){var t=o("WAWebEmoji").EmojiUtil.getGlyphId(e.emoji);return!!(t!=null&&o("WAWebEmoji").EmojiUtil.isGlyphCached(t))},[e.emoji]),v=f(b),S=v[0],R=v[1];o("useWAWebABPropConfigValue").useABPropConfigValue("custom_racing_emoji"),o("useWAWebABPropConfigValue").useABPropConfigValue("custom_racing_emoji_feb2025"),_(function(){R(b())},[C,b]);var L=function(){var e=o("WAWebEmoji").EmojiUtil.getGlyphId(a);e!=null&&o("WAWebEmoji").EmojiUtil.markGlyphCached(e),R(!0)},E=o("WAWebClassnames").classnamesConvertMeToStylexPlease((t={},t._ahiv=l===o("WAWebEmojiConst").LargeEmojiSize.MEDIUM,t._ahix=l===o("WAWebEmojiConst").LargeEmojiSize.LARGE,t._ahiy=l===o("WAWebEmojiConst").LargeEmojiSize.XLARGE,t._ar4y=l===o("WAWebEmojiConst").LargeEmojiSize.XLARGE_60,t)),k;l===o("WAWebEmojiConst").LargeEmojiSize.XLARGE_60?k=160:l===o("WAWebEmojiConst").LargeEmojiSize.XLARGE||r("WAWebAssetLoaderDpiChangeDispatch").currentRes==="high"?k=64:k=40;var I=o("WAWebEmoji").EmojiUtil.getGlyphPath(a,k);if(I==null)return null;if(S&&c){var T=g;return m.jsxs(T,{className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("_ahiz",(u||(u=r("stylex")))(y)),children:[m.jsx(o("WAWebCopyPasteSelectable.react").SelectableImg,{alt:a,className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("_ahit",E),draggable:!1,plainText:a,selectable:!!h,src:r("WAWebConstantsDeprecated").ONE_BY_ONE_TRANS_GIF}),m.jsx(r("WAWebImg.react"),{className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("_ahit",E,"_ahi_"),draggable:!1,selectable:!1,src:I})]})}var D=S?void 0:m.jsx(r("WAWebEmoji.react"),{DEPRECATED_className:o("WAWebClassnames").classnamesConvertMeToStylexPlease("_ahiw",E),emoji:a,selectable:h,xstyle:y},"low-res"),x=m.jsx(r("WAWebEmoji.react"),{DEPRECATED_className:o("WAWebClassnames").classnamesConvertMeToStylexPlease((n={},n["_ahi-"]=!S,n._ahit=!0,n[E]=!0,n)),emoji:a,onLoad:L,selectable:h,src:I,xstyle:y},"high-res");return m.jsxs("span",{className:"_ahiu",children:[D,x]})}g.displayName=g.name+" [from "+i.id+"]",l.SIZE=o("WAWebEmojiConst").LargeEmojiSize,l.LargeEmoji=g}),98);
__d("WAWebMessageSendPerfReporter",["WAWebAndroidMessageSendPerfWamEvent","WAWebMessagingGatingUtils","WAWebWamEnumClientMessageSendStage","WAWebWamEnumMessageType","WAWebWamEnumSizeBucket","gkx"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){var t=e.chatWid,n=e.mediaType,r=e.messageType;this.$7=!1,this.$8=!1,this.$9=null,this.$11=!1,this.$12=!1,this.$1=Date.now(),this.$2=new Map,this.$5=n,this.$6=r,this.$10=t}var t=e.prototype;return t.setFetchedPrekeyCount=function(t){this.$3=t},t.setSenderKeyDistributionCount=function(t){this.$4=t},t.setMessageIsInvisible=function(t){this.$11=t},t.setMessageIsFirstUserMessage=function(t){this.$12=t},t.setIsRevokeMessage=function(t){this.$7=t},t.setIsDirectedMessage=function(t){this.$8=t},t.setGroupData=function(t){this.$9=t},t.startRenderedStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_RENDERED)},t.postRenderedStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_RENDERED)},t.startSavedStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_SAVED)},t.postSavedStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_SAVED)},t.startPrekeysFetchStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_PREKEYS_FETCH)},t.postPrekeysFetchStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_PREKEYS_FETCH)},t.startWrittenWireStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_WRITTEN_WIRE)},t.postWrittenWireStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_WRITTEN_WIRE)},t.startWaitingToEncryptStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_WAITING_TO_ENCRYPT)},t.postWaitingToEncryptStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_WAITING_TO_ENCRYPT)},t.startReadyToSendStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_READY_TO_SEND)},t.postReadyToSendStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_READY_TO_SEND)},t.startClientEncryptStage=function(){this.$13(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_ENCRYPT)},t.postClientEncryptStage=function(){this.$14(o("WAWebWamEnumClientMessageSendStage").CLIENT_MESSAGE_SEND_STAGE.CLIENT_ENCRYPT)},t.$13=function(t){var e=new(o("WAWebAndroidMessageSendPerfWamEvent")).AndroidMessageSendPerfWamEvent({sendStage:t});return this.$2.set(t,e),e},t.$14=function(t){var e,n,a,i,l,s=this.$2.get(t)||this.$13(t);if(s.mediaType=this.$5,s.messageType=this.$6,s.messageIsInvisible=this.$11,s.messageIsFirstUserMessage=this.$12,s.durationRelative=Date.now()-this.$1,s.fetchPrekeys=this.$3!=null&&this.$3>0,s.isRevokeMessage=this.$7,s.isDirectedMessage=this.$8,((e=this.$9)==null?void 0:e.isLid)!=null?s.isLid=this.$9.isLid:this.$6===o("WAWebWamEnumMessageType").MESSAGE_TYPE.INDIVIDUAL&&(s.isLid=this.$10.isLid()),((n=this.$9)==null?void 0:n.wamTypeOfGroup)!=null&&(s.typeOfGroup=this.$9.wamTypeOfGroup),((a=this.$9)==null?void 0:a.participantCount)!=null&&(s.participantCount=this.$9.participantCount),((i=this.$9)==null?void 0:i.deviceSizeBucket)!=null&&(s.deviceSizeBucket=this.$9.deviceSizeBucket),((l=this.$9)==null?void 0:l.deviceCount)!=null){var u=this.$9.deviceCount;s.deviceCount=u,this.$3!=null&&u>0&&(s.fetchPrekeysPercentage=Math.round(this.$3/u*100)),this.$4!=null&&u>0&&(s.senderKeyDistributionCountPercentage=Math.round(this.$4/u*100))}s.participantCount!=null&&s.participantCount>o("WAWebMessagingGatingUtils").getGroupSizeBypassingSampling()||s.fetchPrekeysPercentage!=null&&s.fetchPrekeysPercentage>=50||s.messageIsFirstUserMessage?s.weight=0:s.senderKeyDistributionCountPercentage!=null&&s.senderKeyDistributionCountPercentage>=50?r("gkx")("26258")?s.weight=20:s.weight=1:(s.deviceSizeBucket===o("WAWebWamEnumSizeBucket").SIZE_BUCKET.LT5000||s.deviceSizeBucket===o("WAWebWamEnumSizeBucket").SIZE_BUCKET.LARGEST_BUCKET)&&(r("gkx")("26258")?s.weight=100:s.weight=1),s.markDurationAbs(),s.commit()},e})();l.MessageSendPerfReporter=e}),98);
__d("WAWebWamEnumLogoutReasonType",[],(function(t,n,r,o,a,i){var e=Object.freeze({UNKNOWN:0,NETWORK_BLOCKED:1,WRITING_STANZA_ERROR:2,READING_STANZA_ERROR_IO:3,READING_STANZA_READING_IS_OVER:4,READING_STANZA_ERROR_CORRUPT_STREAM:5,PUSH_WITH_SAME_SESSION_ID:6,SCHEDULED_LOGOUT:7,CLIENT_PING_TIMEOUT:8,RECEIPT_TIMEOUT:9,ACTIVE_CONNECTION_TIMEOUT:10,NETWORK_CHANGED:11,SWITCH_ACCOUNT:12,DELETE_ACCOUNT:13,CHANGE_NUMBER:14,MBS_MIGRATION:15,REGISTRATION_RELATED:16,ROADBLOCKED_DETAIL:17,SERVER_ACK_KICK:18,SERVER_PING_KICK:19,CONNECTION_RESET:20});i.LOGOUT_REASON_TYPE=e}),66);
__d("WAWebWamEnumMediaUploadResultType",[],(function(t,n,r,o,a,i){var e=Object.freeze({OK:1,DUPLICATE:3,ERROR_UNKNOWN:2,ERROR_REQUEST:4,ERROR_UPLOAD:5,ERROR_OOM:6,ERROR_IO:7,ERROR_NO_PERMISSIONS:8,ERROR_BAD_MEDIA:9,ERROR_INSUFFICIENT_SPACE:10,ERROR_FNF:11,ERROR_CANCEL:12,ERROR_SERVER:13,ERROR_REQUEST_TIMEOUT:14,ERROR_NOT_FINALIZED:15,ERROR_OPTIMISTIC_HASH:16,ERROR_MEDIA_CONN:17,ERROR_DNS:18,ERROR_THROTTLE:19,ERROR_SSL:20,ERROR_NO_CLIENT_NETWORK:21,SKIPPED_EP_NOT_ONLINE:22,SKIPPED_EP_NOT_1TO1CHAT:23,SKIPPED_EP_UPLOAD_FAILED:24,SKIPPED_EP_MULTI_CHAT:25,SKIPPED_EP_NO_PRIMARY_HOST:26,ERROR_CRONET:27,ERROR_INCOMPLETE_SERVER_RESPONSE:28,ERROR_TRANSCODING:29,ERROR_CANCEL_PROGRAMMATIC:30,ERROR_NO_ROUTE:31,ERROR_TOO_LARGE:32,ERROR_CANNOT_TRANSCODE:33,ERROR_UNKNOWN_MIMETYPE:34,ERROR_UNSUPPORTED_MIMETYPE:35,ERROR_SERVER_REJECTED_MEDIA:36,ERROR_IO_ENCRYPTION:37,ERROR_NO_ENCRYPTION_ALGORITHM:38,ERROR_HOST_SWITCH_REQUIRED:39,ERROR_WAMSYS:40,ERROR_INVALID_URL:41,INTEGRITY_CHECK_FAILURE:42});i.MEDIA_UPLOAD_RESULT_TYPE=e}),66);
__d("WAWebWamEnumMessageSendSource",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:1,UNANSWERED_CALL_UPSELL:2,UNANSWERED_CALL_UPSELL_REST:3,VIEW_ALL_REPLIES:4});i.MESSAGE_SEND_SOURCE=e}),66);
__d("WAWebMessageSendWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumAddressingMode","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumBotType","WAWebWamEnumChatOriginsType","WAWebWamEnumDisappearingChatInitiatorType","WAWebWamEnumE2eCiphertextType","WAWebWamEnumE2eFailureReason","WAWebWamEnumEditType","WAWebWamEnumEncryptionTypeCode","WAWebWamEnumEphemeralityInitiatorType","WAWebWamEnumEphemeralityTriggerActionType","WAWebWamEnumInvisibleMessageCategoryType","WAWebWamEnumLogoutReasonType","WAWebWamEnumMediaType","WAWebWamEnumMediaUploadResultType","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumMessageSendResultType","WAWebWamEnumMessageSendSource","WAWebWamEnumMessageType","WAWebWamEnumOppositeVisibleIdentificationType","WAWebWamEnumPairedMediaType","WAWebWamEnumPrivateAiFeatureName","WAWebWamEnumRevokeType","WAWebWamEnumSizeBucket","WAWebWamEnumStickerMakerSourceType","WAWebWamEnumTypeOfGroupEnum"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({MessageSend:[854,{agentEngagementType:[49,o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE],appContext:[72,e.TYPES.STRING],appContextBitfield:[73,e.TYPES.INTEGER],botType:[55,o("WAWebWamEnumBotType").BOT_TYPE],chatOrigins:[58,o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE],chatSessionId:[67,e.TYPES.STRING],deviceCount:[31,e.TYPES.INTEGER],deviceSizeBucket:[25,o("WAWebWamEnumSizeBucket").SIZE_BUCKET],disappearingChatInitiator:[30,o("WAWebWamEnumDisappearingChatInitiatorType").DISAPPEARING_CHAT_INITIATOR_TYPE],e2eBackfill:[23,e.TYPES.BOOLEAN],e2eCiphertextType:[10,o("WAWebWamEnumE2eCiphertextType").E2E_CIPHERTEXT_TYPE],e2eCiphertextVersion:[9,e.TYPES.INTEGER],e2eFailureReason:[46,o("WAWebWamEnumE2eFailureReason").E2E_FAILURE_REASON],editDuration:[43,e.TYPES.INTEGER],editType:[44,o("WAWebWamEnumEditType").EDIT_TYPE],encryptionType:[76,o("WAWebWamEnumEncryptionTypeCode").ENCRYPTION_TYPE_CODE],ephemeralityDuration:[21,e.TYPES.INTEGER],ephemeralityInitiator:[47,o("WAWebWamEnumEphemeralityInitiatorType").EPHEMERALITY_INITIATOR_TYPE],ephemeralityTriggerAction:[48,o("WAWebWamEnumEphemeralityTriggerActionType").EPHEMERALITY_TRIGGER_ACTION_TYPE],excessPayloadKbSize:[40,e.TYPES.INTEGER],fastForwardEnabled:[15,e.TYPES.BOOLEAN],hasUsername:[59,e.TYPES.BOOLEAN],hasUsernamePin:[74,e.TYPES.BOOLEAN],invisibleMessageCategory:[64,o("WAWebWamEnumInvisibleMessageCategoryType").INVISIBLE_MESSAGE_CATEGORY_TYPE],isAComment:[54,e.TYPES.BOOLEAN],isAReply:[35,e.TYPES.BOOLEAN],isFromWamsys:[19,e.TYPES.BOOLEAN],isLid:[39,e.TYPES.BOOLEAN],isPq:[82,e.TYPES.BOOLEAN],isPremium:[69,e.TYPES.BOOLEAN],isViewOnce:[22,e.TYPES.BOOLEAN],isWhatsapiBuild:[75,e.TYPES.BOOLEAN],localAddressingMode:[53,o("WAWebWamEnumAddressingMode").ADDRESSING_MODE],logoutReason:[70,o("WAWebWamEnumLogoutReasonType").LOGOUT_REASON_TYPE],mediaCaptionPresent:[8,e.TYPES.BOOLEAN],mediaUploadError:[61,o("WAWebWamEnumMediaUploadResultType").MEDIA_UPLOAD_RESULT_TYPE],mediaUploadRetryCount:[62,e.TYPES.INTEGER],messageDistributionType:[41,o("WAWebWamEnumMessageDistributionEnumType").MESSAGE_DISTRIBUTION_ENUM_TYPE],messageForwardAgeT:[14,e.TYPES.TIMER],messageIsFanout:[5,e.TYPES.BOOLEAN],messageIsFastForward:[13,e.TYPES.BOOLEAN],messageIsFirstUserMessage:[26,e.TYPES.BOOLEAN],messageIsForward:[4,e.TYPES.BOOLEAN],messageIsInternational:[7,e.TYPES.BOOLEAN],messageIsInvisible:[29,e.TYPES.BOOLEAN],messageIsRevoke:[24,e.TYPES.BOOLEAN],messageKeyHash:[57,e.TYPES.STRING],messageMediaType:[3,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageSendOptUploadEnabled:[12,e.TYPES.BOOLEAN],messageSendResult:[1,o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE],messageSendResultIsTerminal:[17,e.TYPES.BOOLEAN],messageSendSource:[66,o("WAWebWamEnumMessageSendSource").MESSAGE_SEND_SOURCE],messageSendT:[11,e.TYPES.TIMER],messageType:[2,o("WAWebWamEnumMessageType").MESSAGE_TYPE],networkWasDisconnected:[37,e.TYPES.BOOLEAN],oppositeVisibleIdentification:[60,o("WAWebWamEnumOppositeVisibleIdentificationType").OPPOSITE_VISIBLE_IDENTIFICATION_TYPE],overallMediaSize:[42,e.TYPES.NUMBER],pairedMediaType:[71,o("WAWebWamEnumPairedMediaType").PAIRED_MEDIA_TYPE],participantCount:[32,e.TYPES.INTEGER],privateAiFeatureName:[81,o("WAWebWamEnumPrivateAiFeatureName").PRIVATE_AI_FEATURE_NAME],receiverDefaultDisappearingDuration:[28,e.TYPES.INTEGER],resendCount:[16,e.TYPES.INTEGER],retryCount:[6,e.TYPES.INTEGER],revokeDuration:[33,e.TYPES.INTEGER],revokeType:[34,o("WAWebWamEnumRevokeType").REVOKE_TYPE],runningTasks:[63,e.TYPES.STRING],sendButtonPressT:[45,e.TYPES.INTEGER],senderDefaultDisappearingDuration:[27,e.TYPES.INTEGER],serverErrorCode:[56,e.TYPES.INTEGER],sharedPhoneNumberContactSize:[77,e.TYPES.INTEGER],sharedPhoneNumberWithUsernameContactSize:[78,e.TYPES.INTEGER],sharedUsernameContactSize:[79,e.TYPES.INTEGER],stickerIsAi:[50,e.TYPES.BOOLEAN],stickerIsAvatar:[38,e.TYPES.BOOLEAN],stickerIsFirstParty:[18,e.TYPES.BOOLEAN],stickerIsFromStickerMaker:[51,e.TYPES.BOOLEAN],stickerMakerSourceType:[52,o("WAWebWamEnumStickerMakerSourceType").STICKER_MAKER_SOURCE_TYPE],thumbSize:[20,e.TYPES.NUMBER],typeOfGroup:[36,o("WAWebWamEnumTypeOfGroupEnum").TYPE_OF_GROUP_ENUM],unifiedSessionId:[68,e.TYPES.STRING],userToDeviceSizeBucket:[65,e.TYPES.STRING]},[1,1,1],"regular"]},{MessageSend:[]});l.MessageSendWamEvent=s}),98);
__d("WAWebRevokeMessageSendWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMessageType","WAWebWamEnumRevokeType"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({RevokeMessageSend:[3656,{messageSendResultIsTerminal:[1,e.TYPES.BOOLEAN],messageType:[2,o("WAWebWamEnumMessageType").MESSAGE_TYPE],resendCount:[3,e.TYPES.INTEGER],retryCount:[4,e.TYPES.INTEGER],revokeDuration:[5,e.TYPES.INTEGER],revokeType:[6,o("WAWebWamEnumRevokeType").REVOKE_TYPE]},[1,1,1],"regular"]},{RevokeMessageSend:[]});l.RevokeMessageSendWamEvent=s}),98);
__d("WAWebMessageSendReporter",["WALogger","WANullthrows","WAWebABProps","WAWebAppTracker","WAWebCoreActionsODS","WAWebEditMessageSendWamEvent","WAWebEphemeralityResolver","WAWebFrontendContactGetters","WAWebLidStatusMigrationGating","WAWebMessageSendWamEvent","WAWebMsgGetters","WAWebMsgType","WAWebNewsletterGatingUtils","WAWebRevokeMessageSendWamEvent","WAWebUsernameTypes","WAWebWamAddressingModeUtils","WAWebWamEnumChatOriginsType","WAWebWamEnumEditType","WAWebWamEnumMediaType","WAWebWamEnumMessageDistributionEnumType","WAWebWamEnumMessageSendResultType","WAWebWamEnumMessageType","WAWebWamEnumRevokeType","WAWebWamGroupMetricUtils","WAWebWamMessageUtils","WAWebWamMsgUtils","WAWebWamNumberToSizeBucket","cr:17143","cr:17144","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f=(e=n("cr:17143"))!=null?e:{},g=f.ContactCollection,h=(s=n("cr:17144"))!=null?s:{},y=h.ChatCollection,C=(function(){function e(e,t){var n;this.$3=!1,this.$4=o("WAWebWamEnumMediaType").MEDIA_TYPE.NONE,this.$1=e.to;var a=!!e.caption;e.type===o("WAWebMsgType").MSG_TYPE.DOCUMENT&&(a=o("WAWebMsgGetters").getIsCaptionByUser(e)),this.$5=o("WAWebCoreActionsODS").createPostODSCountersFn(e),this.$6=o("WAWebCoreActionsODS").createPostODSErrorCountersFn(e);var i=this.$1;this.$2=new(o("WAWebMessageSendWamEvent")).MessageSendWamEvent({messageType:o("WAWebWamMsgUtils").getWamMessageType(e),messageMediaType:o("WAWebWamMsgUtils").getWamMediaType(e),mediaCaptionPresent:a,fastForwardEnabled:!0,messageIsFanout:!0,messageIsForward:!!e.isForwarded,messageIsRevoke:!!o("WAWebMsgGetters").getIsRevoke(e),isViewOnce:!!e.isViewOnce,isAReply:o("WAWebMsgGetters").getIsReply(e),e2eBackfill:!!(t!=null&&t.isResend),messageDistributionType:o("WAWebWamEnumMessageDistributionEnumType").MESSAGE_DISTRIBUTION_ENUM_TYPE.REGULAR_MESSAGE,editType:o("WAWebMsgGetters").getWamEditType(e),botType:o("WAWebWamMsgUtils").getWamBotType(i,e.bizBotType),isAComment:o("WAWebMsgGetters").getType(e)===o("WAWebMsgType").MSG_TYPE.COMMENT});var l=o("WAWebMsgGetters").getIsGroupMsg(e),s=o("WAWebMsgGetters").getIsNewsletterMsg(e),_=e.to.isStatus(),f=g==null?void 0:g.getMeContact(),h=i.isRegularUser()?g==null?void 0:g.get(i):null;if(this.$2.hasUsername=!r("isStringNullOrEmpty")(f==null?void 0:f.username),this.$2.hasUsernamePin=(f==null?void 0:f.usernameKey)!=null,h){var C=o("WAWebFrontendContactGetters").getFormattedUserAndType(h).type;C&&(this.$2.oppositeVisibleIdentification=C)}var b=o("WAWebWamMessageUtils").getVcardMsgWamData(e,"send");if(b){var v=b.lidOnlyVcardCount,S=b.pnAndLidVcardCount,R=b.pnOnlyVcardCount;this.$2.sharedPhoneNumberContactSize=R,this.$2.sharedUsernameContactSize=v,this.$2.sharedPhoneNumberWithUsernameContactSize=S}var L,E=(n=y==null?void 0:y.get(i))!=null?n:{lidOriginType:o("WAWebUsernameTypes").LidOriginType.GENERAL};if(E!=null&&E.lidOriginType)switch(E==null?void 0:E.lidOriginType){case o("WAWebUsernameTypes").LidOriginType.PNH_CTWA:L=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.LID_CTWA;break;case o("WAWebUsernameTypes").LidOriginType.GENERAL:L=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.OTHERS;break}else this.$1.isLid()?L=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.LID_CTWA:L=o("WAWebWamEnumChatOriginsType").CHAT_ORIGINS_TYPE.OTHERS;if(L&&(this.$2.chatOrigins=L),e.ephemeralDuration!=null&&(this.$2.ephemeralityDuration=e.ephemeralDuration),!l||o("WAWebABProps").getABPropConfigValue("dm_initiator_trigger_groups")){var k=o("WAWebMsgGetters").getWamDisappearingModeTrigger(e);k!=null&&(this.$2.ephemeralityTriggerAction=k);var I=o("WAWebMsgGetters").getWamDisappearingModeInitiatedByMe(e);I!=null&&(this.$2.ephemeralityInitiator=I)}if(!l&&!s&&!_){this.$2.isLid=i.isLid(),o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["MessageSendReporter constructor before get ephemeral for me"])));var T=o("WAWebEphemeralityResolver").getEphemeralDurationForUser(g==null?void 0:g.getMeContact());o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["MessageSendReporter constructor after get ephemeral for me"]))),T!=null&&(this.$2.senderDefaultDisappearingDuration=T),o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["MessageSendReporter constructor before get ephemeral for wid"])));var D=o("WAWebEphemeralityResolver").getEphemeralDurationForUser(g==null?void 0:g.get(i));o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["MessageSendReporter constructor after get ephemeral for wid"]))),D!=null&&(this.$2.receiverDefaultDisappearingDuration=D)}if(o("WAWebMsgGetters").getIsRevoke(e)){this.$2.revokeType=e.subtype==="admin_revoke"?o("WAWebWamEnumRevokeType").REVOKE_TYPE.ADMIN:o("WAWebWamEnumRevokeType").REVOKE_TYPE.SENDER;var x=o("WAWebMsgGetters").getRevokeDuration(e);x!=null&&(this.$2.revokeDuration=x)}if(o("WAWebMsgGetters").getIsEditProtocolMsg(e)){var $=r("WANullthrows")(t==null?void 0:t.originalMessage,"edit protocol msg must have an original msg");this.$2.editDuration=o("WAWebMsgGetters").getT(e)-o("WAWebMsgGetters").getT($),this.$4=$.getWamMediaType()}var P=o("WAWebMsgGetters").getWamDisappearingModeInitiator(e);P!=null&&(this.$2.disappearingChatInitiator=P);var N=o("WAWebWamMsgUtils").getWamAgentEngagementType(e);if(N!=null&&(this.$2.agentEngagementType=N),l){var M;this.$2.isLid=!!(!(t==null||(M=t.groupData)==null)&&M.isLidAddressingMode),(t==null?void 0:t.groupData)!=null&&this.setGroupData(t.groupData)}_&&(this.$2.isLid=o("WAWebLidStatusMigrationGating").getLidStatusSendEnabled()),s&&o("WAWebNewsletterGatingUtils").isWamoSubLoggingEnabled()&&(this.$2.isPremium=!!e.isWamoSub),o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["MessageSendReporter constructor done"])))}var t=e.prototype;return t.setDeviceCount=function(t){this.$2.deviceCount=o("WAWebWamGroupMetricUtils").capCount(t),this.$2.deviceSizeBucket=r("WAWebWamNumberToSizeBucket")(t)},t.setGroupData=function(t){var e=o("WAWebWamAddressingModeUtils").getAddressingModeMetricsFromGroupMetadata(t);e!=null&&(this.$2.localAddressingMode=e),t.wamTypeOfGroup!=null&&(this.$2.typeOfGroup=t.wamTypeOfGroup),t.participantCount!=null&&(this.$2.participantCount=t.participantCount),t.deviceCount!=null&&(this.$2.deviceCount=t.deviceCount),t.deviceSizeBucket!=null&&(this.$2.deviceSizeBucket=t.deviceSizeBucket)},t.setMessageDistributionType=function(t){this.$2.messageDistributionType=t},t.setMessageIsFirstUserMessage=function(t){this.$2.messageIsFirstUserMessage=t},t.postSuccess=function(){o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.SendMessage),this.$2.messageSendResult=o("WAWebWamEnumMessageSendResultType").MESSAGE_SEND_RESULT_TYPE.OK,this.$2.messageSendResultIsTerminal=!1,this.$7(),this.$5()},t.postFailure=function(t){var e=t.isTerminal,n=t.result;o("WAWebAppTracker").AppTracker.stop(o("WAWebAppTracker").AppTrackerType.SendMessage),this.$2.messageSendResult=n,this.$2.messageSendResultIsTerminal=e,this.$2.weight=0,this.$7(),this.$6(n,e)},t.$8=function(){new(o("WAWebRevokeMessageSendWamEvent")).RevokeMessageSendWamEvent({messageSendResultIsTerminal:this.$2.messageSendResultIsTerminal,messageType:this.$2.messageType,resendCount:this.$2.resendCount,retryCount:this.$2.retryCount,revokeDuration:this.$2.revokeDuration,revokeType:this.$2.revokeType}).commit()},t.$9=function(){new(o("WAWebEditMessageSendWamEvent")).EditMessageSendWamEvent({messageSendResultIsTerminal:this.$2.messageSendResultIsTerminal,messageType:this.$2.messageType,resendCount:this.$2.resendCount,retryCount:this.$2.retryCount,editType:this.$2.editType,editDuration:this.$2.editDuration,typeOfGroup:this.$2.typeOfGroup,mediaType:this.$4}).commit()},t.$7=function(){if(this.$3){o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[MessageSendReporter] skip post, already posted"])));return}this.$3=!0,this.$2.markMessageSendT(),this.$2.messageSendT!=null&&o("WAWebAppTracker").attachWAMAppContext(this.$2,this.$2.messageSendT),this.$2.commit(),this.$2.messageIsRevoke&&this.$2.messageType!==o("WAWebWamEnumMessageType").MESSAGE_TYPE.STATUS&&this.$8(),this.$2.editType!==o("WAWebWamEnumEditType").EDIT_TYPE.NOT_EDITED&&this.$9()},e})();function b(e){var t=e.messageIsInvisible,n=new(o("WAWebMessageSendWamEvent")).MessageSendWamEvent({messageIsInvisible:t});return{setGroupData:function(t){t.wamTypeOfGroup!=null&&(n.typeOfGroup=t.wamTypeOfGroup),t.participantCount!=null&&(n.participantCount=t.participantCount),t.deviceCount!=null&&(n.deviceCount=t.deviceCount),t.deviceSizeBucket!=null&&(n.deviceSizeBucket=t.deviceSizeBucket)},post:function(){n.markMessageSendT(),n.commit()}}}l.MessageSendReporter=C,l.createMessageSendMetricReporter=b}),98);
__d("WAWebMsgFanoutTypes",[],(function(t,n,r,o,a,i){var e=Object.freeze({CHAT:"chat",GROUP_DIRECT:"groupDirect"});i.FANOUT_TYPE=e}),66);
__d("WAWebMutationObserver",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=new MutationObserver(n);return r.observe(e,t),function(){r.disconnect()}}i.observeMutations=e}),66);
__d("WAWebThreadMetadata",["WAWebBackendApi"],(function(t,n,r,o,a,i,l){var e=null;function s(t){e=t,o("WAWebBackendApi").frontendFireAndForget("updateChatPreviewT",{threadMeta:t.chatTimestamp})}function u(){return e}function c(){var t,n=(t=e)==null?void 0:t.chatTimestamp;n!=null&&o("WAWebBackendApi").frontendFireAndForget("resetChatPreviewT",{chatIds:Object.keys(n)}),e=null}l.setOfflineThreadMeta=s,l.getOfflineThreadMetaPreview=u,l.resetThreadMeta=c}),98);
__d("WAWebNonBlockingOfflineResumeManager",["WALogger","WAShiftTimer","WAWebApiPendingDeviceSync","WAWebBackendApi","WAWebBackendEventBus","WAWebBrokerGlobalAppState","WAWebChatThreadLogging","WAWebHandleMsgTypes.flow","WAWebHandleOfflineAbProps","WAWebJSHaltDetector","WAWebMessageQueue","WAWebOffdStorageUpdateOfflinePeerReceipts","WAWebOfflineResumeConst","WAWebOfflineResumeMsgProcessReporter","WAWebOfflineResumeTypes.flow","WAWebOfflineResumeUtils","WAWebSignalProtocolStore","WAWebThreadMetadata","WAWebUserPrefsGeneral","WAWebWamEnumWebcScenarioType","WAWebWamMemoryStat","WAWebWamOfflineResumeReporter","WAWebWorkerSafeBackendApi","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C,b=100,v;function S(e){return v!=null&&v.updateOptions(e),v==null&&(v=new L(e)),v}function R(){v=null}var L=(function(){function t(e){var t=this;this.$9=null,this.$11=new(o("WAShiftTimer")).ShiftTimer(function(){o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),t.$11.onOrAfter(o("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS)}),this.$12=95,this.resumeType=o("WAWebOfflineResumeTypes.flow").ResumeType.NonBlocking,e!=null&&e.mainScreenLoaded&&(this.$6=!0),this.$13()}var a=t.prototype;return a.updateOptions=function(t){var e;this.$6=(e=t==null?void 0:t.mainScreenLoaded)!=null?e:!1},a.$13=function(){this.offlineMessagePreviewCounter=-1,this.$2=0,this.$3=0,this.$4=!1,this.$5=null,this.$1=o("WAWebOfflineResumeConst").ResumeStatus.INIT},a.$14=function(n){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] offline resume stage: "," -> ",""])),this.$1,n),this.$1=n},a.processOfflinePreview=function(t){if(o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflinePreviewT(),this.$6&&(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[resume-from-open-tab] reset offline delivery end to false"]))),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineDeliveryStateReset()),this.isResumeFromRestartComplete())o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Offline session is complete when receiving offline preview ib."]))),o("WAWebOfflineResumeUtils").exceedResumeWithOpenTabLimit(t.message,t.receipt)&&(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] restart client due to exceed the LIMIT, message: ",", receipt: ",""])),t.message,t.receipt),o("WAWebOfflineResumeUtils").refreshWindow()),o("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$14(o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB),this.$15(t.message,t.receipt),o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!1}),self.setTimeout(function(){o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},7e3);else if(this.$1===o("WAWebOfflineResumeConst").ResumeStatus.INIT)r("WAWebBrokerGlobalAppState").initOrUpdateTracking(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.OFFLINE_RESUME),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(t),o("WAWebOfflineResumeMsgProcessReporter").msgProcessReporter.activate(t),this.offlineMessagePreviewCounter=t.message,this.$5=!1,this.$4=!0,this.$2=0,this.$10=Date.now(),o("WAWebSignalProtocolStore").enableMemSignalStore(),o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),o("WAWebJSHaltDetector").jsHaltDetector.restartDetection(),this.$11.onOrAfter(o("WAWebOfflineResumeConst").UI_UPDATE_TIME_MS),this.$14(o("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART),this.$15(t.message,t.receipt),this.$6?o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[resume-from-open-tab] Main screen is loaded"]))):this.$7=o("WAWebOfflineResumeUtils").loadMainScreen({});else{var e=this.$10;if(e!=null){var n=Date.now()-e;n<o("WAWebOfflineResumeConst").OFFLINE_PREVIEW_PERIOD_MS?(o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Accept multiple offline preview ibs during offline resume, delay ","."])),n),this.offlineMessagePreviewCounter+=t.message,this.$5=!1,this.$4=!0,o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineCount(t)):r("gkx")("26258")?o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Reject multiple offline preview ib during offline resume, delay ","."])),n):o("WALogger").ERROR(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] Reject multiple offline preview ibs during offline resume, delay ",""])),n).sendLogs("offline-multiple-preview")}this.$16()}},a.getOfflineDeliveryProgress=function(){return this.offlineMessagePreviewCounter===0?this.$12:Math.min(Math.ceil(100*this.$2/this.offlineMessagePreviewCounter),this.$12)},a.processOfflineSessionComplete=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n=this;if(self.setTimeout(function(){o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0})},3e3),(t=this.$9)==null||t.cancel(),this.$9=null,this.$1===o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit();return}else if(this.$1===o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB){yield o("WAWebMessageQueue").waitForOnlineMessageQueue(),yield o("WAWebApiPendingDeviceSync").doPendingDeviceSync(),this.$14(o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineDeliveryEnd(),o("WAWebBackendApi").frontendFireAndForget("updateChatSortListener",{enable:!0});return}else this.$1===o("WAWebOfflineResumeConst").ResumeStatus.INIT&&(this.$5=!1,this.$4=!0,o("WAWebBackendApi").frontendFireAndForget("triggerOfflineProgressUpdateFromBridge",{}),!this.$6&&!this.$7&&(this.$7=o("WAWebOfflineResumeUtils").loadMainScreen({})));return yield this.$7,this.$8=0,self.setTimeout(function(){n.$8>o("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_LIMIT&&(o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] "," received after offline completion marker. Refreshing window due to potential server issue."])),n.$8),o("WAWebOfflineResumeUtils").refreshWindow())},o("WAWebOfflineResumeConst").OFFLINE_STANZA_COUNT_CHECK_TIMEOUT_MS),this.$14(o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE),this.$17()});function t(t){return e.apply(this,arguments)}return t})(),a.isResumeFromRestartComplete=function(){return this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.RESUME_ON_RESTART&&this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.INIT},a.isResumeFromRestartInProgress=function(){return this.$1!==o("WAWebOfflineResumeConst").ResumeStatus.INIT&&!o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd},a.isResumeOnSocketDisconnectInProgress=function(){return this.$1===o("WAWebOfflineResumeConst").ResumeStatus.RESUME_WITH_OPEN_TAB},a.isResumeComplete=function(){return this.$1===o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE},a.getHasMessagesToDownload=function(){return this.$5},a.getFinishedDownloading=function(){return this.getOfflineDeliveryProgress()===100},a.shouldUseOfflineResumeScreen=function(){return this.offlineMessagePreviewCounter>this.$2},a.processDecryptResult=function(t){this.$16(),this.$2+=1,t===o("WAWebHandleMsgTypes.flow").E2EProcessResult.RETRY&&(this.$3+=1)},a.offlineStanzaReceivedAfterComplete=function(){this.isResumeFromRestartComplete()&&(this.$8+=1)},a.newOfflineStanza=function(t,n){o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logAddOfflineSizeBytes(n),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOldestStanzaTime(t),this.$16()},a.getResumeUIProgressBarType=function(){return!o("WAWebBackendEventBus").BackendEventBus.isOfflineDeliveryEnd&&this.offlineMessagePreviewCounter>=b?o("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.Toastbar:o("WAWebOfflineResumeTypes.flow").ResumeUIProgressBarType.None},a.$16=function(){this.$9&&this.$9.onOrAfter(o("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)},a.$15=function(t,n){var e,r=this;(e=this.$9)==null||e.cancel(),this.$9=new(o("WAShiftTimer")).ShiftTimer(function(){if(r.$1!==o("WAWebOfflineResumeConst").ResumeStatus.COMPLETE){o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking]: offline session completed by timeout"])));var e=o("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] offline resume finished by timeout"])));o("WAWebHandleOfflineAbProps").isNonBlockingOfflineResumeExpEnabled()&&(e=e.tags("offline-resume-experimental")),e.sendLogs("non-blocking-offline-resume-timeout",{sampling:.01}),r.processOfflineSessionComplete(t+n),r.$9=null,o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logMissedOfflineComplete()}}),this.$9.onOrAfter(o("WAWebOfflineResumeConst").OFFLINE_STANZA_TIMEOUT_MS)},a.$17=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield o("WAWebMessageQueue").waitForOfflineMessageQueue(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logOfflineDecryptionErrorCount(this.$3),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.logLastStanzaT(),o("WAWebThreadMetadata").resetThreadMeta(),o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] _onOfflineComplete: waitForOfflineMsgThread done, total decryption error: ",""])),this.$3),this.$3=0,yield o("WAWebOfflineResumeUtils").clearOfflineSnapShot(),this.$12=97,yield this.$7,yield o("WAWebOffdStorageUpdateOfflinePeerReceipts").updatePeerReceipts(),this.$12=99,o("WALogger").LOG(C||(C=babelHelpers.taggedTemplateLiteralLoose(["[offline-resume][non-blocking] _onOfflineComplete: clearOfflineSnapShot done."]))),o("WAWebBackendEventBus").BackendEventBus.triggerOfflineDeliveryEnd(),o("WAWebUserPrefsGeneral").setOfflinePushCount(0),this.$11.forceRunNow(),this.$11.cancel(),o("WAWebWamOfflineResumeReporter").OfflineResumeReporter.commit(),o("WAWebSignalProtocolStore").enablePersistSignalStore(),o("WAWebOfflineResumeUtils").runReceiptCleanUpLoop(),o("WAWebWorkerSafeBackendApi").workerSafeFireAndForget("processAllOrphanPaymentNotifications"),o("WAWebChatThreadLogging").uploadChatThreadLoggingEvents(),r("WAWebBrokerGlobalAppState").initOrUpdateTracking(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),o("WAWebWamMemoryStat").setCurrentMemoryScenario(o("WAWebWamEnumWebcScenarioType").WEBC_SCENARIO_TYPE.IDLE),self.setTimeout(function(){o("WAWebApiPendingDeviceSync").doPendingDeviceSync()},o("WAWebOfflineResumeConst").OFFLINE_DEVICE_SYNC_DELAY)});function t(){return e.apply(this,arguments)}return t})(),t})();l.getOrCreateInstance=S,l.clearInstance=R,l.OfflineNonBlockingResumeStageManager=L}),98);
__d("WAWebSchemaReadReceipt",["WAWebOffdStorageUtils","WAWebStorageMutationBuilder"],(function(t,n,r,o,a,i,l){var e=o("WAWebStorageMutationBuilder").columnBuilder(),s=e.addColumn,u=e.addUserDefinedPrimaryKey;function c(){o("WAWebOffdStorageUtils").getStorage().add("read-receipt").version(o("WAWebOffdStorageUtils").getStorage().versions.version(0),[u("id"),s("externalIds")]).delete(o("WAWebOffdStorageUtils").getStorage().versions.version(3)).view(function(e){return e})}l.addTable=c}),98);
__d("WAWebOffdStorage",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebDexieCastTypes","WAWebOffdStorageUtils","WAWebSchemaDanglingReceipt","WAWebSchemaPeerReadReceipt","WAWebSchemaPendingDeviceSync","WAWebSchemaReadReceipt","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return s==null&&(yield o("WAWebDbRolloutUtil").loadSchemaVersions(),o("WAWebOffdStorageUtils").createStorage(),o("WAWebSchemaReadReceipt").addTable(),o("WAWebSchemaDanglingReceipt").addTable(),o("WAWebSchemaPeerReadReceipt").addTable(),o("WAWebSchemaPendingDeviceSync").addTable(),s=o("WAWebOffdStorageUtils").getStorage().initialize().catch(function(t){throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Assertion failed!"]))).verbose().sendLogs("Failed to initialize offd storage",{sendLogsType:o("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD}),t})),s}),c.apply(this,arguments)}function d(){return o("WAWebOffdStorageUtils").destroyStorage().catch(function(){return o("WAWebDexieCastTypes").dexieCastToPromise(new(r("WAWeb-dexie"))(o("WAWebOffdStorageUtils").DATABASE_NAME).delete())}).finally(function(){s=null})}l.initialize=u,l.destroy=d}),98);
__d("WAWebOfflineResumeMainThread",["WAWebABProps","WAWebBlockingOfflineResumeManager","WAWebNonBlockingOfflineResumeManager"],(function(t,n,r,o,a,i,l){function e(e){e.initState({getBlockingStageManager:function(){return o("WAWebABProps").getABPropConfigValue("web_offline_stage_manager_singleton_enabled")?(o("WAWebNonBlockingOfflineResumeManager").clearInstance(),o("WAWebBlockingOfflineResumeManager").getOrCreateInstance()):new(o("WAWebBlockingOfflineResumeManager")).OfflineBlockingResumeStageManager},getNonblockingStageManager:function(t){return o("WAWebABProps").getABPropConfigValue("web_offline_stage_manager_singleton_enabled")?(o("WAWebBlockingOfflineResumeManager").clearInstance(),o("WAWebNonBlockingOfflineResumeManager").getOrCreateInstance(t)):new(o("WAWebNonBlockingOfflineResumeManager")).OfflineNonBlockingResumeStageManager(t)}})}l.setupMainThreadResume=e}),98);
__d("WAWebPonyfillsFetch",["WAWebHttpExtendedFetch"],(function(t,n,r,o,a,i,l){var e=function(){},s="fetch"in self?self.fetch:u;function u(t,n){return n===void 0&&(n={}),o("WAWebHttpExtendedFetch").sharedFetch(t,babelHelpers.extends({},n,{onProgress:e}))}l.default=s}),98);
__d("WAWebPopoverPosition",["$InternalEnum","WAWebL10N"],(function(t,n,r,o,a,i,l){var e=n("$InternalEnum").Mirrored(["Top","End","Bottom","Start"]),s=n("$InternalEnum").Mirrored(["Center","Start","End"]);function u(e,t,n){return n===void 0&&(n=0),e.top-t.height-n}function c(e,t){return t===void 0&&(t=0),e.right+t}function d(e,t){return t===void 0&&(t=0),e.bottom+t}function m(e,t,n){return n===void 0&&(n=0),e.left-t.width-n}function p(e,t){return e.left+e.width/2-t.width/2}function _(e,t){return e.top+e.height/2-t.height/2}function f(t,n,o,a,i,l){var f,g,h;i===void 0&&(i=0);var y=(f=l==null?void 0:l.height)!=null?f:0,C=(g=l==null?void 0:l.width)!=null?g:0,b=(h=l==null?void 0:l.offset)!=null?h:0,v,S,R=1,L=i+y,E=o;r("WAWebL10N").isRTL()&&(o===e.Start?E=e.End:o===e.End&&(E=e.Start));var k={coords:{top:0,left:0},alignment:a,position:E,arrowCoords:null},I=0;return l!=null&&(a===s.Start||a===s.End)&&((E===e.Top||E===e.Bottom)&&t.width<b*2+C?I=b+C/2-t.width/2:(E===e.Start||E===e.End)&&t.height<b*2+C&&(I=b+C/2-t.height/2),a===s.Start&&(I=-I)),E===e.Top?(k.coords.top=u(t,n,L),S="100%"):E===e.End?(k.coords.left=c(t,L),v=-y+R):E===e.Bottom?(k.coords.top=d(t,L),S=-y+R):E===e.Start&&(k.coords.left=m(t,n,L),v="100%"),a===s.Center?E===e.Top||E===e.Bottom?(v="calc(50% - "+C/2+"px)",k.coords.left=p(t,n)):(S="calc(50% - "+C/2+"px)",k.coords.top=_(t,n)):a===s.Start?E===e.Top||E===e.Bottom?(v=b,k.coords.left=t.left+I):(S=b,k.coords.top=t.top+I):a===s.End&&(E===e.Top||E===e.Bottom?(v="calc(100% - "+(b+C)+"px)",k.coords.left=t.right-n.width+I):(S="calc(100% - "+(b+C)+"px)",k.coords.top=t.bottom-n.height+I)),k.coords.left<0?E===e.Top||E===e.Bottom?(k.alignment=s.Start,k.coords.left=t.left+I,v=b):(k.position=e.End,k.coords.left=c(t,L),v="0px"):k.coords.left+n.width>window.innerWidth&&(E===e.Top||E===e.Bottom?(k.alignment=s.End,k.coords.left=t.right-n.width+I,v="calc(100% - "+C+"px)"):(k.position=e.Start,k.coords.left=m(t,n,L),v="100%")),k.coords.top<0?E===e.Start||E===e.End?(k.alignment=s.Start,k.coords.top=t.top+I,S=b):(k.position=e.Bottom,k.coords.top=d(t,L),S="0px"):k.coords.top+n.height>window.innerHeight&&(E===e.Start||E===e.End?(k.alignment=s.End,k.coords.top=t.bottom-n.height+I,S="calc(100% - "+b+"px)"):(k.position=e.Top,k.coords.top=u(t,n,L),S="100%")),l!=null&&S!=null&&v!=null&&(k.arrowCoords={top:S,left:v}),k}function g(e,t,n,r,o,a){o===void 0&&(o=0);var i;return"getBoundingClientRect"in e?i=e.getBoundingClientRect():i={top:e.y,right:e.x,bottom:e.y,left:e.x,width:0,height:0,x:e.x,y:e.y},f(i,t.getBoundingClientRect(),n,r,o,a)}function h(t){var n=t.alignment,r=t.position,o="left",a="top";return(r===e.Top||r===e.Bottom)&&(r===e.Top?a="bottom":a="top",n===s.Start?o="left":n===s.End?o="right":n===s.Center&&(o="center")),(r===e.Start||r===e.End)&&(r===e.Start?o="right":o="left",n===s.Start?a="top":n===s.End?a="bottom":n===s.Center&&(a="center")),o+" "+a}l.PopoverPosition=e,l.PopoverAlignment=s,l.getFixedElementPosition=g,l.getDefaultTransformOrigin=h}),98);
__d("WAWebTriangle.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c=Math.sqrt(2),d={arrow:{position:"x10l6tqk",top:"x13vifvy",insetInlineStart:"x1o0tod",backgroundColor:"xgcd1z6",borderTopColor:"xjgx3p0",borderInlineEndColor:"x1c7tatl",borderBottomColor:"xcigvqi",borderInlineStartColor:"xog9bda",borderTopWidth:"xiu3vjd",borderInlineEndWidth:"xjvssmw",borderBottomWidth:"x1y07hx1",borderInlineStartWidth:"xtln64n",borderTopStyle:"x1u71dlw",borderInlineEndStyle:"xmloefz",borderBottomStyle:"xr2j6r5",borderInlineStartStyle:"x1nqhel6",borderStartStartRadius:"x1bczwif",borderStartEndRadius:"x17un8ov",borderEndEndRadius:"x1e7945m",borderEndStartRadius:"x11o6v7j",display:"x1lliihq",transformOrigin:"x1g0ag68",boxSizing:"x9f619",$$css:!0},arrowUp:{transform:"x1dvvsi6",$$css:!0},arrowDown:{transform:"x19gryod",$$css:!0},arrowLeft:{transform:"x1koo3bh",$$css:!0},arrowRight:{transform:"xz03xr6",$$css:!0}};function m(e){var t=e.borderRadius,n=t===void 0?"4px":t,o=e.direction,a=o===void 0?"down":o,i=e.width,l=e.xstyle,m=a==="up"||a==="down"?{width:i+"px",height:i/2+"px"}:{height:i+"px",width:i/2+"px"},p;switch(a){case"up":p=d.arrowUp;break;case"down":p=d.arrowDown;break;case"left":p=d.arrowLeft;break;case"right":p=d.arrowRight;break}return u.jsx("div",{style:m,className:"x1n2onr6 x6ikm8r x10wlt62",children:u.jsx("div",{style:{width:i/c+"px",height:i/c+"px",borderBottomLeftRadius:n},className:(s||(s=r("stylex")))(d.arrow,p,l)})})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WAWebPopoverArrow.react",["WAWebPopoverPosition","WAWebTriangle.react","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=r("react"));function u(e){var t=e.coords,n=e.popoverPosition,a=e.width,i=e.xstyle,l;switch(n){case o("WAWebPopoverPosition").PopoverPosition.Top:l="down";break;case o("WAWebPopoverPosition").PopoverPosition.Bottom:l="up";break;case o("WAWebPopoverPosition").PopoverPosition.Start:l="right";break;case o("WAWebPopoverPosition").PopoverPosition.End:l="left";break}return s.jsx("div",{className:"x10l6tqk",style:t,children:s.jsx(r("WAWebTriangle.react"),{width:a,direction:l,xstyle:i})})}u.displayName=u.name+" [from "+i.id+"]",l.PopoverAlignment=o("WAWebPopoverPosition").PopoverAlignment,l.PopoverPosition=o("WAWebPopoverPosition").PopoverPosition,l.PopoverArrow=u}),98);
__d("WAWebPopoverContext.react",["react"],(function(t,n,r,o,a,i,l){var e=["popover","targetRef"],s,u,c=u||(u=o("react")),d=s||(s=r("react")),m=c.createContext,p=c.useContext,_=c.useMemo,f=c.useRef,g=m(null);function h(){return p(g)}function y(){return f()}function C(t){var n,r=t.popover,o=t.targetRef,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=f(),l=(n=a==null?void 0:a.controllerRef)!=null?n:i,s=_(function(){return babelHelpers.extends({targetRef:o},a,{controllerRef:l})},[o,a,l]);return r!=null?d.jsx(g.Provider,{value:s,children:r}):null}C.displayName=C.name+" [from "+i.id+"]",l.useWAWebPopoverControllerContext=h,l.useWAWebPopoverControllerRef=y,l.WAWebPopoverController=C}),98);
__d("WAWebUimContext",["react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).createContext,u=s(null);l.default=u}),98);
__d("useWAWebUIM",["WAWebUimContext","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(r("WAWebUimContext"));return e}l.default=u}),98);
__d("WAWebUimUie.react",["WAWebUim","WAWebUimContext","WAWebUimUtils","react","useStable","useWAWebOnUnmount","useWAWebStableCallback","useWAWebUIM","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c=u||(u=o("react")),d=s||(s=r("react")),m=c.cloneElement,p=c.experimental_useEffectEvent,_=c.useCallback,f=c.useEffect,g=c.useImperativeHandle,h=c.useRef,y=null;function C(t){var n=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=a.uimState,l=i===void 0?o("WAWebUim").UIMState.ACTIVE:i,s=a.requestRecentFocusOnUnmount,u=s===void 0?!0:s,c=a.popable,p=c===void 0?!1:c,y=a.escapable,C=y===void 0?!1:y,v=a.displayName,S=a.children,R=a.dismissOnWindowResize,L=R===void 0?!1:R,E=r("useWAWebUIM")(),k=b(a.requestFocus),I=r("useWAWebStableCallback")(a.requestDismiss),T=h(null),D=_(function(){var e=T.current;if(e!=null)return o("WAWebUimUtils").isCrossWindowHTMLElement(e)||e instanceof HTMLElement?e:e.getElement==null?void 0:e.getElement()},[]),x=r("useStable")(function(){var e,t={displayName:v,popable:p,escapable:C,uimState:l,requestFocus:k,requestDismiss:I,getNode:D,dismissOnWindowResize:L};return(e=E==null?void 0:E.branch(t))!=null?e:new(o("WAWebUim")).UIM(t)});if(f(function(){x.setState(l)},[l,x]),r("useWAWebOnUnmount")(function(){x.pop(o("WAWebUim").DismissReason.LIFECYCLE,u)}),g(n,function(){return{activate:function(){x.activate()},getElement:D}}),!S)return null;var $=function(t){var e,n=(e=t==null||t.getComponent==null?void 0:t.getComponent())!=null?e:t;T.current=n;var r=S.ref;r&&(typeof r=="function"?r(n):r.current=n)},P=m(S,{ref:$});return d.jsx(r("WAWebUimContext").Provider,{value:x,children:P})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=r("useWAWebUnmountSignal")(),n=h(!1),o=h(null),a=function(){e&&(y&&self.clearTimeout(y),o.current=y=self.setTimeout(function(){e(),o.current=y=null},0))},i=r("useWAWebStableCallback")(function(){e&&!t.aborted?a():n.current=!0}),l=p(a);return f(function(){return n.current&&l(),function(){y&&o.current===y&&(self.clearTimeout(y),y=null)}},[]),i}l.UIE=C}),98);
__d("WAWebPopover.react",["ReactDOM","WALogger","WAWebKeyboardTabUtils","WAWebMutationObserver","WAWebNoop","WAWebPopoverArrow.react","WAWebPopoverContext.react","WAWebPopoverPosition","WAWebUimUie.react","WAWebVelocityTransition","err","react","useWAWebTimeout"],(function(t,n,r,o,a,i,l){var e,s,u,c,d=c||(c=o("react")),m=u||(u=r("react")),p=d.useCallback,_=d.useEffect,f=d.useImperativeHandle,g=d.useRef,h=d.useState,y=24,C=24,b="wa-popovers-bucket";function v(e){var t=e.id;return m.jsx("div",{id:t!=null?t:b})}v.displayName=v.name+" [from "+i.id+"]";function S(e,t){return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}function R(e,t,n){var r=function(r){r.preventDefault(),n||t(r)};return e.addEventListener("contextmenu",r),function(){e.removeEventListener("contextmenu",r)}}function L(e,t,n){return e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",n),function(){e.removeEventListener("mouseenter",t),e.removeEventListener("mouseleave",n)}}function E(e,t,n){return e.addEventListener("focus",t),e.addEventListener("blur",n),function(){e.removeEventListener("focus",t),e.removeEventListener("blur",n)}}function k(e,t,n,r){var o=function(r){return t!=null&&r instanceof Node&&(r===t||t.contains(r)||r===e||e.contains(r))},a=function(t){o(t.relatedTarget)||r()};return e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",a),t==null||t.addEventListener("mouseleave",a),function(){e.removeEventListener("mouseenter",n),e.removeEventListener("mouseleave",a),t==null||t.removeEventListener("mouseleave",a)}}function I(t){var n,a=(n=t.popoverPortal)!=null?n:document.getElementById(b),i=t.alignment,l=t.anchorToMouseCoords,u=l===void 0?!1:l,c=t.arrowXStyle,d=t.buffer,v=d===void 0?8:d,I=t.controllerRef,T=t.enableEnterTransition,D=T===void 0?!0:T,x=t.enableExitTransition,$=x===void 0?!0:x,P=t.includeArrow,N=t.initHandling,M=t.openingDelay,w=t.position,A=t.target,F=t.testid,O=o("WAWebPopoverContext.react").useWAWebPopoverControllerContext(),B;if(A==="context"){if(O==null)throw r("err")('[Popover] A popover with a "context" target must be inside of a PopoverRefContext component');B=O.targetRef}else B=A;var W=g(null),q=h(null),U=q[0],V=q[1],H=h(!1),G=H[0],z=H[1],j=h(!1),K=j[0],Q=j[1],X=g(null),Y=p(function(){var t=B.current,n=W.current,r=X.current;if(!(n==null||t==null||!G)){if(u===!0&&r==null){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[popover] trying to anchor to mouse, but no coords are set"])));return}var a=o("WAWebPopoverPosition").getFixedElementPosition(u===!0&&r!=null?r:t,n,w,i,v,P===!0?{width:y,height:y/2,offset:C}:null),l=a.alignment,s=a.arrowCoords,c=a.coords,d=a.position,m=o("WAWebPopoverPosition").getDefaultTransformOrigin({position:d,alignment:l});V(babelHelpers.extends({},c,{transformOrigin:m,position:d,alignment:l,arrowCoords:s}))}},[B,w,i,v,G,u,P]),J=O==null?void 0:O.onOpen,Z=t.onOpen,ee=p(function(){z(!0),J==null||J(),Z==null||Z()},[J,Z]),te=o("useWAWebTimeout").useTimeout(ee,M),ne=te[0],re=te[1],oe=O==null?void 0:O.onClose,ae=t.onClose,ie=p(function(){X.current=null,oe==null||oe(),ae==null||ae(),re(),z(!1)},[re,oe,ae]);_(function(){if(!(B.current==null||K||!G))return o("WAWebMutationObserver").observeMutations(B.current,{subtree:!0,attributes:!0,childList:!0},function(){N!=null&&N.includes("hover")&&ie(),Y()})},[B,Y,K,G,ie,N]),_(function(){if(!(W.current==null||K||!G))return o("WAWebMutationObserver").observeMutations(W.current,{subtree:!0,attributes:!0,childList:!0},function(){Y()})},[Y,K,G]);var le=M!=null?ne:ee,se=p(function(e){e.stopPropagation(),u===!0?X.current={x:e.clientX,y:e.clientY}:X.current=null,le()},[u,le]);_(function(){var e=B.current;if(!(e==null||N==null)){var t=N;t instanceof Array||(t=[t]);var n=t.map(function(t){switch(t){case"click":return S(e,se);case"contextmenu":return R(e,se,K);case"hover":return L(e,se,ie);case"hover-popover":return k(e,W.current,se,ie);case"focus":return E(e,le,ie);case"controllable":return r("WAWebNoop")}});return function(){return n.forEach(function(e){return e()})}}},[N,B,le,ie,K,u,se]);var ue=function(){if(W.current!=null){var e=o("WAWebKeyboardTabUtils").getNextTabbableElement(W.current);e!=null&&e.focus()}},ce={showPopover:ee,hidePopover:ie,popoverIsVisible:G,popoverIsAnimating:K};f(I,function(){return ce}),f(O==null?void 0:O.controllerRef,function(){return ce});var de=null;if(a!=null){var me=m.jsxs("div",{className:"x1n2onr6",children:[P===!0&&(U==null?void 0:U.arrowCoords)!=null&&m.jsx(o("WAWebPopoverArrow.react").PopoverArrow,{coords:U.arrowCoords,popoverPosition:U.position,xstyle:c,width:y}),t.element]}),pe;if(t.dismissable===!0){var _e;pe=m.jsx(o("WAWebUimUie.react").UIE,{escapable:!0,popable:!0,displayName:(_e=t.name)!=null?_e:"Popover",requestFocus:ue,requestDismiss:ie,children:me})}else pe=me;var fe=u!==!0&&m.jsx("div",{className:"x10l6tqk x8knxv4",style:{top:-v,right:-v,bottom:-v,left:-v}});de=o("ReactDOM").createPortal(m.jsx(r("WAWebVelocityTransition"),{transitionName:"scaleAndFade",in:G,nodeRef:W,mountOnEnter:!0,unmountOnExit:!0,appear:!0,enter:D,exit:$,timeout:300,onEnter:Y,onEntering:function(){return Q(!0)},onEntered:function(){D===!1&&Y(),Q(!1)},onExiting:function(){return Q(!0)},onExited:function(){return Q(!1)},children:m.jsxs("div",{ref:W,"data-testid":void 0,"data-animate-dropdown-item":!0,style:U,className:"xixxii4 x9dfjz6 x1al4vs7",children:[fe,pe]})}),a)}else G&&a==null&&o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[popover] portal ref is missing!"])));return{popover:de,showPopover:ee,hidePopover:ie,popoverIsVisible:G,popoverIsAnimating:K}}l.PopoverAlignment=o("WAWebPopoverPosition").PopoverAlignment,l.PopoverPosition=o("WAWebPopoverPosition").PopoverPosition,l.ANCHOR_PORTAL_ID=b,l.PopoverPortalBucket=v,l.usePopoverElement=I}),98);
__d("WAWebPostE2eMessageSendMetric",["WAWebBackendJobsCommon","WAWebE2eMessageSendWamEvent","WAWebWamEnumAgentEngagementEnumType","WAWebWamEnumEditType","WAWebWamMsgUtils"],(function(t,n,r,o,a,i,l){function e(e){var t=e.to,n=e.retryCount,r=e.type,a=e.msg,i=e.editType,l=i===void 0?o("WAWebWamEnumEditType").EDIT_TYPE.NOT_EDITED:i,s=new(o("WAWebE2eMessageSendWamEvent")).E2eMessageSendWamEvent({e2eCiphertextVersion:o("WAWebBackendJobsCommon").CIPHERTEXT_VERSION,isLid:t.isLid(),retryCount:n,editType:l,botType:o("WAWebWamMsgUtils").getWamBotType(t,a==null?void 0:a.bizBotType)}),u=o("WAWebBackendJobsCommon").getMetricE2eDestination(t);return u!=null&&(s.e2eDestination=u),r!=null&&(s.e2eCiphertextType=o("WAWebBackendJobsCommon").getMetricE2eCiphertextType(r)),a&&(s.messageMediaType=o("WAWebWamMsgUtils").getWamMediaType(a),t.isBot()&&(a.id.remote.isBot()?s.agentEngagementType=o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.DIRECT_CHAT:s.agentEngagementType=o("WAWebWamEnumAgentEngagementEnumType").AGENT_ENGAGEMENT_ENUM_TYPE.INVOKED)),s}function s(t){var n=e(t);n.e2eSuccessful=!0,n.commit()}function u(t){var n=e(t);n.e2eSuccessful=!1,n.weight=1,n.commit()}l.postSuccessDirectE2eMessageSendMetric=s,l.postFailureDirectE2eMessageSendMetric=u}),98);
__d("WAWebWamEnumPsBufferUploadResult",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUCCESS:1,ERROR_PARSING:2,ERROR_DECODING:3,ERROR_CREDENTIAL:4,ERROR_OTHER:5,ERROR_CLIENT_NETWORK:6,ERROR_WAIT_FOR_TOKEN:7,ERROR_SERVER_OTHER:8,SKIPPED_NO_NETWORK:9,SKIPPED_NO_DATA:10,ERROR_ACCESS_TOKEN:11});i.PS_BUFFER_UPLOAD_RESULT=e}),66);
__d("WAWebWamEnumPsTokenNotReadyReason",[],(function(t,n,r,o,a,i){var e=Object.freeze({NO_REASON:0,REASON_UNKNOWN:1,REASON_WAIT_FOR_FIRST_TOKEN:2,REASON_INVALID_SHARED_KEY:3,REASON_INVALID_FACTOR:4,REASON_GEN_FACTOR_FAILURE:5,REASON_COMPUTE_HMAC_FAILURE:6,REASON_BLIND_FAILURE:7,REASON_UNBLIND_FAILURE:8,REASON_LAST_SIGNREQ_NETWORK_FAILURE:9,REASON_LAST_SIGNREQ_SERVER_ERROR:10,REASON_LAST_SIGNREQ_BAD_REQUEST:11,REASON_LAST_SIGNREQ_OTHER_ERROR:12,REASON_WAIT_FOR_GEN_TOKEN:13,REASON_GEN_SHAREDKEY_FAILURE:14,REASON_WAIT_FOR_GEN_FIRST_TOKEN:15});i.PS_TOKEN_NOT_READY_REASON=e}),66);
__d("WAWebWamEnumPsUploadReason",[],(function(t,n,r,o,a,i){var e=Object.freeze({REASON_PS_PINGER:0,REASON_PS_OFFCYCLE:1});i.PS_UPLOAD_REASON=e}),66);
__d("WAWebPsBufferUploadWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumApplicationState","WAWebWamEnumPsBufferUploadResult","WAWebWamEnumPsTokenNotReadyReason","WAWebWamEnumPsUploadReason"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({PsBufferUpload:[2244,{applicationState:[6,o("WAWebWamEnumApplicationState").APPLICATION_STATE],isFromWamsys:[12,e.TYPES.BOOLEAN],isRealtime:[15,e.TYPES.BOOLEAN],isUserSampled:[14,e.TYPES.BOOLEAN],psBufferSequenceNumber:[13,e.TYPES.INTEGER],psBufferUploadHttpResponseCode:[3,e.TYPES.INTEGER],psBufferUploadResult:[1,o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT],psBufferUploadT:[2,e.TYPES.TIMER],psDitheredT:[11,e.TYPES.INTEGER],psForceUpload:[10,e.TYPES.BOOLEAN],psTokenNotReadyReason:[4,o("WAWebWamEnumPsTokenNotReadyReason").PS_TOKEN_NOT_READY_REASON],psUploadReason:[9,o("WAWebWamEnumPsUploadReason").PS_UPLOAD_REASON],waConnectedToChatd:[5,e.TYPES.BOOLEAN]},[1,1,100],"regular"]},{PsBufferUpload:[]});l.PsBufferUploadWamEvent=s}),98);
__d("WAWebWamEnumPsIdAction",[],(function(t,n,r,o,a,i){var e=Object.freeze({CREATED:1,ROTATED:2,DELETED:3});i.PS_ID_ACTION=e}),66);
__d("WAWebPsIdUpdateWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumPsIdAction"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({PsIdUpdate:[2862,{isFromWamsys:[4,e.TYPES.BOOLEAN],psIdAction:[2,o("WAWebWamEnumPsIdAction").PS_ID_ACTION],psIdKey:[1,e.TYPES.INTEGER],psIdRotationFrequence:[3,e.TYPES.INTEGER]},[1,1,1],"regular"]},{PsIdUpdate:[]});l.PsIdUpdateWamEvent=s}),98);
__d("WAWebPttAudioChannels",["WAWebEventEmitter"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.registerMedia=function(t){var e=this,n=null,r=function(){n=e.claim(t,function(){t.pause()})},o=function(){n==null||n()};return t.addEventListener("play",r),t.addEventListener("pause",o),function(){n==null||n(),t.removeEventListener("play",r),t.removeEventListener("pause",o)}},n.claim=function(t,n){var e=this,r=this.$AudioChannel$p_1;return r!=null&&t!==r.key&&(r.pause(),this.trigger("paused_DEPRECATED_DO_NOT_USE",r.key)),this.$AudioChannel$p_1={key:t,pause:n},function(){var n;t===((n=e.$AudioChannel$p_1)==null?void 0:n.key)&&(e.$AudioChannel$p_1=null)}},t})(r("WAWebEventEmitter")),s=new e;l.MainAudioChannel=s}),98);
__d("WAWebRegistration",["Promise","WALogger","WAWebCryptoCurve25519","WAWebCryptoLibraryUtilsApi","WAWebSignalKeyApi","WAWebSignalStoreApi","WAWebUserPrefsInfoStore","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield o("WAWebCryptoCurve25519").keyPair(),t=new Uint8Array(24);return self.crypto.getRandomValues(t),(s||(s=n("Promise"))).resolve(o("WAWebUserPrefsInfoStore").waNoiseInfo.set({recoveryToken:t.buffer,staticKeyPair:e,certificateChainBuffer:void 0}))}),c.apply(this,arguments)}function d(){return r("WAWebCryptoLibraryUtilsApi").makeRegistrationId()}function m(){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=d();yield o("WAWebSignalStoreApi").waSignalStore.clearCredential();var r=yield o("WAWebSignalKeyApi").generateIdentityKeyPair();try{yield(s||(s=n("Promise"))).all([o("WAWebSignalStoreApi").waSignalStore.setRegistrationInfo({registrationId:t,identityKeyPair:r}),o("WAWebSignalStoreApi").waSignalStore.rotateSignedPreKey(o("WAWebCryptoCurve25519").toSignalCurveKeyPair(r),o("WAWebSignalKeyApi").generateSignedKeyPair)])}catch(t){throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["failed to refreshSignalCredentials: ",""])),t),t}}),p.apply(this,arguments)}l.refreshNoiseCredentials=u,l.refreshSignalCredentials=m}),98);
__d("WAWebRichTextInputConst",[],(function(t,n,r,o,a,i){var e="@",l="\u200B",s=l+"(\\d+@(c\\.us|lid|bot))"+l,u=l+"((\\d+-)?\\d+@g\\.us)"+l;i.AT_SYMBOL=e,i.ZWS=l,i.userJidRegexStr=s,i.groupJidRegexStr=u}),66);
__d("WAWebRoundShape.react",["react","stylex"],(function(t,n,r,o,a,i,l){var e,s,u=e||(e=r("react")),c={iconRefreshed:{display:"x78zum5",alignItems:"x6s0dn4",justifyContent:"xl56j7k",width:"x100vrsf",height:"x1vqgdyp",color:"x1pse0pq",background:"xe5due1",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},disabled:{backgroundColor:"x1ailiqk",$$css:!0},transparent:{color:"xhslqc4",backgroundColor:"x1jbjsai",$$css:!0},compact:{width:"x100vrsf",height:"x1vqgdyp",$$css:!0},groupModal:{width:"x15jighw",height:"x112a4uq",$$css:!0}};function d(e){var t=e.children,n=e.disabled,o=e.theme,a=e.transparent,i=e.xstyle;return u.jsx("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(c.iconRefreshed,a===!0&&c.transparent||o==="compact"&&c.compact||o==="group-modal"&&c.groupModal,n===!0&&c.disabled,i),{children:t}))}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("WAWebWamEnumEntryPoint",[],(function(t,n,r,o,a,i){var e=Object.freeze({SETTINGS_CONTACTS:1,CONTACTS_LIST:2,CONTACTS_MENU:3,CONTACTPICKER_LIST:4,CONTACTPICKER_MENU:5,EMPTY_CONVERSATIONS:6,EMPTY_CONTACTS:7,INVITE_NON_WA_CONTACT:8,EMPTY_CALLS:9,CHATS_LIST:10,CHANNEL_THREAD:11,CHANNEL_INFO:12,CHAT_THREAD:13,CHAT_HOME:14,CHAT_INFO_PAGE:15,SEARCH_FILTER:16,BUSINESS_HOME:17,OVERFLOW_MENU:18,BUSINESS_TOOLS:19,SETTINGS:20,APP_STORE:21,ACCOUNT_SETTINGS:22,CHAT_LONG_PRESS_OPTIONS:23,CHAT_SELECT_OPTIONS:24,CHAT_SWIPE:25,CHAT_MORE_OPTIONS:26,DEEP_LINK:27,ALERT:28,KEYBOARD_SHORTCUTS:29,ADD_EDIT_PRODUCT:30,AI_HUB_CHAT:31,TOPICS_CHECKLIST:32,LEARNING_SUMMARY:33,CATALOG_PRODUCT_DETAILS:34,AI_HOME:35,MESSAGE:36,KNOWLEDGE_REPO:37,COACHING_INDICATOR:38,SPAM_FOLDER:39,SAMPLE_RESPONSE_BOTTOMSHEET:40,CHAT_BANNER:41,CHAT_ATTACHMENT_MENU:42,ORDERS:43,PROFILE_EDIT:44,ONBOARDING:45,COACHING_ENTRYPOINT_BUTTON:46,COACHING_INLINE_FEEDBACK_BUTTONS:47,MESSAGE_HEADER:48,MESSAGE_CTA:49,NOTIFICATION:50,BB_HOME:51,BB_THREAD:52,BB_THREAD_BANNER:53,BB_HOME_USED_ALL_BB_CREDIT_MV_BANNER:54,BB_HOME_USED_MOST_BB_CREDIT_MV_BANNER:55,BB_THREAD_USED_ALL_BB_CREDIT_MV_BANNER:56,BB_THREAD_USED_MOST_BB_CREDIT_MV_BANNER:57,BB_THREAD_NEED_MORE_CREDIT_MV_BANNER:58,BB_REVIEW_USED_ALL_BB_CREDIT_MV_BANNER:59,BB_REVIEW_USED_MOST_BB_CREDIT_MV_BANNER:60,BB_REVIEW_NEED_MORE_CREDIT_MV_BANNER:61,MESSAGE_CAPPING_NUX:62,ADVANCED_TOOLS_BOTTOM_SHEET:63,DEEP_LINK_CHAT_PSA:64,NAV_BAR:65,SMB_ONBOARDING_FLOW:66,CLIENT_ERROR_FOREGROUND:67,ALERTS_CENTER_HOME:68,POST_ONBOARDING:69,APP_LAUNCH:70,PRODUCT_INFO_LIST:71,SIMULATION_CONVERSATION:72,DEPENDENT_MESSAGE_REQUESTS_FOLDER:73,DEPENDENT_CONVERSATION_MESSAGE_REQUEST:74});i.ENTRY_POINT=e}),66);
__d("WAWebWamEnumOppositePlatformEnum",[],(function(t,n,r,o,a,i){var e=Object.freeze({CONSUMER:0,BUSINESS:1});i.OPPOSITE_PLATFORM_ENUM=e}),66);
__d("WAWebWamEnumSmbFeatureNameEnum",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOTES:0,GEN_AI_AGENT:1,BROADCAST_LIST:2,BIZ_APP_ONBOARDING:3,BUSINESS_TOOLS_HOME:4,CATALOG:5,BUSINESS_PROFILE:6,LEARNING_HUB:7,BUSINESS_BROADCAST:8,ALERTS_CENTER:9,GOOGLE_ELIGIBILITY_OPT_OUT:10});i.SMB_FEATURE_NAME_ENUM=e}),66);
__d("WAWebWamEnumSmbUserActionTypeEnum",[],(function(t,n,r,o,a,i){var e=Object.freeze({VIEW:0,CLICK:1,ENTER:2,SCROLL:3,SCAN:4,API:5,EDIT:6,DELETE:7,SEARCH:8,DISMISS:9,VALIDATION:10});i.SMB_USER_ACTION_TYPE_ENUM=e}),66);
__d("WAWebSmbUserJourneyWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumChatFilterActionTypes","WAWebWamEnumEntryPoint","WAWebWamEnumOppositePlatformEnum","WAWebWamEnumSmbFeatureNameEnum","WAWebWamEnumSmbUserActionTypeEnum","WAWebWamEnumSurfaceType"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({SmbUserJourney:[5462,{actionType:[1,o("WAWebWamEnumChatFilterActionTypes").CHAT_FILTER_ACTION_TYPES],contactIsSaved:[2,e.TYPES.BOOLEAN],entryPoint:[3,o("WAWebWamEnumEntryPoint").ENTRY_POINT],entryPointDetails:[18,e.TYPES.STRING],extraAttributes:[4,e.TYPES.STRING],oppositePlatform:[5,o("WAWebWamEnumOppositePlatformEnum").OPPOSITE_PLATFORM_ENUM],prevSurface:[14,o("WAWebWamEnumSurfaceType").SURFACE_TYPE],recipientSize:[12,e.TYPES.INTEGER],seqId:[7,e.TYPES.INTEGER],smbFeatureName:[8,o("WAWebWamEnumSmbFeatureNameEnum").SMB_FEATURE_NAME_ENUM],smbUserActionType:[13,o("WAWebWamEnumSmbUserActionTypeEnum").SMB_USER_ACTION_TYPE_ENUM],smbUserSessionId:[9,e.TYPES.STRING],surface:[10,o("WAWebWamEnumSurfaceType").SURFACE_TYPE],userActionTarget:[11,e.TYPES.STRING]},[1,1,1],"regular"]},{SmbUserJourney:[]});l.SmbUserJourneyWamEvent=s}),98);
__d("WAWebSMBUserJourneyLogger",["WAWebGetSharedSessionId","WAWebSmbUserJourneyWamEvent","WAWebUnifiedSession"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){var e;this.$1=(e=o("WAWebUnifiedSession").UnifiedSessionManager.getSessionId())!=null?e:o("WAWebGetSharedSessionId").getSharedSessionId(),this.$2=0,this.$3=new Map}var t=e.prototype;return t.setEntryPoint=function(t,n){this.$3.set(n,t)},t.clearEntryPoint=function(t){this.$3.delete(t)},t.log=function(t){var e=new(o("WAWebSmbUserJourneyWamEvent")).SmbUserJourneyWamEvent;e.smbFeatureName=t.featureName,e.smbUserActionType=t.userActionType,e.surface=t.surface,e.smbUserSessionId=this.$1,e.seqId=this.$2,t.entryPoint!=null&&this.$3.set(t.featureName,t.entryPoint);var n=this.$3.get(t.featureName);n!=null&&(e.entryPoint=n),t.userActionTarget!=null&&(e.userActionTarget=t.userActionTarget),t.extraAttributes!=null&&(e.extraAttributes=JSON.stringify(t.extraAttributes)),e.commit(),this.$2+=1},e})(),s=new e;l.SMBUserJourneyLogger=s}),98);
__d("WAWebScanDbRowApi",["WAWebMsgType"],(function(t,n,r,o,a,i,l){var e,s=new Set([(e=o("WAWebMsgType")).MSG_TYPE.AUDIO,e.MSG_TYPE.CHAT,e.MSG_TYPE.DOCUMENT,e.MSG_TYPE.GROUPS_V4_INVITE,e.MSG_TYPE.HSM,e.MSG_TYPE.IMAGE,e.MSG_TYPE.INTERACTIVE,e.MSG_TYPE.LIST,e.MSG_TYPE.LOCATION,e.MSG_TYPE.MULTI_VCARD,e.MSG_TYPE.ORDER,e.MSG_TYPE.PAYMENT,e.MSG_TYPE.PRODUCT,e.MSG_TYPE.PTT,e.MSG_TYPE.STICKER,e.MSG_TYPE.TEMPLATE_BUTTON_REPLY,e.MSG_TYPE.VCARD,e.MSG_TYPE.VIDEO,e.MSG_TYPE.AUTOMATED_GREETING_MESSAGE]);function u(e,t){if(t==="lru-media-meta-info"){var n=0;return e.size!=null&&typeof e.size=="number"&&(n+=e.size),n+=m(e),n}return m(e)}function c(e,t){return t==="message"&&!s.has(e.type)}function d(e,t,n){return t==="lru-media-meta-info"&&n==="lru-media-storage-idb"?1:e}function m(e){var t=0;return JSON.stringify(e,function(e,n){if(typeof e=="string"&&(t+=2*e.length),n instanceof ArrayBuffer)t+=n.byteLength;else if(n instanceof Blob)t+=n.size;else if(typeof n=="number")t+=8;else if(typeof n=="boolean")t+=1;else if(typeof n=="string")t+=2*n.length;else return n}),t}l.estimateSize=u,l.skipRow=c,l.getSampleRateOverride=d}),98);
__d("WAWebWamChatPSALogger",["WAWebChatMuteWamEvent","WAWebChatPsaActionWamEvent","WAWebChatPsaReadWamEvent","WAWebChatPsaRemoveWamEvent","WAWebWamEnumActionConducted","WAWebWamEnumChatMuteNotificationChoice","WAWebWamEnumMuteChatType","WAWebWamEnumPsaMessageActionType","WAWebWamEnumPsaMessageRemoveAction","WAWebWamEnumPsaMessageRemoveEntryPoint","WAWebWamEnumReadEntryPoint","WAWebWamEnumWaOfficialAccountName","WAWebWamMsgUtils"],(function(t,n,r,o,a,i,l){function e(e){if(e.campaignId!=null){var t;new(o("WAWebChatPsaReadWamEvent")).ChatPsaReadWamEvent({messageMediaType:e.getWamMediaType(),psaMsgId:e.id.id.toString(),psaCampaignId:(t=e.campaignId)==null?void 0:t.toString(),readEntryPoint:o("WAWebWamEnumReadEntryPoint").READ_ENTRY_POINT.CHAT}).commit()}}function s(e,t){new(o("WAWebChatMuteWamEvent")).ChatMuteWamEvent({actionConducted:o("WAWebWamEnumActionConducted").ACTION_CONDUCTED.MUTE,chatMuteNotificationChoice:o("WAWebWamEnumChatMuteNotificationChoice").CHAT_MUTE_NOTIFICATION_CHOICE.NO_NOTIFICATIONS_WHEN_MUTED,muteChatType:o("WAWebWamEnumMuteChatType").MUTE_CHAT_TYPE.ONE_ON_ONE,muteDuration:t,muteEntryPoint:e,waOfficialAccountName:o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME.WHATSAPP_CHATPSA}).commit()}function u(e){new(o("WAWebChatMuteWamEvent")).ChatMuteWamEvent({actionConducted:o("WAWebWamEnumActionConducted").ACTION_CONDUCTED.UNMUTE,muteChatType:o("WAWebWamEnumMuteChatType").MUTE_CHAT_TYPE.ONE_ON_ONE,muteEntryPoint:e,waOfficialAccountName:o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME.WHATSAPP_CHATPSA}).commit()}function c(e){var t;new(o("WAWebChatPsaActionWamEvent")).ChatPsaActionWamEvent({messageMediaType:e.getWamMediaType(),psaCampaignId:(t=e.campaignId)==null?void 0:t.toString(),psaMessageActionType:o("WAWebWamEnumPsaMessageActionType").PSA_MESSAGE_ACTION_TYPE.SAVE,psaMsgId:e.id.id.toString()}).commit()}function d(e){var t;new(o("WAWebChatPsaActionWamEvent")).ChatPsaActionWamEvent({messageMediaType:o("WAWebWamMsgUtils").getWamMediaType(e),psaCampaignId:(t=e.campaignId)==null?void 0:t.toString(),psaMessageActionType:o("WAWebWamEnumPsaMessageActionType").PSA_MESSAGE_ACTION_TYPE.DELETE,psaMsgId:e.id.id.toString()}).commit()}function m(e){var t;new(o("WAWebChatPsaActionWamEvent")).ChatPsaActionWamEvent({messageMediaType:e.getWamMediaType(),psaCampaignId:(t=e.campaignId)==null?void 0:t.toString(),psaMessageActionType:o("WAWebWamEnumPsaMessageActionType").PSA_MESSAGE_ACTION_TYPE.FORWARD,psaMsgId:e.id.id.toString()}).commit()}function p(e,t,n){new(o("WAWebChatPsaActionWamEvent")).ChatPsaActionWamEvent({messageMediaType:e,psaCampaignId:t==null?void 0:t.toString(),psaMessageActionType:o("WAWebWamEnumPsaMessageActionType").PSA_MESSAGE_ACTION_TYPE.MEDIA_PLAY,psaMsgId:n.toString()}).commit()}function _(e,t,n){e?new(o("WAWebChatPsaRemoveWamEvent")).ChatPsaRemoveWamEvent({lastReceivedMediaType:e.getWamMediaType(),lastReceivedMessageTs:e.t,lastReceivedMsgId:e.id.id.toString(),psaMessageRemoveAction:f(t),psaMessageRemoveEntryPoint:g(n),waOfficialAccountName:o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME.WHATSAPP_CHATPSA}).commit():new(o("WAWebChatPsaRemoveWamEvent")).ChatPsaRemoveWamEvent({psaMessageRemoveAction:f(t),psaMessageRemoveEntryPoint:g(n),waOfficialAccountName:o("WAWebWamEnumWaOfficialAccountName").WA_OFFICIAL_ACCOUNT_NAME.WHATSAPP_CHATPSA}).commit()}function f(e){return e===1?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.BLOCK:e===2?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.UNBLOCK:e===3?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.ARCHIVE:e===4?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.UNARCHIVE:e===5?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.CLEAR:e===6?o("WAWebWamEnumPsaMessageRemoveAction").PSA_MESSAGE_REMOVE_ACTION.DELETE_ALL:void 0}function g(e){switch(e){case 1:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.BLOCK_FROM_CONTACT_INFO;case 2:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.BLOCK_FROM_CHAT;case 3:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.UNBLOCK_FROM_CONTACT_INFO;case 4:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.UNBLOCK_FROM_CHAT;case 5:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.UNBLOCK_FROM_PRIVACY_SETTINGS;case 6:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.ARCHIVE_FROM_CHAT_LIST;case 7:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.ARCHIVE_FROM_DELETE_OPTION;case 8:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.UNARCHIVE_FROM_ARCHIVED_CHAT_LIST;case 9:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.CLEAR_FROM_CONTACT_INFO;case 10:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.CLEAR_FROM_CHAT_LIST;case 11:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CHAT_LIST;case 12:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONTACT_INFO;case 13:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.DELETE_ALL_FROM_CONVERSATION;case 14:return o("WAWebWamEnumPsaMessageRemoveEntryPoint").PSA_MESSAGE_REMOVE_ENTRY_POINT.CLEAR_FROM_CONVERSATION}}l.logChatPSARead=e,l.logChatPSAMute=s,l.logChatPSAUnmute=u,l.logChatPSAStar=c,l.logChatPSADelete=d,l.logChatPSAForward=m,l.logChatPSAMediaPlay=p,l.logChatPSARemove=_}),98);
__d("WAWebSendReadReceiptJob",["Promise","WAJids","WALogger","WANullthrows","WATimeUtils","WAWebAck","WAWebApiChat","WAWebBotUtils","WAWebDBMessageUtils","WAWebDBPendingReadReceiptQueries","WAWebHandlePlaceholderWam","WAWebLidMigrationUtils","WAWebMsgGetters","WAWebMsgKey","WAWebMsgType","WAWebPrivacySettings","WAWebSchemaMessage","WAWebSendReceiptJobCommon","WAWebUserPrefsGeneral","WAWebUserPrefsMeUser","WAWebWamChatPSALogger","WAWebWid","WAWebWidFactory","asyncToGeneratorRuntime","justknobx"],(function(t,n,r,o,a,i,l){var e,s,u,c=o("WAWebWidFactory").createWid(o("WAJids").STATUS_JID);function d(e,t){return e.isNewsletter()||e.isStatus()&&t!=null&&t.isPSA()||r("WAWebWid").isPSA(e)?o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF:e.isGroup()?o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ:o("WAWebUserPrefsGeneral").getUserPrivacySettings().readReceipts===o("WAWebPrivacySettings").ALL_NONE.none?o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF:o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["markChatRead"])));var l=Date.now().toString(),s=String(t.id),c=yield o("WAWebDBPendingReadReceiptQueries").queryPendingReadReceiptMsgRows(s,i);c.sort(function(e,t){var n=e.rowId||0,r=t.rowId||0;return n-r});var m=a?String(a):null,p=c.length-1;if(m){for(p;p>=0&&c[p].id!==m;p--);p<0&&(p=c.length-1)}var _=null,f=[];for(p;p>=0;p--){var g=c[p],h=t.msgs.get(g.id);h&&r("WAWebWid").isPSA(t.id)&&o("WAWebWamChatPSALogger").logChatPSARead(h),g.rowId!=null&&(_==null||g.rowId>_)&&(_=g.rowId);var C=r("WAWebMsgKey").fromString(g.id);if(g.type===o("WAWebMsgType").MSG_TYPE.CIPHERTEXT){o("WAWebHandlePlaceholderWam").postPlaceholderActivityViewEvent([g]);continue}var b=g.broadcastId||g.from,v=g.author||g.from;f.push({id:C.id,sender:o("WAWebWidFactory").createWidFromWidLike(v),chat:o("WAWebWidFactory").createWidFromWidLike(b)})}var S=y(f),R=S[0],L=S[1];return yield(u||(u=n("Promise"))).all([].concat(Array.from(R.keys(),function(e){var n=R.get(e);if(n){var r;return t.trusted?r=d(t.id):r=o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF,o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:e,type:r,t:l,groupedReceipt:n})}}),Array.from(L.keys(),function(e){var t=L.get(e);if(t)return o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:e,type:o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF,t:l,groupedReceipt:t})}))),o("WAWebApiChat").markMessageAndChatAsRead({lastReadRowId:_,chatId:s,keepChatUnread:!1,threadId:i})}),p.apply(this,arguments)}function _(e,t,n){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=e.id;if(!o("WAWebMsgGetters").getIsStatus(e)){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["markStatusRead: message is not a status."])));return}var i=o("WAWebMsgGetters").getIsGroupStatus(e)?e.id.remote:c,l=a.fromMe&&!r("justknobx")._("5152"),u=(n==null||n.sendReceipt===!0)&&!l;u&&(yield o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:i,type:d(i,r("WANullthrows")(a.participant)),t:String(t),groupedReceipt:new Map([[r("WANullthrows")(a.participant),[a.id]]])}));var m={ack:o("WAWebAck").ACK.READ};a.participant&&a.participant.isPSA()&&(m.statusPSAReadTimestamp=t);var p=[babelHelpers.extends({id:a.toString()},m)],_=o("WAWebLidMigrationUtils").getAlternateMsgKey(a);_&&p.push(babelHelpers.extends({id:_.toString()},m)),yield o("WAWebSchemaMessage").getMessageTable().bulkMergeOnly(p)}),f.apply(this,arguments)}function g(e){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=String(o("WATimeUtils").unixTime()),r=y(e.filter(function(e){return!o("WAWebUserPrefsMeUser").isSerializedWidMe(e.sender)}).map(function(e){return{chat:e.msgKey.remote,sender:o("WAWebWidFactory").createWidFromWidLike(e.sender),id:e.msgKey.id}})),a=r[0];yield(u||(u=n("Promise"))).all(Array.from(a.keys(),function(e){var n=a.get(e);if(n)return o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:e,type:o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF,t:t,groupedReceipt:n})}))}),h.apply(this,arguments)}function y(e){var t=new Map,n=new Map;return e.forEach(function(e){var r,o,a=e.chat,i=e.id,l=e.sender,s=!a.isBot()&&l.isBot(),u=s?n:t,c=(r=u.get(a))!=null?r:new Map,d=(o=c.get(l))!=null?o:[];d.push(i),c.set(l,d),u.set(a,c)}),[t,n]}function C(e,t,n){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=String(e),i=o("WAWebBotUtils").isMetaAiBot(e),l=yield o("WAWebDBPendingReadReceiptQueries").queryUnreadEditedMsgRows(a,i?n:void 0);if(!l.length)return{fullyReadThreadIds:[]};var s=new Set,u=l.map(function(t){var a=r("WAWebMsgKey").fromString(t.latestEditMsgKey),i=t.author||t.from;if(n==null)for(var l of o("WAWebDBMessageUtils").getThreadIdsFromMessage(t))s.add(l.toString());else s.add(n.toString());return{id:a.id,sender:o("WAWebWidFactory").createWidFromWidLike(i),chat:o("WAWebWidFactory").createWidFromWidLike(e)}}),c=y(u),m=c[0],p=c[1],_=m.get(e),f=p.get(e),g=Date.now().toString();if(_){var h;t.trusted?h=d(e):h=o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF,yield o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:e,type:h,t:g,groupedReceipt:_})}f&&(yield o("WAWebSendReceiptJobCommon").sendAggregateReceipts({to:e,type:o("WAWebSendReceiptJobCommon").RECEIPT_TYPE.READ_SELF,t:g,groupedReceipt:f}));var C=l.map(function(e){return r("WAWebMsgKey").fromString(e.latestEditMsgKey)}),b=yield o("WAWebApiChat").markEditedMessageAndChatAsRead({chatId:e,readMsgKeys:C,threadId:n});return b}),b.apply(this,arguments)}l.getReadReceiptType=d,l.markChatRead=m,l.markStatusRead=_,l.sendAddOnReadReceipts=g,l.groupMsgIdsByChatThenSender=y,l.markEditedMsgsRead=C}),98);
__d("WAWebSetPushConfigJob",["WABase64","WALogger","WANullthrows","WASmaxPushConfigSetRPC","WAWebBackendApi","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u;function c(e){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var n=yield o("WAWebBackendApi").frontendSendAndReceive("getDeviceInfo",void 0),a=yield o("WASmaxPushConfigSetRPC").sendSetRPC({setSetConfigOrSetClearMixinGroupArgs:{setSetConfig:{configMixinsArgs:{webClient:{configEndpoint:t.endpoint,configAuth:o("WABase64").encodeB64(r("WANullthrows")(t.getKey("auth"))),configP256dh:o("WABase64").encodeB64(r("WANullthrows")(t.getKey("p256dh"))),configLg:n.lg,configLc:n.lc}}}}});if(a.name==="SetResponseSuccess"){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["setPushConfig: success"]))).tags("push-notification");return}if(a.name==="SetResponseInternalServerError"){var i=a.value.errorIQErrorInternalServerErrorMixin,l=i.code,c=i.text;return o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["setPushConfig: server response with ",", ",""])),l,c).tags("push-notification"),{errorCode:l,errorText:c}}if(a.name==="SetResponseConflict"){var d=a.value.errorIQErrorConflictMixin,m=d.code,p=d.text;return o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["setPushConfig: server response with ",", ",""])),m,p).tags("push-notification"),{errorCode:m,errorText:p}}}),d.apply(this,arguments)}l.setPushConfig=c}),98);
__d("WAWebSetWorkerLocalStorage",["WANullthrows","WAWebApiLocalStorage","WAWebEnvironment","WAWebGuestUserPrefs","WAWebUserPrefsKeys","WAWebUserPrefsMeUser","WAWebWidToJid","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){function e(){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=r("WANullthrows")(o("WAWebUserPrefsMeUser").getMaybeMeDeviceLid()),t=o("WAWebUserPrefsMeUser").getMeDisplayNameOrThrow(),n=[{key:"deviceJid",value:o("WAWebWidToJid").widToDeviceJid(o("WAWebUserPrefsMeUser").getMeDevicePnOrThrow())},{key:"lidDeviceJid",value:e.toString()},{key:o("WAWebUserPrefsKeys").KEYS.ME_DISPLAY_NAME,value:t}];r("WAWebEnvironment").isGuest&&n.push({key:o("WAWebUserPrefsKeys").KEYS.GUEST_ACTIVE_INVITE_CODE,value:o("WAWebGuestUserPrefs").getActiveGuestInviteCode()}),yield o("WAWebApiLocalStorage").updateLocalStorage(n)}),s.apply(this,arguments)}function u(){return o("WAWebApiLocalStorage").clearLocalStorage()}l.setWorkerLocalStorage=e,l.clearWorkerLocalStorage=u}),98);
__d("WAWebSharedConstants",[],(function(t,n,r,o,a,i){var e="__wa-mms",l="mms-type";i.IS_MMS_URL_SEARCH_PARAM=e,i.MMS_URL_MEDIA_TYPE_SEARCH_PARAM=l}),66);
__d("WAWebSpamConstants",["WAWebMsgType"],(function(t,n,r,o,a,i,l){var e,s=Object.freeze({Block:"block_dialog",OverflowMenuBlock:"overflow_menu_block",OverflowMenuReport:"overflow_menu_report",MediaViewer:"media_viewer",MessageMenu:"message_menu",CommunityHome:"community_home",AccountInfoReport:"account_info_report",AccountInfoReportAsGuestUser:"account_info_report_as_guest_user",GroupInfoReport:"group_info_report",GroupSpamBannerReport:"group_spam_banner_report",OneToOneChatSpamBannerReport:"1_1_spam_banner_report",OneToOneOldSpamBannerBlock:"1_1_old_spam_banner_block",BizSpamBannerBlock:"biz_spam_banner_block",ChatListBlock:"chat_list_block",ChatListNoInsubBlock:"chat_list_noinsub_block",NotificationBlock:"notification_block",StatusPostReport:"status_post_report",NewsletterInfoReport:"newsletter_info_report",ChatFmxCardReportAsGuestUser:"chat_fmx_card_report_as_guest_user",ChatFmxCardSafetyToolsReport:"chat_fmx_card_safety_tools_report",ChatFmxCardSafetyToolsReportSuspicious:"chat_fmx_card_safety_tools_report_suspicious",GroupFmxCardLeave:"group_fmx_card_leave",GroupFmxCardLeaveNonSuspicious:"group_fmx_card_leave_non_suspicious",GroupInfoLeaveReportUpsell:"group_info_leave_report_upsell",GroupChatlistLeaveReportUpsell:"group_chatlist_leave_report_upsell",GroupOverflowMenuLeaveReportUpsell:"group_overflow_menu_leave_report_upsell",GroupSafetyCheckModalUpsell:"group_safety_check_bottom_sheet",CommentActions:"comment_actions_bottom_sheet",NewsletterQuestionResponseReport:"newsletter_question_response_report",GalaxyFlowsContextMenuReport:"extension_menu_report"}),u=new Set([(e=o("WAWebMsgType")).MSG_TYPE.CHAT,e.MSG_TYPE.AUDIO,e.MSG_TYPE.IMAGE,e.MSG_TYPE.PTT,e.MSG_TYPE.PTV,e.MSG_TYPE.VIDEO,e.MSG_TYPE.VCARD,e.MSG_TYPE.LIST,e.MSG_TYPE.LIST_RESPONSE,e.MSG_TYPE.BUTTONS_RESPONSE,e.MSG_TYPE.NATIVE_FLOW,e.MSG_TYPE.DOCUMENT,e.MSG_TYPE.STICKER,e.MSG_TYPE.LOCATION,e.MSG_TYPE.POLL_CREATION,e.MSG_TYPE.POLL_RESULT_SNAPSHOT,e.MSG_TYPE.STATUS,e.MSG_TYPE.EVENT_CREATION,e.MSG_TYPE.STICKER_PACK,e.MSG_TYPE.NEWSLETTER_QUESTION_RESPONSE]),c=new Set([].concat(Array.from(u),[e.MSG_TYPE.UNKNOWN,e.MSG_TYPE.REVOKED,e.MSG_TYPE.CIPHERTEXT,e.MSG_TYPE.INTERACTIVE])),d=new Set([e.MSG_TYPE.CHAT,e.MSG_TYPE.AUDIO,e.MSG_TYPE.IMAGE,e.MSG_TYPE.PTT,e.MSG_TYPE.VIDEO,e.MSG_TYPE.POLL_CREATION]);l.SpamFlow=s,l.SUPPORTED_MESSAGE_TYPES_FOR_MESSAGE_LEVEL_REPORTING=u,l.SPAM_REPORT_SUPPORTED_MESSAGE_TYPES=c,l.PAID_PARTNERSHIP_LABEL_SUPPORTED_MESSAGE_TYPES=d}),98);
__d("WAWebSpamUtils",["WAWebMsgGetters","WAWebSpamConstants"],(function(t,n,r,o,a,i,l){function e(e){return o("WAWebSpamConstants").SUPPORTED_MESSAGE_TYPES_FOR_MESSAGE_LEVEL_REPORTING.has(e)}function s(e){return o("WAWebSpamConstants").PAID_PARTNERSHIP_LABEL_SUPPORTED_MESSAGE_TYPES.has(e.type)&&!o("WAWebMsgGetters").getIsGif(e)}function u(e){return o("WAWebSpamConstants").SPAM_REPORT_SUPPORTED_MESSAGE_TYPES.has(e)}function c(e){return e==="album"?0:e==="audio"?1:e==="automated_greeting_message"?2:e==="biz_content_placeholder"?3:e==="biz-cover-photo"?4:e==="broadcast_notification"?5:e==="buttons_response"?6:e==="call_log"?7:e==="chat"?8:e==="ciphertext"?9:e==="comment"?10:e==="debug"?11:e==="debug_placeholder"?12:e==="document"?13:e==="e2e_notification"?14:e==="event_creation"?15:e==="event_edit_encrypted"?16:e==="event_response"?17:e==="gp2"?18:e==="groups_v4_invite"?19:e==="guest_upsell_system_msg"?20:e==="history_bundle"?21:e==="hsm"?22:e==="image"?23:e==="interactive"?24:e==="interactive_response"?25:e==="keep_in_chat"?26:e==="list"?27:e==="list_response"?28:e==="location"?29:e==="multi_vcard"?30:e==="native_flow"?31:e==="newsletter_admin_invite"?32:e==="newsletter_notification"?33:e==="newsletter_question_response"?34:e==="notification"?35:e==="notification_template"?36:e==="order"?37:e==="oversized"?38:e==="payment"?39:e==="pin_message"?40:e==="pinned_message"?41:e==="poll_creation"?42:e==="poll_result_snapshot"?43:e==="poll_update"?44:e==="product"?45:e==="protocol"?46:e==="ptt"?47:e==="ptv"?48:e==="reaction"?49:e==="reaction_enc"?50:e==="request_phone_number"?51:e==="revoked"?52:e==="rich_response"?53:e==="status"?54:e==="status_notification"?55:e==="sticker"?56:e==="sticker-pack"?57:e==="template_button_reply"?58:e==="unknown"?59:e==="vcard"?60:e==="video"?61:e==="newsletter_follower_invite"?62:e==="group-history"?63:e==="message_history_notice"?64:e==="quarantined"?65:e==="message_edit_encrypted"?66:e==="loading_media"?67:e==="poll_edit_encrypted"?68:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}l.isMsgTypeSupportedForMsgLevelReporting=e,l.isMsgTypeSupportedForPaidPartnershipLabel=s,l.isSpamSupportedForMessageType=u,l.msgTypeToReportLocalMessageType=c}),98);
__d("WAWebStatsUploadJob",["Promise","WALogger","WASmaxStatsSendBufferRPC","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s,u,c;function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC start"])));var a=yield o("WASmaxStatsSendBufferRPC").sendSendBufferRPC({addT:r,addElementValue:t});o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC end"])));var i;if(a.name==="SendBufferResponseSuccess")return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["fieldStatsUpload:sendSendBufferRPC SendBufferResponseSuccess"]))),(c||(c=n("Promise"))).resolve();a.name==="SendBufferResponseErrorNoRetry"?i=a.value.errorSendBufferNoRetryError.value:(a.name,i=a.value.errorIQErrorServiceUnavailableMixin);var l=i,d=l.code,m=l.text;return{errorCode:parseInt(d,10),errorText:m}}),m.apply(this,arguments)}l.default=d}),98);
__d("WAWebStylesEnv",["WAWebUA"],(function(t,n,r,o,a,i,l){var e=o("WAWebUA").UA.browser===o("WAWebUA").BROWSER_TYPE.CHROME||o("WAWebUA").UA.browser===o("WAWebUA").BROWSER_TYPE.OPERA,s=o("WAWebUA").UA.os===o("WAWebUA").OS_TYPE.MAC,u=o("WAWebUA").UA.os===o("WAWebUA").OS_TYPE.WINDOWS;l.hasSafariFix=o("WAWebUA").UA.isSafari,l.hasFirefoxFix=o("WAWebUA").UA.isGecko,l.hasEmoji=o("WAWebUA").UA.hasEmoji,l.hasFontFix=e,l.isOSMac=s,l.isOSWin=u}),98);
__d("WAWebSubscribePushManagerAction",["WABase64","WALogger","WAWebGetPushServerSettingsJob","WAWebL10N","WAWebMiscErrors","WAWebPushNotificationsGatingUtils","WAWebSetPushConfigJob","WAWebSetWorkerLocalStorage","asyncToGeneratorRuntime","cr:9685"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m;function p(){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(o("WAWebPushNotificationsGatingUtils").canSupportOfflineNotifications()&&"serviceWorker"in navigator){var t,a,i,l=n("cr:9685").isOfflineNotificationsEnabled(),u=(t=yield n("cr:9685").shouldSubscribePushManager(l))!=null?t:!1,c=yield(a=window.navigator.serviceWorker)==null?void 0:a.ready;if(c==null){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] update failed: no SW registration"])));return}var d=c==null||(i=c.pushManager)==null||i.getSubscription==null?void 0:i.getSubscription();if(d==null){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] failed to get push manager"])));return}if(c.scope!==window.location.origin+window.location.pathname)return;var m=(yield d)!=null;u?m?(n("cr:9685").updateOfflineNotificationL10nStrings(),r("WAWebL10N").on("locale_change",function(){n("cr:9685").updateOfflineNotificationL10nStrings()})):g():m&&y()}}),_.apply(this,arguments)}function f(e){e?g():y()}function g(){return h.apply(this,arguments)}function h(){return h=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(o("WAWebPushNotificationsGatingUtils").canEnableOfflineNotifications())try{var e;if(!("serviceWorker"in navigator))return;var t=yield(e=window.navigator.serviceWorker)==null?void 0:e.ready;if(t==null)return;var r=yield t.pushManager.getSubscription();if(r!=null)return;var a=yield o("WAWebGetPushServerSettingsJob").getPushServerSettings();if(a.errorCode!=null){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] subscribe failed: settings err ",""])),a.errorCode);return}var i=new Uint8Array(o("WABase64").decodeB64UrlSafe(String(a))),l={userVisibleOnly:!0,applicationServerKey:i},s=yield t.pushManager.subscribe(l),m=yield o("WAWebSetPushConfigJob").setPushConfig(s);if((m==null?void 0:m.errorCode)!=null){o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] subscribe failed: server err ",""])),m.errorText);return}yield o("WAWebSetWorkerLocalStorage").setWorkerLocalStorage(),yield n("cr:9685").updateOfflineNotificationL10nStrings()}catch(e){o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] subscribe failed: ",""])),e)}}),h.apply(this,arguments)}function y(){return C.apply(this,arguments)}function C(){return C=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(!o("WAWebPushNotificationsGatingUtils").canSupportOfflineNotifications())return!1;try{var e;if(!("serviceWorker"in navigator))return!1;var t=yield(e=window.navigator.serviceWorker)==null?void 0:e.ready;if(t==null)return!1;var n=yield t.pushManager.getSubscription();if(n==null)return!1;var r=yield n.unsubscribe();return yield o("WAWebSetWorkerLocalStorage").clearWorkerLocalStorage().catch(function(e){if(!(e instanceof o("WAWebMiscErrors").DbOnLogoutAbort))throw e}),r}catch(e){return o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[push-notification] unsubscribe failed: ",""])),e),!1}}),C.apply(this,arguments)}l.updatePushManager=p,l.handleOfflineNotifications=f,l.unsubscribePushManager=y}),98);
__d("WAWebSupportChatStrings",["fbt"],(function(t,n,r,o,a,i,l,s){function e(){return s._(/*BTDS*/"Official Support Account")}function u(){return s._(/*BTDS*/"This chat is with the official account of WhatsApp Support. Click to learn more.")}function c(){return s._(/*BTDS*/"Learn more about chats with WhatsApp Support.")}function d(){return s._(/*BTDS*/"WhatsApp secures your messages and calls with this account.")}function m(){return s._(/*BTDS*/"This is the official chat of WhatsApp Support. More than 2 billion people in over 180 countries use WhatsApp to stay in touch with friends and family, anytime and anywhere. WhatsApp is free and offers simple, secure and reliable messaging and calling, available on phones all over the world.")}function p(){return s._(/*BTDS*/"Start chat")}function _(){return s._(/*BTDS*/"WhatsApp Support has received your request and will start a chat with you shortly.")}function f(){return s._(/*BTDS*/"By continuing, you allow WhatsApp Support to review technical information about your account to help answer your question. Messages from WhatsApp Support may be generated by AI using a secure technology from Meta. Your personal messages and calls remain end-to-end encrypted.")}function g(){return s._(/*BTDS*/"By continuing, you allow WhatsApp Support to review technical information about your account to help answer your question. Messages from WhatsApp Support may be generated by AI using a secure technology from Meta.")}function h(){return s._(/*BTDS*/"Some answers are generated by AI using a secure technology from Meta. WhatsApp uses your messages with WhatsApp Support to provide you with relevant answers. Your personal messages and calls remain end-to-end encrypted.")}function y(){return s._(/*BTDS*/"Some answers are generated by AI using a secure technology from Meta. WhatsApp uses your messages with WhatsApp Support to provide you with relevant answers.")}function C(){return s._(/*BTDS*/"By clicking Send, you acknowledge WhatsApp may review diagnostic and performance information and the metadata associated with your account to try to troubleshoot and solve your reported issue.")}function b(){return s._(/*BTDS*/"No internet")}function v(){return s._(/*BTDS*/"You must connect to the internet to access chat with WhatsApp Support. Check your device's internet connection and try again.")}l.SupportChatSubtitle=e,l.SupportChatSystemMessage=u,l.SupportChatLearnMoreLinkText=c,l.SupportChatSecurityModalText=d,l.SupportChatDescription=m,l.SupportChatStartButtonText=p,l.SupportChatConfirmationModalText=_,l.SupportChatDeviceInfoAIDisclaimer=f,l.SupportChatDeviceInfoAISmbDisclaimer=g,l.SupportAINuxDisclaimer=h,l.SupportAINuxSmbDisclaimer=y,l.SupportChatDeviceInfoDisclaimer=C,l.SupportChatNoInternetModalTitle=b,l.SupportChatNoInternetModalMessage=v}),226);
__d("WAWebUpdaterDownloadStateType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["UPDATE_DOWNLOADED","UPDATE_NOT_AVAILABLE","ERROR"]);i.DownloadState=e}),66);
__d("WAWebUpdaterVersion",["WACustomError","WAWebBuildConstants"],(function(t,n,r,o,a,i,l){var e=(function(e){function t(t){var n;return n=e.call(this,t!=null?t:"")||this,n.name="InvalidVersion",n}return babelHelpers.inheritsLoose(t,e),t})(o("WACustomError").CustomError),s=(function(){function t(t){var n=t.split(".");if(n.length!==3)throw new e("Version format does not contain 3 numbers.");if(this.primary=Number.parseInt(n[0],10),this.secondary=Number.parseInt(n[1],10),this.tertiary=Number.parseInt(n[2],10),Number.isNaN(this.primary)||Number.isNaN(this.secondary)||Number.isNaN(this.tertiary))throw new e("Version contains a non-parseable string.")}var n=t.prototype;return n.lt=function(n){var e=n;return typeof e=="string"&&(e=new t(e)),this.primary<e.primary||this.primary===e.primary&&this.secondary<e.secondary||this.primary===e.primary&&this.secondary===e.secondary&&this.tertiary<e.tertiary},n.equals=function(n){var e=n;return e==null||e===""?!1:(typeof e=="string"&&(e=new t(e)),this.primary===e.primary&&this.secondary===e.secondary&&this.tertiary===e.tertiary)},n.toString=function(){return this.primary+"."+this.secondary+"."+this.tertiary},t})();function u(e){return e.replace(/\.[di]$/,"")}var c=u(o("WAWebBuildConstants").VERSION_STR);l.Version=s,l.sanitizeVersionStr=u,l.SANITIZED_VERSION_STR=c}),98);
__d("WAWebSwUpdater",["Promise","WALogger","WAWebBuildConstants","WAWebUpdaterDownloadStateType","WAWebUpdaterVersion"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m;function p(){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[sw] update starts. Current app version: ",""])),String(new(o("WAWebUpdaterVersion")).Version(o("WAWebBuildConstants").VERSION_BASE)));var t=navigator.serviceWorker;return t?t.ready.then(function(e){return new(m||(m=n("Promise")))(function(n){var r;function a(e){l(),o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unable to update service worker to version. Error: ",""])),String(e)).sendLogs("[sw] sw-update-failed: "+String(e),{sampling:.1})}function i(){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[sw] updated"]))),l(),n(o("WAWebUpdaterDownloadStateType").DownloadState.UPDATE_DOWNLOADED)}function l(){t.removeEventListener("error",a),t.removeEventListener("controllerchange",i)}t.addEventListener("error",a),t.addEventListener("controllerchange",i),(r=e.active)!=null&&(r=r.scriptURL)!=null&&r.includes("serviceworker.js")?e.unregister():e.update().then(function(){e.installing||(o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["[sw] update is not available"]))),n(o("WAWebUpdaterDownloadStateType").DownloadState.UPDATE_NOT_AVAILABLE))}).catch(function(e){a(e),n(o("WAWebUpdaterDownloadStateType").DownloadState.ERROR)})})}).catch(function(e){return o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Unable to update serviceworker, error: ",""])),e).sendLogs("sw-update-failed"),o("WAWebUpdaterDownloadStateType").DownloadState.ERROR}):(m||(m=n("Promise"))).resolve(o("WAWebUpdaterDownloadStateType").DownloadState.ERROR)}l.updateSw=p}),98);
__d("WAWebTPPdfViewerGatingUtils",["WAWebABProps","WAWebEnvironment","WAWebMimeTypes","WAWebUA","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return!r("WAWebEnvironment").isWindows}function s(){return o("WAWebABProps").getABPropConfigValue("wa_webtp_use_thumbnail_renderer")}function u(){return e()&&o("WAWebABProps").getABPropConfigValue("wa_webtp_use_pdf_renderer")}function c(){return e()&&o("WAWebABProps").getABPropConfigValue("wa_webtp_use_pdf_editor")}function d(e){return o("WAWebMimeTypes").isPdfDocument(e)&&c()}function m(e){return o("WAWebMimeTypes").isPdfDocument(e)&&u()}function p(){return e()&&r("justknobx")._("1130")}function _(t){return e()&&r("justknobx")._("1130")&&(t==null||o("WAWebMimeTypes").isPdfDocument(t))&&o("WAWebABProps").getABPropConfigValue("wa_webtp_use_pdf_editor")}function f(){return e()&&r("justknobx")._("1228")}var g=137;function h(){var e=o("WAWebUA").UA.isChrome,t=o("WAWebUA").UA.browser===o("WAWebUA").BROWSER_TYPE.EDGE;return!e&&!t?null:parseInt(o("WAWebUA").UA.browserVersion.split(".")[0],10)}function y(){var e=h();return e!=null&&e>=g}function C(){var e=h();return e!=null&&e>=g?"supported":e!=null&&e<g?"upgrade_browser":"unsupported"}l.isWebTPPlatformSupported=e,l.isWebTPThumbnailRendererEnabled=s,l.isWebTPPdfViewerEnabled=u,l.isWebTPPdfEditorEnabled=c,l.isWebTPPdfEditorEnabledForMimeType=d,l.isWebTPPdfViewerEnabledForMimeType=m,l.isWebTP3PSharingEnabled=p,l.isWebTPPdfEditAndShareEnabled=_,l.isWebTP3PExtensionSharingEnabled=f,l.isWebTPDIPSupported=y,l.getWebTPBrowserCompatibility=C}),98);
__d("WAWebTasksTaskType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({CANONICAL_ENT_TOKEN_REFRESH:"canonicalEntTokenRefresh",CLEAN_TC_TOKENS:"cleanTcTokens",LOG_DAILY_STATS:"logDailyStats",LOG_DB_ROW_COUNTS:"logDbRowCounts",ROTATE_KEY:"rotateKey",SYNC_AB_PROPS:"syncAbProps",SYNC_CONTACTS:"syncContacts",MONITOR_DB_STORAGE:"monitorDbStorage",REPORT_SYNCD_ACTION_STAT:"reportSyncdActionStat",LT_HASH_CHECK:"ltHashCheck",REQUEST_ALL_SYNCD_MISSING_KEYS:"requestAllSyncdMissingKeys",REPORT_SYNCD_KEY_STATS:"reportSyncdKeyStats",SYNCD_SYNC_ALL_COLLECTIONS:"syncdSyncAllCollections",CLEAN_ORPHAN_ADD_ONS:"cleanOrphanAddOns",CLEAN_PAST_PARTICIPANTS:"cleanPastParticipants",CLEAN_EXPIRED_UTM:"cleanExpiredUtm",SEND_NON_MESSAGE_DATA_REQUEST:"sendNonMessageDataRequest",LOG_HISTORY_SYNC_STATUS_AFTER_PAIRING:"logHistorySyncStatusAfterPairing",DELETE_NEWSLETTER_PREVIEW_CHATS:"deleteNewsletterPreviewChats",REPORT_DB_VERSIONS:"reportDbVersions",UPDATE_EXPIRED_TEXT_STATUS:"updateExpiredTextStatus",RESTART_RECENT_SYNC:"restartRecentSync",CLEANUP_REPORTING_TABLE:"cleanupReportingTable",CLEANUP_GROUP_HISTORY_REPORTING_TOKEN_TABLE:"cleanupGroupHistoryReportingTokenTable",CLEANUP_3PD_SIGNALS_TABLE:"cleanup3PDSignalsTable",FETCH_QUICK_PROMOTIONS:"fetchQuickPromotions",WAFFLE_SCHEDULED_TASKS:"waffleScheduledTasks",CLEAR_GALAXY_FLOWS_CACHE:"clearGalaxyFlowsCache",CLEAR_FALCO_BUFFER:"clearFalcoBuffer",SEND_WAM_FINGERPRINT:"sendWamFingerprint",INACTIVE_GROUP_LID_MIGRATION:"inactiveGroupLidMigration",MIGRATE_META_AI_MESSAGES_TO_HISTORICAL_THREAD:"migrateMetaAIMessagesToHistoricalThread",CLEAN_WEBTP_SHARED_SESSIONS:"cleanWebTPSharedSessions"});i.TaskType=e}),66);
__d("WAWebUnstyledButtonStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={button:{fontFamily:"xjb2p0i",fontSize:"xk390pu",color:"x1heor9g",cursor:"x1ypdohk",backgroundColor:"xjbqb8w",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",$$css:!0},disabled:{cursor:"xmper1u",$$css:!0}};l.default=e}),98);
__d("WAWebUnstyledButton.react",["WAWebClassnames","WAWebKeyboardIsKeyActivation","WAWebUISpacing","WAWebUnstyledButtonStyles","WDSFocusStateStyles","react","stylex","useMergeRefs"],(function(t,n,r,o,a,i,l){var e=["ref","children","className_DONOTUSE","customDataAttr","dataTab","dir","disabled","onBlur","onClick","onContextMenu","onDisabledClick","onFocus","onMouseDown","onMouseEnter","onMouseLeave","onMouseOver","onMouseUp","onPaste","role","tabIndex","testid","title","type","xstyle"],s,u,c,d=c||(c=o("react")),m=s||(s=r("react")),p=d.useCallback,_=d.useRef;function f(t){var n,a=t.ref,i=t.children,l=t.className_DONOTUSE,s=t.customDataAttr,c=t.dataTab,d=t.dir,f=t.disabled,g=t.onBlur,h=t.onClick,y=t.onContextMenu,C=t.onDisabledClick,b=t.onFocus,v=t.onMouseDown,S=t.onMouseEnter,R=t.onMouseLeave,L=t.onMouseOver,E=t.onMouseUp,k=t.onPaste,I=t.role,T=t.tabIndex,D=T===void 0?0:T,x=t.testid,$=t.title,P=t.type,N=P===void 0?"button":P,M=t.xstyle,w=babelHelpers.objectWithoutPropertiesLoose(t,e),A=_(null),F=r("useMergeRefs")(a,A),O=(n=w["aria-label"])!=null?n:$,B=p(function(e){if(r("WAWebKeyboardIsKeyActivation")(e)){var t;e.stopPropagation(),e.preventDefault(),(t=A.current)==null||t.click()}},[]),W=f===!0?C:h,q=p(function(e){W!=null&&(f===!0&&(e.stopPropagation(),e.preventDefault()),W(e))},[W,f]);return m.jsx("button",babelHelpers.extends({className:o("WAWebClassnames").classnamesConvertMeToStylexPlease((u||(u=r("stylex")))(r("WAWebUnstyledButtonStyles").button,o("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus,o("WAWebUISpacing").uiPadding.all0,f===!0&&r("WAWebUnstyledButtonStyles").disabled,M),l),tabIndex:D,"data-tab":c!=null?c:void 0,"data-testid":void 0,disabled:f===!0&&C==null,"aria-disabled":f===!0,onClick:W==null?null:q,onContextMenu:y,onMouseEnter:S,onMouseOver:L,onMouseLeave:R,onMouseDown:v,onMouseUp:E,onKeyPress:B,onPaste:k,onFocus:b,onBlur:g,ref:F,title:$,type:N,role:I,dir:d,"aria-label":O,"data-custom-attr":s},w,{children:i}))}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("WAWebText.react",["WAWebABProps","WAWebBox.react","WAWebStylesEnv","WAWebUnstyledButton.react","WDSText.react","react"],(function(t,n,r,o,a,i,l){var e=["children","color","testid","textAlign","textWrap"],s=["ref"],u=["color","textAlign","weight","xstyle"],c=["ref"],d=["xstyle"],m=["children","color","textAlign","weight"],p=["ref"],_=["xstyle"],f=["children","color","textAlign","weight"],g=["ref"],h=["xstyle"],y=["children","color","textAlign","weight"],C=["ref"],b=["xstyle"],v=["children","color","textAlign","weight"],S=["ref"],R=["xstyle"],L=["children","color","textAlign","weight"],E=["ref"],k=["className_DONOTUSE","color","highlightOnHover","weight","xstyle","xstyle"],I=["ref"],T=["color","textAlign","weight","xstyle"],D=["ref"],x=["xstyle"],$=["children","color","textAlign","weight"],P=["ref"],N=["xstyle"],M=["children","color","textAlign","weight"],w=["ref"],A=["xstyle"],F=["children","color","textAlign","weight"],O=["ref"],B=["xstyle"],W=["children","color","textAlign","weight"],q,U=q||(q=r("react")),V={light:{fontWeight:"x1iikomf",$$css:!0},normal:{fontWeight:"x1fcty0u",$$css:!0},medium:{fontWeight:"xk50ysn",$$css:!0},semibold:{fontWeight:"x1s688f",$$css:!0},bold:{fontWeight:"x117nqv4",$$css:!0},inherit:{fontWeight:"x1pd3egz",$$css:!0}},H={teal:{color:"xo1mcw5",$$css:!0},critical:{color:"x30a034",$$css:!0},primary:{color:"x14ug900",$$css:!0},secondary:{color:"xhslqc4",$$css:!0},secondaryEmphasized:{color:"xhslqc4",$$css:!0},success:{color:"xo1mcw5",$$css:!0},secondaryLighter:{color:"xhslqc4",$$css:!0},link:{color:"x1ph7ams",$$css:!0},white:{color:"xzqyxu6",$$css:!0},forcedPrimary:{color:"xw2npq5",$$css:!0},wdsContentDefault:{color:"x14ug900",$$css:!0},wdsContentDeemphasized:{color:"xhslqc4",$$css:!0},wdsAccent:{color:"x1v5yvga",$$css:!0},wdsContentDisabled:{color:"x18cpw0e",$$css:!0},wdsSecondaryNegativeEmphasized:{color:"xqnyt8g",$$css:!0}},G={start:{textAlign:"x1yc453h",$$css:!0},center:{textAlign:"x2b8uid",$$css:!0},end:{textAlign:"xp4054r",$$css:!0}},z={isOSMac:{fontSize:"x1jchvi3",lineHeight:"x1pujyh6",$$css:!0}};function j(t){var n=t.children,r=t.color,a=t.testid,i=t.textAlign,l=t.textWrap,s=babelHelpers.objectWithoutPropertiesLoose(t,e),u=r==="secondaryEmphasized"||r==="secondary"||r==="secondaryLighter"||r==="wdsContentDeemphasized"?"contentDeemphasized":r==="teal"||r==="success"?"contentActionEmphasized":r==="link"?"contentExternalLink":r==="critical"?"secondaryNegative":r==="white"?"persistentAlwaysWhite":r==="wdsAccent"?"accent":r==="wdsContentDisabled"?"contentDisabled":r==="wdsSecondaryNegativeEmphasized"?"secondaryNegativeEmphasized":r==="forcedPrimary"?"persistentAlwaysBlack":r==="primary"||r==="wdsContentDefault"||r===null||r===void 0?"contentDefault":(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+r)})(),c=o("WAWebABProps").getABPropConfigValue("wds_web_roboto"),d=l==="ellipsis"?1:null;return{textAlign:i,children:n,colorName:u,dir:s.dir,robotoPropValue:c,maxLines:d}}function K(e){var t,n=e.ref,o=babelHelpers.objectWithoutPropertiesLoose(e,s),a=o.color,i=o.textAlign,l=o.weight,c=l===void 0?"normal":l,d=o.xstyle,m=babelHelpers.objectWithoutPropertiesLoose(o,u),p=a!=null?H[a]:null,_=V[c],f=i!=null?G[i]:null;return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},m,{as:(t=m.as)!=null?t:"div",labelFor:m.labelFor,ref:n,xstyle:[d,_,p,f]}))}K.displayName=K.name+" [from "+i.id+"]";var Q={large:{fontSize:"xlm9qay",lineHeight:"x1w7sdjq",$$css:!0}};function X(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,c),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,d),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"primary"}));if(s!=null){var u=l.children,p=l.color,_=l.textAlign,f=l.weight,g=babelHelpers.objectWithoutPropertiesLoose(l,m);return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},g,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Headline2"},s))}))}return U.jsx(K,babelHelpers.extends({},l,{color:(n=a.color)!=null?n:"primary",ref:o,xstyle:[i,Q.large]}))}X.displayName=X.name+" [from "+i.id+"]";var Y={title:{fontSize:"x1lkfr7t",lineHeight:"xdbd6k5",$$css:!0}};function J(e){var t,n,a=e.ref,i=babelHelpers.objectWithoutPropertiesLoose(e,p),l=i.xstyle,s=babelHelpers.objectWithoutPropertiesLoose(i,_),u=j(babelHelpers.extends({},s,{color:(t=i.color)!=null?t:"primary"}));if(u!=null){var c=s.children,d=s.color,m=s.textAlign,g=s.weight,h=babelHelpers.objectWithoutPropertiesLoose(s,f),y=s.weight==="semibold"||s.weight==="bold";return y?U.jsx(r("WAWebBox.react"),babelHelpers.extends({},h,{ref:a,xstyle:l,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body1Emphasized"},u))})):U.jsx(r("WAWebBox.react"),babelHelpers.extends({},h,{ref:a,xstyle:l,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body1"},u))}))}return U.jsx(K,babelHelpers.extends({},s,{color:(n=i.color)!=null?n:"primary",ref:a,xstyle:[l,Y.title,o("WAWebStylesEnv").isOSMac?z.isOSMac:null]}))}J.displayName=J.name+" [from "+i.id+"]";var Z={muted:{fontSize:"x1f6kntn",lineHeight:"x16h55sf",$$css:!0}};function ee(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,g),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,h),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"secondaryEmphasized"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,y),_=l.weight==="semibold"||l.weight==="bold";return _?U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2Emphasized"},s))})):U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2"},s))}))}return U.jsx(K,babelHelpers.extends({},l,{color:(n=a.color)!=null?n:"secondaryEmphasized",ref:o,xstyle:[i,Z.muted]}))}ee.displayName=ee.name+" [from "+i.id+"]";var te={sectionTitle:{fontSize:"x1f6kntn",lineHeight:"x1u7k74",$$css:!0}};function ne(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,C),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,b),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"teal"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,v),_=l.weight==="semibold"||l.weight==="bold";return _?U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2Emphasized"},s))})):U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2"},s))}))}return U.jsx(K,babelHelpers.extends({},l,{color:(n=a.color)!=null?n:"teal",ref:o,xstyle:[i,te.sectionTitle]}))}ne.displayName=ne.name+" [from "+i.id+"]";var re={small:{fontSize:"x1nxh6w3",lineHeight:"xcgms0a",$$css:!0}};function oe(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,S),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,R),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"secondary"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,L),_=l.weight==="semibold"||l.weight==="bold";return _?U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2Emphasized"},s))})):U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2"},s))}))}return U.jsx(K,babelHelpers.extends({},l,{color:(n=a.color)!=null?n:"secondary",ref:o,xstyle:[i,re.small]}))}oe.displayName=oe.name+" [from "+i.id+"]";var ae={teal:{color:"x1v5yvga",$$css:!0},blue:{color:"x1ph7ams",$$css:!0},green:{color:"xo1mcw5",$$css:!0},primary:{color:"x14ug900",$$css:!0},actionEmphasized:{color:"xo1mcw5",$$css:!0},disabled:{color:"x18cpw0e",$$css:!0}},ie={teal:{":hover_color":"x7fdv2",$$css:!0},blue:{":hover_color":"xa9mtye",$$css:!0},green:{":hover_color":"xyla9g4",$$css:!0},primary:{":hover_color":"xxxijta",$$css:!0},actionEmphasized:{":hover_color":"xyla9g4",$$css:!0},disabled:{":hover_color":"x5ui1cc",$$css:!0}};function le(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,E),o=n.className_DONOTUSE,a=n.color,i=a===void 0?"blue":a,l=n.highlightOnHover,s=n.weight,u=s===void 0?"medium":s,c=n.xstyle,d=n.xstyle,m=babelHelpers.objectWithoutPropertiesLoose(n,k),p=V[u];return U.jsx(r("WAWebUnstyledButton.react"),babelHelpers.extends({},m,{xstyle:[d,p,l===!0?ie[i]:ae[i]],ref:t}))}le.displayName=le.name+" [from "+i.id+"]";function se(e){var t=e.children,n=e.color;return U.jsx(r("WAWebBox.react"),{as:"span",xstyle:H[n],children:t})}se.displayName=se.name+" [from "+i.id+"]";function ue(e){var t,n=e.ref,o=babelHelpers.objectWithoutPropertiesLoose(e,I),a=o.color,i=o.textAlign,l=o.weight,s=l===void 0?"normal":l,u=o.xstyle,c=babelHelpers.objectWithoutPropertiesLoose(o,T),d=a!=null?H[a]:null,m=V[s],p=i!=null?G[i]:null;return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},c,{as:(t=c.as)!=null?t:"div",labelFor:c.labelFor,ref:n,xstyle:[m,d,p,u]}))}ue.displayName=ue.name+" [from "+i.id+"]";var ce={style:{fontSize:"x6prxxf",lineHeight:"x1o2sk6j",$$css:!0}};function de(e){var t,n=e.ref,o=babelHelpers.objectWithoutPropertiesLoose(e,D),a=o.xstyle,i=babelHelpers.objectWithoutPropertiesLoose(o,x),l=j(i);if(l!=null){var s=i.children,u=i.color,c=i.textAlign,d=i.weight,m=babelHelpers.objectWithoutPropertiesLoose(i,$),p=i.weight==="semibold"||i.weight==="bold";return p?U.jsx(r("WAWebBox.react"),babelHelpers.extends({},m,{ref:n,xstyle:a,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body1Emphasized"},l))})):U.jsx(r("WAWebBox.react"),babelHelpers.extends({},m,{ref:n,xstyle:a,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body1"},l))}))}return U.jsx(ue,babelHelpers.extends({},i,{color:(t=i.color)!=null?t:"wdsContentDefault",ref:n,xstyle:[ce.style,a]}))}de.displayName=de.name+" [from "+i.id+"]";var me={style:{fontSize:"xngnso2",lineHeight:"xcgk4ki",$$css:!0}};function pe(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,P),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,N),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"wdsContentDefault"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,M);return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Headline1"},s))}))}return U.jsx(ue,babelHelpers.extends({},l,{color:(n=l.color)!=null?n:"wdsContentDefault",ref:o,xstyle:[me.style,i]}))}pe.displayName=pe.name+" [from "+i.id+"]";var _e={style:{fontSize:"x1603h9y",lineHeight:"xgif2c7",$$css:!0}};function fe(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,w),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,A),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"wdsContentDefault"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,F);return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Headline2"},s))}))}return U.jsx(ue,babelHelpers.extends({},l,{color:(n=l.color)!=null?n:"wdsContentDefault",ref:o,xstyle:[_e.style,i]}))}fe.displayName=fe.name+" [from "+i.id+"]";var ge={style:{fontSize:"x7yx35o",lineHeight:"x19v9tvf",$$css:!0}};function he(e){var t,n,o=e.ref,a=babelHelpers.objectWithoutPropertiesLoose(e,O),i=a.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(a,B),s=j(babelHelpers.extends({},l,{color:(t=a.color)!=null?t:"wdsContentDeemphasized"}));if(s!=null){var u=l.children,c=l.color,d=l.textAlign,m=l.weight,p=babelHelpers.objectWithoutPropertiesLoose(l,W);return U.jsx(r("WAWebBox.react"),babelHelpers.extends({},p,{ref:o,xstyle:i,children:U.jsx(r("WDSText.react"),babelHelpers.extends({type:"Body2"},s))}))}return U.jsx(ue,babelHelpers.extends({},l,{color:(n=l.color)!=null?n:"wdsContentDeemphasized",ref:o,xstyle:[ge.style,i]}))}he.displayName=he.name+" [from "+i.id+"]",l.WAWebTextLarge=X,l.WAWebTextTitle=J,l.WAWebTextMuted=ee,l.WAWebTextSectionTitle=ne,l.WAWebTextSmall=oe,l.WAWebClickableText=le,l.WAWebTextColor=se,l.WAWebTextTitleRefreshed=de,l.WAWebTextLargeRefreshed=pe,l.WAWebTextMediumRefreshed=fe,l.WAWebTextMutedRefreshed=he}),98);
__d("WAWebText_DONOTUSE.react",["WAWebClassnames","react","stylex"],(function(t,n,r,o,a,i,l){var e=["ref"],s=["ref"],u=["level"],c=["ref"],d=["ref"],m=["ref"],p=["ref"],_=["htmlFor"],f,g,h=f||(f=r("react")),y={10:{fontSize:"x190qgfh",$$css:!0},12:{fontSize:"x1pg5gke",$$css:!0},13:{fontSize:"x1nxh6w3",$$css:!0},14:{fontSize:"x1f6kntn",$$css:!0},15:{fontSize:"x6prxxf",$$css:!0},16:{fontSize:"x1jchvi3",$$css:!0},18:{fontSize:"x1c3i2sq",$$css:!0},20:{fontSize:"x1603h9y",$$css:!0},24:{fontSize:"xngnso2",$$css:!0},28:{fontSize:"x1q74xe4",$$css:!0},32:{fontSize:"x579bpy",$$css:!0},inherit:{fontSize:"x1qlqyl8",$$css:!0}},C={light:{fontWeight:"x1iikomf",$$css:!0},normal:{fontWeight:"x1fcty0u",$$css:!0},medium:{fontWeight:"xk50ysn",$$css:!0},semibold:{fontWeight:"x1s688f",$$css:!0},bold:{fontWeight:"x117nqv4",$$css:!0},inherit:{fontWeight:"x1pd3egz",$$css:!0}},b={accent:{color:"x1v5yvga",$$css:!0},danger:{color:"x30a034",$$css:!0},dark:{color:"x14ug900",$$css:!0},primary:{color:"x14ug900",$$css:!0},secondary:{color:"xhslqc4",$$css:!0},muted:{color:"xhslqc4",$$css:!0},success:{color:"x1du590y",$$css:!0},disabled:{color:"xhslqc4",$$css:!0},link:{color:"x1ph7ams",$$css:!0}},v={sectionTitle:{fontSize:"x1f6kntn",lineHeight:"x1u7k74",color:"x1v5yvga",$$css:!0},sectionTitleLarger:{fontSize:"x1jchvi3",lineHeight:"x1u7k74",color:"x1v5yvga",$$css:!0},chatInfoSectionTitle:{fontSize:"x1f6kntn",lineHeight:"x1u7k74",color:"xhslqc4",$$css:!0},plain:{fontSize:"x1f6kntn",lineHeight:"x16h55sf",$$css:!0}};function S(t){var n,a,i=t.ref,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=l.as,u=s===void 0?"span":s,c=l.size,d=c===void 0?"14":c,m=l.theme,p=l.weight,_=p===void 0?"normal":p,f=u,S=l.color?b[l.color]:null,R=C[_],L=((n=l.xstyle)!=null?n:{}).fontSize!=null?null:d,E=L!=null?y[L]:null,k;return m&&(k=v[m]),h.jsx(f,babelHelpers.extends({},l.extras,{ref:i,className:o("WAWebClassnames").classnamesConvertMeToStylexPlease((g||(g=r("stylex")))([E,k,R,S,l.xstyle]),l.className),"aria-label":(a=l.ariaLabel)!=null?a:void 0,"data-testid":void 0,children:l.children}))}S.displayName=S.name+" [from "+i.id+"]";var R={1:"h1",2:"h2",3:"h3",4:"h4",5:"h5",6:"h6"};function L(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,s),r=n.level,o=r===void 0?"1":r,a=babelHelpers.objectWithoutPropertiesLoose(n,u);return h.jsx(S,babelHelpers.extends({ref:t,as:R[o]},a))}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,c);return h.jsx(S,babelHelpers.extends({ref:t,as:"p"},n))}E.displayName=E.name+" [from "+i.id+"]";function k(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,d);return h.jsx(S,babelHelpers.extends({ref:t,as:"div"},n))}k.displayName=k.name+" [from "+i.id+"]";function I(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,m);return h.jsx(S,babelHelpers.extends({ref:t,as:"span"},n))}I.displayName=I.name+" [from "+i.id+"]";function T(e){var t=e.ref,n=babelHelpers.objectWithoutPropertiesLoose(e,p),r=n.htmlFor,o=babelHelpers.objectWithoutPropertiesLoose(n,_);return h.jsx(S,babelHelpers.extends({ref:t,as:"label"},o,{extras:{htmlFor:r}}))}T.displayName=T.name+" [from "+i.id+"]",l.Text=S,l.TextHeader=L,l.TextParagraph=E,l.TextDiv=k,l.TextSpan=I,l.TextLabel=T}),98);
__d("WAWebToast.react",["WAWebAccessibility.react","WAWebFbtCommon","WAWebFocusTracer","WAWebKeyboardConstants","WAWebKeyboardTabUtils","WAWebToastManager","WAWebUISpacing","WAWebXAltIcon.react","WDSFocusStateStyles","react","stylex","uniqueID","useLazyRef","useWAWebTimeout"],(function(t,n,r,o,a,i,l){var e=["ref"],s,u,c,d=c||(c=o("react")),m=s||(s=r("react")),p=d.useEffect,_=d.useImperativeHandle,f=d.useRef,g=4e3,h={btnSuccess:{color:"x1du590y",fontWeight:"x117nqv4",$$css:!0},button:{color:"x17daq4n",cursor:"x1ypdohk",fontSize:"x1f6kntn",lineHeight:"x1evy7pa",flexShrink:"x2lah0s",":focus-visible_borderStartStartRadius":"xfuo7wg",":focus-visible_borderStartEndRadius":"xepj7l6",":focus-visible_borderEndEndRadius":"x1911790",":focus-visible_borderEndStartRadius":"xpxzo57",$$css:!0},close:{color:"xto31z9",":focus-visible_borderStartStartRadius":"xfuo7wg",":focus-visible_borderStartEndRadius":"xepj7l6",":focus-visible_borderEndEndRadius":"x1911790",":focus-visible_borderEndStartRadius":"xpxzo57",$$css:!0},right:{insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},toast:{alignItems:"x6s0dn4",backgroundColor:"x1e6sl3u",borderStartStartRadius:"x2yqj0j",borderStartEndRadius:"x1u1eq46",borderEndEndRadius:"x1fxmhz6",borderEndStartRadius:"xr2wkf5",color:"x17t9dm2",display:"x78zum5",fontSize:"x1f6kntn",lineHeight:"x1evy7pa",$$css:!0}};function y(e){return e===void 0&&(e=""),r("uniqueID")(e||"toast")}function C(t){var n,a=t.ref,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=i.msg,s=i.action,u=i.duration,c=u===void 0?g:u,d=i.visibile,p=d===void 0?!0:d,f=r("useLazyRef")(function(){return y()}).current,h=(n=i.id)!=null?n:f,C=o("useWAWebTimeout").useTimeout(function(){o("WAWebToastManager").ToastManager.close(h)},c,{immediate:!0}),v=C[0],R=function(){o("WAWebToastManager").ToastManager.close(h)};if(_(a,function(){return{restartDelay:v}}),!p)return m.jsx(o("WAWebAccessibility.react").InvisibleAnnouncement,{text:l,assertive:!0});var L;if(s){var E=Array.isArray(s)?s:[s];L=E.map(function(e,t){return m.jsx(b,{buttonText:e.actionText,onClick:e.dismiss===!0?R:e.onAction,theme:e.theme},e.actionText.toString()+t)})}return m.jsx(S,{actionText:l,actionButtons:L})}C.displayName=C.name+" [from "+i.id+"]";function b(e){var t=e.buttonText,n=e.onClick,a=e.ref,i=e.theme;return m.jsx("button",babelHelpers.extends({},(u||(u=r("stylex"))).props(h.button,o("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus,o("WAWebUISpacing").uiMargin.start15,i==="success"&&h.btnSuccess),{onClick:n,ref:a,children:t}))}b.displayName=b.name+" [from "+i.id+"]";function v(e){var t=e.buttonText,n=e.onClick,a=e.ref;return m.jsx("button",babelHelpers.extends({},(u||(u=r("stylex"))).props(o("WDSFocusStateStyles").WDSFocusStateStyles.genericFocus,h.close,o("WAWebUISpacing").uiMargin.start15),{onClick:n,"aria-label":r("WAWebFbtCommon")("Close"),ref:a,children:m.jsx(o("WAWebXAltIcon.react").XAltIcon,{})}))}v.displayName=v.name+" [from "+i.id+"]";function S(e){var t=e.actionButtons,n=e.actionText,a=e.dismissButton,i=e.focusButtonRef,l=e.toastPosition;p(function(){var e=i==null?void 0:i.current;e instanceof HTMLButtonElement&&e.focus()},[n,i]);var s=f(null),c=function(t){if(t.key===o("WAWebKeyboardConstants").KEYBOARD_EVENT_KEY_VALUE.TAB){var e=s.current;if(e!=null&&e.contains(document.activeElement)){var n=o("WAWebKeyboardTabUtils").getNextTabbableElement(e,t.shiftKey?o("WAWebKeyboardTabUtils").TabDirection.BACKWARD:o("WAWebKeyboardTabUtils").TabDirection.FORWARD,o("WAWebKeyboardTabUtils").FocusType.TABBABLE);n!=null&&(t.stopPropagation(),t.preventDefault(),r("WAWebFocusTracer").focus(n))}}};return m.jsxs("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(h.toast,o("WAWebUISpacing").uiPadding.vert12,o("WAWebUISpacing").uiPadding.horiz16,l==="RIGHT"&&h.right),{ref:s,tabIndex:0,onKeyDown:c,"data-testid":void 0,children:[n,t,a,m.jsx(o("WAWebAccessibility.react").InvisibleAnnouncement,{text:n,assertive:!0})]}))}S.displayName=S.name+" [from "+i.id+"]";function R(e){var t=e.action,n=e.msg,a=y(),i=null;o("WAWebToastManager").ToastManager.open(m.jsx(C,{id:a,msg:n,action:{actionText:r("WAWebFbtCommon")("Undo"),onAction:function(){i&&(window.clearTimeout(i),i=null,o("WAWebToastManager").ToastManager.close(a))}}})),i=window.setTimeout(function(){t()},g)}l.genId=y,l.Toast=C,l.ToastActionBtn=b,l.ToastDismissBtn=v,l.ToastBody=S,l.openUndoToast=R}),98);
__d("WAWebTooltip.react",["WAWebPopover.react","WAWebUISpacing","react","stylex"],(function(t,n,r,o,a,i,l){var e=["arrowXStyle","element","onClick","tooltipXStyle"],s,u,c=s||(s=r("react")),d={tooltip:{display:"x1rg5ohu",maxWidth:"x1dc814f",fontSize:"x1nxh6w3",color:"xowaa7l",textAlign:"x2b8uid",textOverflow:"xlyipyv",textShadow:"x7opvkv",backgroundColor:"xpip370",borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",$$css:!0},arrow:{backgroundColor:"xpip370",$$css:!0}};function m(e){var t=e.children,n=e.onClick,a=e.ref,i=e.tooltipXStyle,l;return n!=null&&(l={onClick:n,role:"button",tabIndex:0}),c.jsx("div",babelHelpers.extends({ref:a,role:"tooltip","data-testid":void 0,className:(u||(u=r("stylex")))([d.tooltip,o("WAWebUISpacing").uiPadding.horiz16,o("WAWebUISpacing").uiPadding.vert8,i])},l,{children:t}))}m.displayName=m.name+" [from "+i.id+"]";function p(t){var n=t.arrowXStyle,r=t.element,a=t.onClick,i=t.tooltipXStyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=babelHelpers.extends({},l,{dismissable:!!a,element:c.jsx(m,{onClick:a,tooltipXStyle:i,children:r}),arrowXStyle:[d.arrow,n]}),u=o("WAWebPopover.react").usePopoverElement(s),p=u.hidePopover,_=u.popover,f=u.popoverIsVisible,g=u.showPopover;return{tooltip:_,showTooltip:g,hideTooltip:p,tooltipIsVisible:f}}function _(e){var t=e.alignment,n=e.buffer,r=n===void 0?8:n,o=e.children,a=e.enableEnterTransition,i=a===void 0?!0:a,l=e.enableExitTransition,s=l===void 0?!1:l,u=e.name,c=e.openingDelay,d=e.position,m=e.showOnFocus,_=m===void 0?!0:m,f=e.targetRef,g=e.testid,h=p({target:f,position:d,alignment:t,element:o,buffer:r,name:u,enableEnterTransition:i,enableExitTransition:s,initHandling:_?["hover","focus"]:"hover",openingDelay:c,testid:g}),y=h.tooltip;return y}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=p(e),n=t.tooltip;return n}f.displayName=f.name+" [from "+i.id+"]",l.PopoverAlignment=o("WAWebPopover.react").PopoverAlignment,l.PopoverPosition=o("WAWebPopover.react").PopoverPosition,l.useTooltip=p,l.WAWebHoverTooltip=_,l.WAWebControllableTooltip=f}),98);
__d("privateStatsUpload",["Promise","WABase64","WACryptoHmac","WALogger","WAPromiseRetryLoop","WATimeUtils","WAWamStorage","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g,h="https://dit.whatsapp.net/deidentified_telemetry",y="245118376424571|3e7d275052f1522bf3200afcf53841a7",C=0,b="WAMEventBuffer.dat",v=3,S=9,R=111e3,L=3067002,E=3067003,k=3067004;function I(e){return{result:e.result,httpResponseCode:e.httpResponseCode,uploadTime:o("WATimeUtils").monotonicTimeSince(e.uploadStartTime)}}function T(e,t,n,r){return D.apply(this,arguments)}function D(){return D=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a,i){if((yield o("WAWamStorage").privateStatsKillSwitchGetBlockedToken())===y)return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Removing private stats buffer without submitting it (kill switch)"]))),o("WAWamStorage").removeBufferByKey(a.key).then(function(){t()});var l=o("WATimeUtils").monotonicTime(),d=yield i();if(d==null){o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Couldn't get token to submit a private stats buffer"]))),t();return}var m=new FormData;m.append("access_token",y);var p=yield o("WACryptoHmac").hmacSha256(d.sharedSecret,a.content),_=o("WABase64").encodeB64UrlSafe(d.token,!0),f=o("WABase64").encodeB64UrlSafe(p,!0),v=_+"+"+f;m.append("credential",v),m.append("message",new Blob([a.content],{type:"application/octet-stream"}),b),m.append("meta_data",JSON.stringify({t:o("WATimeUtils").unixTime(),p:C}));var S={method:"POST",body:m,"Content-Type":"multipart/form-data"},R;try{R=yield fetch(h,S)}catch(e){o("WALogger").WARN(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Upload of a private stats buffer failed: ",""])),e),r({uploadStartTime:l,result:"error-other"});return}var L=R.status,E=function(n){t({uploadStartTime:l,httpResponseCode:L,result:n})},k=function(t){r({uploadStartTime:l,httpResponseCode:L,result:t})};switch(L){case 200:return o("WAWamStorage").removeBufferByKey(a.key).then(function(){E("success")});case 429:E("error-server-other");return;case 401:return(g||(g=n("Promise"))).all([o("WAWamStorage").privateStatsKillSwitchSet(y),o("WAWamStorage").removeBufferByKey(a.key)]).then(function(){E("error-access-token")});case 400:{var I=yield x(R),T=I.result,D=I.shouldRetry,$={uploadStartTime:l,httpResponseCode:L,result:T};D==="retry"?r($):t($);return}case 500:k("error-server-other");return}o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Unsupported response status code from PrivateStats upload request: ",""])),L),k("error-other")}),D.apply(this,arguments)}function x(e){return $.apply(this,arguments)}function $(){return $=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield e.json().catch(function(){});if(typeof t!="object")return o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Unable to parse error response 400 from PrivateStats upload request or parsed response is not an object"]))),{result:"error-other",shouldRetry:"retry"};var n=t.error;if(typeof n!="object")return o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Incorrect or missing error entry in the error response 400 from PrivateStats upload request"]))),{result:"error-other",shouldRetry:"retry"};var r=n.code,a=n.error_subcode;if(typeof r!="number"||typeof a!="number")return o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["Incorrect code or subcode in the error response 400 from PrivateStats upload request"]))),{result:"error-other",shouldRetry:"retry"};switch(r){case S:return{result:"error-server-other",shouldRetry:"no-retry"};case R:switch(a){case L:return{result:"error-parsing",shouldRetry:"retry"};case E:return{result:"error-decoding",shouldRetry:"retry"};case k:return{result:"error-credential",shouldRetry:"retry"};default:return o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["Unsupported subcode value in the error response 400 from PrivateStats upload request: ",""])),a),{result:"error-other",shouldRetry:"retry"}}default:return o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["Unsupported code value in the error response 400 from PrivateStats upload request: ",""])),r),{result:"error-other",shouldRetry:"retry"}}}),$.apply(this,arguments)}function P(e,t){var r=e.map(function(e){var n=v,r=[],a=new(o("WAPromiseRetryLoop")).PromiseRetryLoop({name:"uploadPrivateStatsBuffer",timer:{algo:{type:"exponential",first:250},max:1e3},code:function(a){return T(a,function(e){var t=I(e);r.push(t),n<=0?a():n--},e,t)}});return a.start(),a.promise().then(function(t){if(t!=null){var n=I(t);r.push(n)}return{uploadedBufferKey:(t==null?void 0:t.result)==="success"?e.key:null,metrics:r}})});return(g||(g=n("Promise"))).all(r).then(function(e){var t=e.reduce(function(e,t){return e.push.apply(e,t.metrics),e},[]),n=e.reduce(function(e,t){return t.uploadedBufferKey!=null&&e.push(t.uploadedBufferKey),e},[]);return{uploadedBufferKeys:n,metrics:t}})}function N(e){return o("WAWamStorage").getFinishedStreamBuffers("private").then(function(t){return P(t,e)})}l.upload_UNSAFE_INTERNAL_DO_NOT_USE=P,l.uploadFinishedPrivateStatsBuffers=N}),98);
__d("WAWebUploadPrivateStatsBackend",["WABackoffUtils","WABase64","WALogger","WAPromiseDelays","WAPromiseLoop","WAWebIssuePrivateStatsToken","WAWebNetworkStatus","WAWebPsBufferUploadWamEvent","WAWebWamEnumApplicationState","WAWebWamEnumPsBufferUploadResult","asyncToGeneratorRuntime","privateStatsUpload"],(function(t,n,r,o,a,i,l){var e;function s(e,t){var r=new Uint8Array(o("WABase64").decodeB64(e));return d(t,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield o("privateStatsUpload").upload_UNSAFE_INTERNAL_DO_NOT_USE([{key:t,content:r}],o("WAWebIssuePrivateStatsToken").getToken),a=n.metrics,i=n.uploadedBufferKeys;a.map(c),i.length===0&&e(t),e(void 0)});return function(t){return e.apply(this,arguments)}})())}function u(e){return e==="success"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.SUCCESS:e==="error-server-other"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_SERVER_OTHER:e==="error-parsing"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_PARSING:e==="error-decoding"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_DECODING:e==="error-credential"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_CREDENTIAL:e==="error-other"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_OTHER:e==="error-access-token"?o("WAWebWamEnumPsBufferUploadResult").PS_BUFFER_UPLOAD_RESULT.ERROR_ACCESS_TOKEN:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}function c(e){var t=e.httpResponseCode,n=e.result,r=e.uploadTime,a=u(n);new(o("WAWebPsBufferUploadWamEvent")).PsBufferUploadWamEvent({psBufferUploadResult:a,psBufferUploadT:r,psBufferUploadHttpResponseCode:t,applicationState:document.visibilityState==="visible"?o("WAWebWamEnumApplicationState").APPLICATION_STATE.FOREGROUND:o("WAWebWamEnumApplicationState").APPLICATION_STATE.BACKGROUND}).commit()}function d(t,a){return o("WAPromiseLoop").promiseLoop((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,i,l){var s=o("WAPromiseDelays").delayMs(o("WABackoffUtils").expBackoff(l,12e4,1e3,.1));try{return yield r("WAWebNetworkStatus").waitIfOffline(),yield a(n)}catch(r){return l>1?(o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[wam] sendLogs failure error: ",""])),String(r)),n(t)):s}});return function(e,t,n){return i.apply(this,arguments)}})())}l.default=s}),98);
__d("WAWebUploadStatsBackend",["WABackoffUtils","WABase64","WALogger","WAPromiseDelays","WAPromiseLoop","WAPromiseTimeout","WATimeUtils","WAWebBackendErrors","WAWebNetworkStatus","WAWebStatsUploadJob","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e;function s(e,t){var a=new Uint8Array(o("WABase64").decodeB64(e)),i=o("WATimeUtils").unixTime();return u(t,(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=yield r("WAWebStatsUploadJob")(a,i);if(n!=null&&n.errorCode){if(n.errorCode>=500)throw new(o("WAWebBackendErrors")).ServerStatusCodeError(n.errorCode,n.errorText);e(t)}e(void 0)});return function(t){return e.apply(this,arguments)}})())}function u(t,r){return o("WAPromiseLoop").promiseLoop((function(){var a=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n,a,i){try{return yield m(),yield r(n)}catch(r){return i>1?(o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[wam] sendLogs failure error: ",""])),String(r)),n(t)):c(i)}});return function(e,t,n){return a.apply(this,arguments)}})())}function c(e){return o("WAPromiseDelays").delayMs(o("WABackoffUtils").expBackoff(e,12e4,1e3,.1))}var d=30;function m(){return o("WAPromiseTimeout").promiseTimeout(r("WAWebNetworkStatus").waitIfOffline(),d*1e3,"wamUploadWaitForOnline")}l.default=s}),98);
__d("WAWebUserPrefsClearLocalState",["Promise","WAWebLoggerImpl","WAWebPermanentStorage","WAWebTemporaryStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore","WAWebUserPrefsTypes","asyncToGeneratorRuntime","gkx"],(function(t,n,r,o,a,i,l){var e;function s(){var e=r("WAWebUserPrefsStore").get(o("WAWebUserPrefsKeys").KEYS.PRESERVED_USER_KEYS,{storage:r("WAWebPermanentStorage")}),t=e instanceof Array?[].concat(o("WAWebUserPrefsTypes").LS_PRESERVE_KEYS,e.filter(function(e){return typeof e=="string"})):o("WAWebUserPrefsTypes").LS_PRESERVE_KEYS;return r("WAWebUserPrefsStore").getKeys(r("WAWebPermanentStorage"),t,!0)}function u(){return r("WAWebUserPrefsStore").getKeys(r("WAWebTemporaryStorage"),o("WAWebUserPrefsTypes").TS_PRESERVE_KEYS,!0)}function c(){r("WAWebTemporaryStorage").clear(u())}function d(){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=s(),a=[r("WAWebTemporaryStorage").clear(u()),r("WAWebPermanentStorage").clear(t)];r("gkx")("26258")&&a.push(o("WAWebLoggerImpl").Logger.clearLogs()),yield(e||(e=n("Promise"))).all(a)}),m.apply(this,arguments)}l.clearAllTemporaryStorageData=c,l.clearAllLocalState=d}),98);
__d("WAWebUserPrefsIsLoggedIn",["WAWebUserPrefsMultiDevice"],(function(t,n,r,o,a,i,l){var e=!1;function s(){return o("WAWebUserPrefsMultiDevice").isRegistered()&&u()}function u(){return e}function c(t){e=t}l.isLoggedIn=s,l.setIsConnectedAsRegistered=c}),98);
__d("WAWebUserPrefsTabMutex",["WANullthrows","WAWebLocalStorage","WAWebPermanentStorage","WAWebUserPrefsKeys","WAWebUserPrefsStore"],(function(t,n,r,o,a,i,l){var e="x"+Math.round(Math.random()*1e9);function s(){return r("WAWebUserPrefsStore").getPSIgnoringCache(o("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX)}function u(t){var n=t&&e+":"+t;r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX,n,{storage:r("WAWebPermanentStorage")})}function c(){r("WAWebUserPrefsStore").set(o("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX,null,{storage:r("WAWebPermanentStorage")})}function d(e){var t=e?JSON.parse(e):"";return t&&t.toString().split(/:/).pop()}function m(t){if(t.key!==o("WAWebUserPrefsKeys").KEYS.WHATSAPP_MUTEX)return!1;var n=t.newValue||"";return!n.includes(e)}function p(){return(s()||"").includes(e)}function _(){var t={wa_tab_src:e};r("WANullthrows")(r("WAWebLocalStorage")).setItem(o("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK,JSON.stringify(t)),r("WANullthrows")(r("WAWebLocalStorage")).removeItem(o("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK)}function f(t){if(t.key!==o("WAWebUserPrefsKeys").KEYS.LOCAL_TAKEOVER_OK)return!1;var n=t.newValue||"";return!n.includes(e)}function g(e){r("WAWebUserPrefsStore").setTS(o("WAWebUserPrefsKeys").KEYS.NO_TAKEOVER,e)}function h(){return!!r("WAWebUserPrefsStore").getTS(o("WAWebUserPrefsKeys").KEYS.NO_TAKEOVER)}l.THIS_TAB=e,l.getMutex=s,l.setMutex=u,l.removeMutex=c,l.parseMutex=d,l.mutexFilter=m,l.currentTabHasMutex=p,l.localTakeoverSuccess=_,l.takeoverFilter=f,l.setNoTakeover=g,l.getNoTakeover=h}),98);
__d("WAWebVoipWaCallEnums",["$InternalEnum","WAWebProtobufSyncAction.pb"],(function(t,n,r,o,a,i,l){var e,s=(e=n("$InternalEnum"))({None:0,Calling:1,PreacceptReceived:2,ReceivedCall:3,AcceptSent:4,AcceptReceived:5,CallActive:6,CallActiveElseWhere:7,ReceivedCallWithoutOffer:8,Rejoining:9,Link:10,ConnectedLonely:11,PreCalling:12,CallStateEnding:13,CallBCallStarting:14}),u=e({Undefined:0,Connected:1,Missed:2,Declined:3,Canceled:4,Unavailable:5,AcceptedElsewhere:6,MissedNotificationsMuted:7}),c=e({Invalid:0,Canceled:1,Missed:2,Unavailable:3,Rejected:4,Connected:5,AcceptedElsewhere:6,Failed:7,ConnectedLonely:8});function d(e){switch(e){case u.Connected:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.CONNECTED;case u.Missed:case u.MissedNotificationsMuted:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.MISSED;case u.Declined:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.REJECTED;case u.Canceled:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.CANCELLED;case u.AcceptedElsewhere:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.ACCEPTEDELSEWHERE;case u.Unavailable:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.UNAVAILABLE;case u.Undefined:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.INVALID}}function m(e){switch(e){case c.Connected:case c.ConnectedLonely:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.CONNECTED;case c.Missed:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.MISSED;case c.Rejected:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.REJECTED;case c.Canceled:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.CANCELLED;case c.AcceptedElsewhere:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.ACCEPTEDELSEWHERE;case c.Unavailable:case c.Failed:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.UNAVAILABLE;case c.Invalid:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.INVALID}}function p(e){switch(e){case u.Connected:return c.Connected;case u.Missed:case u.MissedNotificationsMuted:return c.Missed;case u.Declined:return c.Rejected;case u.Canceled:return c.Canceled;case u.Unavailable:return c.Unavailable;case u.AcceptedElsewhere:return c.AcceptedElsewhere;case u.Undefined:return c.Invalid}}var _=e({Invalid:0,Connected:1,Incoming:2,Receipt:3,Rejected:4,Terminated:5,TimedOut:6,CreatingCall:7,Invisible:8,Visible:9,CancelOffer:10,Invited:11}),f=e({Invalid:0,Connected:1,Invited:2});function g(e){switch(e){case _.Connected:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.CONNECTED;case _.Incoming:case _.Receipt:case _.Terminated:case _.TimedOut:case _.CancelOffer:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.MISSED;case _.Rejected:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.REJECTED;case _.Invited:case _.CreatingCall:case _.Invisible:case _.Visible:case _.Invalid:return o("WAWebProtobufSyncAction.pb").CallLogRecord$CallResult.INVALID}}var h=e({None:0,CallOfferSent:1,CallOfferReceived:2,CallOfferAcked:3,CallOfferNacked:4,CallOfferReceiptReceived:5,CallAcceptFailed:6,CallAcceptSent:7,CallAcceptReceived:8,CallPreacceptReceived:9,CallTerminateReceived:10,CallRejectReceived:11,CallOfferResend:12,AudioStreamStarted:13,P2PNegotiationSuccess:14,RelayCreateSuccess:15,CallStateChanged:16,P2PNegotiationFailed:17,MediaStreamError:18,AudioInitError:19,NoSamplingRatesForAudioRecord:20,SendOfferFailed:21,HandleOfferFailed:22,SendAcceptFailed:23,HandlePreAcceptFailed:24,HandleAcceptFailed:25,WillCreateSoundPort:26,SoundPortCreateFailed:27,TransportCandSendFailed:28,P2PTransportCreateFailed:29,P2PTransportMediaCreateFailed:30,P2PTransportStartFailed:31,P2PTransportRestartSuccess:32,MissingRelayInfo:33,ErrorGatheringHostCandidates:34,MediaStreamStartError:35,RelayLatencySendFailed:36,RelayElectionSendFailed:37,CallEnding:38,CallCaptureBufferFilled:39,CallCaptureEnded:40,RxTimeout:41,TxTimeout:42,RxTrafficStarted:43,RxTrafficStopped:44,RTCPPacketReceived:45,RTCPByeReceived:46,RelayBindsFailed:47,SoundPortCreated:48,AudioDriverRestart:49,Echo:50,SelfVideoStateChanged:51,PeerVideoStateChanged:52,VideoPortCreated:53,VideoPortCreateFailed:54,VideoDecodeStarted:55,VideoRenderStarted:56,VideoCaptureStarted:57,VideoPreviewFailed:58,VideoPreviewReady:59,VideoPreviewShouldMinimize:60,VideoStreamCreateError:61,VideoRenderFormatChanged:62,VideoCodecMismatch:63,VideoDecodePaused:64,VideoDecodeResumed:65,VideoEncodeFatalError:66,VideoDecodeFatalError:67,BatteryLevelLow:68,PeerBatteryLevelLow:69,GroupInfoChanged:70,FieldstatsReady:71,CallWaitingStateChanged:72,MuteStateChanged:73,InterruptionStateChanged:74,RxTrafficStateForPeerChanged:75,HandleAcceptReceiptFailed:76,GroupParticipantLeft:77,AudioRouteChangeRequest:78,HandleAcceptAckFailed:79,CallMissed:80,WeakWiFiSwitchedToCellular:81,CallAutoConnect:82,RejectedDecryptionFailure:83,PeerDeviceOrientationChanged:84,HandleOfferAckFailed:85,PendingCallAutoRejected:86,FDLeakDetected:87,RestartCamera:88,AudioTestReplayFinished:89,SyncDevices:90,VideoCodecStateChanged:91,CallFatal:92,UpdateJoinableCallLog:93,LobbyNacked:94,PlayCallTone:95,SendJoinableClientPollCriticalEvent:96,SendLinkedGroupCallDowngradedCriticalEvent:97,UpdateVoipSettings:98,VoipErrDetectorEvent:99,SpeakerStatusChanged:100,LonelyStateTimeout:101,MutedByOthers:102,LinkCreateAcked:103,LinkCreateNacked:104,HeartbeatNacked:105,CallLinkStateChanged:106,LobbyTimeout:107,MuteRequestFailed:108,LinkQueryNacked:109,LinkJoinNacked:110,CallGridRankingChanged:111,GroupCallBufferHandleMessages:112,RemoveUserNacked:113,VideoRenderingStateChanged:114,UserRemoved:115,ScreenShare:116,NetHealthStatusChanged:117,ReminderSetAcked:118,HighDataUsageDetected:119,LidCallerDisplayInfo:120,EagerCallDismiss:121,OfferPeekTimeout:122,NetHealthStatusChangedV2:123,AutoVideoPauseStateChanged:124,BCallCreated:125,BCallCreateFailed:126,BCallAudienceUpdated:127,CallSummaryReceived:128,BCallJoinFailed:129,BCallEndFailed:130,BCallJoined:131,BCallLeaveFailed:132,ScreenContentType:133,BCallEnded:134,BCallStartNotify:135,LinkEditAcked:136,LinkEditNacked:137,Update1to1CallLog:138,CallLinkSelfStateChanged:139,DataChannelReady:140,AudioTxStarted:141,HandleGroupCallReminder:142,VoiceChatWaveReceived:143,DataChannelConnectionTimeout:144,ReactionStateChanged:145,VideoStateChanged:146,PeerVideoPermissionChanged:147,RaiseHandStateChanged:148,BotReconfigureSuccess:149,AudioDeviceReady:150,BotEarlyConnect:151,MicrophoneDeviceReady:152,SpeakerDeviceReady:153,WearableAttributionStateChanged:154,RxTranscriptMsg:155,RelayListUpdate:156,WaitingRoomDenied:157,WaitingRoomStateChanged:158,RemoveFailed:159,E2EEStatusChanged:160,WaitingRoomToggleAcked:161,LinkQueryAcked:162,EncodeTargetFpsChanged:163,Max:164}),y=e({Unknown:0,AudioCapture:1,AudioPlayback:2,VideoCapture:4,DesktopCapture:8}),C=e({Disabled:0,Enabled:1,Paused:2,UpgradeRequest:3,UpgradeAccept:4,UpgradeReject:5,Stopped:6,UpgradeRejectByTimeout:7,UpgradeCancel:8,UpgradeCancelByTimeout:9,UnknownPeer:10,UpgradeRequestV2:11,Error:20}),b=e({Unknown:0,ParticipantAllocationFailure:1,SetupError:2,TxTimeout:3,RxTimeout:4,VideoStreamCreateError:5,VideoPortCreateFailed:6,NoSamplingRatesForAudioRecord:7,AudioInitError:8}),v=e({LosingPlaybackCallback:0,LosingRecordCallback:1,SlowPlaybackCallback:2,SlowRecordCallback:3,RecordSilence:4,RecordMax:5,BuiltinAec:6,FastPlaybackCallback:7,FastRecordCallback:8}),S=e({Display:1,Clear:2,Max:3}),R=e({NotSupported:0,Started:1,Stopped:2,Failed:3}),L=e({None:0,NotSupported:1,TakeOver:2,MaxParticipantsExceeded:3}),E=e({VersionInvalid:-1,VersionLegacy:0,Version1:1,Version2:2,Version3:3,Version4:4}),k=e({Text:0,NoIndicator:1,SpinnerV1:2,SpinnerV2:3,NoSpinner:4}),I=e({Measuring:0,NoNetwork:1,Poor:2,Average:3,Good:4,Max:5}),T=e({None:0,QuerySent:1,QueryAcked:2,JoinSent:3,JoinAcked:4}),D=e({NackCallerCountry:401,NackCallerNotEnabled:403,NackCallNotFound:404,NackCalleeCountry:405,NackCalleePlatform:406,NackUnknownReason:409,NackDuplicateLinkedGroupCall:411,NackLinkedGroupCallMemberMismatch:412,NackCalleeAppVersion:426,NackGroupCallNotCompatible:432,NackCalleeOSVersion:460,NackLobbyMsgWhileConnected:462,NackCallerReachoutTimelocked:463,NackUnavailable:473,NackMultiStatusError:207,NackGroupCallNotChanged:304,NackGroupCallAlreadyExists:400,NackGroupCallNotEnabled:427,NackGroupCallMaximumLimit:428,NackRateLimit:429,NackGroupCallBadMediaType:431,NackGroupCallCapacityFull:434,NackLinkedGroupCall:435,NackCalleeLidIncompatible:437,NackCallExtensionLidIncompatible:438,NackTosNotAccepted:488}),x=e({RelayBindsFailed:"relay_binds_failed"});l.CallState=s,l.CallResult=u,l.CallLogResult=c,l.getSyncCallResultFromCallResultNative=d,l.getSyncCallResultFromCallLogResult=m,l.convertCallResultToCallLogResult=p,l.CallParticipantState=_,l.CallSummaryUserState=f,l.getSyncParticipantCallResultFromParticipantState=g,l.CallEvent=h,l.DeviceTypeEnum=y,l.VideoState=C,l.CallFatalReasonCode=b,l.CallAudioRestartReason=v,l.ReactionState=S,l.ScreenShareState=R,l.ScreenShareEndReason=L,l.ScreenShareVersion=E,l.ReconnectingOption=k,l.NetHealthStatus=I,l.CallLinkState=T,l.NackErrorCode=D,l.CallFailedReason=x}),98);
__d("WAWebVoipPerfMeasurement",["$InternalEnum","WALogger","WAWebVoipWaCallEnums"],(function(t,n,r,o,a,i,l){var e,s,u=n("$InternalEnum")({FIRST_CAMERA_FRAME:0,FIRST_PEER_FRAME:1}),c=2,d=["first_camera_frame","first_peer_frame"],m=null,p=new Array(c).fill(null);function _(e){m={isOutgoing:e},p=new Array(c).fill(null)}function f(){m=null,p.fill(null)}function g(t,n){if(m==null){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["voip: [Perf] startMeasurement: no context"])));return}var r=t;p[r]==null&&(p[r]={startTime:self.performance.now(),hasLogged:!1,metadata:n!=null?n:null})}function h(e){var t=m;if(t!=null){var n=e,r=p[n];if(!(r==null||r.hasLogged)){r.hasLogged=!0;var a=self.performance.now()-r.startTime,i=t.isOutgoing?"outgoing":"incoming",l=d[n],u="";if(r.metadata!=null){var c=Object.entries(r.metadata).map(function(e){var t=e[0],n=e[1];return t+"="+String(n)}).join(", ");u=", "+c}o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["voip: [Perf] "," (","","): ","ms"])),l,i,u,a)}}}function y(e,t){e===o("WAWebVoipWaCallEnums").CallState.PreCalling||e===o("WAWebVoipWaCallEnums").CallState.Calling||e===o("WAWebVoipWaCallEnums").CallState.ReceivedCall||e===o("WAWebVoipWaCallEnums").CallState.Rejoining||e===o("WAWebVoipWaCallEnums").CallState.Link?_(t):(e===o("WAWebVoipWaCallEnums").CallState.CallStateEnding||e===o("WAWebVoipWaCallEnums").CallState.None)&&f(),e===o("WAWebVoipWaCallEnums").CallState.CallActive&&g(u.FIRST_PEER_FRAME)}l.PerfMeasurement=u,l.startMeasurement=g,l.endMeasurement=h,l.onCallStateChange=y}),98);
__d("WAWebWamClientErrorsWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({WamClientErrors:[1144,{isFromWamsys:[27,e.TYPES.BOOLEAN],wamClientBufferDropErrorCount:[28,e.TYPES.INTEGER],wamClientBufferFetchErrorCount:[29,e.TYPES.INTEGER],wamClientBufferRotateErrorCount:[43,e.TYPES.INTEGER],wamClientBufferStoreErrorCount:[30,e.TYPES.INTEGER],wamClientCorruptedBuffersCount:[42,e.TYPES.INTEGER],wamClientDroppedEventCount:[2,e.TYPES.INTEGER],wamClientDroppedEventCountNoEnoughStorage:[41,e.TYPES.INTEGER],wamClientDroppedEventSize:[3,e.TYPES.INTEGER],wamClientErrorFlags:[1,e.TYPES.BOOLEAN],wamClientMetadataReadErrorCount:[37,e.TYPES.INTEGER],wamClientMetadataWriteErrorCount:[38,e.TYPES.INTEGER],wamClientPrivateDroppedEventCount:[24,e.TYPES.INTEGER],wamClientPrivateDroppedEventSize:[25,e.TYPES.INTEGER],wamClientPrivateRealtimeDroppedEventCount:[34,e.TYPES.INTEGER],wamClientPrivateRealtimeDroppedEventSize:[35,e.TYPES.INTEGER],wamClientPrivateRealtimeRejectedEventCount:[36,e.TYPES.INTEGER],wamClientPrivateRejectedEventCount:[31,e.TYPES.INTEGER],wamClientRealtimeDroppedEventCount:[22,e.TYPES.INTEGER],wamClientRealtimeDroppedEventSize:[23,e.TYPES.INTEGER],wamClientRealtimeRejectedEventCount:[32,e.TYPES.INTEGER],wamClientRejectedEventCount:[33,e.TYPES.INTEGER],wamErrorBadCurrentEventBufferChecksum:[18,e.TYPES.BOOLEAN],wamErrorBadEventBuffer:[16,e.TYPES.BOOLEAN],wamErrorBadFileHeader:[15,e.TYPES.BOOLEAN],wamErrorBadFileSize:[8,e.TYPES.BOOLEAN],wamErrorBadHeaderChecksum:[17,e.TYPES.BOOLEAN],wamErrorBadRotatedEventBufferChecksum:[19,e.TYPES.BOOLEAN],wamErrorCloseFile:[11,e.TYPES.BOOLEAN],wamErrorCreateWamFile:[14,e.TYPES.BOOLEAN],wamErrorFseekFile:[9,e.TYPES.BOOLEAN],wamErrorOpenFile:[10,e.TYPES.BOOLEAN],wamErrorOpenPsUploadQueueFile:[26,e.TYPES.BOOLEAN],wamErrorOpenWamFile:[13,e.TYPES.BOOLEAN],wamErrorPersistence:[20,e.TYPES.BOOLEAN],wamErrorReadFile:[7,e.TYPES.BOOLEAN],wamErrorRemoveFile:[12,e.TYPES.BOOLEAN],wamErrorWriteEventBuffer:[6,e.TYPES.BOOLEAN],wamErrorWriteFile:[4,e.TYPES.BOOLEAN],wamErrorWriteHeader:[5,e.TYPES.BOOLEAN],wamFirstErrorReadMetadata:[39,e.TYPES.BOOLEAN],wamFirstErrorWriteMetadata:[40,e.TYPES.BOOLEAN]},[1,1,1],"regular"]},{WamClientErrors:[]});l.WamClientErrorsWamEvent=s}),98);
__d("WAWebWamConstants",[],(function(t,n,r,o,a,i){var e=5e4,l=5,s=100,u=64e3,c=5,d=120;i.WAM_MAX_BUFFER_SIZE=e,i.WAM_PROTOCOL_VERSION=l,i.WAM_WORKER_DATA_BATCH_SIZE=s,i.WAM_MAX_BUFFER_SIZE_FOR_UPLOAD=u,i.WAM_IN_MEMORY_BUFFERING_DURATION_IN_SECS=c,i.WAM_BUFFER_ROTATE_INTERVAL_IN_SECS=d}),66);
__d("WAWebWamEnumFormatter",[],(function(t,n,r,o,a,i){function e(e,t){if(t==null||typeof t!="object"||!("$enumMappings"in t))return e;var n={};for(var r in e){var o=e[r];if(n[r]=o,typeof o=="number"){var a=t.$enumMappings;if(a!=null&&typeof a=="object"){var i=a[r];if(i!=null&&typeof i=="object"){var l=i[String(o)];typeof l=="string"&&(n[r]=String(o)+" ("+l.toUpperCase()+")")}}}}return n}i.formatWamEventForLogging=e}),66);
__d("WAWebWebWamForceFlushWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({WebWamForceFlush:[3264,{},[1,1,1],"regular"]},{WebWamForceFlush:[]});l.WebWamForceFlushWamEvent=e}),98);
__d("WAWebWamUtils",["WABase64","WABinary","WALogger","WAQplUploader","WAWebEnvironment","WAWebGuestWamConstants","WAWebPsIdUpdateWamEvent","WAWebUserPrefsGeneral","WAWebWamCodegenUtils","WAWebWamConstants","WAWebWamEnumAppBuildType","WAWebWamEnumWebcEnvCode","WAWebWamGlobals","WAWebWebWamForceFlushWamEvent","cr:9565","err","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m=(e=n("cr:9565"))!=null?e:{},p=m.getWindowsAppBuild;function _(){new(o("WAWebWebWamForceFlushWamEvent")).WebWamForceFlushWamEvent().commitAndWaitForFlush(!0).finally(function(){return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["force flushed all wam buffers"]))).tags("wam")}),o("WAQplUploader").forceQplUpload().finally(function(){return o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[qpl] force flushed all buffers"]))).tags("qpl")})}function f(e,t,n){new(o("WAWebPsIdUpdateWamEvent")).PsIdUpdateWamEvent({psIdAction:e,psIdKey:t,psIdRotationFrequence:n}).commit()}function g(e,t){var n=JSON.parse(t),r=o("WAWebWamCodegenUtils").events[e];if(r==null){o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["WAM: commitWorkerWamEvent failed, "," is not defined"])),e).sendLogs("wam-worker-event-undefined-error");return}new r(n).commit()}function h(e,t){var n,r=JSON.parse(t),a=r.value;o("WAWebWamGlobals").Global.set((n={},n[e]=a,n))}function y(e){var t=e.action,n=e.name,r=e.payload;return t==="commit"?g(n,r):h(n,r)}function C(e){var t=!0;try{var n=new(o("WABinary")).Binary(o("WABase64").decodeB64(e));t=n.size()>o("WAWebWamConstants").WAM_MAX_BUFFER_SIZE_FOR_UPLOAD}catch(e){o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["dropping invalid wam buffer"])))}return t}function b(e){return e==="regular"?"regular":e==="realtime"?"realtime":"private"}function v(){var e=p==null?void 0:p();return e!=null?e:r("gkx")("26258")?o("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb()?o("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.BETA:o("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.RELEASE:o("WAWebWamEnumAppBuildType").APP_BUILD_TYPE.ALPHA}function S(){if(r("gkx")("26259"))return o("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.INTERN;if(r("gkx")("26258"))return o("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.PROD;if(r("gkx")("26256"))return o("WAWebWamEnumWebcEnvCode").WEBC_ENV_CODE.E2E;throw r("err")("invalid env")}function R(){return o("WAWebUserPrefsGeneral").getWhatsAppWebExternalBetaJoinedIdb()}function L(e){if(r("gkx")("26256")){var t=window.__je2e_recordWAMEvent;(t||typeof t=="function")&&t(babelHelpers.extends({name:e.$className},e.all))}}function E(e,t){if(r("gkx")("26256")){var n=window.__je2e_recordWAMEvent;(n||typeof n=="function")&&n({name:e,value:t})}}function k(){return r("WAWebEnvironment").isGuest?o("WAWebGuestWamConstants").WAM_IN_MEMORY_BUFFERING_DURATION_IN_SECS_FOR_GUEST:o("WAWebWamConstants").WAM_IN_MEMORY_BUFFERING_DURATION_IN_SECS}function I(){return r("WAWebEnvironment").isGuest?o("WAWebGuestWamConstants").WAM_BUFFER_ROTATE_INTERVAL_IN_SECS_FOR_GUEST:o("WAWebWamConstants").WAM_BUFFER_ROTATE_INTERVAL_IN_SECS}l.forceFlushAllWamAndQplBuffers=_,l.logPsIdUpdate=f,l.processWorkerWamDataRow=y,l.isWamBufferTooBigToUpload=C,l.getChannelFromBufferKey=b,l.getAppBuild=v,l.getWamEnv=S,l.getAppIsBetaRelease=R,l.maybeForwardWamEventToJestE2e=L,l.maybeForwardWamAttributeToJestE2e=E,l.getInMemoryBufferingDurationInSecs=k,l.getBufferRotateIntervalInSecs=I}),98);
__d("WAWebWamStorage",["WALogger","WAWebWAWCStorage","WAWebWamConstants","WAWebWamUtils","asyncToGeneratorRuntime","err","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y;function C(e,t,n){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=yield r("WAWebWAWCStorage").idb();return a.wam.add({key:e,buffer:n,channel:t},e).catch(function(e){o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["add failed: ","\n",""],["add failed: ","\\n",""])),e,e==null?void 0:e.stack)})}),b.apply(this,arguments)}function v(e,t,n){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a=0;try{a=yield r("WAWebWAWCStorage").idb().then(function(r){return r.wam.update(e,{key:e,buffer:n,channel:t})})}catch(e){var i=r("getErrorSafe")(e);o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["update failed: ","\n",""],["update failed: ","\\n",""])),i,i.stack)}return a!==0}),S.apply(this,arguments)}function R(e){return L.apply(this,arguments)}function L(){return L=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t={};try{yield r("WAWebWAWCStorage").idb().then(function(n){return n.wam.where("channel").equals(e).modify(function(e,n){t[e.key]=e.buffer,delete n.value})})}catch(e){var n=r("getErrorSafe")(e);o("WALogger").LOG(f||(f=babelHelpers.taggedTemplateLiteralLoose(["deleteAll failed: ","\n",""],["deleteAll failed: ","\\n",""])),n,n.stack)}return t}),L.apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return k=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=-1,a=65536;try{var i=yield r("WAWebWAWCStorage").idb();yield i.transaction("rw",["wam_meta"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield i.wam_meta.where("streamId").equals(e).count();n===0?(yield i.wam_meta.add({streamId:e,seqNum:1}),t=1):yield i.wam_meta.where("streamId").equals(e).modify(function(e){return t=e.seqNum+1,t>=a&&(t=1),e.seqNum=t,e})}))}catch(e){var l=r("getErrorSafe")(e);o("WALogger").LOG(g||(g=babelHelpers.taggedTemplateLiteralLoose(["getNextSequenceNumberForStream failed: ","\n",""],["getNextSequenceNumberForStream failed: ","\\n",""])),l,l.stack)}if(t===-1)throw r("gkx")("26258")||o("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[wam] getNextSequenceNumberForStream failed"]))).sendLogs("getNextSequenceNumberForStreamFailed"),r("err")("could not get seq number for streamId "+e);return t}),k.apply(this,arguments)}function I(t){return r("WAWebWAWCStorage").idb().then(function(e){return e.ps_meta.bulkDelete(t)}).catch(function(t){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["removePsMeta failed: ","\n",""],["removePsMeta failed: ","\\n",""])),t,t==null?void 0:t.stack)})}function T(){return r("WAWebWAWCStorage").idb().then(function(e){return e.ps_meta.toArray()}).catch(function(e){return o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["getPsMeta failed: ","\n",""],["getPsMeta failed: ","\\n",""])),e,e==null?void 0:e.stack),[]})}function D(e){return r("WAWebWAWCStorage").idb().then(function(t){return t.ps_meta.bulkPut(e)}).catch(function(e){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["addPsMeta failed: ","\n",""],["addPsMeta failed: ","\\n",""])),e,e==null?void 0:e.stack)})}function x(e){return r("WAWebWAWCStorage").idb().then(function(t){return t.ps_meta.update(e.key,e)}).catch(function(e){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["updatePsMeta failed: ","\n",""],["updatePsMeta failed: ","\\n",""])),e,e==null?void 0:e.stack)})}function $(){return r("WAWebWAWCStorage").idb().then(function(e){return e.ps_tokens.get("token")}).catch(function(e){o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["getPsToken failed: ","\n",""],["getPsToken failed: ","\\n",""])),e,e==null?void 0:e.stack)})}function P(e){return r("WAWebWAWCStorage").idb().then(function(t){return t.transaction("rw",["ps_tokens"],function(){return t.ps_tokens.put(e)})}).catch(function(e){o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["savePsToken failed: ","\n",""],["savePsToken failed: ","\\n",""])),e,e==null?void 0:e.stack)})}function N(e,t){return M.apply(this,arguments)}function M(){return M=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=yield r("WAWebWAWCStorage").idb();return n.transaction("rw",["core_wam","core_wam_meta"],function(){return n.core_wam.put(t).then(function(){return n.core_wam_meta.put(e)})})}),M.apply(this,arguments)}function w(e){return A.apply(this,arguments)}function A(){return A=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield r("WAWebWAWCStorage").idb();return t.core_wam.where("streamId").equals(e).modify({finished:!0})}),A.apply(this,arguments)}function F(e){return O.apply(this,arguments)}function O(){return O=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield r("WAWebWAWCStorage").idb();return t.core_wam_meta.get({streamId:e})}),O.apply(this,arguments)}function B(){return W.apply(this,arguments)}function W(){return W=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("WAWebWAWCStorage").idb();return e.core_wam.toArray()}),W.apply(this,arguments)}function q(){return U.apply(this,arguments)}function U(){return U=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("WAWebWAWCStorage").idb();return e.transaction("rw",["core_wam","core_wam_meta"],function(){return e.core_wam.clear().then(function(){return e.core_wam_meta.clear()})})}),U.apply(this,arguments)}function V(e){return H.apply(this,arguments)}function H(){return H=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield r("WAWebWAWCStorage").idb();return t.core_wam.delete(e)}),H.apply(this,arguments)}function G(e){return z.apply(this,arguments)}function z(){return z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=yield r("WAWebWAWCStorage").idb();return t.transaction("rw",["worker_wam_events"],function(){return t.worker_wam_events.put(e)})}),z.apply(this,arguments)}function j(){return K.apply(this,arguments)}function K(){return K=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=yield r("WAWebWAWCStorage").idb();try{yield e.transaction("rw",["worker_wam_events"],n("asyncToGeneratorRuntime").asyncToGenerator(function*(){yield e.worker_wam_events.limit(o("WAWebWamConstants").WAM_WORKER_DATA_BATCH_SIZE).modify(function(e,t){o("WAWebWamUtils").processWorkerWamDataRow(e),delete t.value})}));var t=yield e.worker_wam_events.count();return t>0}catch(e){var a=r("getErrorSafe")(e);return o("WALogger").LOG(y||(y=babelHelpers.taggedTemplateLiteralLoose(["processWorkerWamData failed: ","\n",""],["processWorkerWamData failed: ","\\n",""])),a,a.stack),!1}}),K.apply(this,arguments)}var Q={add:C,update:v,deleteAll:R,getNextSequenceNumberForStream:E,addCoreWamBuffer:N,finishAllCoreWamBuffers:w,getCoreWamStartingSequenceNumber:F,getAllCoreWamBuffers:B,nukeAllCoreWamBuffers:q,removeWamBufferByKey:V,storeWorkerWamData:G,processWorkerWamData:j,removePsMeta:I,getPsMeta:T,addPsMeta:D,updatePsMeta:x,getPsToken:$,savePsToken:P},X=Q;l.default=X}),98);
__d("WAWebWamPrivateStats",["Promise","WALogger","WARandomHex","WAResolvable","WATimeUtils","WAWebWamEnumPsIdAction","WAWebWamGlobals","WAWebWamStorage","WAWebWamUtils","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){var e,s,u,c={},d={},m={};o("WAWebWamGlobals").PrivateStatsAllIds.map(function(e){c[e.keyHashInt]=e.key,d[e.key]=e.keyHashInt,m[e.key]={value:e.keyHashInt,rotationPeriodDays:e.rotationPeriodDays}}),c[0]="none",d.none=0,m.none={value:"none",rotationPeriodDays:-1};var p=null;function _(){return f.apply(this,arguments)}function f(){return f=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){if(p!=null)return p.promise;var e=new(o("WAResolvable")).Resolvable;p=e;var t=[],n=yield r("WAWebWamStorage").getPsMeta(),a=new Set;n.map(function(e){a.add(e.key),m[e.key]===void 0?t.push(e.key):m[e.key].value=e.value});var i=Object.keys(m).filter(function(e){return!a.has(e)}).map(function(e){return e!=="none"&&(m[e].value=o("WARandomHex").randomHex(16)),{key:e,value:m[e].value,rotateInDays:m[e].rotationPeriodDays,creationTs:o("WATimeUtils").unixTime()}});yield r("WAWebWamStorage").addPsMeta(i),yield r("WAWebWamStorage").removePsMeta(t),i.map(function(e){return o("WAWebWamUtils").logPsIdUpdate(o("WAWebWamEnumPsIdAction").PS_ID_ACTION.CREATED,d[e.key],e.rotateInDays)}),t.map(function(e){return o("WAWebWamUtils").logPsIdUpdate(o("WAWebWamEnumPsIdAction").PS_ID_ACTION.DELETED,d[e],m[e].rotationPeriodDays)}),e.resolve()}),f.apply(this,arguments)}function g(){var e=new Map;return o("WAWebWamGlobals").PrivateStatsAllIds.forEach(function(t){e.set(t.keyHashInt,String(m[t.key].value))}),e}function h(e){if(p==null)throw r("err")("can't call getPrivateStatsKeyFromInt without initializing");return c[e]}function y(e){if(e==="regular")throw r("err")("tried to get psId for regular channel event");if(p==null)throw r("err")("can't call getLatestPrivateStatsIdValueFromKey without initializing");return m[e].value}function C(){return b.apply(this,arguments)}function b(){return b=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=[];if(p==null)throw r("err")("can't call maybeRotatePsIds without initializing");try{yield p.promise;var a=yield r("WAWebWamStorage").getPsMeta();yield(u||(u=n("Promise"))).all(a.map((function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){try{var r=n.creationTs,a=n.key,i=n.rotateInDays;R(r,i)&&(t.push(a),yield v(a))}catch(t){o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["error while rotating PS id for key ",""])),n.key)}});return function(e){return r.apply(this,arguments)}})()))}catch(e){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["error while rotating PS ids ",""])),e)}return t}),b.apply(this,arguments)}function v(e){return S.apply(this,arguments)}function S(){return S=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("WARandomHex").randomHex(16);m[e].value=t,yield r("WAWebWamStorage").updatePsMeta({key:e,rotateInDays:m[e].rotationPeriodDays,value:t,creationTs:o("WATimeUtils").unixTime()}),o("WAWebWamUtils").logPsIdUpdate(o("WAWebWamEnumPsIdAction").PS_ID_ACTION.ROTATED,d[e],m[e].rotationPeriodDays)}),S.apply(this,arguments)}function R(e,t){if(t===-1||e==null)return!1;var n=t*o("WATimeUtils").DAY_SECONDS,r=Math.floor(o("WATimeUtils").unixTime()/n)*n;return e<r}l.initPrivateStats=_,l.getPrivateStatsIdsForCoreWam=g,l.getPrivateStatsKeyFromInt=h,l.getLatestPrivateStatsIdValueFromKey=y,l.maybeRotatePsIds=C}),98);
__d("WAWebWamInterop",["Promise","WACustomError","WATimeUtils","WAWamStorage","WAWebUserPrefsGeneral","WAWebWamPrivateStats","WAWebWamStorage","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s=function(r,a){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("saveBuffer not implemented yet"))},u=function(r){return(e||(e=n("Promise"))).resolve()},c=function(r){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("getStartingSequenceRow not implemented yet"))},d=function(){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("getBuffers not implemented yet"))},m=function(){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("nukeMetrics not implemented yet"))},p=function(r){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("finishBuffer not implemented yet"))},_=function(){return(e||(e=n("Promise"))).reject(new(o("WACustomError")).UnimplementedMethod("updatePrivateStatsIds not implemented yet"))},f=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){var o=yield r("WAWebWamStorage").getPsToken();return o?t({redeemCount:o.redeemCount,creationTs:o.creationTs},{maxExpirySeconds:86400})?r("WAWebWamStorage").savePsToken(babelHelpers.extends({},o,{redeemCount:o.redeemCount+1})).then(function(){return o.token}):(e||(e=n("Promise"))).resolve(null):null});return function(n){return t.apply(this,arguments)}})();function g(e){return r("WAWebWamStorage").savePsToken({key:"token",token:e,creationTs:o("WATimeUtils").unixTime(),redeemCount:1})}function h(){return(e||(e=n("Promise"))).resolve(o("WAWebUserPrefsGeneral").getPsKillSwitchToken())}function y(t){return o("WAWebUserPrefsGeneral").setPsKillSwitchToken(t),(e||(e=n("Promise"))).resolve()}var C={getStreamId:function(){return 1},saveBuffer:s,finishBuffer:p,getStartingSequenceRow:c,getBuffers:d,removeBufferByKey:u,nukeMetrics:m,updatePrivateStatsIds:_,redeemPrivateStatsToken:f,savePrivateStatsToken:g,privateStatsKillSwitchGetBlockedToken:h,privateStatsKillSwitchSet:y};function b(){o("WAWamStorage").startWamStorage(C)}l.startWamStore=b}),98);
__d("WAWebWamBeaconing",["WATimeUtils","WAWebUserPrefsGeneral"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("WAWebUserPrefsGeneral").getWamBeaconingSettings(),n=t.find(function(t){return t.key===e}),r=null;if(n==null||s(n.ts)){var a=o("WATimeUtils").unixTime(),i=Math.random()<=.01,l={key:e,ts:a,value:i?1:null};n==null?t.push(l):(n.value=l.value,n.ts=a),r=l.value}else{if(n.value==null)return null;r=++n.value}return o("WAWebUserPrefsGeneral").setWamBeaconingSettings(t),r}function s(e){var t=Math.floor(o("WATimeUtils").unixTime()/o("WATimeUtils").DAY_SECONDS),n=Math.floor(e/o("WATimeUtils").DAY_SECONDS);return t!==n}l.maybeGetEventSequenceNumber=e}),98);
__d("WAWebWamLibProtocol",["WABinary"],(function(t,n,r,o,a,i,l){var e=8,s=0,u=1,c=2,d=4;function m(e,t,n){return f(e,t,n,s)}function p(e,t,n,r){var o=r?u:u|d;return f(e,t,n,o)}function _(e,t,n,r){var o=r?c:c|d;return f(e,t,n,o)}function f(e,t,n,r){if(n==null)r===s&&g(e,t,r);else if(typeof n=="number"&&n===(n|0))n===0?g(e,t,r|16):n===1?g(e,t,r|32):-128<=n&&n<128?(g(e,t,r|48),e.writeInt8(n)):-32768<=n&&n<32768?(g(e,t,r|64),e.writeInt16(n)):(g(e,t,r|80),e.writeInt32(n));else if(typeof n=="number")g(e,t,r|112),e.writeFloat64(n);else if(typeof n=="string"){var a=o("WABinary").numUtf8Bytes(n);a<256?(g(e,t,r|128),e.writeUint8(a)):a<65536?(g(e,t,r|144),e.writeUint16(a)):(g(e,t,r|160),e.writeUint32(a)),e.writeString(n)}}function g(t,n,r){n<256?(t.writeUint8(r),t.writeUint8(n)):(t.writeUint8(r|e),t.writeUint16(n))}l.writeGlobalAttribute=m,l.writeEvent=p,l.writeField=_}),98);
__d("WAWebWamLibContext",["WABase64","WABinary","WALogger","WAWebEventSampling","WAWebWamBeaconing","WAWebWamCodegenUtils","WAWebWamConstants","WAWebWamLibProtocol","WAWebWamPrivateStats"],(function(t,n,r,o,a,i,l){var e,s=47,u=3433,c=6005,d=0,m=1,p=2,_=2147483647,f=(function(){function t(e,t,n){this.bufferKey=e,this.buffer=new(o("WABinary")).Binary(void 0,!0),this.buffer.writeString("WAM"),this.buffer.writeUint8(o("WAWebWamConstants").WAM_PROTOCOL_VERSION),this.buffer.writeUint8(1),this.buffer.writeUint16(t),this.bufferKey==="regular"?this.buffer.writeUint8(d):this.bufferKey==="realtime"?this.buffer.writeUint8(m):this.buffer.writeUint8(p),this.eventsWritten=0,this.prevGlobals={},this.dirtyGlobals={},this.unsavedPortion=null,this.saveKey=String(Math.random()*1e9|0),this.$1(n)}var n=t.prototype;return n.size=function(){return this.buffer.size()},n.set=function(t,n){this.dirtyGlobals[String(t)]=n,this.unsavedPortion&&this.unsavedPortion.set(t,n)},n.write=function(n){var t,r=this.buffer;this.set(s,n.commitTime);var a=o("WAWebWamBeaconing").maybeGetEventSequenceNumber(this.bufferKey);a!=null&&this.set(u,a),n.wamChannel==="private"&&this.set(c,o("WAWebWamPrivateStats").getLatestPrivateStatsIdValueFromKey(this.bufferKey).toString()),this.$2();for(var i=n.all,l=Object.keys(i),d=-1,m=!1,p=0;p<l.length;p++){var f=i[l[p]];f!=null&&(d=p,m=!0)}var g=(t=o("WAWebEventSampling").getClientEventSamplingWeight(n.id))!=null?t:n.weight;o("WAWebWamLibProtocol").writeEvent(r,n.id,-g,m);for(var h=0;h<=d;h++){var y=l[h],C=o("WAWebWamCodegenUtils").metrics.getEvent(n.$className,y),b=C.id,v=C.type,S=i[y];if(S!=null){if(typeof S=="boolean"&&(S=S?1:0),m=h<d,v==="timer"&&S>_){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[wam] invalid value for timer field ",".",""])),n.$className,y).sendLogs("wam-event-validation-error");continue}o("WAWebWamLibProtocol").writeField(r,b,S,m)}}this.eventsWritten++,this.unsavedPortion&&this.unsavedPortion.write(n)},n.stringBuffer=function(){return this.eventsWritten>0?o("WABase64").encodeB64(this.buffer.peek(function(e){return e.readByteArrayView()})):""},n.getBuffer=function(){return this.buffer},n.$1=function(t){var e=(function(e){return e==="regular"||e==="realtime"?"regular":"private"})(this.bufferKey);for(var n in t){var r=t[n],a=o("WAWebWamCodegenUtils").metrics.getGlobal(n),i=a.channels.includes(e);r!==void 0&&i&&this.set(o("WAWebWamCodegenUtils").metrics.getGlobal(n).id,r)}},n.$2=function(){var e=this.dirtyGlobals,t=this.prevGlobals;for(var n in e){var r=e[n];if(typeof r=="boolean")r=r?1:0;else if(r===void 0)r=null;else if(Number.isNaN(r))continue;if(r!==t[n]||n===String(s)||n===String(c)){t[n]=r;var a=parseInt(n,10);o("WAWebWamLibProtocol").writeGlobalAttribute(this.buffer,a,r)}}this.dirtyGlobals={}},t})();l.WamContext=f}),98);
__d("WAWebWam",["Promise","SiteData","WALogger","WANullthrows","WAResolvable","WAShiftTimer","WATimeUtils","WAWebABProps","WAWebABPropsLocalStorage","WAWebBrowserApi","WAWebBuildConstants","WAWebCrashlog","WAWebEnvironment","WAWebEventSampling","WAWebGuestWamUtils","WAWebIsOfficialClient","WAWebMiscBrowserUtils","WAWebUploadPrivateStatsBackend","WAWebUploadStatsBackend","WAWebUserPrefsIsLoggedIn","WAWebUserPrefsTabMutex","WAWebWamClientErrorsWamEvent","WAWebWamConstants","WAWebWamEnumDeviceClassification","WAWebWamEnumPlatformType","WAWebWamEnumWebcWebPlatformType","WAWebWamGlobals","WAWebWamInterop","WAWebWamLibContext","WAWebWamPlatform","WAWebWamPrivateStats","WAWebWamRuntimeProvider","WAWebWamStorage","WAWebWamUtils","asyncToGeneratorRuntime","getErrorSafe","gkx","isStringNullOrEmpty","justknobx","sumBy"],(function(t,n,r,o,a,i,l){var e,s,u,c,d,m,p,_,f,g,h,y,C=[],b=[],v=!1,S="1",R={commit:E(w),set:E(F),resumeJobs:E(U),initialize:E(O)};function L(){for(C=o("WAWebWamGlobals").PrivateStatsAllIds.map(function(e){return e.key}),o("WAWebWamPrivateStats").initPrivateStats().catch(function(t){o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[WAM] failed to initialise private stats for wam runtime "])))}),o("WAWebWamInterop").startWamStore(),y=new(o("WAShiftTimer")).ShiftTimer(function(e){var t=!r("WAWebEnvironment").isGuest&&!o("WAWebUserPrefsTabMutex").currentTabHasMutex();if(t){o("WALogger").WARN(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[wam] bg tab, skipping WAM processing"])));return}V(e).catch(function(e){o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[WAM] failed to execute pending jobs for wam runtime "])))})}),o("WAWebWamRuntimeProvider").setWamRuntime(R);b.length;){var t=b.pop();t&&t()}v=!0}function E(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(v)return e.apply(void 0,n);b.push(function(){e.apply(void 0,n)})}}var k={},I=0,T=[],D=!1,x=!1,$=null,P=new(o("WAResolvable")).Resolvable,N=!1,M=!1;function w(e,t){var a;if(t===void 0&&(t=!1),e.commitTime!=null&&e.commitTime!==0)return o("WALogger").WARN(c||(c=babelHelpers.taggedTemplateLiteralLoose(["wam:commit redundant commit! ",""])),e.$className),(h||(h=n("Promise"))).resolve();e.wamChannel;var i=(a=o("WAWebEventSampling").getClientEventSamplingWeight(e.id))!=null?a:e.weight;if(i!==0&&Math.random()*i>1)return e.commitTime=o("WATimeUtils").unixTimeWithoutClockSkewCorrection(),(h||(h=n("Promise"))).resolve();A(e),o("WAWebWamUtils").maybeForwardWamEventToJestE2e(e);var l;return e.wamChannel==="realtime"?l=r("justknobx")._("4680")?"realtime":"all":r("WAWebEnvironment").isGuest||t?l="all":l="none",W({job:e,flushWamBuffers:l})}function A(e,t){e.commitTime=t!=null?t:o("WATimeUtils").unixTimeWithoutClockSkewCorrection()}function F(e,t){return o("WAWebWamUtils").maybeForwardWamAttributeToJestE2e(e.name,String(t)),W({job:[e,t],flushWamBuffers:"none"})}function O(){return B.apply(this,arguments)}function B(){return B=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e;if($)return(h||(h=n("Promise"))).resolve($);var t=r("WAWebMiscBrowserUtils").info(),a=babelHelpers.extends({appVersion:o("WAWebBuildConstants").VERSION_BASE_WITH_WINDOWS_BUILD,appBuild:o("WAWebWamUtils").getAppBuild(),platform:o("WAWebWamEnumPlatformType").PLATFORM_TYPE.WEBCLIENT,webcWebArch:ie(),appIsBetaRelease:yield o("WAWebWamUtils").getAppIsBetaRelease(),browser:t.name||null,browserVersion:t.ua||null,deviceName:t.os||null,deviceVersion:t.version||null,memClass:o("WAWebBrowserApi").getMemClass(),numCpu:o("WAWebBrowserApi").getNumCpu(),webcEnv:o("WAWebWamUtils").getWamEnv(),webcTabId:o("WAWebUserPrefsTabMutex").THIS_TAB,webcWebPlatform:o("WAWebWamEnumWebcWebPlatformType").WEBC_WEB_PLATFORM_TYPE[o("WAWebWamPlatform").getWamPlatform()],ocVersion:o("WAWebIsOfficialClient").isOfficialClient?1:0,deviceClassification:o("WAWebWamEnumDeviceClassification").DEVICE_CLASSIFICATION.DESKTOP,webcRevision:r("SiteData").client_revision,abKey2:o("WAWebABProps").getABPropConfigValue("wam_disable_abkey_attribute")?null:(e=o("WAWebABPropsLocalStorage").getABKey())!=null?e:""},r("WAWebEnvironment").isGuest?o("WAWebGuestWamUtils").getGuestWamOverrides():{});return $=a,o("WAWebWamGlobals").Global.commitOnSet=!1,o("WAWebWamGlobals").Global.set($),o("WAWebWamGlobals").Global.commitOnSet=!0,Object.keys(a).forEach(function(e){return o("WAWebWamUtils").maybeForwardWamAttributeToJestE2e(e,String(a[e]))}),a}),B.apply(this,arguments)}function W(e){var t=e.flushWamBuffers,n=e.job;return T.push(n),D?t!=="none"?(N=!1,M=!0,self.setTimeout(function(){return y.forceRunNow(t)},1)):y.onOrBefore(o("WAWebWamUtils").getInMemoryBufferingDurationInSecs()*1e3):t==="realtime"&&r("justknobx")._("3237")?self.setTimeout(function(){return y.forceRunNow("realtime")},1):t!=="none"&&(y.cancel(),N=!0,M=!1),P.promise}function q(){D=!1,y.cancel();var e=P;return P=new(o("WAResolvable")).Resolvable,e}function U(){D=!0,M=!1,T.length>0&&y.onOrBefore(o("WAWebWamUtils").getInMemoryBufferingDurationInSecs()*1e3),N&&(N=!1,M=!0,y.forceRunNow())}function V(e){return H.apply(this,arguments)}function H(){return H=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=M,a=!(e==="realtime"&&r("justknobx")._("3237")),i=a?q():null,l,s;if(e==="realtime"){l=["realtime"];var u=T.reduce(function(e,t){var n=e[0],r=e[1];return!Array.isArray(t)&&t.wamChannel==="realtime"?n.push(t):r.push(t),[n,r]},[[],[]]);s=u[0],T=u[1]}else l=["regular","realtime","none"].concat(C),s=[].concat(T),T=[];try{var c=yield O();if(e!=="realtime"){var d=yield o("WAWebWamPrivateStats").maybeRotatePsIds();yield(h||(h=n("Promise"))).all(d.map(function(e){return G(e,c)}))}yield(h||(h=n("Promise"))).all(l.map(function(e){return Y(e,s,t,c)}))}finally{a&&(i==null||i.resolve(),U())}}),H.apply(this,arguments)}function G(e,t){return z.apply(this,arguments)}function z(){return z=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return yield Z(e,t),k[e]=yield j(e,t),k[e]}),z.apply(this,arguments)}function j(e,t){return K.apply(this,arguments)}function K(){return K=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){return new(o("WAWebWamLibContext")).WamContext(e,yield r("WAWebWamStorage").getNextSequenceNumberForStream(S),t)}),K.apply(this,arguments)}function Q(e,t){return X.apply(this,arguments)}function X(){return X=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=(n=k[e])!=null?n:yield j(e,t);return k[e]=r,r}),X.apply(this,arguments)}function Y(e,t,n,r){return J.apply(this,arguments)}function J(){return J=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){var i=o("WAWebWamUtils").getChannelFromBufferKey(e),l;try{l=yield Q(e,a)}catch(e){var s,u=r("getErrorSafe")(e);o("WALogger").WARN(d||(d=babelHelpers.taggedTemplateLiteralLoose(["[wam] _executePendingForContext failed to get context ",""])),String((s=u.stack)!=null?s:u));return}try{for(var c=0;c<t.length;c++){if(l.size()>o("WAWebWamConstants").WAM_MAX_BUFFER_SIZE){var p=yield G(e,a);if(p==null)break;l=p}var _=t[c];if(Array.isArray(_)){var g=_[0],h=_[1],y=i==="realtime"?"regular":i;g.channels.includes(y)&&(a[g.name]=h,l.set(g.id,h))}else{var f=_;((f.wamChannel==="regular"||f.wamChannel==="realtime")&&f.wamChannel===i||f.wamChannel==="private"&&e===o("WAWebWamPrivateStats").getPrivateStatsKeyFromInt(f.privateStatsIdInt))&&l.write(f)}}var C=o("WATimeUtils").unixTimeWithoutClockSkewCorrection();if(l.eventsWritten>0&&(n||l.size()>o("WAWebWamConstants").WAM_MAX_BUFFER_SIZE||C>=I+o("WAWebWamUtils").getBufferRotateIntervalInSecs()||!x)){var b=o("WAWebUserPrefsIsLoggedIn").isLoggedIn();if(!b){l.buffer.size()>o("WAWebWamConstants").WAM_MAX_BUFFER_SIZE?k[e]=null:yield Z(e,a);return}yield te(e)}else yield Z(e,a)}catch(t){var v,S=r("getErrorSafe")(t);o("WALogger").WARN(m||(m=babelHelpers.taggedTemplateLiteralLoose(["[wam] _executePending error ",""])),String((v=S.stack)!=null?v:S)),o("WAWebCrashlog").upload({reason:"wam-error"}),new(o("WAWebWamClientErrorsWamEvent")).WamClientErrorsWamEvent({wamClientBufferDropErrorCount:1}).commit(),k[e]=null}}),J.apply(this,arguments)}function Z(e,t){return ee.apply(this,arguments)}function ee(){return ee=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(k[e]){var n=k[e].stringBuffer();if(n){var a=r("WANullthrows")(k[e]).unsavedPortion;if(!(a&&a.eventsWritten===0)){var i=r("WANullthrows")(k[e]).saveKey;try{if(a){var l=yield r("WAWebWamStorage").update(i,e,n);if(!k[e])return;if(l)r("WANullthrows")(k[e]).unsavedPortion=yield j(e,t);else{k[e]=k[e].unsavedPortion,yield Z(e,t);return}}else{if(yield r("WAWebWamStorage").add(i,e,n),!k[e])return;r("WANullthrows")(k[e]).unsavedPortion=yield j(e,t)}}catch(e){var s=r("getErrorSafe")(e);o("WALogger").WARN(p||(p=babelHelpers.taggedTemplateLiteralLoose(["[wam] save WamStorage failed to save ",""])),String(s))}}}}}),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;try{t=yield r("WAWebWamStorage").deleteAll(e)}catch(e){var a=r("getErrorSafe")(e);t={},o("WALogger").WARN(_||(_=babelHelpers.taggedTemplateLiteralLoose(["[wam] sendAllLogs failed to read because ",""])),String(a))}var i=t;if(k[e]){k[e].unsavedPortion&&!(k[e].saveKey in i)&&(k[e]=k[e].unsavedPortion);var l=r("WANullthrows")(k[e]).saveKey;i[l]=r("WANullthrows")(k[e]).stringBuffer()}var s=yield(h||(h=n("Promise"))).all(Object.entries(i).map(function(t){var n=t[0],r=t[1];return re(r,n,o("WAWebWamUtils").getChannelFromBufferKey(e))})),u=s.filter(Boolean);if(u.length!==s.length&&(I=o("WATimeUtils").unixTimeWithoutClockSkewCorrection(),x=!0),k[e]&&!u.includes(k[e].saveKey)&&(k[e]=null),u.length!==0){var c=r("sumBy")(u,function(e){return i[e].length});c<o("WAWebWamConstants").WAM_MAX_BUFFER_SIZE?yield(h||(h=n("Promise"))).all(u.map((function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{yield r("WAWebWamStorage").add(t,e,i[t])}catch(e){o("WALogger").WARN(f||(f=babelHelpers.taggedTemplateLiteralLoose(["sendAllLogs: adding to WamStorage failed"])))}});return function(e){return t.apply(this,arguments)}})())):(k[e]=null,new(o("WAWebWamClientErrorsWamEvent")).WamClientErrorsWamEvent({wamClientBufferDropErrorCount:1}).commit(),o("WALogger").WARN(g||(g=babelHelpers.taggedTemplateLiteralLoose(["wam dropped "," buffers! ("," bytes)"])),u.length,c))}}),ne.apply(this,arguments)}function re(e,t,n){return oe.apply(this,arguments)}function oe(){return oe=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,a){return e===""||e[0]==="["?(h||(h=n("Promise"))).resolve():o("WAWebWamUtils").isWamBufferTooBigToUpload(e)?(new(o("WAWebWamClientErrorsWamEvent")).WamClientErrorsWamEvent({wamClientBufferDropErrorCount:1}).commit(),(h||(h=n("Promise"))).resolve()):a==="private"?r("WAWebUploadPrivateStatsBackend")(e,t):r("WAWebUploadStatsBackend")(e,t)}),oe.apply(this,arguments)}var ae=new Map([["sandcastle","dev"],["trunkstable","C1"]]);function ie(){var e=r("gkx")("26256");if(e)return"jest-e2e";if(!r("isStringNullOrEmpty")(o("WAWebBuildConstants").PUSH_PHASE)){var t;return(t=ae.get(o("WAWebBuildConstants").PUSH_PHASE))!=null?t:o("WAWebBuildConstants").PUSH_PHASE}}l.Wam=R,l.initWamRuntime=L,l.sendAllLogs=te}),98);
__d("WAWebWamEnumAndroidKeystoreStateType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_AVAILABLE:1,SELF_TEST_FAILURE:2,ENC_KEY_READ_FAILURE:3,ENC_KEY_STORED_USED:4,ENC_KEY_PLAIN_DELETED:5,ENC_KEY_PLAIN_RECOVERED:6});i.ANDROID_KEYSTORE_STATE_TYPE=e}),66);
__d("WAWebWarningOutlineIcon.react",["WAWebSvgComponentBase","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","name","viewBox","width"],s,u,c=s||(s=r("react")),d="warning-outline";function m(t){var n=t.height,a=t.iconXstyle,i=t.name,l=t.viewBox,s=t.width,m=babelHelpers.objectWithoutPropertiesLoose(t,e),p;if(l){var _=l.height,f=_===void 0?0:_,g=l.width,h=g===void 0?0:g,y=l.x,C=y===void 0?0:y,b=l.y,v=b===void 0?0:b;p=[C,v,h,f].join(" ")}var S=24,R=24;return(n!=null||s!=null)&&(S=n,R=s),c.jsx(o("WAWebSvgComponentBase").BaseSvgSpan,babelHelpers.extends({name:i!=null?i:d},m,{children:c.jsxs("svg",{viewBox:p!=null?p:"0 0 24 24",height:S,width:R,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(a),fill:"none",children:[c.jsx("title",{children:i!=null?i:d}),c.jsx("path",{d:"M1.15571 22C0.941353 22 0.746487 21.9465 0.571107 21.8396C0.395728 21.7326 0.259322 21.5917 0.161889 21.4167C0.0644557 21.2417 0.0108675 21.0521 0.00112423 20.8479C-0.00861908 20.6438 0.0449691 20.4444 0.161889 20.25L10.977 1.58333C11.0939 1.38889 11.2449 1.24306 11.43 1.14583C11.6151 1.04861 11.8051 1 12 1C12.1949 1 12.3849 1.04861 12.57 1.14583C12.7551 1.24306 12.9061 1.38889 13.023 1.58333L23.8381 20.25C23.955 20.4444 24.0086 20.6438 23.9989 20.8479C23.9891 21.0521 23.9355 21.2417 23.8381 21.4167C23.7407 21.5917 23.6043 21.7326 23.4289 21.8396C23.2535 21.9465 23.0586 22 22.8443 22H1.15571ZM3.17257 19.6667H20.8274L12 4.5L3.17257 19.6667ZM12 18.5C12.3313 18.5 12.609 18.3882 12.8331 18.1646C13.0571 17.941 13.1692 17.6639 13.1692 17.3333C13.1692 17.0028 13.0571 16.7257 12.8331 16.5021C12.609 16.2785 12.3313 16.1667 12 16.1667C11.6687 16.1667 11.391 16.2785 11.1669 16.5021C10.9429 16.7257 10.8308 17.0028 10.8308 17.3333C10.8308 17.6639 10.9429 17.941 11.1669 18.1646C11.391 18.3882 11.6687 18.5 12 18.5ZM12 15C12.3313 15 12.609 14.8882 12.8331 14.6646C13.0571 14.441 13.1692 14.1639 13.1692 13.8333V10.3333C13.1692 10.0028 13.0571 9.72569 12.8331 9.50208C12.609 9.27847 12.3313 9.16667 12 9.16667C11.6687 9.16667 11.391 9.27847 11.1669 9.50208C10.9429 9.72569 10.8308 10.0028 10.8308 10.3333V13.8333C10.8308 14.1639 10.9429 14.441 11.1669 14.6646C11.391 14.8882 11.6687 15 12 15Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.WarningOutlineIcon=m}),98);
__d("WAWebWebcMessageSendWamEvent",["WAWebWamCodegenUtils","WAWebWamEnumMediaType","WAWebWamEnumMessageType"],(function(t,n,r,o,a,i,l){var e=o("WAWebWamCodegenUtils").defineEvents({WebcMessageSend:[2072,{messageIsForward:[3,o("WAWebWamCodegenUtils").TYPES.BOOLEAN],messageMediaType:[2,o("WAWebWamEnumMediaType").MEDIA_TYPE],messageSendT:[4,o("WAWebWamCodegenUtils").TYPES.TIMER],messageType:[1,o("WAWebWamEnumMessageType").MESSAGE_TYPE]},[1,1,1],"regular"]},{WebcMessageSend:[]});l.WebcMessageSendWamEvent=e}),98);
__d("WAWebWebcStorageStatWamEvent",["WAWebWamCodegenUtils"],(function(t,n,r,o,a,i,l){var e,s=(e=o("WAWebWamCodegenUtils")).defineEvents({WebcStorageStat:[1504,{webcAgeOfStorage:[3,e.TYPES.INTEGER],webcPackingEnabled:[4,e.TYPES.BOOLEAN],webcStorageQuota:[2,e.TYPES.INTEGER],webcStorageUsage:[1,e.TYPES.INTEGER]},[1,1,1],"regular"]},{WebcStorageStat:[]});l.WebcStorageStatWamEvent=s}),98);
__d("WAWebWorkerStorage",["WALogger","WAWeb-dexie","WAWebDbRolloutUtil","WAWebDexieBootstrap","WAWebDexieCastTypes","WAWebSchemaDeferredMessagesStorage","WAWebSchemaLocalStorage","WAWebStorage","WAWebWorkerStorageUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){var e,s;function u(){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return o("WAWebDexieBootstrap").patchDexie(),s==null&&(yield o("WAWebDbRolloutUtil").loadSchemaVersions(),o("WAWebWorkerStorageUtils").createStorage(),o("WAWebSchemaLocalStorage").addTable(),o("WAWebSchemaDeferredMessagesStorage").addTable(),s=o("WAWebWorkerStorageUtils").getStorage().initialize().catch(function(t){var n="Unknown error";throw t instanceof o("WAWebStorage").AlreadyInitializedError||t instanceof o("WAWebStorage").NoSuchDatabaseError?n=t.toString():t instanceof r("WAWeb-dexie").DexieError&&(n="Unknown DexieError"),o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[worker] Failed to initialize model storage: ",""])),n).verbose().sendLogs("failed-to-initialize-model-storage",{sendLogsType:o("WALogger").SendLogsType.CRASH_OR_UNRECOVERABLE_ERROR_SAD}),t})),s}),c.apply(this,arguments)}function d(){return o("WAWebWorkerStorageUtils").destroyStorage().catch(function(){return o("WAWebDexieCastTypes").dexieCastToPromise(new(r("WAWeb-dexie"))(o("WAWebWorkerStorageUtils").DATABASE_NAME).delete())}).finally(function(){s=null})}l.getLocalStorageTable=o("WAWebSchemaLocalStorage").getTable,l.getDeferredMessagesTable=o("WAWebSchemaDeferredMessagesStorage").getTable,l.initialize=u,l.destroy=d}),98);
__d("WAWebXControllerFetchUtils",["URI","WALogger","WAWebPonyfillsFetch","asyncToGeneratorRuntime","getAsyncHeaders","getAsyncParams"],(function(t,n,r,o,a,i,l){var e,s;function u(e,t){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=t.method,o=t.additionalHeaders,a=o===void 0?{}:o,i=new(s||(s=r("URI")))(e),l=r("getAsyncParams")(n),u=r("getAsyncHeaders")(i),c=new URLSearchParams;Object.entries(l).forEach(function(e){var t=e[0],n=e[1];n!=null&&c.append(t,String(n))});var d=babelHelpers.extends({},u,a,{"Content-Type":"application/x-www-form-urlencoded"}),m=n==="GET"?e+"?"+c.toString():e,p=n==="GET"?void 0:c.toString();return yield r("WAWebPonyfillsFetch")(m,{method:n,headers:d,body:p})}),c.apply(this,arguments)}function d(e){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t){try{var n=yield t.text(),r=n.replace(/^for\s*\(\s*;;\s*\)\s*;\s*/,"");return JSON.parse(r)}catch(t){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[vc-auth] Failed to parse JSON response: ",""])),t),null}}),m.apply(this,arguments)}l.fetchFromXController=u,l.extractJsonFromResponse=d}),98);
__d("WDSGlobalContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).createContext,d=150,m=c({currentOpenMenus:new Map,registerMenu:function(){},unregisterMenu:function(){},closeAllMenus:function(){}});l.MENU_EXIT_ANIMATION_DURATION=d,l.WDSContext=m}),98);
__d("WDSIconIcClose.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","viewBox","width"],s,u,c=s||(s=r("react")),d="ic-close";function m(t){var n=t.height,o=t.iconXstyle,a=t.viewBox,i=t.width,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(a){var m=a.height,p=m===void 0?0:m,_=a.width,f=_===void 0?0:_,g=a.x,h=g===void 0?0:g,y=a.y,C=y===void 0?0:y;s=[h,C,f,p].join(" ")}var b=24,v=24;return(n!=null||i!=null)&&(b=n,v=i),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(o),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M12 13.4L7.09999 18.3C6.91665 18.4834 6.68332 18.575 6.39999 18.575C6.11665 18.575 5.88332 18.4834 5.69999 18.3C5.51665 18.1167 5.42499 17.8834 5.42499 17.6C5.42499 17.3167 5.51665 17.0834 5.69999 16.9L10.6 12L5.69999 7.10005C5.51665 6.91672 5.42499 6.68338 5.42499 6.40005C5.42499 6.11672 5.51665 5.88338 5.69999 5.70005C5.88332 5.51672 6.11665 5.42505 6.39999 5.42505C6.68332 5.42505 6.91665 5.51672 7.09999 5.70005L12 10.6L16.9 5.70005C17.0833 5.51672 17.3167 5.42505 17.6 5.42505C17.8833 5.42505 18.1167 5.51672 18.3 5.70005C18.4833 5.88338 18.575 6.11672 18.575 6.40005C18.575 6.68338 18.4833 6.91672 18.3 7.10005L13.4 12L18.3 16.9C18.4833 17.0834 18.575 17.3167 18.575 17.6C18.575 17.8834 18.4833 18.1167 18.3 18.3C18.1167 18.4834 17.8833 18.575 17.6 18.575C17.3167 18.575 17.0833 18.4834 16.9 18.3L12 13.4Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WDSIconIcLock.react",["WDSSvgComponentBase.react","react","stylex"],(function(t,n,r,o,a,i,l){var e=["height","iconXstyle","viewBox","width"],s,u,c=s||(s=r("react")),d="ic-lock";function m(t){var n=t.height,o=t.iconXstyle,a=t.viewBox,i=t.width,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s;if(a){var m=a.height,p=m===void 0?0:m,_=a.width,f=_===void 0?0:_,g=a.x,h=g===void 0?0:g,y=a.y,C=y===void 0?0:y;s=[h,C,f,p].join(" ")}var b=24,v=24;return(n!=null||i!=null)&&(b=n,v=i),c.jsx(r("WDSSvgComponentBase.react"),babelHelpers.extends({},l,{children:c.jsxs("svg",{viewBox:s!=null?s:"0 0 24 24",height:b,width:v,preserveAspectRatio:"xMidYMid meet",className:(u||(u=r("stylex")))(o),fill:"none",children:[c.jsx("title",{children:d}),c.jsx("path",{d:"M6 22C5.45 22 4.97917 21.8042 4.5875 21.4125C4.19583 21.0208 4 20.55 4 20V10C4 9.45 4.19583 8.97917 4.5875 8.5875C4.97917 8.19583 5.45 8 6 8H7V6C7 4.61667 7.4875 3.4375 8.4625 2.4625C9.4375 1.4875 10.6167 1 12 1C13.3833 1 14.5625 1.4875 15.5375 2.4625C16.5125 3.4375 17 4.61667 17 6V8H18C18.55 8 19.0208 8.19583 19.4125 8.5875C19.8042 8.97917 20 9.45 20 10V20C20 20.55 19.8042 21.0208 19.4125 21.4125C19.0208 21.8042 18.55 22 18 22H6ZM6 20H18V10H6V20ZM12 17C12.55 17 13.0208 16.8042 13.4125 16.4125C13.8042 16.0208 14 15.55 14 15C14 14.45 13.8042 13.9792 13.4125 13.5875C13.0208 13.1958 12.55 13 12 13C11.45 13 10.9792 13.1958 10.5875 13.5875C10.1958 13.9792 10 14.45 10 15C10 15.55 10.1958 16.0208 10.5875 16.4125C10.9792 16.8042 11.45 17 12 17ZM9 8H15V6C15 5.16667 14.7083 4.45833 14.125 3.875C13.5417 3.29167 12.8333 3 12 3C11.1667 3 10.4583 3.29167 9.875 3.875C9.29167 4.45833 9 5.16667 9 6V8Z",fill:"currentColor"})]})}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("WDSTextualLink.react",["BaseLinkV2.react","WDSFontTokenStyles","react","stylex"],(function(t,n,r,o,a,i,l){var e=["children","data-tab","download","href","onBlur","onClick","onFocus","testid","textConfig"],s,u,c=s||(s=r("react")),d={link:{outline:"x1a2a7pz",cursor:"x1ypdohk",color:"x1ph7ams x17f7hit",fontWeight:"xuv8nkb",textDecoration:"x1hl2dhg xt0b8zv x1eo1aoc xbvygy2 x1wp9yj1 xv854yx",backgroundColor:"x1k74hu9 xp30eni",textUnderlineOffset:"xrys4gj xhmieyt",$$css:!0},buttonLink:{fontFamily:"xjb2p0i",fontSize:"x1qlqyl8",borderTopWidth:"x972fbf",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",background:"x11g6tue",$$css:!0}};function m(t){var n=t.children,a=t["data-tab"],i=t.download,l=t.href,s=t.onBlur,m=t.onClick,p=t.onFocus,_=t.testid,f=t.textConfig,g=babelHelpers.objectWithoutPropertiesLoose(t,e),h=l!=null&&l!==""&&l!=="#",y=f==="Body1"||f==="Body1Emphasized"?o("WDSFontTokenStyles").WDSFontTokenStyles.Body1:f==="Body2"||f==="Body2Emphasized"?o("WDSFontTokenStyles").WDSFontTokenStyles.Body2:f==="Body3"?o("WDSFontTokenStyles").WDSFontTokenStyles.Body3:f==="Body3Emphasized"?o("WDSFontTokenStyles").WDSFontTokenStyles.Body2:f==="Headline1"?o("WDSFontTokenStyles").WDSFontTokenStyles.Headline1:f==="Headline2"?o("WDSFontTokenStyles").WDSFontTokenStyles.Headline2:f==="LargeTitle1"?o("WDSFontTokenStyles").WDSFontTokenStyles.LargeTitle1:f==="LargeTitle2"?o("WDSFontTokenStyles").WDSFontTokenStyles.LargeTitle2:void 0;if(h){var C=m;return c.jsx(r("BaseLinkV2.react"),babelHelpers.extends({href:l,onClick:C,variant:{xstyleConfig:{link:[d.link,y]}},target:"_blank",rel:"noopener noreferrer",onFocusOut:s,onFocusIn:p,onFocus:p,dataTab:a,testid:void 0,download:i},g,{children:n}))}return c.jsx("button",babelHelpers.extends({"data-tab":a,"data-testid":void 0,type:"button",onClick:m,onBlur:s,onFocus:p},(u||(u=r("stylex"))).props(d.buttonLink,d.link,y),g,{children:n}))}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("partitionArray",[],(function(t,n,r,o,a,i){function e(e,t,n){var r=[],o=[];return e.forEach(function(a,i){t.call(n,a,i,e)?r.push(a):o.push(a)}),[r,o]}i.default=e}),66);
__d("sumOfArray",[],(function(t,n,r,o,a,i){function e(e){for(var t=0,n=e.length,r=0;r<n;++r)t+=e[r];return t}i.default=e}),66);
__d("uniqueBy",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=new Map(e.map(function(e){return[t?t(e):e,e]}));return Array.from(n.values())}i.default=e}),66);
__d("useWAWebAsync",["react","useWAWebStableCallback"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState,d={loading:!0,error:null,value:null};function m(e,t){var n=r("useWAWebStableCallback")(e),o=c(d),a=o[0],i=o[1];return u(function(){var e=new AbortController;return i(d),n(e.signal).then(function(t){e.signal.aborted||i({loading:!1,error:null,value:t})}).catch(function(e){i({loading:!1,error:e,value:null})}),function(){e.abort()}},[n].concat(t)),a}l.default=m}),98);
__d("useWAWebFocusOnMount",["WAWebFocusTracer","react"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(){var e=c();return u(function(){r("WAWebFocusTracer").focus(e.current)},[]),e}l.default=d}),98);
__d("useWAWebGroupColors",["WALogger","WAWebThemeContext"],(function(t,n,r,o,a,i,l){var e,s="var(--wds-emerald-400)",u="var(--wds-sky-blue-300)",c="#e542a3",d="#a5b337",m="var(--wds-cobalt-400)",p="var(--wds-yellow-500)",_="var(--wds-green-500)",f="var(--wds-purple-400)",g="var(--wds-purple-500)",h="var(--wds-green-400)",y="var(--wds-orange-500)",C="var(--wds-pink-400)",b="#7d9ef1",v="var(--wds-orange-400)",S="var(--wds-teal-400)",R="#b4876e",L="var(--wds-yellow-400)",E="var(--wds-emerald-400)",k="var(--wds-sky-blue-300)",I="#e26ab6",T="#a5b337",D="var(--wds-orange-300)",x="var(--wds-cobalt-300)",$="var(--wds-yellow-400)",P="var(--wds-green-400)",N="var(--wds-purple-300)",M="var(--wds-red-300)",w="var(--wds-purple-400)",A="var(--wds-teal-300)",F="var(--wds-pink-300)",O="#d88deb",B="var(--wds-orange-400)",W="var(--wds-teal-400)",q="var(--wds-yellow-300)",U={color_light_1:{color:"xijeqtt",$$css:!0},color_light_2:{color:"xkgnp4b",$$css:!0},color_light_3:{color:"x240ipn",$$css:!0},color_light_4:{color:"xskf257",$$css:!0},color_light_5:{color:"xebwusc",$$css:!0},color_light_6:{color:"x3wc6wf",$$css:!0},color_light_7:{color:"x8s8ybf",$$css:!0},color_light_8:{color:"x162sf37",$$css:!0},color_light_9:{color:"x197m9ru",$$css:!0},color_light_10:{color:"x98wywu",$$css:!0},color_light_11:{color:"x1y1pzmv",$$css:!0},color_light_12:{color:"xkgndj",$$css:!0},color_light_13:{color:"x1454dyk",$$css:!0},color_light_14:{color:"xcwjfjl",$$css:!0},color_light_15:{color:"xgz8yji",$$css:!0},color_light_16:{color:"xyaa4h1",$$css:!0},color_light_17:{color:"x1n9d4q5",$$css:!0},background_light_1:{backgroundColor:"x6wgc6a",$$css:!0},background_light_2:{backgroundColor:"x17y5562",$$css:!0},background_light_3:{backgroundColor:"x1cu8r8a",$$css:!0},background_light_4:{backgroundColor:"xznryv8",$$css:!0},background_light_5:{backgroundColor:"x1n3fz2",$$css:!0},background_light_6:{backgroundColor:"xx4wtn9",$$css:!0},background_light_7:{backgroundColor:"x18a7xdx",$$css:!0},background_light_8:{backgroundColor:"x1vwqcvr",$$css:!0},background_light_9:{backgroundColor:"x1qcddwk",$$css:!0},background_light_10:{backgroundColor:"x1lrj34z",$$css:!0},background_light_11:{backgroundColor:"x1hvcrje",$$css:!0},background_light_12:{backgroundColor:"x1yh949v",$$css:!0},background_light_13:{backgroundColor:"x1tcvzfv",$$css:!0},background_light_14:{backgroundColor:"x1fu2t9j",$$css:!0},background_light_15:{backgroundColor:"x1fwelf4",$$css:!0},background_light_16:{backgroundColor:"xfhxl41",$$css:!0},background_light_17:{backgroundColor:"x18um00n",$$css:!0},color_dark_1:{color:"xijeqtt",$$css:!0},color_dark_2:{color:"xkgnp4b",$$css:!0},color_dark_3:{color:"x1hncw2u",$$css:!0},color_dark_4:{color:"xskf257",$$css:!0},color_dark_5:{color:"xs7ovuj",$$css:!0},color_dark_6:{color:"x1wxwh9x",$$css:!0},color_dark_7:{color:"x1n9d4q5",$$css:!0},color_dark_8:{color:"x98wywu",$$css:!0},color_dark_9:{color:"x18hhy9w",$$css:!0},color_dark_10:{color:"xbpqssb",$$css:!0},color_dark_11:{color:"x162sf37",$$css:!0},color_dark_12:{color:"x7y2iuh",$$css:!0},color_dark_13:{color:"xah1503",$$css:!0},color_dark_14:{color:"xyee0rz",$$css:!0},color_dark_15:{color:"xcwjfjl",$$css:!0},color_dark_16:{color:"xgz8yji",$$css:!0},color_dark_17:{color:"xly5uq6",$$css:!0},background_dark_1:{backgroundColor:"x6wgc6a",$$css:!0},background_dark_2:{backgroundColor:"x17y5562",$$css:!0},background_dark_3:{backgroundColor:"x1xd7cei",$$css:!0},background_dark_4:{backgroundColor:"xznryv8",$$css:!0},background_dark_5:{backgroundColor:"x3yiujs",$$css:!0},background_dark_6:{backgroundColor:"x1sim4je",$$css:!0},background_dark_7:{backgroundColor:"x18um00n",$$css:!0},background_dark_8:{backgroundColor:"x1lrj34z",$$css:!0},background_dark_9:{backgroundColor:"x1g15lxm",$$css:!0},background_dark_10:{backgroundColor:"x1jb1lhd",$$css:!0},background_dark_11:{backgroundColor:"x1vwqcvr",$$css:!0},background_dark_12:{backgroundColor:"xxln43k",$$css:!0},background_dark_13:{backgroundColor:"xcpx4u6",$$css:!0},background_dark_14:{backgroundColor:"x1vnpq5e",$$css:!0},background_dark_15:{backgroundColor:"x1fu2t9j",$$css:!0},background_dark_16:{backgroundColor:"x1fwelf4",$$css:!0},background_dark_17:{backgroundColor:"xd7yu05",$$css:!0}};function V(t,n,r){var a=U[n+"_"+r+"_"+t];return a==null&&(o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(['Group color id "','" does not have a corresponding style'])),t),a=U[n+"_"+r+"_1"]),a}function H(e,t){var n=o("WAWebThemeContext").useTheme(),r=n.theme;return V(e,t,r)}function G(e){var t=o("WAWebThemeContext").useTheme(),n=t.theme;return n==="light"?z(e):j(e)}function z(e){return e===1?[.024,.812,.612,1]:e===2?[.325,.741,.922,1]:e===3?[.898,.259,.639,1]:e===4?[.647,.702,.216,1]:e===5?[0,.482,.988,1]:e===6?[.773,.529,.188,1]:e===7?[.114,.667,.38,1]:e===8?[.498,.4,1,1]:e===9?[.369,.278,.871,1]:e===10?[.145,.827,.4,1]:e===11?[.769,.325,.176,1]:e===12?[1,.18,.455,1]:e===13?[.49,.62,.945,1]:e===14?[.98,.396,.2,1]:e===15?[.008,.651,.596,1]:e===16?[.706,.529,.431,1]:e===17?[1,.725,.22,1]:[.40000000596,.466666668653,.505882382393,1]}function j(e){switch(e){case 1:return[.024,.812,.612,1];case 2:return[.325,.741,.922,1];case 3:return[.886,.416,.714,1];case 4:return[.647,.702,.216,1];case 5:return[.988,.592,.459,1];case 6:return[.325,.651,.992,1];case 7:return[1,.725,.22,1];case 8:return[.145,.827,.4,1];case 9:return[.655,.569,1,1];case 10:return[.984,.314,.38,1];case 11:return[.498,.4,1,1];case 12:return[.259,.78,.722,1];case 13:return[1,.447,.631,1];case 14:return[.847,.553,.922,1];case 15:return[.98,.396,.2,1];case 16:return[.008,.651,.596,1];case 17:return[1,.824,.475,1];default:return[.525490224361,.588235318661,.627451002598,1]}}l.useGroupsColorStyle=H,l.useGroupsColorRGBValue=G}),98);
__d("useWAWebIsKeyboardUser",["WAWebKeyboardContext","react"],(function(t,n,r,o,a,i,l){var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("WAWebKeyboardContext"))}l.default=u}),98);
__d("useWAWebRenderCallbacks",["WAAbortError","WAFilteredCatch","WAWebDocumentFlushed","react","useWAWebStableCallback","useWAWebUnmountSignal"],(function(t,n,r,o,a,i,l){var e,s=e||(e=o("react")),u=s.useEffect,c=s.useLayoutEffect,d=s.useRef;function m(e){var t,n=d(null),a=r("useWAWebUnmountSignal")(),i=(t=r("useWAWebStableCallback"))(e.onDOMCommit),l=t(e.onMount),s=t(e.onBeforePaint),m=t(e.onAfterPaint),p=t(e.onUnmount),_=t(e.onError);u(function(){return l(),n.current=window.requestAnimationFrame(function(){n.current=null,s()}),o("WAWebDocumentFlushed").documentFlushed({signal:a}).then(function(){a.aborted||m()}).catch(o("WAFilteredCatch").filteredCatch(o("WAAbortError").AbortError,_)),function(){n.current!=null&&window.cancelAnimationFrame(n.current),p()}},[l,s,m,p,_,a]),c(function(){i()},[i])}l.default=m}),98);